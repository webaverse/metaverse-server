var FJ=Object.defineProperty,OJ=Object.defineProperties;var NJ=Object.getOwnPropertyDescriptors;var ix=Object.getOwnPropertySymbols;var CR=Object.prototype.hasOwnProperty,PR=Object.prototype.propertyIsEnumerable;var RR=(n,e,t)=>e in n?FJ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,vt=(n,e)=>{for(var t in e||(e={}))CR.call(e,t)&&RR(n,t,e[t]);if(ix)for(var t of ix(e))PR.call(e,t)&&RR(n,t,e[t]);return n},nr=(n,e)=>OJ(n,NJ(e));var kl=(n,e)=>{var t={};for(var r in n)CR.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&ix)for(var r of ix(n))e.indexOf(r)<0&&PR.call(n,r)&&(t[r]=n[r]);return t};var $e=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function yr(n){if(n.__esModule)return n;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(n).forEach(function(t){var r=Object.getOwnPropertyDescriptor(n,t);Object.defineProperty(e,t,r.get?r:{enumerable:!0,get:function(){return n[t]}})}),e}function UJ(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var si={exports:{}},Cn={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var kR=Object.getOwnPropertySymbols,BJ=Object.prototype.hasOwnProperty,zJ=Object.prototype.propertyIsEnumerable;function $J(n){if(n==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}function GJ(){try{if(!Object.assign)return!1;var n=new String("abc");if(n[5]="de",Object.getOwnPropertyNames(n)[0]==="5")return!1;for(var e={},t=0;t<10;t++)e["_"+String.fromCharCode(t)]=t;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var _S=GJ()?Object.assign:function(n,e){for(var t,r=$J(n),i,s=1;s<arguments.length;s++){t=Object(arguments[s]);for(var o in t)BJ.call(t,o)&&(r[o]=t[o]);if(kR){i=kR(t);for(var u=0;u<i.length;u++)zJ.call(t,i[u])&&(r[i[u]]=t[i[u]])}}return r};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wS=_S,Ad=60103,IR=60106;Cn.Fragment=60107;Cn.StrictMode=60108;Cn.Profiler=60114;var LR=60109,FR=60110,OR=60112;Cn.Suspense=60113;var NR=60115,UR=60116;if(typeof Symbol=="function"&&Symbol.for){var fa=Symbol.for;Ad=fa("react.element"),IR=fa("react.portal"),Cn.Fragment=fa("react.fragment"),Cn.StrictMode=fa("react.strict_mode"),Cn.Profiler=fa("react.profiler"),LR=fa("react.provider"),FR=fa("react.context"),OR=fa("react.forward_ref"),Cn.Suspense=fa("react.suspense"),NR=fa("react.memo"),UR=fa("react.lazy")}var BR=typeof Symbol=="function"&&Symbol.iterator;function HJ(n){return n===null||typeof n!="object"?null:(n=BR&&n[BR]||n["@@iterator"],typeof n=="function"?n:null)}function jm(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$R={};function Td(n,e,t){this.props=n,this.context=e,this.refs=$R,this.updater=t||zR}Td.prototype.isReactComponent={};Td.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error(jm(85));this.updater.enqueueSetState(this,n,e,"setState")};Td.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function GR(){}GR.prototype=Td.prototype;function bS(n,e,t){this.props=n,this.context=e,this.refs=$R,this.updater=t||zR}var SS=bS.prototype=new GR;SS.constructor=bS;wS(SS,Td.prototype);SS.isPureReactComponent=!0;var ES={current:null},HR=Object.prototype.hasOwnProperty,VR={key:!0,ref:!0,__self:!0,__source:!0};function WR(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)HR.call(e,r)&&!VR.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=t;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in u=n.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:Ad,type:n,key:s,ref:o,props:i,_owner:ES.current}}function VJ(n,e){return{$$typeof:Ad,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function MS(n){return typeof n=="object"&&n!==null&&n.$$typeof===Ad}function WJ(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var jR=/\/+/g;function DS(n,e){return typeof n=="object"&&n!==null&&n.key!=null?WJ(""+n.key):e.toString(36)}function sx(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Ad:case IR:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+DS(o,0):r,Array.isArray(i)?(t="",n!=null&&(t=n.replace(jR,"$&/")+"/"),sx(i,e,t,"",function(c){return c})):i!=null&&(MS(i)&&(i=VJ(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(jR,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Array.isArray(n))for(var u=0;u<n.length;u++){s=n[u];var l=r+DS(s,u);o+=sx(s,e,t,l,i)}else if(l=HJ(n),typeof l=="function")for(n=l.call(n),u=0;!(s=n.next()).done;)s=s.value,l=r+DS(s,u++),o+=sx(s,e,t,l,i);else if(s==="object")throw e=""+n,Error(jm(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e));return o}function ox(n,e,t){if(n==null)return n;var r=[],i=0;return sx(n,r,"","",function(s){return e.call(t,s,i++)}),r}function jJ(n){if(n._status===-1){var e=n._result;e=e(),n._status=0,n._result=e,e.then(function(t){n._status===0&&(t=t.default,n._status=1,n._result=t)},function(t){n._status===0&&(n._status=2,n._result=t)})}if(n._status===1)return n._result;throw n._result}var qR={current:null};function Bu(){var n=qR.current;if(n===null)throw Error(jm(321));return n}var qJ={ReactCurrentDispatcher:qR,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:ES,IsSomeRendererActing:{current:!1},assign:wS};Cn.Children={map:ox,forEach:function(n,e,t){ox(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return ox(n,function(){e++}),e},toArray:function(n){return ox(n,function(e){return e})||[]},only:function(n){if(!MS(n))throw Error(jm(143));return n}};Cn.Component=Td;Cn.PureComponent=bS;Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qJ;Cn.cloneElement=function(n,e,t){if(n==null)throw Error(jm(267,n));var r=wS({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ES.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var u=n.type.defaultProps;for(l in e)HR.call(e,l)&&!VR.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&u!==void 0?u[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];r.children=u}return{$$typeof:Ad,type:n.type,key:i,ref:s,props:r,_owner:o}};Cn.createContext=function(n,e){return e===void 0&&(e=null),n={$$typeof:FR,_calculateChangedBits:e,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null},n.Provider={$$typeof:LR,_context:n},n.Consumer=n};Cn.createElement=WR;Cn.createFactory=function(n){var e=WR.bind(null,n);return e.type=n,e};Cn.createRef=function(){return{current:null}};Cn.forwardRef=function(n){return{$$typeof:OR,render:n}};Cn.isValidElement=MS;Cn.lazy=function(n){return{$$typeof:UR,_payload:{_status:-1,_result:n},_init:jJ}};Cn.memo=function(n,e){return{$$typeof:NR,type:n,compare:e===void 0?null:e}};Cn.useCallback=function(n,e){return Bu().useCallback(n,e)};Cn.useContext=function(n,e){return Bu().useContext(n,e)};Cn.useDebugValue=function(){};Cn.useEffect=function(n,e){return Bu().useEffect(n,e)};Cn.useImperativeHandle=function(n,e,t){return Bu().useImperativeHandle(n,e,t)};Cn.useLayoutEffect=function(n,e){return Bu().useLayoutEffect(n,e)};Cn.useMemo=function(n,e){return Bu().useMemo(n,e)};Cn.useReducer=function(n,e,t){return Bu().useReducer(n,e,t)};Cn.useRef=function(n){return Bu().useRef(n)};Cn.useState=function(n){return Bu().useState(n)};Cn.version="17.0.2";si.exports=Cn;var bbe=si.exports,XR={exports:{}},Co={},Cd={exports:{}},YR={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){var e,t,r,i;if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();n.unstable_now=function(){return o.now()-u}}if(typeof window=="undefined"||typeof MessageChannel!="function"){var l=null,c=null,h=function(){if(l!==null)try{var G=n.unstable_now();l(!0,G),l=null}catch(ne){throw setTimeout(h,0),ne}};e=function(G){l!==null?setTimeout(e,0,G):(l=G,setTimeout(h,0))},t=function(G,ne){c=setTimeout(G,ne)},r=function(){clearTimeout(c)},n.unstable_shouldYield=function(){return!1},i=n.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,p=window.clearTimeout;if(typeof console!="undefined"){var v=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof v!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var S=!1,w=null,T=-1,x=5,E=0;n.unstable_shouldYield=function(){return n.unstable_now()>=E},i=function(){},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<G?Math.floor(1e3/G):5};var O=new MessageChannel,C=O.port2;O.port1.onmessage=function(){if(w!==null){var G=n.unstable_now();E=G+x;try{w(!0,G)?C.postMessage(null):(S=!1,w=null)}catch(ne){throw C.postMessage(null),ne}}else S=!1},e=function(G){w=G,S||(S=!0,C.postMessage(null))},t=function(G,ne){T=d(function(){G(n.unstable_now())},ne)},r=function(){p(T),T=-1}}function N(G,ne){var le=G.length;G.push(ne);e:for(;;){var ee=le-1>>>1,J=G[ee];if(J!==void 0&&0<L(J,ne))G[ee]=ne,G[le]=J,le=ee;else break e}}function $(G){return G=G[0],G===void 0?null:G}function M(G){var ne=G[0];if(ne!==void 0){var le=G.pop();if(le!==ne){G[0]=le;e:for(var ee=0,J=G.length;ee<J;){var de=2*(ee+1)-1,se=G[de],ue=de+1,oe=G[ue];if(se!==void 0&&0>L(se,le))oe!==void 0&&0>L(oe,se)?(G[ee]=oe,G[ue]=le,ee=ue):(G[ee]=se,G[de]=le,ee=de);else if(oe!==void 0&&0>L(oe,le))G[ee]=oe,G[ue]=le,ee=ue;else break e}}return ne}return null}function L(G,ne){var le=G.sortIndex-ne.sortIndex;return le!==0?le:G.id-ne.id}var V=[],Z=[],H=1,D=null,R=3,P=!1,F=!1,z=!1;function j(G){for(var ne=$(Z);ne!==null;){if(ne.callback===null)M(Z);else if(ne.startTime<=G)M(Z),ne.sortIndex=ne.expirationTime,N(V,ne);else break;ne=$(Z)}}function B(G){if(z=!1,j(G),!F)if($(V)!==null)F=!0,e(U);else{var ne=$(Z);ne!==null&&t(B,ne.startTime-G)}}function U(G,ne){F=!1,z&&(z=!1,r()),P=!0;var le=R;try{for(j(ne),D=$(V);D!==null&&(!(D.expirationTime>ne)||G&&!n.unstable_shouldYield());){var ee=D.callback;if(typeof ee=="function"){D.callback=null,R=D.priorityLevel;var J=ee(D.expirationTime<=ne);ne=n.unstable_now(),typeof J=="function"?D.callback=J:D===$(V)&&M(V),j(ne)}else M(V);D=$(V)}if(D!==null)var de=!0;else{var se=$(Z);se!==null&&t(B,se.startTime-ne),de=!1}return de}finally{D=null,R=le,P=!1}}var k=i;n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_continueExecution=function(){F||P||(F=!0,e(U))},n.unstable_getCurrentPriorityLevel=function(){return R},n.unstable_getFirstCallbackNode=function(){return $(V)},n.unstable_next=function(G){switch(R){case 1:case 2:case 3:var ne=3;break;default:ne=R}var le=R;R=ne;try{return G()}finally{R=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=k,n.unstable_runWithPriority=function(G,ne){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var le=R;R=G;try{return ne()}finally{R=le}},n.unstable_scheduleCallback=function(G,ne,le){var ee=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?ee+le:ee):le=ee,G){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=le+J,G={id:H++,callback:ne,priorityLevel:G,startTime:le,expirationTime:J,sortIndex:-1},le>ee?(G.sortIndex=le,N(Z,G),$(V)===null&&G===$(Z)&&(z?r():z=!0,t(B,le-ee))):(G.sortIndex=J,N(V,G),F||P||(F=!0,e(U))),G},n.unstable_wrapCallback=function(G){var ne=R;return function(){var le=R;R=ne;try{return G.apply(this,arguments)}finally{R=le}}}})(YR);Cd.exports=YR;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ax=si.exports,fr=_S,oi=Cd.exports;function xt(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!ax)throw Error(xt(227));var JR=new Set,qm={};function af(n,e){Pd(n,e),Pd(n+"Capture",e)}function Pd(n,e){for(qm[n]=e,n=0;n<e.length;n++)JR.add(e[n])}var zu=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),XJ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,KR=Object.prototype.hasOwnProperty,ZR={},QR={};function YJ(n){return KR.call(QR,n)?!0:KR.call(ZR,n)?!1:XJ.test(n)?QR[n]=!0:(ZR[n]=!0,!1)}function JJ(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function KJ(n,e,t,r){if(e===null||typeof e=="undefined"||JJ(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ds(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var xi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){xi[n]=new ds(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];xi[e]=new ds(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){xi[n]=new ds(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){xi[n]=new ds(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){xi[n]=new ds(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){xi[n]=new ds(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){xi[n]=new ds(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){xi[n]=new ds(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){xi[n]=new ds(n,5,!1,n.toLowerCase(),null,!1,!1)});var AS=/[\-:]([a-z])/g;function TS(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(AS,TS);xi[e]=new ds(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(AS,TS);xi[e]=new ds(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(AS,TS);xi[e]=new ds(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){xi[n]=new ds(n,1,!1,n.toLowerCase(),null,!1,!1)});xi.xlinkHref=new ds("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){xi[n]=new ds(n,1,!1,n.toLowerCase(),null,!0,!0)});function CS(n,e,t,r){var i=xi.hasOwnProperty(e)?xi[e]:null,s=i!==null?i.type===0:r?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");s||(KJ(e,t,i,r)&&(t=null),r||i===null?YJ(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var uf=ax.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xm=60103,lf=60106,Il=60107,PS=60108,Ym=60114,RS=60109,kS=60110,ux=60112,Jm=60113,lx=60120,cx=60115,IS=60116,LS=60121,FS=60128,ek=60129,OS=60130,NS=60131;if(typeof Symbol=="function"&&Symbol.for){var ai=Symbol.for;Xm=ai("react.element"),lf=ai("react.portal"),Il=ai("react.fragment"),PS=ai("react.strict_mode"),Ym=ai("react.profiler"),RS=ai("react.provider"),kS=ai("react.context"),ux=ai("react.forward_ref"),Jm=ai("react.suspense"),lx=ai("react.suspense_list"),cx=ai("react.memo"),IS=ai("react.lazy"),LS=ai("react.block"),ai("react.scope"),FS=ai("react.opaque.id"),ek=ai("react.debug_trace_mode"),OS=ai("react.offscreen"),NS=ai("react.legacy_hidden")}var tk=typeof Symbol=="function"&&Symbol.iterator;function Km(n){return n===null||typeof n!="object"?null:(n=tk&&n[tk]||n["@@iterator"],typeof n=="function"?n:null)}var US;function Zm(n){if(US===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);US=e&&e[1]||""}return`
`+US+n}var BS=!1;function fx(n,e){if(!n||BS)return"";BS=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(n,[],e)}else{try{e.call()}catch(l){r=l}n.call(e.prototype)}else{try{throw Error()}catch(l){r=l}n()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,u=s.length-1;1<=o&&0<=u&&i[o]!==s[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==s[u]){if(o!==1||u!==1)do if(o--,u--,0>u||i[o]!==s[u])return`
`+i[o].replace(" at new "," at ");while(1<=o&&0<=u);break}}}finally{BS=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Zm(n):""}function ZJ(n){switch(n.tag){case 5:return Zm(n.type);case 16:return Zm("Lazy");case 13:return Zm("Suspense");case 19:return Zm("SuspenseList");case 0:case 2:case 15:return n=fx(n.type,!1),n;case 11:return n=fx(n.type.render,!1),n;case 22:return n=fx(n.type._render,!1),n;case 1:return n=fx(n.type,!0),n;default:return""}}function Rd(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Il:return"Fragment";case lf:return"Portal";case Ym:return"Profiler";case PS:return"StrictMode";case Jm:return"Suspense";case lx:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case kS:return(n.displayName||"Context")+".Consumer";case RS:return(n._context.displayName||"Context")+".Provider";case ux:var e=n.render;return e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case cx:return Rd(n.type);case LS:return Rd(n._render);case IS:e=n._payload,n=n._init;try{return Rd(n(e))}catch{}}return null}function Ll(n){switch(typeof n){case"boolean":case"number":case"object":case"string":case"undefined":return n;default:return""}}function nk(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function QJ(n){var e=nk(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t!="undefined"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function hx(n){n._valueTracker||(n._valueTracker=QJ(n))}function rk(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=nk(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function dx(n){if(n=n||(typeof document!="undefined"?document:void 0),typeof n=="undefined")return null;try{return n.activeElement||n.body}catch{return n.body}}function zS(n,e){var t=e.checked;return fr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t!=null?t:n._wrapperState.initialChecked})}function ik(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Ll(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function sk(n,e){e=e.checked,e!=null&&CS(n,"checked",e,!1)}function $S(n,e){sk(n,e);var t=Ll(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?GS(n,e.type,t):e.hasOwnProperty("defaultValue")&&GS(n,e.type,Ll(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function ok(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function GS(n,e,t){(e!=="number"||dx(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}function eK(n){var e="";return ax.Children.forEach(n,function(t){t!=null&&(e+=t)}),e}function HS(n,e){return n=fr({children:void 0},e),(e=eK(e.children))&&(n.children=e),n}function kd(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Ll(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function VS(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(xt(91));return fr({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function ak(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(xt(92));if(Array.isArray(t)){if(!(1>=t.length))throw Error(xt(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Ll(t)}}function uk(n,e){var t=Ll(e.value),r=Ll(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function lk(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}var WS={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function ck(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jS(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?ck(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var px,fk=function(n){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!==WS.svg||"innerHTML"in n)n.innerHTML=e;else{for(px=px||document.createElement("div"),px.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=px.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Qm(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var ev={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tK=["Webkit","ms","Moz","O"];Object.keys(ev).forEach(function(n){tK.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),ev[e]=ev[n]})});function hk(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||ev.hasOwnProperty(n)&&ev[n]?(""+e).trim():e+"px"}function dk(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=hk(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var nK=fr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qS(n,e){if(e){if(nK[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(xt(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(xt(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(xt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(xt(62))}}function XS(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function YS(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var JS=null,Id=null,Ld=null;function pk(n){if(n=xv(n)){if(typeof JS!="function")throw Error(xt(280));var e=n.stateNode;e&&(e=kx(e),JS(n.stateNode,n.type,e))}}function mk(n){Id?Ld?Ld.push(n):Ld=[n]:Id=n}function vk(){if(Id){var n=Id,e=Ld;if(Ld=Id=null,pk(n),e)for(n=0;n<e.length;n++)pk(e[n])}}function KS(n,e){return n(e)}function gk(n,e,t,r,i){return n(e,t,r,i)}function ZS(){}var yk=KS,cf=!1,QS=!1;function eE(){(Id!==null||Ld!==null)&&(ZS(),vk())}function rK(n,e,t){if(QS)return n(e,t);QS=!0;try{return yk(n,e,t)}finally{QS=!1,eE()}}function tv(n,e){var t=n.stateNode;if(t===null)return null;var r=kx(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(xt(231,e,typeof t));return t}var tE=!1;if(zu)try{var nv={};Object.defineProperty(nv,"passive",{get:function(){tE=!0}}),window.addEventListener("test",nv,nv),window.removeEventListener("test",nv,nv)}catch{tE=!1}function iK(n,e,t,r,i,s,o,u,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(h){this.onError(h)}}var rv=!1,mx=null,vx=!1,nE=null,sK={onError:function(n){rv=!0,mx=n}};function oK(n,e,t,r,i,s,o,u,l){rv=!1,mx=null,iK.apply(sK,arguments)}function aK(n,e,t,r,i,s,o,u,l){if(oK.apply(this,arguments),rv){if(rv){var c=mx;rv=!1,mx=null}else throw Error(xt(198));vx||(vx=!0,nE=c)}}function ff(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,(e.flags&1026)!=0&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function xk(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function _k(n){if(ff(n)!==n)throw Error(xt(188))}function uK(n){var e=n.alternate;if(!e){if(e=ff(n),e===null)throw Error(xt(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return _k(i),n;if(s===r)return _k(i),e;s=s.sibling}throw Error(xt(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,u=i.child;u;){if(u===t){o=!0,t=i,r=s;break}if(u===r){o=!0,r=i,t=s;break}u=u.sibling}if(!o){for(u=s.child;u;){if(u===t){o=!0,t=s,r=i;break}if(u===r){o=!0,r=s,t=i;break}u=u.sibling}if(!o)throw Error(xt(189))}}if(t.alternate!==r)throw Error(xt(190))}if(t.tag!==3)throw Error(xt(188));return t.stateNode.current===t?n:e}function wk(n){if(n=uK(n),!n)return null;for(var e=n;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===n)break;for(;!e.sibling;){if(!e.return||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function bk(n,e){for(var t=n.alternate;e!==null;){if(e===n||e===t)return!0;e=e.return}return!1}var Sk,rE,Ek,Mk,iE=!1,ja=[],Fl=null,Ol=null,Nl=null,iv=new Map,sv=new Map,ov=[],Dk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sE(n,e,t,r,i){return{blockedOn:n,domEventName:e,eventSystemFlags:t|16,nativeEvent:i,targetContainers:[r]}}function Ak(n,e){switch(n){case"focusin":case"focusout":Fl=null;break;case"dragenter":case"dragleave":Ol=null;break;case"mouseover":case"mouseout":Nl=null;break;case"pointerover":case"pointerout":iv.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":sv.delete(e.pointerId)}}function av(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n=sE(e,t,r,i,s),e!==null&&(e=xv(e),e!==null&&rE(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function lK(n,e,t,r,i){switch(e){case"focusin":return Fl=av(Fl,n,e,t,r,i),!0;case"dragenter":return Ol=av(Ol,n,e,t,r,i),!0;case"mouseover":return Nl=av(Nl,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return iv.set(s,av(iv.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,sv.set(s,av(sv.get(s)||null,n,e,t,r,i)),!0}return!1}function cK(n){var e=hf(n.target);if(e!==null){var t=ff(e);if(t!==null){if(e=t.tag,e===13){if(e=xk(t),e!==null){n.blockedOn=e,Mk(n.lanePriority,function(){oi.unstable_runWithPriority(n.priority,function(){Ek(t)})});return}}else if(e===3&&t.stateNode.hydrate){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function gx(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=fE(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t!==null)return e=xv(t),e!==null&&rE(e),n.blockedOn=t,!1;e.shift()}return!0}function Tk(n,e,t){gx(n)&&t.delete(e)}function fK(){for(iE=!1;0<ja.length;){var n=ja[0];if(n.blockedOn!==null){n=xv(n.blockedOn),n!==null&&Sk(n);break}for(var e=n.targetContainers;0<e.length;){var t=fE(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t!==null){n.blockedOn=t;break}e.shift()}n.blockedOn===null&&ja.shift()}Fl!==null&&gx(Fl)&&(Fl=null),Ol!==null&&gx(Ol)&&(Ol=null),Nl!==null&&gx(Nl)&&(Nl=null),iv.forEach(Tk),sv.forEach(Tk)}function uv(n,e){n.blockedOn===e&&(n.blockedOn=null,iE||(iE=!0,oi.unstable_scheduleCallback(oi.unstable_NormalPriority,fK)))}function Ck(n){function e(i){return uv(i,n)}if(0<ja.length){uv(ja[0],n);for(var t=1;t<ja.length;t++){var r=ja[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Fl!==null&&uv(Fl,n),Ol!==null&&uv(Ol,n),Nl!==null&&uv(Nl,n),iv.forEach(e),sv.forEach(e),t=0;t<ov.length;t++)r=ov[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<ov.length&&(t=ov[0],t.blockedOn===null);)cK(t),t.blockedOn===null&&ov.shift()}function yx(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Fd={animationend:yx("Animation","AnimationEnd"),animationiteration:yx("Animation","AnimationIteration"),animationstart:yx("Animation","AnimationStart"),transitionend:yx("Transition","TransitionEnd")},oE={},Pk={};zu&&(Pk=document.createElement("div").style,"AnimationEvent"in window||(delete Fd.animationend.animation,delete Fd.animationiteration.animation,delete Fd.animationstart.animation),"TransitionEvent"in window||delete Fd.transitionend.transition);function xx(n){if(oE[n])return oE[n];if(!Fd[n])return n;var e=Fd[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in Pk)return oE[n]=e[t];return n}var Rk=xx("animationend"),kk=xx("animationiteration"),Ik=xx("animationstart"),Lk=xx("transitionend"),Fk=new Map,aE=new Map,hK=["abort","abort",Rk,"animationEnd",kk,"animationIteration",Ik,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Lk,"transitionEnd","waiting","waiting"];function uE(n,e){for(var t=0;t<n.length;t+=2){var r=n[t],i=n[t+1];i="on"+(i[0].toUpperCase()+i.slice(1)),aE.set(r,e),Fk.set(r,i),af(i,[r])}}var dK=oi.unstable_now;dK();var Zn=8;function Od(n){if((1&n)!=0)return Zn=15,1;if((2&n)!=0)return Zn=14,2;if((4&n)!=0)return Zn=13,4;var e=24&n;return e!==0?(Zn=12,e):(n&32)!=0?(Zn=11,32):(e=192&n,e!==0?(Zn=10,e):(n&256)!=0?(Zn=9,256):(e=3584&n,e!==0?(Zn=8,e):(n&4096)!=0?(Zn=7,4096):(e=4186112&n,e!==0?(Zn=6,e):(e=62914560&n,e!==0?(Zn=5,e):n&67108864?(Zn=4,67108864):(n&134217728)!=0?(Zn=3,134217728):(e=805306368&n,e!==0?(Zn=2,e):(1073741824&n)!=0?(Zn=1,1073741824):(Zn=8,n))))))}function pK(n){switch(n){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function mK(n){switch(n){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(xt(358,n))}}function lv(n,e){var t=n.pendingLanes;if(t===0)return Zn=0;var r=0,i=0,s=n.expiredLanes,o=n.suspendedLanes,u=n.pingedLanes;if(s!==0)r=s,i=Zn=15;else if(s=t&134217727,s!==0){var l=s&~o;l!==0?(r=Od(l),i=Zn):(u&=s,u!==0&&(r=Od(u),i=Zn))}else s=t&~o,s!==0?(r=Od(s),i=Zn):u!==0&&(r=Od(u),i=Zn);if(r===0)return 0;if(r=31-Ul(r),r=t&((0>r?0:1<<r)<<1)-1,e!==0&&e!==r&&(e&o)==0){if(Od(e),i<=Zn)return e;Zn=i}if(e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Ul(e),i=1<<t,r|=n[t],e&=~i;return r}function Ok(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function _x(n,e){switch(n){case 15:return 1;case 14:return 2;case 12:return n=Nd(24&~e),n===0?_x(10,e):n;case 10:return n=Nd(192&~e),n===0?_x(8,e):n;case 8:return n=Nd(3584&~e),n===0&&(n=Nd(4186112&~e),n===0&&(n=512)),n;case 2:return e=Nd(805306368&~e),e===0&&(e=268435456),e}throw Error(xt(358,n))}function Nd(n){return n&-n}function lE(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function wx(n,e,t){n.pendingLanes|=e;var r=e-1;n.suspendedLanes&=r,n.pingedLanes&=r,n=n.eventTimes,e=31-Ul(e),n[e]=t}var Ul=Math.clz32?Math.clz32:yK,vK=Math.log,gK=Math.LN2;function yK(n){return n===0?32:31-(vK(n)/gK|0)|0}var xK=oi.unstable_UserBlockingPriority,_K=oi.unstable_runWithPriority,bx=!0;function wK(n,e,t,r){cf||ZS();var i=cE,s=cf;cf=!0;try{gk(i,n,e,t,r)}finally{(cf=s)||eE()}}function bK(n,e,t,r){_K(xK,cE.bind(null,n,e,t,r))}function cE(n,e,t,r){if(bx){var i;if((i=(e&4)==0)&&0<ja.length&&-1<Dk.indexOf(n))n=sE(null,n,e,t,r),ja.push(n);else{var s=fE(n,e,t,r);if(s===null)i&&Ak(n,r);else{if(i){if(-1<Dk.indexOf(n)){n=sE(s,n,e,t,r),ja.push(n);return}if(lK(s,n,e,t,r))return;Ak(n,r)}hI(n,e,r,null,t)}}}}function fE(n,e,t,r){var i=YS(r);if(i=hf(i),i!==null){var s=ff(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=xk(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.hydrate)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return hI(n,e,r,i,t),null}var Bl=null,hE=null,Sx=null;function Nk(){if(Sx)return Sx;var n,e=hE,t=e.length,r,i="value"in Bl?Bl.value:Bl.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return Sx=i.slice(n,1<r?1-r:void 0)}function Ex(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Mx(){return!0}function Uk(){return!1}function ro(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var u in n)n.hasOwnProperty(u)&&(t=n[u],this[u]=t?t(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Mx:Uk,this.isPropagationStopped=Uk,this}return fr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Mx)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Mx)},persist:function(){},isPersistent:Mx}),e}var Ud={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dE=ro(Ud),cv=fr({},Ud,{view:0,detail:0}),SK=ro(cv),pE,mE,fv,Dx=fr({},cv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gE,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==fv&&(fv&&n.type==="mousemove"?(pE=n.screenX-fv.screenX,mE=n.screenY-fv.screenY):mE=pE=0,fv=n),pE)},movementY:function(n){return"movementY"in n?n.movementY:mE}}),Bk=ro(Dx),EK=fr({},Dx,{dataTransfer:0}),MK=ro(EK),DK=fr({},cv,{relatedTarget:0}),vE=ro(DK),AK=fr({},Ud,{animationName:0,elapsedTime:0,pseudoElement:0}),TK=ro(AK),CK=fr({},Ud,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),PK=ro(CK),RK=fr({},Ud,{data:0}),zk=ro(RK),kK={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IK={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LK={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FK(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=LK[n])?!!e[n]:!1}function gE(){return FK}var OK=fr({},cv,{key:function(n){if(n.key){var e=kK[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Ex(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?IK[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gE,charCode:function(n){return n.type==="keypress"?Ex(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ex(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),NK=ro(OK),UK=fr({},Dx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$k=ro(UK),BK=fr({},cv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gE}),zK=ro(BK),$K=fr({},Ud,{propertyName:0,elapsedTime:0,pseudoElement:0}),GK=ro($K),HK=fr({},Dx,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),VK=ro(HK),WK=[9,13,27,32],yE=zu&&"CompositionEvent"in window,hv=null;zu&&"documentMode"in document&&(hv=document.documentMode);var jK=zu&&"TextEvent"in window&&!hv,Gk=zu&&(!yE||hv&&8<hv&&11>=hv),Hk=String.fromCharCode(32),Vk=!1;function Wk(n,e){switch(n){case"keyup":return WK.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jk(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Bd=!1;function qK(n,e){switch(n){case"compositionend":return jk(e);case"keypress":return e.which!==32?null:(Vk=!0,Hk);case"textInput":return n=e.data,n===Hk&&Vk?null:n;default:return null}}function XK(n,e){if(Bd)return n==="compositionend"||!yE&&Wk(n,e)?(n=Nk(),Sx=hE=Bl=null,Bd=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Gk&&e.locale!=="ko"?null:e.data;default:return null}}var YK={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qk(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!YK[n.type]:e==="textarea"}function Xk(n,e,t,r){mk(r),e=Tx(e,"onChange"),0<e.length&&(t=new dE("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var dv=null,pv=null;function JK(n){aI(n,0)}function Ax(n){var e=Vd(n);if(rk(e))return n}function KK(n,e){if(n==="change")return e}var Yk=!1;if(zu){var xE;if(zu){var _E="oninput"in document;if(!_E){var Jk=document.createElement("div");Jk.setAttribute("oninput","return;"),_E=typeof Jk.oninput=="function"}xE=_E}else xE=!1;Yk=xE&&(!document.documentMode||9<document.documentMode)}function Kk(){dv&&(dv.detachEvent("onpropertychange",Zk),pv=dv=null)}function Zk(n){if(n.propertyName==="value"&&Ax(pv)){var e=[];if(Xk(e,pv,n,YS(n)),n=JK,cf)n(e);else{cf=!0;try{KS(n,e)}finally{cf=!1,eE()}}}}function ZK(n,e,t){n==="focusin"?(Kk(),dv=e,pv=t,dv.attachEvent("onpropertychange",Zk)):n==="focusout"&&Kk()}function QK(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ax(pv)}function eZ(n,e){if(n==="click")return Ax(e)}function tZ(n,e){if(n==="input"||n==="change")return Ax(e)}function nZ(n,e){return n===e&&(n!==0||1/n==1/e)||n!==n&&e!==e}var Po=typeof Object.is=="function"?Object.is:nZ,rZ=Object.prototype.hasOwnProperty;function mv(n,e){if(Po(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++)if(!rZ.call(e,t[r])||!Po(n[t[r]],e[t[r]]))return!1;return!0}function Qk(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function eI(n,e){var t=Qk(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Qk(t)}}function tI(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?tI(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function nI(){for(var n=window,e=dx();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=dx(n.document)}return e}function wE(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}var iZ=zu&&"documentMode"in document&&11>=document.documentMode,zd=null,bE=null,vv=null,SE=!1;function rI(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;SE||zd==null||zd!==dx(r)||(r=zd,"selectionStart"in r&&wE(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),vv&&mv(vv,r)||(vv=r,r=Tx(bE,"onSelect"),0<r.length&&(e=new dE("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=zd)))}uE("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);uE("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);uE(hK,2);for(var iI="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),EE=0;EE<iI.length;EE++)aE.set(iI[EE],0);Pd("onMouseEnter",["mouseout","mouseover"]);Pd("onMouseLeave",["mouseout","mouseover"]);Pd("onPointerEnter",["pointerout","pointerover"]);Pd("onPointerLeave",["pointerout","pointerover"]);af("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));af("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));af("onBeforeInput",["compositionend","keypress","textInput","paste"]);af("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));af("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));af("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sI=new Set("cancel close invalid load scroll toggle".split(" ").concat(gv));function oI(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,aK(r,e,void 0,n),n.currentTarget=null}function aI(n,e){e=(e&4)!=0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var u=r[o],l=u.instance,c=u.currentTarget;if(u=u.listener,l!==s&&i.isPropagationStopped())break e;oI(i,u,c),s=l}else for(o=0;o<r.length;o++){if(u=r[o],l=u.instance,c=u.currentTarget,u=u.listener,l!==s&&i.isPropagationStopped())break e;oI(i,u,c),s=l}}}if(vx)throw n=nE,vx=!1,nE=null,n}function rr(n,e){var t=yI(e),r=n+"__bubble";t.has(r)||(fI(e,n,2,!1),t.add(r))}var uI="_reactListening"+Math.random().toString(36).slice(2);function lI(n){n[uI]||(n[uI]=!0,JR.forEach(function(e){sI.has(e)||cI(e,!1,n,null),cI(e,!0,n,null)}))}function cI(n,e,t,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,s=t;if(n==="selectionchange"&&t.nodeType!==9&&(s=t.ownerDocument),r!==null&&!e&&sI.has(n)){if(n!=="scroll")return;i|=2,s=r}var o=yI(s),u=n+"__"+(e?"capture":"bubble");o.has(u)||(e&&(i|=4),fI(s,n,i,e),o.add(u))}function fI(n,e,t,r){var i=aE.get(e);switch(i===void 0?2:i){case 0:i=wK;break;case 1:i=bK;break;default:i=cE}t=i.bind(null,e,t,n),i=void 0,!tE||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function hI(n,e,t,r,i){var s=r;if((e&1)==0&&(e&2)==0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;u!==null;){if(o=hf(u),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}u=u.parentNode}}r=r.return}rK(function(){var c=s,h=YS(t),d=[];e:{var p=Fk.get(n);if(p!==void 0){var v=dE,S=n;switch(n){case"keypress":if(Ex(t)===0)break e;case"keydown":case"keyup":v=NK;break;case"focusin":S="focus",v=vE;break;case"focusout":S="blur",v=vE;break;case"beforeblur":case"afterblur":v=vE;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Bk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=MK;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=zK;break;case Rk:case kk:case Ik:v=TK;break;case Lk:v=GK;break;case"scroll":v=SK;break;case"wheel":v=VK;break;case"copy":case"cut":case"paste":v=PK;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=$k}var w=(e&4)!=0,T=!w&&n==="scroll",x=w?p!==null?p+"Capture":null:p;w=[];for(var E=c,O;E!==null;){O=E;var C=O.stateNode;if(O.tag===5&&C!==null&&(O=C,x!==null&&(C=tv(E,x),C!=null&&w.push(yv(E,C,O)))),T)break;E=E.return}0<w.length&&(p=new v(p,S,null,t,h),d.push({event:p,listeners:w}))}}if((e&7)==0){e:{if(p=n==="mouseover"||n==="pointerover",v=n==="mouseout"||n==="pointerout",p&&(e&16)==0&&(S=t.relatedTarget||t.fromElement)&&(hf(S)||S[Hd]))break e;if((v||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,v?(S=t.relatedTarget||t.toElement,v=c,S=S?hf(S):null,S!==null&&(T=ff(S),S!==T||S.tag!==5&&S.tag!==6)&&(S=null)):(v=null,S=c),v!==S)){if(w=Bk,C="onMouseLeave",x="onMouseEnter",E="mouse",(n==="pointerout"||n==="pointerover")&&(w=$k,C="onPointerLeave",x="onPointerEnter",E="pointer"),T=v==null?p:Vd(v),O=S==null?p:Vd(S),p=new w(C,E+"leave",v,t,h),p.target=T,p.relatedTarget=O,C=null,hf(h)===c&&(w=new w(x,E+"enter",S,t,h),w.target=O,w.relatedTarget=T,C=w),T=C,v&&S)t:{for(w=v,x=S,E=0,O=w;O;O=$d(O))E++;for(O=0,C=x;C;C=$d(C))O++;for(;0<E-O;)w=$d(w),E--;for(;0<O-E;)x=$d(x),O--;for(;E--;){if(w===x||x!==null&&w===x.alternate)break t;w=$d(w),x=$d(x)}w=null}else w=null;v!==null&&dI(d,p,v,w,!1),S!==null&&T!==null&&dI(d,T,S,w,!0)}}e:{if(p=c?Vd(c):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var N=KK;else if(qk(p))if(Yk)N=tZ;else{N=QK;var $=ZK}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=eZ);if(N&&(N=N(n,c))){Xk(d,N,t,h);break e}$&&$(n,p,c),n==="focusout"&&($=p._wrapperState)&&$.controlled&&p.type==="number"&&GS(p,"number",p.value)}switch($=c?Vd(c):window,n){case"focusin":(qk($)||$.contentEditable==="true")&&(zd=$,bE=c,vv=null);break;case"focusout":vv=bE=zd=null;break;case"mousedown":SE=!0;break;case"contextmenu":case"mouseup":case"dragend":SE=!1,rI(d,t,h);break;case"selectionchange":if(iZ)break;case"keydown":case"keyup":rI(d,t,h)}var M;if(yE)e:{switch(n){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Bd?Wk(n,t)&&(L="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(L="onCompositionStart");L&&(Gk&&t.locale!=="ko"&&(Bd||L!=="onCompositionStart"?L==="onCompositionEnd"&&Bd&&(M=Nk()):(Bl=h,hE="value"in Bl?Bl.value:Bl.textContent,Bd=!0)),$=Tx(c,L),0<$.length&&(L=new zk(L,n,null,t,h),d.push({event:L,listeners:$}),M?L.data=M:(M=jk(t),M!==null&&(L.data=M)))),(M=jK?qK(n,t):XK(n,t))&&(c=Tx(c,"onBeforeInput"),0<c.length&&(h=new zk("onBeforeInput","beforeinput",null,t,h),d.push({event:h,listeners:c}),h.data=M))}aI(d,e)})}function yv(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Tx(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=tv(n,t),s!=null&&r.unshift(yv(n,s,i)),s=tv(n,e),s!=null&&r.push(yv(n,s,i))),n=n.return}return r}function $d(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function dI(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var u=t,l=u.alternate,c=u.stateNode;if(l!==null&&l===r)break;u.tag===5&&c!==null&&(u=c,i?(l=tv(t,s),l!=null&&o.unshift(yv(t,l,u))):i||(l=tv(t,s),l!=null&&o.push(yv(t,l,u)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}function Cx(){}var ME=null,DE=null;function pI(n,e){switch(n){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function AE(n,e){return n==="textarea"||n==="option"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var mI=typeof setTimeout=="function"?setTimeout:void 0,sZ=typeof clearTimeout=="function"?clearTimeout:void 0;function TE(n){n.nodeType===1?n.textContent="":n.nodeType===9&&(n=n.body,n!=null&&(n.textContent=""))}function Gd(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break}return n}function vI(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var CE=0;function oZ(n){return{$$typeof:FS,toString:n,valueOf:n}}var Px=Math.random().toString(36).slice(2),zl="__reactFiber$"+Px,Rx="__reactProps$"+Px,Hd="__reactContainer$"+Px,gI="__reactEvents$"+Px;function hf(n){var e=n[zl];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Hd]||t[zl]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=vI(n);n!==null;){if(t=n[zl])return t;n=vI(n)}return e}n=t,t=n.parentNode}return null}function xv(n){return n=n[zl]||n[Hd],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Vd(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(xt(33))}function kx(n){return n[Rx]||null}function yI(n){var e=n[gI];return e===void 0&&(e=n[gI]=new Set),e}var PE=[],Wd=-1;function $l(n){return{current:n}}function ir(n){0>Wd||(n.current=PE[Wd],PE[Wd]=null,Wd--)}function xr(n,e){Wd++,PE[Wd]=n.current,n.current=e}var Gl={},ji=$l(Gl),Ps=$l(!1),df=Gl;function jd(n,e){var t=n.type.contextTypes;if(!t)return Gl;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function Rs(n){return n=n.childContextTypes,n!=null}function Ix(){ir(Ps),ir(ji)}function xI(n,e,t){if(ji.current!==Gl)throw Error(xt(168));xr(ji,e),xr(Ps,t)}function _I(n,e,t){var r=n.stateNode;if(n=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in n))throw Error(xt(108,Rd(e)||"Unknown",i));return fr({},t,r)}function Lx(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Gl,df=ji.current,xr(ji,n),xr(Ps,Ps.current),!0}function wI(n,e,t){var r=n.stateNode;if(!r)throw Error(xt(169));t?(n=_I(n,e,df),r.__reactInternalMemoizedMergedChildContext=n,ir(Ps),ir(ji),xr(ji,n)):ir(Ps),xr(Ps,t)}var RE=null,pf=null,aZ=oi.unstable_runWithPriority,kE=oi.unstable_scheduleCallback,IE=oi.unstable_cancelCallback,uZ=oi.unstable_shouldYield,bI=oi.unstable_requestPaint,LE=oi.unstable_now,lZ=oi.unstable_getCurrentPriorityLevel,Fx=oi.unstable_ImmediatePriority,SI=oi.unstable_UserBlockingPriority,EI=oi.unstable_NormalPriority,MI=oi.unstable_LowPriority,DI=oi.unstable_IdlePriority,FE={},cZ=bI!==void 0?bI:function(){},$u=null,Ox=null,OE=!1,AI=LE(),qi=1e4>AI?LE:function(){return LE()-AI};function qd(){switch(lZ()){case Fx:return 99;case SI:return 98;case EI:return 97;case MI:return 96;case DI:return 95;default:throw Error(xt(332))}}function TI(n){switch(n){case 99:return Fx;case 98:return SI;case 97:return EI;case 96:return MI;case 95:return DI;default:throw Error(xt(332))}}function mf(n,e){return n=TI(n),aZ(n,e)}function _v(n,e,t){return n=TI(n),kE(n,e,t)}function qa(){if(Ox!==null){var n=Ox;Ox=null,IE(n)}CI()}function CI(){if(!OE&&$u!==null){OE=!0;var n=0;try{var e=$u;mf(99,function(){for(;n<e.length;n++){var t=e[n];do t=t(!0);while(t!==null)}}),$u=null}catch(t){throw $u!==null&&($u=$u.slice(n+1)),kE(Fx,qa),t}finally{OE=!1}}}var fZ=uf.ReactCurrentBatchConfig;function ha(n,e){if(n&&n.defaultProps){e=fr({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var Nx=$l(null),Ux=null,Xd=null,Bx=null;function NE(){Bx=Xd=Ux=null}function UE(n){var e=Nx.current;ir(Nx),n.type._context._currentValue=e}function PI(n,e){for(;n!==null;){var t=n.alternate;if((n.childLanes&e)===e){if(t===null||(t.childLanes&e)===e)break;t.childLanes|=e}else n.childLanes|=e,t!==null&&(t.childLanes|=e);n=n.return}}function Yd(n,e){Ux=n,Bx=Xd=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&e)!=0&&(da=!0),n.firstContext=null)}function Ro(n,e){if(Bx!==n&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(Bx=n,e=1073741823),e={context:n,observedBits:e,next:null},Xd===null){if(Ux===null)throw Error(xt(308));Xd=e,Ux.dependencies={lanes:0,firstContext:e,responders:null}}else Xd=Xd.next=e;return n._currentValue}var Hl=!1;function BE(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function RI(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Vl(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Wl(n,e){if(n=n.updateQueue,n!==null){n=n.shared;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}}function kI(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function wv(n,e,t,r){var i=n.updateQueue;Hl=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var l=u,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=n.alternate;if(h!==null){h=h.updateQueue;var d=h.lastBaseUpdate;d!==o&&(d===null?h.firstBaseUpdate=c:d.next=c,h.lastBaseUpdate=l)}}if(s!==null){d=i.baseState,o=0,h=c=l=null;do{u=s.lane;var p=s.eventTime;if((r&u)===u){h!==null&&(h=h.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=n,S=s;switch(u=e,p=t,S.tag){case 1:if(v=S.payload,typeof v=="function"){d=v.call(p,d,u);break e}d=v;break e;case 3:v.flags=v.flags&-4097|64;case 0:if(v=S.payload,u=typeof v=="function"?v.call(p,d,u):v,u==null)break e;d=fr({},d,u);break e;case 2:Hl=!0}}s.callback!==null&&(n.flags|=32,u=i.effects,u===null?i.effects=[s]:u.push(s))}else p={eventTime:p,lane:u,tag:s.tag,payload:s.payload,callback:s.callback,next:null},h===null?(c=h=p,l=d):h=h.next=p,o|=u;if(s=s.next,s===null){if(u=i.shared.pending,u===null)break;s=u.next,u.next=null,i.lastBaseUpdate=u,i.shared.pending=null}}while(1);h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,Iv|=o,n.lanes=o,n.memoizedState=d}}function II(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(xt(191,i));i.call(r)}}}var LI=new ax.Component().refs;function zx(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:fr({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var $x={isMounted:function(n){return(n=n._reactInternals)?ff(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=io(),i=Xl(n),s=Vl(r,i);s.payload=e,t!=null&&(s.callback=t),Wl(n,s),Yl(n,i,r)},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=io(),i=Xl(n),s=Vl(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),Wl(n,s),Yl(n,i,r)},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=io(),r=Xl(n),i=Vl(t,r);i.tag=2,e!=null&&(i.callback=e),Wl(n,i),Yl(n,r,t)}};function FI(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!mv(t,r)||!mv(i,s):!0}function OI(n,e,t){var r=!1,i=Gl,s=e.contextType;return typeof s=="object"&&s!==null?s=Ro(s):(i=Rs(e)?df:ji.current,r=e.contextTypes,s=(r=r!=null)?jd(n,i):Gl),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$x,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function NI(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&$x.enqueueReplaceState(e,e.state,null)}function zE(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=LI,BE(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ro(s):(s=Rs(e)?df:ji.current,i.context=jd(n,s)),wv(n,t,i,r),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(zx(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&$x.enqueueReplaceState(i,i.state,null),wv(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4)}var Gx=Array.isArray;function bv(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(xt(309));var r=t.stateNode}if(!r)throw Error(xt(147,n));var i=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var o=r.refs;o===LI&&(o=r.refs={}),s===null?delete o[i]:o[i]=s},e._stringRef=i,e)}if(typeof n!="string")throw Error(xt(284));if(!t._owner)throw Error(xt(290,n))}return n}function Hx(n,e){if(n.type!=="textarea")throw Error(xt(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function UI(n){function e(T,x){if(n){var E=T.lastEffect;E!==null?(E.nextEffect=x,T.lastEffect=x):T.firstEffect=T.lastEffect=x,x.nextEffect=null,x.flags=8}}function t(T,x){if(!n)return null;for(;x!==null;)e(T,x),x=x.sibling;return null}function r(T,x){for(T=new Map;x!==null;)x.key!==null?T.set(x.key,x):T.set(x.index,x),x=x.sibling;return T}function i(T,x){return T=Zl(T,x),T.index=0,T.sibling=null,T}function s(T,x,E){return T.index=E,n?(E=T.alternate,E!==null?(E=E.index,E<x?(T.flags=2,x):E):(T.flags=2,x)):x}function o(T){return n&&T.alternate===null&&(T.flags=2),T}function u(T,x,E,O){return x===null||x.tag!==6?(x=bM(E,T.mode,O),x.return=T,x):(x=i(x,E),x.return=T,x)}function l(T,x,E,O){return x!==null&&x.elementType===E.type?(O=i(x,E.props),O.ref=bv(T,x,E),O.return=T,O):(O=a2(E.type,E.key,E.props,null,T.mode,O),O.ref=bv(T,x,E),O.return=T,O)}function c(T,x,E,O){return x===null||x.tag!==4||x.stateNode.containerInfo!==E.containerInfo||x.stateNode.implementation!==E.implementation?(x=SM(E,T.mode,O),x.return=T,x):(x=i(x,E.children||[]),x.return=T,x)}function h(T,x,E,O,C){return x===null||x.tag!==7?(x=rp(E,T.mode,O,C),x.return=T,x):(x=i(x,E),x.return=T,x)}function d(T,x,E){if(typeof x=="string"||typeof x=="number")return x=bM(""+x,T.mode,E),x.return=T,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Xm:return E=a2(x.type,x.key,x.props,null,T.mode,E),E.ref=bv(T,null,x),E.return=T,E;case lf:return x=SM(x,T.mode,E),x.return=T,x}if(Gx(x)||Km(x))return x=rp(x,T.mode,E,null),x.return=T,x;Hx(T,x)}return null}function p(T,x,E,O){var C=x!==null?x.key:null;if(typeof E=="string"||typeof E=="number")return C!==null?null:u(T,x,""+E,O);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Xm:return E.key===C?E.type===Il?h(T,x,E.props.children,O,C):l(T,x,E,O):null;case lf:return E.key===C?c(T,x,E,O):null}if(Gx(E)||Km(E))return C!==null?null:h(T,x,E,O,null);Hx(T,E)}return null}function v(T,x,E,O,C){if(typeof O=="string"||typeof O=="number")return T=T.get(E)||null,u(x,T,""+O,C);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Xm:return T=T.get(O.key===null?E:O.key)||null,O.type===Il?h(x,T,O.props.children,C,O.key):l(x,T,O,C);case lf:return T=T.get(O.key===null?E:O.key)||null,c(x,T,O,C)}if(Gx(O)||Km(O))return T=T.get(E)||null,h(x,T,O,C,null);Hx(x,O)}return null}function S(T,x,E,O){for(var C=null,N=null,$=x,M=x=0,L=null;$!==null&&M<E.length;M++){$.index>M?(L=$,$=null):L=$.sibling;var V=p(T,$,E[M],O);if(V===null){$===null&&($=L);break}n&&$&&V.alternate===null&&e(T,$),x=s(V,x,M),N===null?C=V:N.sibling=V,N=V,$=L}if(M===E.length)return t(T,$),C;if($===null){for(;M<E.length;M++)$=d(T,E[M],O),$!==null&&(x=s($,x,M),N===null?C=$:N.sibling=$,N=$);return C}for($=r(T,$);M<E.length;M++)L=v($,T,M,E[M],O),L!==null&&(n&&L.alternate!==null&&$.delete(L.key===null?M:L.key),x=s(L,x,M),N===null?C=L:N.sibling=L,N=L);return n&&$.forEach(function(Z){return e(T,Z)}),C}function w(T,x,E,O){var C=Km(E);if(typeof C!="function")throw Error(xt(150));if(E=C.call(E),E==null)throw Error(xt(151));for(var N=C=null,$=x,M=x=0,L=null,V=E.next();$!==null&&!V.done;M++,V=E.next()){$.index>M?(L=$,$=null):L=$.sibling;var Z=p(T,$,V.value,O);if(Z===null){$===null&&($=L);break}n&&$&&Z.alternate===null&&e(T,$),x=s(Z,x,M),N===null?C=Z:N.sibling=Z,N=Z,$=L}if(V.done)return t(T,$),C;if($===null){for(;!V.done;M++,V=E.next())V=d(T,V.value,O),V!==null&&(x=s(V,x,M),N===null?C=V:N.sibling=V,N=V);return C}for($=r(T,$);!V.done;M++,V=E.next())V=v($,T,M,V.value,O),V!==null&&(n&&V.alternate!==null&&$.delete(V.key===null?M:V.key),x=s(V,x,M),N===null?C=V:N.sibling=V,N=V);return n&&$.forEach(function(H){return e(T,H)}),C}return function(T,x,E,O){var C=typeof E=="object"&&E!==null&&E.type===Il&&E.key===null;C&&(E=E.props.children);var N=typeof E=="object"&&E!==null;if(N)switch(E.$$typeof){case Xm:e:{for(N=E.key,C=x;C!==null;){if(C.key===N){switch(C.tag){case 7:if(E.type===Il){t(T,C.sibling),x=i(C,E.props.children),x.return=T,T=x;break e}break;default:if(C.elementType===E.type){t(T,C.sibling),x=i(C,E.props),x.ref=bv(T,C,E),x.return=T,T=x;break e}}t(T,C);break}else e(T,C);C=C.sibling}E.type===Il?(x=rp(E.props.children,T.mode,O,E.key),x.return=T,T=x):(O=a2(E.type,E.key,E.props,null,T.mode,O),O.ref=bv(T,x,E),O.return=T,T=O)}return o(T);case lf:e:{for(C=E.key;x!==null;){if(x.key===C)if(x.tag===4&&x.stateNode.containerInfo===E.containerInfo&&x.stateNode.implementation===E.implementation){t(T,x.sibling),x=i(x,E.children||[]),x.return=T,T=x;break e}else{t(T,x);break}else e(T,x);x=x.sibling}x=SM(E,T.mode,O),x.return=T,T=x}return o(T)}if(typeof E=="string"||typeof E=="number")return E=""+E,x!==null&&x.tag===6?(t(T,x.sibling),x=i(x,E),x.return=T,T=x):(t(T,x),x=bM(E,T.mode,O),x.return=T,T=x),o(T);if(Gx(E))return S(T,x,E,O);if(Km(E))return w(T,x,E,O);if(N&&Hx(T,E),typeof E=="undefined"&&!C)switch(T.tag){case 1:case 22:case 0:case 11:case 15:throw Error(xt(152,Rd(T.type)||"Component"))}return t(T,x)}}var Vx=UI(!0),BI=UI(!1),Sv={},Xa=$l(Sv),Ev=$l(Sv),Mv=$l(Sv);function vf(n){if(n===Sv)throw Error(xt(174));return n}function $E(n,e){switch(xr(Mv,e),xr(Ev,n),xr(Xa,Sv),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jS(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=jS(e,n)}ir(Xa),xr(Xa,e)}function Jd(){ir(Xa),ir(Ev),ir(Mv)}function zI(n){vf(Mv.current);var e=vf(Xa.current),t=jS(e,n.type);e!==t&&(xr(Ev,n),xr(Xa,t))}function GE(n){Ev.current===n&&(ir(Xa),ir(Ev))}var _r=$l(0);function Wx(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&64)!=0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Gu=null,jl=null,Ya=!1;function $I(n,e){var t=Lo(5,null,null,0);t.elementType="DELETED",t.type="DELETED",t.stateNode=e,t.return=n,t.flags=8,n.lastEffect!==null?(n.lastEffect.nextEffect=t,n.lastEffect=t):n.firstEffect=n.lastEffect=t}function GI(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function HE(n){if(Ya){var e=jl;if(e){var t=e;if(!GI(n,e)){if(e=Gd(t.nextSibling),!e||!GI(n,e)){n.flags=n.flags&-1025|2,Ya=!1,Gu=n;return}$I(Gu,t)}Gu=n,jl=Gd(e.firstChild)}else n.flags=n.flags&-1025|2,Ya=!1,Gu=n}}function HI(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Gu=n}function jx(n){if(n!==Gu)return!1;if(!Ya)return HI(n),Ya=!0,!1;var e=n.type;if(n.tag!==5||e!=="head"&&e!=="body"&&!AE(e,n.memoizedProps))for(e=jl;e;)$I(n,e),e=Gd(e.nextSibling);if(HI(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(xt(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){jl=Gd(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}jl=null}}else jl=Gu?Gd(n.stateNode.nextSibling):null;return!0}function VE(){jl=Gu=null,Ya=!1}var Kd=[];function WE(){for(var n=0;n<Kd.length;n++)Kd[n]._workInProgressVersionPrimary=null;Kd.length=0}var Dv=uf.ReactCurrentDispatcher,ko=uf.ReactCurrentBatchConfig,Av=0,Tr=null,Xi=null,_i=null,qx=!1,Tv=!1;function ks(){throw Error(xt(321))}function jE(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Po(n[t],e[t]))return!1;return!0}function qE(n,e,t,r,i,s){if(Av=s,Tr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Dv.current=n===null||n.memoizedState===null?dZ:pZ,n=t(r,i),Tv){s=0;do{if(Tv=!1,!(25>s))throw Error(xt(301));s+=1,_i=Xi=null,e.updateQueue=null,Dv.current=mZ,n=t(r,i)}while(Tv)}if(Dv.current=Kx,e=Xi!==null&&Xi.next!==null,Av=0,_i=Xi=Tr=null,qx=!1,e)throw Error(xt(300));return n}function gf(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _i===null?Tr.memoizedState=_i=n:_i=_i.next=n,_i}function yf(){if(Xi===null){var n=Tr.alternate;n=n!==null?n.memoizedState:null}else n=Xi.next;var e=_i===null?Tr.memoizedState:_i.next;if(e!==null)_i=e,Xi=n;else{if(n===null)throw Error(xt(310));Xi=n,n={memoizedState:Xi.memoizedState,baseState:Xi.baseState,baseQueue:Xi.baseQueue,queue:Xi.queue,next:null},_i===null?Tr.memoizedState=_i=n:_i=_i.next=n}return _i}function Ja(n,e){return typeof e=="function"?e(n):e}function Cv(n){var e=yf(),t=e.queue;if(t===null)throw Error(xt(311));t.lastRenderedReducer=n;var r=Xi,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){i=i.next,r=r.baseState;var u=o=s=null,l=i;do{var c=l.lane;if((Av&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===n?l.eagerState:n(r,l.action);else{var h={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};u===null?(o=u=h,s=r):u=u.next=h,Tr.lanes|=c,Iv|=c}l=l.next}while(l!==null&&l!==i);u===null?s=r:u.next=o,Po(r,e.memoizedState)||(da=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,t.lastRenderedState=r}return[e.memoizedState,t.dispatch]}function Pv(n){var e=yf(),t=e.queue;if(t===null)throw Error(xt(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);Po(s,e.memoizedState)||(da=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function VI(n,e,t){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?n=i===r:(n=n.mutableReadLanes,(n=(Av&n)===n)&&(e._workInProgressVersionPrimary=r,Kd.push(e))),n)return t(e._source);throw Kd.push(e),Error(xt(350))}function WI(n,e,t,r){var i=ps;if(i===null)throw Error(xt(349));var s=e._getVersion,o=s(e._source),u=Dv.current,l=u.useState(function(){return VI(i,e,t)}),c=l[1],h=l[0];l=_i;var d=n.memoizedState,p=d.refs,v=p.getSnapshot,S=d.source;d=d.subscribe;var w=Tr;return n.memoizedState={refs:p,source:e,subscribe:r},u.useEffect(function(){p.getSnapshot=t,p.setSnapshot=c;var T=s(e._source);if(!Po(o,T)){T=t(e._source),Po(h,T)||(c(T),T=Xl(w),i.mutableReadLanes|=T&i.pendingLanes),T=i.mutableReadLanes,i.entangledLanes|=T;for(var x=i.entanglements,E=T;0<E;){var O=31-Ul(E),C=1<<O;x[O]|=T,E&=~C}}},[t,e,r]),u.useEffect(function(){return r(e._source,function(){var T=p.getSnapshot,x=p.setSnapshot;try{x(T(e._source));var E=Xl(w);i.mutableReadLanes|=E&i.pendingLanes}catch(O){x(function(){throw O})}})},[e,r]),Po(v,t)&&Po(S,e)&&Po(d,r)||(n={pending:null,dispatch:null,lastRenderedReducer:Ja,lastRenderedState:h},n.dispatch=c=KE.bind(null,Tr,n),l.queue=n,l.baseQueue=null,h=VI(i,e,t),l.memoizedState=l.baseState=h),h}function jI(n,e,t){var r=yf();return WI(r,n,e,t)}function Rv(n){var e=gf();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n=e.queue={pending:null,dispatch:null,lastRenderedReducer:Ja,lastRenderedState:n},n=n.dispatch=KE.bind(null,Tr,n),[e.memoizedState,n]}function Xx(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Tr.updateQueue,e===null?(e={lastEffect:null},Tr.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function qI(n){var e=gf();return n={current:n},e.memoizedState=n}function Yx(){return yf().memoizedState}function XE(n,e,t,r){var i=gf();Tr.flags|=n,i.memoizedState=Xx(1|e,t,void 0,r===void 0?null:r)}function YE(n,e,t,r){var i=yf();r=r===void 0?null:r;var s=void 0;if(Xi!==null){var o=Xi.memoizedState;if(s=o.destroy,r!==null&&jE(r,o.deps)){Xx(e,t,s,r);return}}Tr.flags|=n,i.memoizedState=Xx(1|e,t,s,r)}function XI(n,e){return XE(516,4,n,e)}function Jx(n,e){return YE(516,4,n,e)}function YI(n,e){return YE(4,2,n,e)}function JI(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function KI(n,e,t){return t=t!=null?t.concat([n]):null,YE(4,2,JI.bind(null,e,n),t)}function JE(){}function ZI(n,e){var t=yf();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&jE(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function QI(n,e){var t=yf();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&jE(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function hZ(n,e){var t=qd();mf(98>t?98:t,function(){n(!0)}),mf(97<t?97:t,function(){var r=ko.transition;ko.transition=1;try{n(!1),e()}finally{ko.transition=r}})}function KE(n,e,t){var r=io(),i=Xl(n),s={lane:i,action:t,eagerReducer:null,eagerState:null,next:null},o=e.pending;if(o===null?s.next=s:(s.next=o.next,o.next=s),e.pending=s,o=n.alternate,n===Tr||o!==null&&o===Tr)Tv=qx=!0;else{if(n.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var u=e.lastRenderedState,l=o(u,t);if(s.eagerReducer=o,s.eagerState=l,Po(l,u))return}catch{}finally{}Yl(n,i,r)}}var Kx={readContext:Ro,useCallback:ks,useContext:ks,useEffect:ks,useImperativeHandle:ks,useLayoutEffect:ks,useMemo:ks,useReducer:ks,useRef:ks,useState:ks,useDebugValue:ks,useDeferredValue:ks,useTransition:ks,useMutableSource:ks,useOpaqueIdentifier:ks,unstable_isNewReconciler:!1},dZ={readContext:Ro,useCallback:function(n,e){return gf().memoizedState=[n,e===void 0?null:e],n},useContext:Ro,useEffect:XI,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,XE(4,2,JI.bind(null,e,n),t)},useLayoutEffect:function(n,e){return XE(4,2,n,e)},useMemo:function(n,e){var t=gf();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=gf();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n=r.queue={pending:null,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},n=n.dispatch=KE.bind(null,Tr,n),[r.memoizedState,n]},useRef:qI,useState:Rv,useDebugValue:JE,useDeferredValue:function(n){var e=Rv(n),t=e[0],r=e[1];return XI(function(){var i=ko.transition;ko.transition=1;try{r(n)}finally{ko.transition=i}},[n]),t},useTransition:function(){var n=Rv(!1),e=n[0];return n=hZ.bind(null,n[1]),qI(n),[n,e]},useMutableSource:function(n,e,t){var r=gf();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:n,subscribe:t},WI(r,n,e,t)},useOpaqueIdentifier:function(){if(Ya){var n=!1,e=oZ(function(){throw n||(n=!0,t("r:"+(CE++).toString(36))),Error(xt(355))}),t=Rv(e)[1];return(Tr.mode&2)==0&&(Tr.flags|=516,Xx(5,function(){t("r:"+(CE++).toString(36))},void 0,null)),e}return e="r:"+(CE++).toString(36),Rv(e),e},unstable_isNewReconciler:!1},pZ={readContext:Ro,useCallback:ZI,useContext:Ro,useEffect:Jx,useImperativeHandle:KI,useLayoutEffect:YI,useMemo:QI,useReducer:Cv,useRef:Yx,useState:function(){return Cv(Ja)},useDebugValue:JE,useDeferredValue:function(n){var e=Cv(Ja),t=e[0],r=e[1];return Jx(function(){var i=ko.transition;ko.transition=1;try{r(n)}finally{ko.transition=i}},[n]),t},useTransition:function(){var n=Cv(Ja)[0];return[Yx().current,n]},useMutableSource:jI,useOpaqueIdentifier:function(){return Cv(Ja)[0]},unstable_isNewReconciler:!1},mZ={readContext:Ro,useCallback:ZI,useContext:Ro,useEffect:Jx,useImperativeHandle:KI,useLayoutEffect:YI,useMemo:QI,useReducer:Pv,useRef:Yx,useState:function(){return Pv(Ja)},useDebugValue:JE,useDeferredValue:function(n){var e=Pv(Ja),t=e[0],r=e[1];return Jx(function(){var i=ko.transition;ko.transition=1;try{r(n)}finally{ko.transition=i}},[n]),t},useTransition:function(){var n=Pv(Ja)[0];return[Yx().current,n]},useMutableSource:jI,useOpaqueIdentifier:function(){return Pv(Ja)[0]},unstable_isNewReconciler:!1},vZ=uf.ReactCurrentOwner,da=!1;function Is(n,e,t,r){e.child=n===null?BI(e,null,t,r):Vx(e,n.child,t,r)}function eL(n,e,t,r,i){t=t.render;var s=e.ref;return Yd(e,i),r=qE(n,e,t,r,s,i),n!==null&&!da?(e.updateQueue=n.updateQueue,e.flags&=-517,n.lanes&=~i,Hu(n,e,i)):(e.flags|=1,Is(n,e,r,i),e.child)}function tL(n,e,t,r,i,s){if(n===null){var o=t.type;return typeof o=="function"&&!_M(o)&&o.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=o,nL(n,e,o,r,i,s)):(n=a2(t.type,null,r,e,e.mode,s),n.ref=e.ref,n.return=e,e.child=n)}return o=n.child,(i&s)==0&&(i=o.memoizedProps,t=t.compare,t=t!==null?t:mv,t(i,r)&&n.ref===e.ref)?Hu(n,e,s):(e.flags|=1,n=Zl(o,r),n.ref=e.ref,n.return=e,e.child=n)}function nL(n,e,t,r,i,s){if(n!==null&&mv(n.memoizedProps,r)&&n.ref===e.ref)if(da=!1,(s&i)!=0)(n.flags&16384)!=0&&(da=!0);else return e.lanes=n.lanes,Hu(n,e,s);return QE(n,e,t,r,s)}function ZE(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if((e.mode&4)==0)e.memoizedState={baseLanes:0},o2(e,t);else if((t&1073741824)!=0)e.memoizedState={baseLanes:0},o2(e,s!==null?s.baseLanes:t);else return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n},o2(e,n),null;else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,o2(e,r);return Is(n,e,i,t),e.child}function rL(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=128)}function QE(n,e,t,r,i){var s=Rs(t)?df:ji.current;return s=jd(e,s),Yd(e,i),t=qE(n,e,t,r,s,i),n!==null&&!da?(e.updateQueue=n.updateQueue,e.flags&=-517,n.lanes&=~i,Hu(n,e,i)):(e.flags|=1,Is(n,e,t,i),e.child)}function iL(n,e,t,r,i){if(Rs(t)){var s=!0;Lx(e)}else s=!1;if(Yd(e,i),e.stateNode===null)n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),OI(e,t,r),zE(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,u=e.memoizedProps;o.props=u;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=Ro(c):(c=Rs(t)?df:ji.current,c=jd(e,c));var h=t.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==r||l!==c)&&NI(e,o,r,c),Hl=!1;var p=e.memoizedState;o.state=p,wv(e,r,o,i),l=e.memoizedState,u!==r||p!==l||Ps.current||Hl?(typeof h=="function"&&(zx(e,t,h,r),l=e.memoizedState),(u=Hl||FI(e,t,u,r,p,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4)):(typeof o.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=u):(typeof o.componentDidMount=="function"&&(e.flags|=4),r=!1)}else{o=e.stateNode,RI(n,e),u=e.memoizedProps,c=e.type===e.elementType?u:ha(e.type,u),o.props=c,d=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Ro(l):(l=Rs(t)?df:ji.current,l=jd(e,l));var v=t.getDerivedStateFromProps;(h=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==d||p!==l)&&NI(e,o,r,l),Hl=!1,p=e.memoizedState,o.state=p,wv(e,r,o,i);var S=e.memoizedState;u!==d||p!==S||Ps.current||Hl?(typeof v=="function"&&(zx(e,t,v,r),S=e.memoizedState),(c=Hl||FI(e,t,c,r,p,S,l))?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof o.componentDidUpdate!="function"||u===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===n.memoizedProps&&p===n.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||u===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===n.memoizedProps&&p===n.memoizedState||(e.flags|=256),r=!1)}return eM(n,e,t,r,s,i)}function eM(n,e,t,r,i,s){rL(n,e);var o=(e.flags&64)!=0;if(!r&&!o)return i&&wI(e,t,!1),Hu(n,e,s);r=e.stateNode,vZ.current=e;var u=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Vx(e,n.child,null,s),e.child=Vx(e,null,u,s)):Is(n,e,u,s),e.memoizedState=r.state,i&&wI(e,t,!0),e.child}function sL(n){var e=n.stateNode;e.pendingContext?xI(n,e.pendingContext,e.pendingContext!==e.context):e.context&&xI(n,e.context,!1),$E(n,e.containerInfo)}var Zx={dehydrated:null,retryLane:0};function oL(n,e,t){var r=e.pendingProps,i=_r.current,s=!1,o;return(o=(e.flags&64)!=0)||(o=n!==null&&n.memoizedState===null?!1:(i&2)!=0),o?(s=!0,e.flags&=-65):n!==null&&n.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),xr(_r,i&1),n===null?(r.fallback!==void 0&&HE(e),n=r.children,i=r.fallback,s?(n=aL(e,n,i,t),e.child.memoizedState={baseLanes:t},e.memoizedState=Zx,n):typeof r.unstable_expectedLoadTime=="number"?(n=aL(e,n,i,t),e.child.memoizedState={baseLanes:t},e.memoizedState=Zx,e.lanes=33554432,n):(t=wM({mode:"visible",children:n},e.mode,t,null),t.return=e,e.child=t)):n.memoizedState!==null?s?(r=lL(n,e,r.children,r.fallback,t),s=e.child,i=n.child.memoizedState,s.memoizedState=i===null?{baseLanes:t}:{baseLanes:i.baseLanes|t},s.childLanes=n.childLanes&~t,e.memoizedState=Zx,r):(t=uL(n,e,r.children,t),e.memoizedState=null,t):s?(r=lL(n,e,r.children,r.fallback,t),s=e.child,i=n.child.memoizedState,s.memoizedState=i===null?{baseLanes:t}:{baseLanes:i.baseLanes|t},s.childLanes=n.childLanes&~t,e.memoizedState=Zx,r):(t=uL(n,e,r.children,t),e.memoizedState=null,t)}function aL(n,e,t,r){var i=n.mode,s=n.child;return e={mode:"hidden",children:e},(i&2)==0&&s!==null?(s.childLanes=0,s.pendingProps=e):s=wM(e,i,0,null),t=rp(t,i,r,null),s.return=n,t.return=n,s.sibling=t,n.child=s,t}function uL(n,e,t,r){var i=n.child;return n=i.sibling,t=Zl(i,{mode:"visible",children:t}),(e.mode&2)==0&&(t.lanes=r),t.return=e,t.sibling=null,n!==null&&(n.nextEffect=null,n.flags=8,e.firstEffect=e.lastEffect=n),e.child=t}function lL(n,e,t,r,i){var s=e.mode,o=n.child;n=o.sibling;var u={mode:"hidden",children:t};return(s&2)==0&&e.child!==o?(t=e.child,t.childLanes=0,t.pendingProps=u,o=t.lastEffect,o!==null?(e.firstEffect=t.firstEffect,e.lastEffect=o,o.nextEffect=null):e.firstEffect=e.lastEffect=null):t=Zl(o,u),n!==null?r=Zl(n,r):(r=rp(r,s,i,null),r.flags|=2),r.return=e,t.return=e,t.sibling=r,e.child=t,r}function cL(n,e){n.lanes|=e;var t=n.alternate;t!==null&&(t.lanes|=e),PI(n.return,e)}function tM(n,e,t,r,i,s){var o=n.memoizedState;o===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i,lastEffect:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=t,o.tailMode=i,o.lastEffect=s)}function fL(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Is(n,e,r.children,t),r=_r.current,(r&2)!=0)r=r&1|2,e.flags|=64;else{if(n!==null&&(n.flags&64)!=0)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&cL(n,t);else if(n.tag===19)cL(n,t);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(xr(_r,r),(e.mode&2)==0)e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&Wx(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),tM(e,!1,i,t,s,e.lastEffect);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&Wx(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}tM(e,!0,t,null,s,e.lastEffect);break;case"together":tM(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Hu(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Iv|=e.lanes,(t&e.childLanes)!=0){if(n!==null&&e.child!==n.child)throw Error(xt(153));if(e.child!==null){for(n=e.child,t=Zl(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Zl(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}return null}var hL,nM,dL,pL;hL=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};nM=function(){};dL=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,vf(Xa.current);var s=null;switch(t){case"input":i=zS(n,i),r=zS(n,r),s=[];break;case"option":i=HS(n,i),r=HS(n,r),s=[];break;case"select":i=fr({},i,{value:void 0}),r=fr({},r,{value:void 0}),s=[];break;case"textarea":i=VS(n,i),r=VS(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Cx)}qS(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var u=i[c];for(o in u)u.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(qm.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(u=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(l!=null||u!=null))if(c==="style")if(u){for(o in u)!u.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&u[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,u=u?u.__html:void 0,l!=null&&u!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(qm.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&rr("scroll",n),s||u===l||(s=[])):typeof l=="object"&&l!==null&&l.$$typeof===FS?l.toString():(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};pL=function(n,e,t,r){t!==r&&(e.flags|=4)};function kv(n,e){if(!Ya)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function gZ(n,e,t){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Rs(e.type)&&Ix(),null;case 3:return Jd(),ir(Ps),ir(ji),WE(),r=e.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(jx(e)?e.flags|=4:r.hydrate||(e.flags|=256)),nM(e),null;case 5:GE(e);var i=vf(Mv.current);if(t=e.type,n!==null&&e.stateNode!=null)dL(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=128);else{if(!r){if(e.stateNode===null)throw Error(xt(166));return null}if(n=vf(Xa.current),jx(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[zl]=e,r[Rx]=s,t){case"dialog":rr("cancel",r),rr("close",r);break;case"iframe":case"object":case"embed":rr("load",r);break;case"video":case"audio":for(n=0;n<gv.length;n++)rr(gv[n],r);break;case"source":rr("error",r);break;case"img":case"image":case"link":rr("error",r),rr("load",r);break;case"details":rr("toggle",r);break;case"input":ik(r,s),rr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},rr("invalid",r);break;case"textarea":ak(r,s),rr("invalid",r)}qS(t,s),n=null;for(var o in s)s.hasOwnProperty(o)&&(i=s[o],o==="children"?typeof i=="string"?r.textContent!==i&&(n=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(n=["children",""+i]):qm.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&rr("scroll",r));switch(t){case"input":hx(r),ok(r,s,!0);break;case"textarea":hx(r),lk(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Cx)}r=n,e.updateQueue=r,r!==null&&(e.flags|=4)}else{switch(o=i.nodeType===9?i:i.ownerDocument,n===WS.html&&(n=ck(t)),n===WS.html?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[zl]=e,n[Rx]=r,hL(n,e,!1,!1),e.stateNode=n,o=XS(t,r),t){case"dialog":rr("cancel",n),rr("close",n),i=r;break;case"iframe":case"object":case"embed":rr("load",n),i=r;break;case"video":case"audio":for(i=0;i<gv.length;i++)rr(gv[i],n);i=r;break;case"source":rr("error",n),i=r;break;case"img":case"image":case"link":rr("error",n),rr("load",n),i=r;break;case"details":rr("toggle",n),i=r;break;case"input":ik(n,r),i=zS(n,r),rr("invalid",n);break;case"option":i=HS(n,r);break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=fr({},r,{value:void 0}),rr("invalid",n);break;case"textarea":ak(n,r),i=VS(n,r),rr("invalid",n);break;default:i=r}qS(t,i);var u=i;for(s in u)if(u.hasOwnProperty(s)){var l=u[s];s==="style"?dk(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&fk(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Qm(n,l):typeof l=="number"&&Qm(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(qm.hasOwnProperty(s)?l!=null&&s==="onScroll"&&rr("scroll",n):l!=null&&CS(n,s,l,o))}switch(t){case"input":hx(n),ok(n,r,!1);break;case"textarea":hx(n),lk(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Ll(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?kd(n,!!r.multiple,s,!1):r.defaultValue!=null&&kd(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=Cx)}pI(t,r)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(n&&e.stateNode!=null)pL(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(xt(166));t=vf(Mv.current),vf(Xa.current),jx(e)?(r=e.stateNode,t=e.memoizedProps,r[zl]=e,r.nodeValue!==t&&(e.flags|=4)):(r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[zl]=e,e.stateNode=r)}return null;case 13:return ir(_r),r=e.memoizedState,(e.flags&64)!=0?(e.lanes=t,e):(r=r!==null,t=!1,n===null?e.memoizedProps.fallback!==void 0&&jx(e):t=n.memoizedState!==null,r&&!t&&(e.mode&2)!=0&&(n===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||(_r.current&1)!=0?wi===0&&(wi=3):((wi===0||wi===3)&&(wi=4),ps===null||(Iv&134217727)==0&&(Qd&134217727)==0||tp(ps,Yi))),(r||t)&&(e.flags|=4),null);case 4:return Jd(),nM(e),n===null&&lI(e.stateNode.containerInfo),null;case 10:return UE(e),null;case 17:return Rs(e.type)&&Ix(),null;case 19:if(ir(_r),r=e.memoizedState,r===null)return null;if(s=(e.flags&64)!=0,o=r.rendering,o===null)if(s)kv(r,!1);else{if(wi!==0||n!==null&&(n.flags&64)!=0)for(n=e.child;n!==null;){if(o=Wx(n),o!==null){for(e.flags|=64,kv(r,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),r.lastEffect===null&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return xr(_r,_r.current&1|2),e.child}n=n.sibling}r.tail!==null&&qi()>dM&&(e.flags|=64,s=!0,kv(r,!1),e.lanes=33554432)}else{if(!s)if(n=Wx(o),n!==null){if(e.flags|=64,s=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),kv(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!Ya)return e=e.lastEffect=r.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*qi()-r.renderingStartTime>dM&&t!==1073741824&&(e.flags|=64,s=!0,kv(r,!1),e.lanes=33554432);r.isBackwards?(o.sibling=e.child,e.child=o):(t=r.last,t!==null?t.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=qi(),t.sibling=null,e=_r.current,xr(_r,s?e&1|2:e&1),t):null;case 23:case 24:return xM(),n!==null&&n.memoizedState!==null!=(e.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(xt(156,e.tag))}function yZ(n){switch(n.tag){case 1:Rs(n.type)&&Ix();var e=n.flags;return e&4096?(n.flags=e&-4097|64,n):null;case 3:if(Jd(),ir(Ps),ir(ji),WE(),e=n.flags,(e&64)!=0)throw Error(xt(285));return n.flags=e&-4097|64,n;case 5:return GE(n),null;case 13:return ir(_r),e=n.flags,e&4096?(n.flags=e&-4097|64,n):null;case 19:return ir(_r),null;case 4:return Jd(),null;case 10:return UE(n),null;case 23:case 24:return xM(),null;default:return null}}function rM(n,e){try{var t="",r=e;do t+=ZJ(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i}}function iM(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var xZ=typeof WeakMap=="function"?WeakMap:Map;function mL(n,e,t){t=Vl(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){t2||(t2=!0,pM=r),iM(n,e)},t}function vL(n,e,t){t=Vl(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return iM(n,e),r(i)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){typeof r!="function"&&(Ka===null?Ka=new Set([this]):Ka.add(this),iM(n,e));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}var _Z=typeof WeakSet=="function"?WeakSet:Set;function gL(n){var e=n.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(t){Kl(n,t)}else e.current=null}function wZ(n,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&n!==null){var t=n.memoizedProps,r=n.memoizedState;n=e.stateNode,e=n.getSnapshotBeforeUpdate(e.elementType===e.type?t:ha(e.type,t),r),n.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&TE(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(xt(163))}function bZ(n,e,t){switch(t.tag){case 0:case 11:case 15:case 22:if(e=t.updateQueue,e=e!==null?e.lastEffect:null,e!==null){n=e=e.next;do{if((n.tag&3)==3){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}if(e=t.updateQueue,e=e!==null?e.lastEffect:null,e!==null){n=e=e.next;do{var i=n;r=i.next,i=i.tag,(i&4)!=0&&(i&1)!=0&&(kL(t,n),PZ(t,n)),n=r}while(n!==e)}return;case 1:n=t.stateNode,t.flags&4&&(e===null?n.componentDidMount():(r=t.elementType===t.type?e.memoizedProps:ha(t.type,e.memoizedProps),n.componentDidUpdate(r,e.memoizedState,n.__reactInternalSnapshotBeforeUpdate))),e=t.updateQueue,e!==null&&II(t,e,n);return;case 3:if(e=t.updateQueue,e!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}II(t,e,n)}return;case 5:n=t.stateNode,e===null&&t.flags&4&&pI(t.type,t.memoizedProps)&&n.focus();return;case 6:return;case 4:return;case 12:return;case 13:t.memoizedState===null&&(t=t.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&Ck(t))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(xt(163))}function yL(n,e){for(var t=n;;){if(t.tag===5){var r=t.stateNode;if(e)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=t.stateNode;var i=t.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=hk("display",i)}}else if(t.tag===6)t.stateNode.nodeValue=e?"":t.memoizedProps;else if((t.tag!==23&&t.tag!==24||t.memoizedState===null||t===n)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return;t=t.return}t.sibling.return=t.return,t=t.sibling}}function xL(n,e){if(pf&&typeof pf.onCommitFiberUnmount=="function")try{pf.onCommitFiberUnmount(RE,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(n=e.updateQueue,n!==null&&(n=n.lastEffect,n!==null)){var t=n=n.next;do{var r=t,i=r.destroy;if(r=r.tag,i!==void 0)if((r&4)!=0)kL(e,t);else{r=e;try{i()}catch(s){Kl(r,s)}}t=t.next}while(t!==n)}break;case 1:if(gL(e),n=e.stateNode,typeof n.componentWillUnmount=="function")try{n.props=e.memoizedProps,n.state=e.memoizedState,n.componentWillUnmount()}catch(s){Kl(e,s)}break;case 5:gL(e);break;case 4:SL(n,e)}}function _L(n){n.alternate=null,n.child=null,n.dependencies=null,n.firstEffect=null,n.lastEffect=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.return=null,n.updateQueue=null}function wL(n){return n.tag===5||n.tag===3||n.tag===4}function bL(n){e:{for(var e=n.return;e!==null;){if(wL(e))break e;e=e.return}throw Error(xt(160))}var t=e;switch(e=t.stateNode,t.tag){case 5:var r=!1;break;case 3:e=e.containerInfo,r=!0;break;case 4:e=e.containerInfo,r=!0;break;default:throw Error(xt(161))}t.flags&16&&(Qm(e,""),t.flags&=-17);e:t:for(t=n;;){for(;t.sibling===null;){if(t.return===null||wL(t.return)){t=null;break e}t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2)){t=t.stateNode;break e}}r?sM(n,t,e):oM(n,t,e)}function sM(n,e,t){var r=n.tag,i=r===5||r===6;if(i)n=i?n.stateNode:n.stateNode.instance,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Cx));else if(r!==4&&(n=n.child,n!==null))for(sM(n,e,t),n=n.sibling;n!==null;)sM(n,e,t),n=n.sibling}function oM(n,e,t){var r=n.tag,i=r===5||r===6;if(i)n=i?n.stateNode:n.stateNode.instance,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(oM(n,e,t),n=n.sibling;n!==null;)oM(n,e,t),n=n.sibling}function SL(n,e){for(var t=e,r=!1,i,s;;){if(!r){r=t.return;e:for(;;){if(r===null)throw Error(xt(160));switch(i=r.stateNode,r.tag){case 5:s=!1;break e;case 3:i=i.containerInfo,s=!0;break e;case 4:i=i.containerInfo,s=!0;break e}r=r.return}r=!0}if(t.tag===5||t.tag===6){e:for(var o=n,u=t,l=u;;)if(xL(o,l),l.child!==null&&l.tag!==4)l.child.return=l,l=l.child;else{if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}s?(o=i,u=t.stateNode,o.nodeType===8?o.parentNode.removeChild(u):o.removeChild(u)):i.removeChild(t.stateNode)}else if(t.tag===4){if(t.child!==null){i=t.stateNode.containerInfo,s=!0,t.child.return=t,t=t.child;continue}}else if(xL(n,t),t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return,t.tag===4&&(r=!1)}t.sibling.return=t.return,t=t.sibling}}function aM(n,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var t=e.updateQueue;if(t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do(r.tag&3)==3&&(n=r.destroy,r.destroy=void 0,n!==void 0&&n()),r=r.next;while(r!==t)}return;case 1:return;case 5:if(t=e.stateNode,t!=null){r=e.memoizedProps;var i=n!==null?n.memoizedProps:r;n=e.type;var s=e.updateQueue;if(e.updateQueue=null,s!==null){for(t[Rx]=r,n==="input"&&r.type==="radio"&&r.name!=null&&sk(t,r),XS(n,i),e=XS(n,r),i=0;i<s.length;i+=2){var o=s[i],u=s[i+1];o==="style"?dk(t,u):o==="dangerouslySetInnerHTML"?fk(t,u):o==="children"?Qm(t,u):CS(t,o,u,e)}switch(n){case"input":$S(t,r);break;case"textarea":uk(t,r);break;case"select":n=t._wrapperState.wasMultiple,t._wrapperState.wasMultiple=!!r.multiple,s=r.value,s!=null?kd(t,!!r.multiple,s,!1):n!==!!r.multiple&&(r.defaultValue!=null?kd(t,!!r.multiple,r.defaultValue,!0):kd(t,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(xt(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:t=e.stateNode,t.hydrate&&(t.hydrate=!1,Ck(t.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(hM=qi(),yL(e.child,!0)),EL(e);return;case 19:EL(e);return;case 17:return;case 23:case 24:yL(e,e.memoizedState!==null);return}throw Error(xt(163))}function EL(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new _Z),e.forEach(function(r){var i=IZ.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function SZ(n,e){return n!==null&&(n=n.memoizedState,n===null||n.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var EZ=Math.ceil,Qx=uf.ReactCurrentDispatcher,uM=uf.ReactCurrentOwner,cn=0,ps=null,Yr=null,Yi=0,xf=0,lM=$l(0),wi=0,e2=null,Zd=0,Iv=0,Qd=0,cM=0,fM=null,hM=0,dM=1/0;function ep(){dM=qi()+500}var Vt=null,t2=!1,pM=null,Ka=null,ql=!1,Lv=null,Fv=90,mM=[],vM=[],Vu=null,Ov=0,gM=null,n2=-1,Wu=0,r2=0,Nv=null,i2=!1;function io(){return(cn&48)!=0?qi():n2!==-1?n2:n2=qi()}function Xl(n){if(n=n.mode,(n&2)==0)return 1;if((n&4)==0)return qd()===99?1:2;if(Wu===0&&(Wu=Zd),fZ.transition!==0){r2!==0&&(r2=fM!==null?fM.pendingLanes:0),n=Wu;var e=4186112&~r2;return e&=-e,e===0&&(n=4186112&~n,e=n&-n,e===0&&(e=8192)),e}return n=qd(),(cn&4)!=0&&n===98?n=_x(12,Wu):(n=pK(n),n=_x(n,Wu)),n}function Yl(n,e,t){if(50<Ov)throw Ov=0,gM=null,Error(xt(185));if(n=s2(n,e),n===null)return null;wx(n,e,t),n===ps&&(Qd|=e,wi===4&&tp(n,Yi));var r=qd();e===1?(cn&8)!=0&&(cn&48)==0?yM(n):(Io(n,t),cn===0&&(ep(),qa())):((cn&4)==0||r!==98&&r!==99||(Vu===null?Vu=new Set([n]):Vu.add(n)),Io(n,t)),fM=n}function s2(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}function Io(n,e){for(var t=n.callbackNode,r=n.suspendedLanes,i=n.pingedLanes,s=n.expirationTimes,o=n.pendingLanes;0<o;){var u=31-Ul(o),l=1<<u,c=s[u];if(c===-1){if((l&r)==0||(l&i)!=0){c=e,Od(l);var h=Zn;s[u]=10<=h?c+250:6<=h?c+5e3:-1}}else c<=e&&(n.expiredLanes|=l);o&=~l}if(r=lv(n,n===ps?Yi:0),e=Zn,r===0)t!==null&&(t!==FE&&IE(t),n.callbackNode=null,n.callbackPriority=0);else{if(t!==null){if(n.callbackPriority===e)return;t!==FE&&IE(t)}e===15?(t=yM.bind(null,n),$u===null?($u=[t],Ox=kE(Fx,CI)):$u.push(t),t=FE):e===14?t=_v(99,yM.bind(null,n)):(t=mK(e),t=_v(t,ML.bind(null,n))),n.callbackPriority=e,n.callbackNode=t}}function ML(n){if(n2=-1,r2=Wu=0,(cn&48)!=0)throw Error(xt(327));var e=n.callbackNode;if(Jl()&&n.callbackNode!==e)return null;var t=lv(n,n===ps?Yi:0);if(t===0)return null;var r=t,i=cn;cn|=16;var s=CL();(ps!==n||Yi!==r)&&(ep(),np(n,r));do try{AZ();break}catch(u){TL(n,u)}while(1);if(NE(),Qx.current=s,cn=i,Yr!==null?r=0:(ps=null,Yi=0,r=wi),(Zd&Qd)!=0)np(n,0);else if(r!==0){if(r===2&&(cn|=64,n.hydrate&&(n.hydrate=!1,TE(n.containerInfo)),t=Ok(n),t!==0&&(r=Uv(n,t))),r===1)throw e=e2,np(n,0),tp(n,t),Io(n,qi()),e;switch(n.finishedWork=n.current.alternate,n.finishedLanes=t,r){case 0:case 1:throw Error(xt(345));case 2:_f(n);break;case 3:if(tp(n,t),(t&62914560)===t&&(r=hM+500-qi(),10<r)){if(lv(n,0)!==0)break;if(i=n.suspendedLanes,(i&t)!==t){io(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=mI(_f.bind(null,n),r);break}_f(n);break;case 4:if(tp(n,t),(t&4186112)===t)break;for(r=n.eventTimes,i=-1;0<t;){var o=31-Ul(t);s=1<<o,o=r[o],o>i&&(i=o),t&=~s}if(t=i,t=qi()-t,t=(120>t?120:480>t?480:1080>t?1080:1920>t?1920:3e3>t?3e3:4320>t?4320:1960*EZ(t/1960))-t,10<t){n.timeoutHandle=mI(_f.bind(null,n),t);break}_f(n);break;case 5:_f(n);break;default:throw Error(xt(329))}}return Io(n,qi()),n.callbackNode===e?ML.bind(null,n):null}function tp(n,e){for(e&=~cM,e&=~Qd,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Ul(e),r=1<<t;n[t]=-1,e&=~r}}function yM(n){if((cn&48)!=0)throw Error(xt(327));if(Jl(),n===ps&&(n.expiredLanes&Yi)!=0){var e=Yi,t=Uv(n,e);(Zd&Qd)!=0&&(e=lv(n,e),t=Uv(n,e))}else e=lv(n,0),t=Uv(n,e);if(n.tag!==0&&t===2&&(cn|=64,n.hydrate&&(n.hydrate=!1,TE(n.containerInfo)),e=Ok(n),e!==0&&(t=Uv(n,e))),t===1)throw t=e2,np(n,0),tp(n,e),Io(n,qi()),t;return n.finishedWork=n.current.alternate,n.finishedLanes=e,_f(n),Io(n,qi()),null}function MZ(){if(Vu!==null){var n=Vu;Vu=null,n.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,Io(e,qi())})}qa()}function DL(n,e){var t=cn;cn|=1;try{return n(e)}finally{cn=t,cn===0&&(ep(),qa())}}function AL(n,e){var t=cn;cn&=-2,cn|=8;try{return n(e)}finally{cn=t,cn===0&&(ep(),qa())}}function o2(n,e){xr(lM,xf),xf|=e,Zd|=e}function xM(){xf=lM.current,ir(lM)}function np(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,sZ(t)),Yr!==null)for(t=Yr.return;t!==null;){var r=t;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ix();break;case 3:Jd(),ir(Ps),ir(ji),WE();break;case 5:GE(r);break;case 4:Jd();break;case 13:ir(_r);break;case 19:ir(_r);break;case 10:UE(r);break;case 23:case 24:xM()}t=t.return}ps=n,Yr=Zl(n.current,null),Yi=xf=Zd=e,wi=0,e2=null,cM=Qd=Iv=0}function TL(n,e){do{var t=Yr;try{if(NE(),Dv.current=Kx,qx){for(var r=Tr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}qx=!1}if(Av=0,_i=Xi=Tr=null,Tv=!1,uM.current=null,t===null||t.return===null){wi=1,e2=e,Yr=null;break}e:{var s=n,o=t.return,u=t,l=e;if(e=Yi,u.flags|=2048,u.firstEffect=u.lastEffect=null,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l;if((u.mode&2)==0){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var d=(_r.current&1)!=0,p=o;do{var v;if(v=p.tag===13){var S=p.memoizedState;if(S!==null)v=S.dehydrated!==null;else{var w=p.memoizedProps;v=w.fallback===void 0?!1:w.unstable_avoidThisFallback!==!0?!0:!d}}if(v){var T=p.updateQueue;if(T===null){var x=new Set;x.add(c),p.updateQueue=x}else T.add(c);if((p.mode&2)==0){if(p.flags|=64,u.flags|=16384,u.flags&=-2981,u.tag===1)if(u.alternate===null)u.tag=17;else{var E=Vl(-1,1);E.tag=2,Wl(u,E)}u.lanes|=1;break e}l=void 0,u=e;var O=s.pingCache;if(O===null?(O=s.pingCache=new xZ,l=new Set,O.set(c,l)):(l=O.get(c),l===void 0&&(l=new Set,O.set(c,l))),!l.has(u)){l.add(u);var C=kZ.bind(null,s,c,u);c.then(C,C)}p.flags|=4096,p.lanes=e;break e}p=p.return}while(p!==null);l=Error((Rd(u.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}wi!==5&&(wi=2),l=rM(l,u),p=o;do{switch(p.tag){case 3:s=l,p.flags|=4096,e&=-e,p.lanes|=e;var N=mL(p,s,e);kI(p,N);break e;case 1:s=l;var $=p.type,M=p.stateNode;if((p.flags&64)==0&&(typeof $.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Ka===null||!Ka.has(M)))){p.flags|=4096,e&=-e,p.lanes|=e;var L=vL(p,s,e);kI(p,L);break e}}p=p.return}while(p!==null)}RL(t)}catch(V){e=V,Yr===t&&t!==null&&(Yr=t=t.return);continue}break}while(1)}function CL(){var n=Qx.current;return Qx.current=Kx,n===null?Kx:n}function Uv(n,e){var t=cn;cn|=16;var r=CL();ps===n&&Yi===e||np(n,e);do try{DZ();break}catch(i){TL(n,i)}while(1);if(NE(),cn=t,Qx.current=r,Yr!==null)throw Error(xt(261));return ps=null,Yi=0,wi}function DZ(){for(;Yr!==null;)PL(Yr)}function AZ(){for(;Yr!==null&&!uZ();)PL(Yr)}function PL(n){var e=LL(n.alternate,n,xf);n.memoizedProps=n.pendingProps,e===null?RL(n):Yr=e,uM.current=null}function RL(n){var e=n;do{var t=e.alternate;if(n=e.return,(e.flags&2048)==0){if(t=gZ(t,e,xf),t!==null){Yr=t;return}if(t=e,t.tag!==24&&t.tag!==23||t.memoizedState===null||(xf&1073741824)!=0||(t.mode&4)==0){for(var r=0,i=t.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;t.childLanes=r}n!==null&&(n.flags&2048)==0&&(n.firstEffect===null&&(n.firstEffect=e.firstEffect),e.lastEffect!==null&&(n.lastEffect!==null&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.flags&&(n.lastEffect!==null?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{if(t=yZ(e),t!==null){t.flags&=2047,Yr=t;return}n!==null&&(n.firstEffect=n.lastEffect=null,n.flags|=2048)}if(e=e.sibling,e!==null){Yr=e;return}Yr=e=n}while(e!==null);wi===0&&(wi=5)}function _f(n){var e=qd();return mf(99,TZ.bind(null,n,e)),null}function TZ(n,e){do Jl();while(Lv!==null);if((cn&48)!=0)throw Error(xt(327));var t=n.finishedWork;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(xt(177));n.callbackNode=null;var r=t.lanes|t.childLanes,i=r,s=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;for(var o=n.eventTimes,u=n.expirationTimes;0<s;){var l=31-Ul(s),c=1<<l;i[l]=0,o[l]=-1,u[l]=-1,s&=~c}if(Vu!==null&&(r&24)==0&&Vu.has(n)&&Vu.delete(n),n===ps&&(Yr=ps=null,Yi=0),1<t.flags?t.lastEffect!==null?(t.lastEffect.nextEffect=t,r=t.firstEffect):r=t:r=t.firstEffect,r!==null){if(i=cn,cn|=32,uM.current=null,ME=bx,o=nI(),wE(o)){if("selectionStart"in o)u={start:o.selectionStart,end:o.selectionEnd};else e:if(u=(u=o.ownerDocument)&&u.defaultView||window,(c=u.getSelection&&u.getSelection())&&c.rangeCount!==0){u=c.anchorNode,s=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{u.nodeType,l.nodeType}catch{u=null;break e}var h=0,d=-1,p=-1,v=0,S=0,w=o,T=null;t:for(;;){for(var x;w!==u||s!==0&&w.nodeType!==3||(d=h+s),w!==l||c!==0&&w.nodeType!==3||(p=h+c),w.nodeType===3&&(h+=w.nodeValue.length),(x=w.firstChild)!==null;)T=w,w=x;for(;;){if(w===o)break t;if(T===u&&++v===s&&(d=h),T===l&&++S===c&&(p=h),(x=w.nextSibling)!==null)break;w=T,T=w.parentNode}w=x}u=d===-1||p===-1?null:{start:d,end:p}}else u=null;u=u||{start:0,end:0}}else u=null;DE={focusedElem:o,selectionRange:u},bx=!1,Nv=null,i2=!1,Vt=r;do try{CZ()}catch(V){if(Vt===null)throw Error(xt(330));Kl(Vt,V),Vt=Vt.nextEffect}while(Vt!==null);Nv=null,Vt=r;do try{for(o=n;Vt!==null;){var E=Vt.flags;if(E&16&&Qm(Vt.stateNode,""),E&128){var O=Vt.alternate;if(O!==null){var C=O.ref;C!==null&&(typeof C=="function"?C(null):C.current=null)}}switch(E&1038){case 2:bL(Vt),Vt.flags&=-3;break;case 6:bL(Vt),Vt.flags&=-3,aM(Vt.alternate,Vt);break;case 1024:Vt.flags&=-1025;break;case 1028:Vt.flags&=-1025,aM(Vt.alternate,Vt);break;case 4:aM(Vt.alternate,Vt);break;case 8:u=Vt,SL(o,u);var N=u.alternate;_L(u),N!==null&&_L(N)}Vt=Vt.nextEffect}}catch(V){if(Vt===null)throw Error(xt(330));Kl(Vt,V),Vt=Vt.nextEffect}while(Vt!==null);if(C=DE,O=nI(),E=C.focusedElem,o=C.selectionRange,O!==E&&E&&E.ownerDocument&&tI(E.ownerDocument.documentElement,E)){for(o!==null&&wE(E)&&(O=o.start,C=o.end,C===void 0&&(C=O),"selectionStart"in E?(E.selectionStart=O,E.selectionEnd=Math.min(C,E.value.length)):(C=(O=E.ownerDocument||document)&&O.defaultView||window,C.getSelection&&(C=C.getSelection(),u=E.textContent.length,N=Math.min(o.start,u),o=o.end===void 0?N:Math.min(o.end,u),!C.extend&&N>o&&(u=o,o=N,N=u),u=eI(E,N),s=eI(E,o),u&&s&&(C.rangeCount!==1||C.anchorNode!==u.node||C.anchorOffset!==u.offset||C.focusNode!==s.node||C.focusOffset!==s.offset)&&(O=O.createRange(),O.setStart(u.node,u.offset),C.removeAllRanges(),N>o?(C.addRange(O),C.extend(s.node,s.offset)):(O.setEnd(s.node,s.offset),C.addRange(O)))))),O=[],C=E;C=C.parentNode;)C.nodeType===1&&O.push({element:C,left:C.scrollLeft,top:C.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<O.length;E++)C=O[E],C.element.scrollLeft=C.left,C.element.scrollTop=C.top}bx=!!ME,DE=ME=null,n.current=t,Vt=r;do try{for(E=n;Vt!==null;){var $=Vt.flags;if($&36&&bZ(E,Vt.alternate,Vt),$&128){O=void 0;var M=Vt.ref;if(M!==null){var L=Vt.stateNode;switch(Vt.tag){case 5:O=L;break;default:O=L}typeof M=="function"?M(O):M.current=O}}Vt=Vt.nextEffect}}catch(V){if(Vt===null)throw Error(xt(330));Kl(Vt,V),Vt=Vt.nextEffect}while(Vt!==null);Vt=null,cZ(),cn=i}else n.current=t;if(ql)ql=!1,Lv=n,Fv=e;else for(Vt=r;Vt!==null;)e=Vt.nextEffect,Vt.nextEffect=null,Vt.flags&8&&($=Vt,$.sibling=null,$.stateNode=null),Vt=e;if(r=n.pendingLanes,r===0&&(Ka=null),r===1?n===gM?Ov++:(Ov=0,gM=n):Ov=0,t=t.stateNode,pf&&typeof pf.onCommitFiberRoot=="function")try{pf.onCommitFiberRoot(RE,t,void 0,(t.current.flags&64)==64)}catch{}if(Io(n,qi()),t2)throw t2=!1,n=pM,pM=null,n;return(cn&8)!=0||qa(),null}function CZ(){for(;Vt!==null;){var n=Vt.alternate;i2||Nv===null||((Vt.flags&8)!=0?bk(Vt,Nv)&&(i2=!0):Vt.tag===13&&SZ(n,Vt)&&bk(Vt,Nv)&&(i2=!0));var e=Vt.flags;(e&256)!=0&&wZ(n,Vt),(e&512)==0||ql||(ql=!0,_v(97,function(){return Jl(),null})),Vt=Vt.nextEffect}}function Jl(){if(Fv!==90){var n=97<Fv?97:Fv;return Fv=90,mf(n,RZ)}return!1}function PZ(n,e){mM.push(e,n),ql||(ql=!0,_v(97,function(){return Jl(),null}))}function kL(n,e){vM.push(e,n),ql||(ql=!0,_v(97,function(){return Jl(),null}))}function RZ(){if(Lv===null)return!1;var n=Lv;if(Lv=null,(cn&48)!=0)throw Error(xt(331));var e=cn;cn|=32;var t=vM;vM=[];for(var r=0;r<t.length;r+=2){var i=t[r],s=t[r+1],o=i.destroy;if(i.destroy=void 0,typeof o=="function")try{o()}catch(l){if(s===null)throw Error(xt(330));Kl(s,l)}}for(t=mM,mM=[],r=0;r<t.length;r+=2){i=t[r],s=t[r+1];try{var u=i.create;i.destroy=u()}catch(l){if(s===null)throw Error(xt(330));Kl(s,l)}}for(u=n.current.firstEffect;u!==null;)n=u.nextEffect,u.nextEffect=null,u.flags&8&&(u.sibling=null,u.stateNode=null),u=n;return cn=e,qa(),!0}function IL(n,e,t){e=rM(t,e),e=mL(n,e,1),Wl(n,e),e=io(),n=s2(n,1),n!==null&&(wx(n,1,e),Io(n,e))}function Kl(n,e){if(n.tag===3)IL(n,n,e);else for(var t=n.return;t!==null;){if(t.tag===3){IL(t,n,e);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ka===null||!Ka.has(r))){n=rM(e,n);var i=vL(t,n,1);if(Wl(t,i),i=io(),t=s2(t,1),t!==null)wx(t,1,i),Io(t,i);else if(typeof r.componentDidCatch=="function"&&(Ka===null||!Ka.has(r)))try{r.componentDidCatch(e,n)}catch{}break}}t=t.return}}function kZ(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=io(),n.pingedLanes|=n.suspendedLanes&t,ps===n&&(Yi&t)===t&&(wi===4||wi===3&&(Yi&62914560)===Yi&&500>qi()-hM?np(n,0):cM|=t),Io(n,e)}function IZ(n,e){var t=n.stateNode;t!==null&&t.delete(e),e=0,e===0&&(e=n.mode,(e&2)==0?e=1:(e&4)==0?e=qd()===99?1:2:(Wu===0&&(Wu=Zd),e=Nd(62914560&~Wu),e===0&&(e=4194304))),t=io(),n=s2(n,e),n!==null&&(wx(n,e,t),Io(n,t))}var LL;LL=function(n,e,t){var r=e.lanes;if(n!==null)if(n.memoizedProps!==e.pendingProps||Ps.current)da=!0;else if((t&r)!=0)da=(n.flags&16384)!=0;else{switch(da=!1,e.tag){case 3:sL(e),VE();break;case 5:zI(e);break;case 1:Rs(e.type)&&Lx(e);break;case 4:$E(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;xr(Nx,i._currentValue),i._currentValue=r;break;case 13:if(e.memoizedState!==null)return(t&e.child.childLanes)!=0?oL(n,e,t):(xr(_r,_r.current&1),e=Hu(n,e,t),e!==null?e.sibling:null);xr(_r,_r.current&1);break;case 19:if(r=(t&e.childLanes)!=0,(n.flags&64)!=0){if(r)return fL(n,e,t);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),xr(_r,_r.current),r)break;return null;case 23:case 24:return e.lanes=0,ZE(n,e,t)}return Hu(n,e,t)}else da=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),n=e.pendingProps,i=jd(e,ji.current),Yd(e,t),i=qE(null,e,r,n,i,t),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,Rs(r)){var s=!0;Lx(e)}else s=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,BE(e);var o=r.getDerivedStateFromProps;typeof o=="function"&&zx(e,r,o,n),i.updater=$x,e.stateNode=i,i._reactInternals=e,zE(e,r,n,t),e=eM(null,e,r,!0,s,t)}else e.tag=0,Is(null,e,i,t),e=e.child;return e;case 16:i=e.elementType;e:{switch(n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),n=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=FZ(i),n=ha(i,n),s){case 0:e=QE(null,e,i,n,t);break e;case 1:e=iL(null,e,i,n,t);break e;case 11:e=eL(null,e,i,n,t);break e;case 14:e=tL(null,e,i,ha(i.type,n),r,t);break e}throw Error(xt(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ha(r,i),QE(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ha(r,i),iL(n,e,r,i,t);case 3:if(sL(e),r=e.updateQueue,n===null||r===null)throw Error(xt(282));if(r=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,RI(n,e),wv(e,r,null,t),r=e.memoizedState.element,r===i)VE(),e=Hu(n,e,t);else{if(i=e.stateNode,(s=i.hydrate)&&(jl=Gd(e.stateNode.containerInfo.firstChild),Gu=e,s=Ya=!0),s){if(n=i.mutableSourceEagerHydrationData,n!=null)for(i=0;i<n.length;i+=2)s=n[i],s._workInProgressVersionPrimary=n[i+1],Kd.push(s);for(t=BI(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|1024,t=t.sibling}else Is(n,e,r,t),VE();e=e.child}return e;case 5:return zI(e),n===null&&HE(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,AE(r,i)?o=null:s!==null&&AE(r,s)&&(e.flags|=16),rL(n,e),Is(n,e,o,t),e.child;case 6:return n===null&&HE(e),null;case 13:return oL(n,e,t);case 4:return $E(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Vx(e,null,r,t):Is(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ha(r,i),eL(n,e,r,i,t);case 7:return Is(n,e,e.pendingProps,t),e.child;case 8:return Is(n,e,e.pendingProps.children,t),e.child;case 12:return Is(n,e,e.pendingProps.children,t),e.child;case 10:e:{r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value;var u=e.type._context;if(xr(Nx,u._currentValue),u._currentValue=s,o!==null)if(u=o.value,s=Po(u,s)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(u,s):1073741823)|0,s===0){if(o.children===i.children&&!Ps.current){e=Hu(n,e,t);break e}}else for(u=e.child,u!==null&&(u.return=e);u!==null;){var l=u.dependencies;if(l!==null){o=u.child;for(var c=l.firstContext;c!==null;){if(c.context===r&&(c.observedBits&s)!=0){u.tag===1&&(c=Vl(-1,t&-t),c.tag=2,Wl(u,c)),u.lanes|=t,c=u.alternate,c!==null&&(c.lanes|=t),PI(u.return,t),l.lanes|=t;break}c=c.next}}else o=u.tag===10&&u.type===e.type?null:u.child;if(o!==null)o.return=u;else for(o=u;o!==null;){if(o===e){o=null;break}if(u=o.sibling,u!==null){u.return=o.return,o=u;break}o=o.return}u=o}Is(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps,r=s.children,Yd(e,t),i=Ro(i,s.unstable_observedBits),r=r(i),e.flags|=1,Is(n,e,r,t),e.child;case 14:return i=e.type,s=ha(i,e.pendingProps),s=ha(i.type,s),tL(n,e,i,s,r,t);case 15:return nL(n,e,e.type,e.pendingProps,r,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ha(r,i),n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,Rs(r)?(n=!0,Lx(e)):n=!1,Yd(e,t),OI(e,r,i),zE(e,r,i,t),eM(null,e,r,!0,n,t);case 19:return fL(n,e,t);case 23:return ZE(n,e,t);case 24:return ZE(n,e,t)}throw Error(xt(156,e.tag))};function LZ(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Lo(n,e,t,r){return new LZ(n,e,t,r)}function _M(n){return n=n.prototype,!(!n||!n.isReactComponent)}function FZ(n){if(typeof n=="function")return _M(n)?1:0;if(n!=null){if(n=n.$$typeof,n===ux)return 11;if(n===cx)return 14}return 2}function Zl(n,e){var t=n.alternate;return t===null?(t=Lo(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.nextEffect=null,t.firstEffect=null,t.lastEffect=null),t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function a2(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")_M(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Il:return rp(t.children,i,s,e);case ek:o=8,i|=16;break;case PS:o=8,i|=1;break;case Ym:return n=Lo(12,t,e,i|8),n.elementType=Ym,n.type=Ym,n.lanes=s,n;case Jm:return n=Lo(13,t,e,i),n.type=Jm,n.elementType=Jm,n.lanes=s,n;case lx:return n=Lo(19,t,e,i),n.elementType=lx,n.lanes=s,n;case OS:return wM(t,i,s,e);case NS:return n=Lo(24,t,e,i),n.elementType=NS,n.lanes=s,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case RS:o=10;break e;case kS:o=9;break e;case ux:o=11;break e;case cx:o=14;break e;case IS:o=16,r=null;break e;case LS:o=22;break e}throw Error(xt(130,n==null?n:typeof n,""))}return e=Lo(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function rp(n,e,t,r){return n=Lo(7,n,r,e),n.lanes=t,n}function wM(n,e,t,r){return n=Lo(23,n,r,e),n.elementType=OS,n.lanes=t,n}function bM(n,e,t){return n=Lo(6,n,null,e),n.lanes=t,n}function SM(n,e,t){return e=Lo(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function OZ(n,e,t){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=t,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=lE(0),this.expirationTimes=lE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lE(0),this.mutableSourceEagerHydrationData=null}function NZ(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lf,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function u2(n,e,t,r){var i=e.current,s=io(),o=Xl(i);e:if(t){t=t._reactInternals;t:{if(ff(t)!==t||t.tag!==1)throw Error(xt(170));var u=t;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(Rs(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(u!==null);throw Error(xt(171))}if(t.tag===1){var l=t.type;if(Rs(l)){t=_I(t,l,u);break e}}t=u}else t=Gl;return e.context===null?e.context=t:e.pendingContext=t,e=Vl(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),Wl(i,e),Yl(i,o,s),o}function EM(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function FL(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function MM(n,e){FL(n,e),(n=n.alternate)&&FL(n,e)}function UZ(){return null}function DM(n,e,t){var r=t!=null&&t.hydrationOptions!=null&&t.hydrationOptions.mutableSources||null;if(t=new OZ(n,e,t!=null&&t.hydrate===!0),e=Lo(3,null,null,e===2?7:e===1?3:0),t.current=e,e.stateNode=t,BE(e),n[Hd]=t.current,lI(n.nodeType===8?n.parentNode:n),r)for(n=0;n<r.length;n++){e=r[n];var i=e._getVersion;i=i(e._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[e,i]:t.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=t}DM.prototype.render=function(n){u2(n,this._internalRoot,null,null)};DM.prototype.unmount=function(){var n=this._internalRoot,e=n.containerInfo;u2(null,n,null,function(){e[Hd]=null})};function Bv(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function BZ(n,e){if(e||(e=n?n.nodeType===9?n.documentElement:n.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var t;t=n.lastChild;)n.removeChild(t);return new DM(n,0,e?{hydrate:!0}:void 0)}function l2(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s._internalRoot;if(typeof i=="function"){var u=i;i=function(){var c=EM(o);u.call(c)}}u2(e,o,n,i)}else{if(s=t._reactRootContainer=BZ(t,r),o=s._internalRoot,typeof i=="function"){var l=i;i=function(){var c=EM(o);l.call(c)}}AL(function(){u2(e,o,n,i)})}return EM(o)}Sk=function(n){if(n.tag===13){var e=io();Yl(n,4,e),MM(n,4)}};rE=function(n){if(n.tag===13){var e=io();Yl(n,67108864,e),MM(n,67108864)}};Ek=function(n){if(n.tag===13){var e=io(),t=Xl(n);Yl(n,t,e),MM(n,t)}};Mk=function(n,e){return e()};JS=function(n,e,t){switch(e){case"input":if($S(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=kx(r);if(!i)throw Error(xt(90));rk(r),$S(r,i)}}}break;case"textarea":uk(n,t);break;case"select":e=t.value,e!=null&&kd(n,!!t.multiple,e,!1)}};KS=DL;gk=function(n,e,t,r,i){var s=cn;cn|=4;try{return mf(98,n.bind(null,e,t,r,i))}finally{cn=s,cn===0&&(ep(),qa())}};ZS=function(){(cn&49)==0&&(MZ(),Jl())};yk=function(n,e){var t=cn;cn|=2;try{return n(e)}finally{cn=t,cn===0&&(ep(),qa())}};function OL(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bv(e))throw Error(xt(200));return NZ(n,e,null,t)}var zZ={Events:[xv,Vd,kx,mk,vk,Jl,{current:!1}]},zv={findFiberByHostInstance:hf,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},$Z={bundleType:zv.bundleType,version:zv.version,rendererPackageName:zv.rendererPackageName,rendererConfig:zv.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:uf.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=wk(n),n===null?null:n.stateNode},findFiberByHostInstance:zv.findFiberByHostInstance||UZ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var c2=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!c2.isDisabled&&c2.supportsFiber)try{RE=c2.inject($Z),pf=c2}catch{}}Co.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zZ;Co.createPortal=OL;Co.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(xt(188)):Error(xt(268,Object.keys(n)));return n=wk(e),n=n===null?null:n.stateNode,n};Co.flushSync=function(n,e){var t=cn;if((t&48)!=0)return n(e);cn|=1;try{if(n)return mf(99,n.bind(null,e))}finally{cn=t,qa()}};Co.hydrate=function(n,e,t){if(!Bv(e))throw Error(xt(200));return l2(null,n,e,!0,t)};Co.render=function(n,e,t){if(!Bv(e))throw Error(xt(200));return l2(null,n,e,!1,t)};Co.unmountComponentAtNode=function(n){if(!Bv(n))throw Error(xt(40));return n._reactRootContainer?(AL(function(){l2(null,null,n,!1,function(){n._reactRootContainer=null,n[Hd]=null})}),!0):!1};Co.unstable_batchedUpdates=DL;Co.unstable_createPortal=function(n,e){return OL(n,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Co.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!Bv(t))throw Error(xt(200));if(n==null||n._reactInternals===void 0)throw Error(xt(38));return l2(n,e,t,!1,r)};Co.version="17.0.2";function NL(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(NL)}catch(n){console.error(n)}}NL(),XR.exports=Co;var Sbe=XR.exports;/**
 * @license
 * Copyright 2010-2021 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const f2="136",GZ={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},HZ={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},UL=0,AM=1,BL=2,VZ=3,WZ=0,TM=1,CM=2,ip=3,Ql=0,wr=1,Za=2,PM=1,jZ=2,ju=0,sp=1,RM=2,kM=3,IM=4,zL=5,wf=100,$L=101,GL=102,LM=103,FM=104,HL=200,VL=201,WL=202,jL=203,OM=204,NM=205,qL=206,XL=207,YL=208,JL=209,KL=210,ZL=0,QL=1,eF=2,h2=3,tF=4,nF=5,rF=6,iF=7,$v=0,sF=1,oF=2,qu=0,aF=1,uF=2,lF=3,UM=4,cF=5,d2=300,bf=301,Sf=302,Gv=303,Hv=304,op=306,Vv=307,Wv=1e3,bi=1001,jv=1002,Cr=1003,p2=1004,qZ=1004,m2=1005,XZ=1005,hr=1006,BM=1007,YZ=1007,Ef=1008,JZ=1008,Qa=1009,fF=1010,hF=1011,ap=1012,dF=1013,qv=1014,eu=1015,ec=1016,pF=1017,mF=1018,vF=1019,Mf=1020,gF=1021,tc=1022,Pr=1023,yF=1024,xF=1025,nc=1026,Df=1027,_F=1028,wF=1029,bF=1030,SF=1031,EF=1032,MF=1033,zM=33776,$M=33777,GM=33778,HM=33779,VM=35840,WM=35841,jM=35842,qM=35843,DF=36196,XM=37492,YM=37496,AF=37808,TF=37809,CF=37810,PF=37811,RF=37812,kF=37813,IF=37814,LF=37815,FF=37816,OF=37817,NF=37818,UF=37819,BF=37820,zF=37821,$F=36492,GF=37840,HF=37841,VF=37842,WF=37843,jF=37844,qF=37845,XF=37846,YF=37847,JF=37848,KF=37849,ZF=37850,QF=37851,eO=37852,tO=37853,nO=2200,rO=2201,iO=2202,Xv=2300,Yv=2301,v2=2302,Af=2400,Tf=2401,Jv=2402,g2=2500,JM=2501,sO=0,KZ=1,ZZ=2,Fo=3e3,Xu=3001,oO=3200,KM=3201,Cf=0,aO=1,QZ=0,y2=7680,eQ=7681,tQ=7682,nQ=7683,rQ=34055,iQ=34056,sQ=5386,oQ=512,aQ=513,uQ=514,lQ=515,cQ=516,fQ=517,hQ=518,uO=519,up=35044,lp=35048,dQ=35040,pQ=35045,mQ=35049,vQ=35041,gQ=35046,yQ=35050,xQ=35042,_Q="100",ZM="300 es";class rc{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const Si=[];for(let n=0;n<256;n++)Si[n]=(n<16?"0":"")+n.toString(16);let x2=1234567;const Pf=Math.PI/180,Kv=180/Math.PI;function so(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Si[n&255]+Si[n>>8&255]+Si[n>>16&255]+Si[n>>24&255]+"-"+Si[e&255]+Si[e>>8&255]+"-"+Si[e>>16&15|64]+Si[e>>24&255]+"-"+Si[t&63|128]+Si[t>>8&255]+"-"+Si[t>>16&255]+Si[t>>24&255]+Si[r&255]+Si[r>>8&255]+Si[r>>16&255]+Si[r>>24&255]).toUpperCase()}function Ei(n,e,t){return Math.max(e,Math.min(t,n))}function QM(n,e){return(n%e+e)%e}function wQ(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function bQ(n,e,t){return n!==e?(t-n)/(e-n):0}function Zv(n,e,t){return(1-t)*n+t*e}function SQ(n,e,t,r){return Zv(n,e,1-Math.exp(-t*r))}function EQ(n,e=1){return e-Math.abs(QM(n,e*2)-e)}function MQ(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function DQ(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function AQ(n,e){return n+Math.floor(Math.random()*(e-n+1))}function TQ(n,e){return n+Math.random()*(e-n)}function CQ(n){return n*(.5-Math.random())}function PQ(n){return n!==void 0&&(x2=n%2147483647),x2=x2*16807%2147483647,(x2-1)/2147483646}function RQ(n){return n*Pf}function kQ(n){return n*Kv}function eD(n){return(n&n-1)==0&&n!==0}function lO(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function cO(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function IQ(n,e,t,r,i){const s=Math.cos,o=Math.sin,u=s(t/2),l=o(t/2),c=s((e+r)/2),h=o((e+r)/2),d=s((e-r)/2),p=o((e-r)/2),v=s((r-e)/2),S=o((r-e)/2);switch(i){case"XYX":n.set(u*h,l*d,l*p,u*c);break;case"YZY":n.set(l*p,u*h,l*d,u*c);break;case"ZXZ":n.set(l*d,l*p,u*h,u*c);break;case"XZX":n.set(u*h,l*S,l*v,u*c);break;case"YXY":n.set(l*v,u*h,l*S,u*c);break;case"ZYZ":n.set(l*S,l*v,u*h,u*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}var fO=Object.freeze({__proto__:null,DEG2RAD:Pf,RAD2DEG:Kv,generateUUID:so,clamp:Ei,euclideanModulo:QM,mapLinear:wQ,inverseLerp:bQ,lerp:Zv,damp:SQ,pingpong:EQ,smoothstep:MQ,smootherstep:DQ,randInt:AQ,randFloat:TQ,randFloatSpread:CQ,seededRandom:PQ,degToRad:RQ,radToDeg:kQ,isPowerOfTwo:eD,ceilPowerOfTwo:lO,floorPowerOfTwo:cO,setQuaternionFromProperEuler:IQ});class ft{constructor(e=0,t=0){this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}ft.prototype.isVector2=!0;class zr{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,i,s,o,u,l,c){const h=this.elements;return h[0]=e,h[1]=i,h[2]=u,h[3]=t,h[4]=s,h[5]=l,h[6]=r,h[7]=o,h[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],u=r[3],l=r[6],c=r[1],h=r[4],d=r[7],p=r[2],v=r[5],S=r[8],w=i[0],T=i[3],x=i[6],E=i[1],O=i[4],C=i[7],N=i[2],$=i[5],M=i[8];return s[0]=o*w+u*E+l*N,s[3]=o*T+u*O+l*$,s[6]=o*x+u*C+l*M,s[1]=c*w+h*E+d*N,s[4]=c*T+h*O+d*$,s[7]=c*x+h*C+d*M,s[2]=p*w+v*E+S*N,s[5]=p*T+v*O+S*$,s[8]=p*x+v*C+S*M,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],u=e[5],l=e[6],c=e[7],h=e[8];return t*o*h-t*u*c-r*s*h+r*u*l+i*s*c-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],u=e[5],l=e[6],c=e[7],h=e[8],d=h*o-u*c,p=u*l-h*s,v=c*s-o*l,S=t*d+r*p+i*v;if(S===0)return this.set(0,0,0,0,0,0,0,0,0);const w=1/S;return e[0]=d*w,e[1]=(i*c-h*r)*w,e[2]=(u*r-i*o)*w,e[3]=p*w,e[4]=(h*t-i*l)*w,e[5]=(i*s-u*t)*w,e[6]=v*w,e[7]=(r*l-c*t)*w,e[8]=(o*t-r*s)*w,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,u){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*u)+o+e,-i*c,i*l,-i*(-c*o+l*u)+u+t,0,0,1),this}scale(e,t){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),i=this.elements,s=i[0],o=i[3],u=i[6],l=i[1],c=i[4],h=i[7];return i[0]=t*s+r*l,i[3]=t*o+r*c,i[6]=t*u+r*h,i[1]=-r*s+t*l,i[4]=-r*o+t*c,i[7]=-r*u+t*h,this}translate(e,t){const r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}zr.prototype.isMatrix3=!0;function hO(n){if(n.length===0)return-1/0;let e=n[0];for(let t=1,r=n.length;t<r;++t)n[t]>e&&(e=n[t]);return e}const LQ={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function cp(n,e){return new LQ[n](e)}function _2(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}let fp;class Rf{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement=="undefined")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{fp===void 0&&(fp=_2("canvas")),fp.width=e.width,fp.height=e.height;const r=fp.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=fp}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}}let FQ=0;class Rr extends rc{constructor(e=Rr.DEFAULT_IMAGE,t=Rr.DEFAULT_MAPPING,r=bi,i=bi,s=hr,o=Ef,u=Pr,l=Qa,c=1,h=Fo){super();Object.defineProperty(this,"id",{value:FQ++}),this.uuid=so(),this.name="",this.image=e,this.mipmaps=[],this.mapping=t,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=u,this.internalFormat=null,this.type=l,this.offset=new ft(0,0),this.repeat=new ft(1,1),this.center=new ft(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new zr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=h,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){const i=this.image;if(i.uuid===void 0&&(i.uuid=so()),!t&&e.images[i.uuid]===void 0){let s;if(Array.isArray(i)){s=[];for(let o=0,u=i.length;o<u;o++)i[o].isDataTexture?s.push(tD(i[o].image)):s.push(tD(i[o]))}else s=tD(i);e.images[i.uuid]={uuid:i.uuid,url:s}}r.image=i.uuid}return JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==d2)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Wv:e.x=e.x-Math.floor(e.x);break;case bi:e.x=e.x<0?0:1;break;case jv:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Wv:e.y=e.y-Math.floor(e.y);break;case bi:e.y=e.y<0?0:1;break;case jv:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&this.version++}}Rr.DEFAULT_IMAGE=void 0;Rr.DEFAULT_MAPPING=d2;Rr.prototype.isTexture=!0;function tD(n){return typeof HTMLImageElement!="undefined"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&n instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&n instanceof ImageBitmap?Rf.getDataURL(n):n.data?{data:Array.prototype.slice.call(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}class On{constructor(e=0,t=0,r=0,i=1){this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const o=.01,u=.1,l=e.elements,c=l[0],h=l[4],d=l[8],p=l[1],v=l[5],S=l[9],w=l[2],T=l[6],x=l[10];if(Math.abs(h-p)<o&&Math.abs(d-w)<o&&Math.abs(S-T)<o){if(Math.abs(h+p)<u&&Math.abs(d+w)<u&&Math.abs(S+T)<u&&Math.abs(c+v+x-3)<u)return this.set(1,0,0,0),this;t=Math.PI;const O=(c+1)/2,C=(v+1)/2,N=(x+1)/2,$=(h+p)/4,M=(d+w)/4,L=(S+T)/4;return O>C&&O>N?O<o?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(O),i=$/r,s=M/r):C>N?C<o?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(C),r=$/i,s=L/i):N<o?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(N),r=M/s,i=L/s),this.set(r,i,s,t),this}let E=Math.sqrt((T-S)*(T-S)+(d-w)*(d-w)+(p-h)*(p-h));return Math.abs(E)<.001&&(E=1),this.x=(T-S)/E,this.y=(d-w)/E,this.z=(p-h)/E,this.w=Math.acos((c+v+x-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}On.prototype.isVector4=!0;class oo extends rc{constructor(e,t,r={}){super();this.width=e,this.height=t,this.depth=1,this.scissor=new On(0,0,e,t),this.scissorTest=!1,this.viewport=new On(0,0,e,t),this.texture=new Rr(void 0,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.image={width:e,height:t,depth:1},this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:hr,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null}setTexture(e){e.image={width:this.width,height:this.height,depth:this.depth},this.texture=e}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.image=vt({},this.texture.image),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this}dispose(){this.dispatchEvent({type:"dispose"})}}oo.prototype.isWebGLRenderTarget=!0;class dO extends oo{constructor(e,t,r){super(e,t);const i=this.texture;this.texture=[];for(let s=0;s<r;s++)this.texture[s]=i.clone()}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone();return this}}dO.prototype.isWebGLMultipleRenderTargets=!0;class w2 extends oo{constructor(e,t,r={}){super(e,t,r);this.samples=4,this.ignoreDepthForMultisampleCopy=r.ignoreDepth!==void 0?r.ignoreDepth:!0,this.useRenderToTexture=r.useRenderToTexture!==void 0?r.useRenderToTexture:!1}copy(e){return super.copy.call(this,e),this.samples=e.samples,this.useRenderToTexture=e.useRenderToTexture,this.useRenderbuffer=e.useRenderbuffer,this}}w2.prototype.isWebGLMultisampleRenderTarget=!0;class Mi{constructor(e=0,t=0,r=0,i=1){this._x=e,this._y=t,this._z=r,this._w=i}static slerp(e,t,r,i){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),r.slerpQuaternions(e,t,i)}static slerpFlat(e,t,r,i,s,o,u){let l=r[i+0],c=r[i+1],h=r[i+2],d=r[i+3];const p=s[o+0],v=s[o+1],S=s[o+2],w=s[o+3];if(u===0){e[t+0]=l,e[t+1]=c,e[t+2]=h,e[t+3]=d;return}if(u===1){e[t+0]=p,e[t+1]=v,e[t+2]=S,e[t+3]=w;return}if(d!==w||l!==p||c!==v||h!==S){let T=1-u;const x=l*p+c*v+h*S+d*w,E=x>=0?1:-1,O=1-x*x;if(O>Number.EPSILON){const N=Math.sqrt(O),$=Math.atan2(N,x*E);T=Math.sin(T*$)/N,u=Math.sin(u*$)/N}const C=u*E;if(l=l*T+p*C,c=c*T+v*C,h=h*T+S*C,d=d*T+w*C,T===1-u){const N=1/Math.sqrt(l*l+c*c+h*h+d*d);l*=N,c*=N,h*=N,d*=N}}e[t]=l,e[t+1]=c,e[t+2]=h,e[t+3]=d}static multiplyQuaternionsFlat(e,t,r,i,s,o){const u=r[i],l=r[i+1],c=r[i+2],h=r[i+3],d=s[o],p=s[o+1],v=s[o+2],S=s[o+3];return e[t]=u*S+h*d+l*v-c*p,e[t+1]=l*S+h*p+c*d-u*v,e[t+2]=c*S+h*v+u*p-l*d,e[t+3]=h*S-u*d-l*p-c*v,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const r=e._x,i=e._y,s=e._z,o=e._order,u=Math.cos,l=Math.sin,c=u(r/2),h=u(i/2),d=u(s/2),p=l(r/2),v=l(i/2),S=l(s/2);switch(o){case"XYZ":this._x=p*h*d+c*v*S,this._y=c*v*d-p*h*S,this._z=c*h*S+p*v*d,this._w=c*h*d-p*v*S;break;case"YXZ":this._x=p*h*d+c*v*S,this._y=c*v*d-p*h*S,this._z=c*h*S-p*v*d,this._w=c*h*d+p*v*S;break;case"ZXY":this._x=p*h*d-c*v*S,this._y=c*v*d+p*h*S,this._z=c*h*S+p*v*d,this._w=c*h*d-p*v*S;break;case"ZYX":this._x=p*h*d-c*v*S,this._y=c*v*d+p*h*S,this._z=c*h*S-p*v*d,this._w=c*h*d+p*v*S;break;case"YZX":this._x=p*h*d+c*v*S,this._y=c*v*d+p*h*S,this._z=c*h*S-p*v*d,this._w=c*h*d-p*v*S;break;case"XZY":this._x=p*h*d-c*v*S,this._y=c*v*d-p*h*S,this._z=c*h*S+p*v*d,this._w=c*h*d+p*v*S;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],u=t[5],l=t[9],c=t[2],h=t[6],d=t[10],p=r+u+d;if(p>0){const v=.5/Math.sqrt(p+1);this._w=.25/v,this._x=(h-l)*v,this._y=(s-c)*v,this._z=(o-i)*v}else if(r>u&&r>d){const v=2*Math.sqrt(1+r-u-d);this._w=(h-l)/v,this._x=.25*v,this._y=(i+o)/v,this._z=(s+c)/v}else if(u>d){const v=2*Math.sqrt(1+u-r-d);this._w=(s-c)/v,this._x=(i+o)/v,this._y=.25*v,this._z=(l+h)/v}else{const v=2*Math.sqrt(1+d-r-u);this._w=(o-i)/v,this._x=(s+c)/v,this._y=(l+h)/v,this._z=.25*v}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Ei(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return t!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,u=t._x,l=t._y,c=t._z,h=t._w;return this._x=r*h+o*u+i*c-s*l,this._y=i*h+o*l+s*u-r*c,this._z=s*h+o*c+r*l-i*u,this._w=o*h-r*u-i*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let u=o*e._w+r*e._x+i*e._y+s*e._z;if(u<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,u=-u):this.copy(e),u>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-u*u;if(l<=Number.EPSILON){const v=1-t;return this._w=v*o+t*this._w,this._x=v*r+t*this._x,this._y=v*i+t*this._y,this._z=v*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),h=Math.atan2(c,u),d=Math.sin((1-t)*h)/c,p=Math.sin(t*h)/c;return this._w=o*d+this._w*p,this._x=r*d+this._x*p,this._y=i*d+this._y*p,this._z=s*d+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,r){this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}Mi.prototype.isQuaternion=!0;class be{constructor(e=0,t=0,r=0){this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(pO.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(pO.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,u=e.z,l=e.w,c=l*t+o*i-u*r,h=l*r+u*t-s*i,d=l*i+s*r-o*t,p=-s*t-o*r-u*i;return this.x=c*l+p*-s+h*-u-d*-o,this.y=h*l+p*-o+d*-s-c*-u,this.z=d*l+p*-u+c*-o-h*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e,t){return t!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,u=t.y,l=t.z;return this.x=i*l-s*u,this.y=s*o-r*l,this.z=r*u-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return nD.copy(this).projectOnVector(e),this.sub(nD)}reflect(e){return this.sub(nD.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Ei(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}be.prototype.isVector3=!0;const nD=new be,pO=new Mi;class Ls{constructor(e=new be(1/0,1/0,1/0),t=new be(-1/0,-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,u=-1/0;for(let l=0,c=e.length;l<c;l+=3){const h=e[l],d=e[l+1],p=e[l+2];h<t&&(t=h),d<r&&(r=d),p<i&&(i=p),h>s&&(s=h),d>o&&(o=d),p>u&&(u=p)}return this.min.set(t,r,i),this.max.set(s,o,u),this}setFromBufferAttribute(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,u=-1/0;for(let l=0,c=e.count;l<c;l++){const h=e.getX(l),d=e.getY(l),p=e.getZ(l);h<t&&(t=h),d<r&&(r=d),p<i&&(i=p),h>s&&(s=h),d>o&&(o=d),p>u&&(u=p)}return this.min.set(t,r,i),this.max.set(s,o,u),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Qv.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e){return this.makeEmpty(),this.expandByObject(e)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){e.updateWorldMatrix(!1,!1);const t=e.geometry;t!==void 0&&(t.boundingBox===null&&t.computeBoundingBox(),rD.copy(t.boundingBox),rD.applyMatrix4(e.matrixWorld),this.union(rD));const r=e.children;for(let i=0,s=r.length;i<s;i++)this.expandByObject(r[i]);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Qv),Qv.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(eg),b2.subVectors(this.max,eg),hp.subVectors(e.a,eg),dp.subVectors(e.b,eg),pp.subVectors(e.c,eg),ic.subVectors(dp,hp),sc.subVectors(pp,dp),kf.subVectors(hp,pp);let t=[0,-ic.z,ic.y,0,-sc.z,sc.y,0,-kf.z,kf.y,ic.z,0,-ic.x,sc.z,0,-sc.x,kf.z,0,-kf.x,-ic.y,ic.x,0,-sc.y,sc.x,0,-kf.y,kf.x,0];return!iD(t,hp,dp,pp,b2)||(t=[1,0,0,0,1,0,0,0,1],!iD(t,hp,dp,pp,b2))?!1:(S2.crossVectors(ic,sc),t=[S2.x,S2.y,S2.z],iD(t,hp,dp,pp,b2))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Qv.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(Qv).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Yu[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Yu[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Yu[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Yu[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Yu[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Yu[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Yu[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Yu[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Yu),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}Ls.prototype.isBox3=!0;const Yu=[new be,new be,new be,new be,new be,new be,new be,new be],Qv=new be,rD=new Ls,hp=new be,dp=new be,pp=new be,ic=new be,sc=new be,kf=new be,eg=new be,b2=new be,S2=new be,If=new be;function iD(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){If.fromArray(n,s);const u=i.x*Math.abs(If.x)+i.y*Math.abs(If.y)+i.z*Math.abs(If.z),l=e.dot(If),c=t.dot(If),h=r.dot(If);if(Math.max(-Math.max(l,c,h),Math.min(l,c,h))>u)return!1}return!0}const OQ=new Ls,mO=new be,E2=new be,sD=new be;class Ju{constructor(e=new be,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):OQ.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){sD.subVectors(e,this.center);const t=sD.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.add(sD.multiplyScalar(i/r)),this.radius+=i}return this}union(e){return this.center.equals(e.center)===!0?E2.set(0,0,1).multiplyScalar(e.radius):E2.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(mO.copy(e.center).add(E2)),this.expandByPoint(mO.copy(e.center).sub(E2)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Ku=new be,oD=new be,M2=new be,oc=new be,aD=new be,D2=new be,uD=new be;class ac{constructor(e=new be,t=new be(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ku)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Ku.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Ku.copy(this.direction).multiplyScalar(t).add(this.origin),Ku.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){oD.copy(e).add(t).multiplyScalar(.5),M2.copy(t).sub(e).normalize(),oc.copy(this.origin).sub(oD);const s=e.distanceTo(t)*.5,o=-this.direction.dot(M2),u=oc.dot(this.direction),l=-oc.dot(M2),c=oc.lengthSq(),h=Math.abs(1-o*o);let d,p,v,S;if(h>0)if(d=o*l-u,p=o*u-l,S=s*h,d>=0)if(p>=-S)if(p<=S){const w=1/h;d*=w,p*=w,v=d*(d+o*p+2*u)+p*(o*d+p+2*l)+c}else p=s,d=Math.max(0,-(o*p+u)),v=-d*d+p*(p+2*l)+c;else p=-s,d=Math.max(0,-(o*p+u)),v=-d*d+p*(p+2*l)+c;else p<=-S?(d=Math.max(0,-(-o*s+u)),p=d>0?-s:Math.min(Math.max(-s,-l),s),v=-d*d+p*(p+2*l)+c):p<=S?(d=0,p=Math.min(Math.max(-s,-l),s),v=p*(p+2*l)+c):(d=Math.max(0,-(o*s+u)),p=d>0?s:Math.min(Math.max(-s,-l),s),v=-d*d+p*(p+2*l)+c);else p=o>0?-s:s,d=Math.max(0,-(o*p+u)),v=-d*d+p*(p+2*l)+c;return r&&r.copy(this.direction).multiplyScalar(d).add(this.origin),i&&i.copy(M2).multiplyScalar(p).add(oD),v}intersectSphere(e,t){Ku.subVectors(e.center,this.origin);const r=Ku.dot(this.direction),i=Ku.dot(Ku)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),u=r-o,l=r+o;return u<0&&l<0?null:u<0?this.at(l,t):this.at(u,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,u,l;const c=1/this.direction.x,h=1/this.direction.y,d=1/this.direction.z,p=this.origin;return c>=0?(r=(e.min.x-p.x)*c,i=(e.max.x-p.x)*c):(r=(e.max.x-p.x)*c,i=(e.min.x-p.x)*c),h>=0?(s=(e.min.y-p.y)*h,o=(e.max.y-p.y)*h):(s=(e.max.y-p.y)*h,o=(e.min.y-p.y)*h),r>o||s>i||((s>r||r!==r)&&(r=s),(o<i||i!==i)&&(i=o),d>=0?(u=(e.min.z-p.z)*d,l=(e.max.z-p.z)*d):(u=(e.max.z-p.z)*d,l=(e.min.z-p.z)*d),r>l||u>i)||((u>r||r!==r)&&(r=u),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,Ku)!==null}intersectTriangle(e,t,r,i,s){aD.subVectors(t,e),D2.subVectors(r,e),uD.crossVectors(aD,D2);let o=this.direction.dot(uD),u;if(o>0){if(i)return null;u=1}else if(o<0)u=-1,o=-o;else return null;oc.subVectors(this.origin,e);const l=u*this.direction.dot(D2.crossVectors(oc,D2));if(l<0)return null;const c=u*this.direction.dot(aD.cross(oc));if(c<0||l+c>o)return null;const h=-u*oc.dot(uD);return h<0?null:this.at(h/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Xt{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,i,s,o,u,l,c,h,d,p,v,S,w,T){const x=this.elements;return x[0]=e,x[4]=t,x[8]=r,x[12]=i,x[1]=s,x[5]=o,x[9]=u,x[13]=l,x[2]=c,x[6]=h,x[10]=d,x[14]=p,x[3]=v,x[7]=S,x[11]=w,x[15]=T,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Xt().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/mp.setFromMatrixColumn(e,0).length(),s=1/mp.setFromMatrixColumn(e,1).length(),o=1/mp.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),u=Math.sin(r),l=Math.cos(i),c=Math.sin(i),h=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const p=o*h,v=o*d,S=u*h,w=u*d;t[0]=l*h,t[4]=-l*d,t[8]=c,t[1]=v+S*c,t[5]=p-w*c,t[9]=-u*l,t[2]=w-p*c,t[6]=S+v*c,t[10]=o*l}else if(e.order==="YXZ"){const p=l*h,v=l*d,S=c*h,w=c*d;t[0]=p+w*u,t[4]=S*u-v,t[8]=o*c,t[1]=o*d,t[5]=o*h,t[9]=-u,t[2]=v*u-S,t[6]=w+p*u,t[10]=o*l}else if(e.order==="ZXY"){const p=l*h,v=l*d,S=c*h,w=c*d;t[0]=p-w*u,t[4]=-o*d,t[8]=S+v*u,t[1]=v+S*u,t[5]=o*h,t[9]=w-p*u,t[2]=-o*c,t[6]=u,t[10]=o*l}else if(e.order==="ZYX"){const p=o*h,v=o*d,S=u*h,w=u*d;t[0]=l*h,t[4]=S*c-v,t[8]=p*c+w,t[1]=l*d,t[5]=w*c+p,t[9]=v*c-S,t[2]=-c,t[6]=u*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,v=o*c,S=u*l,w=u*c;t[0]=l*h,t[4]=w-p*d,t[8]=S*d+v,t[1]=d,t[5]=o*h,t[9]=-u*h,t[2]=-c*h,t[6]=v*d+S,t[10]=p-w*d}else if(e.order==="XZY"){const p=o*l,v=o*c,S=u*l,w=u*c;t[0]=l*h,t[4]=-d,t[8]=c*h,t[1]=p*d+w,t[5]=o*h,t[9]=v*d-S,t[2]=S*d-v,t[6]=u*h,t[10]=w*d+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(NQ,e,UQ)}lookAt(e,t,r){const i=this.elements;return ao.subVectors(e,t),ao.lengthSq()===0&&(ao.z=1),ao.normalize(),uc.crossVectors(r,ao),uc.lengthSq()===0&&(Math.abs(r.z)===1?ao.x+=1e-4:ao.z+=1e-4,ao.normalize(),uc.crossVectors(r,ao)),uc.normalize(),A2.crossVectors(ao,uc),i[0]=uc.x,i[4]=A2.x,i[8]=ao.x,i[1]=uc.y,i[5]=A2.y,i[9]=ao.y,i[2]=uc.z,i[6]=A2.z,i[10]=ao.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],u=r[4],l=r[8],c=r[12],h=r[1],d=r[5],p=r[9],v=r[13],S=r[2],w=r[6],T=r[10],x=r[14],E=r[3],O=r[7],C=r[11],N=r[15],$=i[0],M=i[4],L=i[8],V=i[12],Z=i[1],H=i[5],D=i[9],R=i[13],P=i[2],F=i[6],z=i[10],j=i[14],B=i[3],U=i[7],k=i[11],G=i[15];return s[0]=o*$+u*Z+l*P+c*B,s[4]=o*M+u*H+l*F+c*U,s[8]=o*L+u*D+l*z+c*k,s[12]=o*V+u*R+l*j+c*G,s[1]=h*$+d*Z+p*P+v*B,s[5]=h*M+d*H+p*F+v*U,s[9]=h*L+d*D+p*z+v*k,s[13]=h*V+d*R+p*j+v*G,s[2]=S*$+w*Z+T*P+x*B,s[6]=S*M+w*H+T*F+x*U,s[10]=S*L+w*D+T*z+x*k,s[14]=S*V+w*R+T*j+x*G,s[3]=E*$+O*Z+C*P+N*B,s[7]=E*M+O*H+C*F+N*U,s[11]=E*L+O*D+C*z+N*k,s[15]=E*V+O*R+C*j+N*G,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],u=e[5],l=e[9],c=e[13],h=e[2],d=e[6],p=e[10],v=e[14],S=e[3],w=e[7],T=e[11],x=e[15];return S*(+s*l*d-i*c*d-s*u*p+r*c*p+i*u*v-r*l*v)+w*(+t*l*v-t*c*p+s*o*p-i*o*v+i*c*h-s*l*h)+T*(+t*c*d-t*u*v-s*o*d+r*o*v+s*u*h-r*c*h)+x*(-i*u*h-t*l*d+t*u*p+i*o*d-r*o*p+r*l*h)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],u=e[5],l=e[6],c=e[7],h=e[8],d=e[9],p=e[10],v=e[11],S=e[12],w=e[13],T=e[14],x=e[15],E=d*T*c-w*p*c+w*l*v-u*T*v-d*l*x+u*p*x,O=S*p*c-h*T*c-S*l*v+o*T*v+h*l*x-o*p*x,C=h*w*c-S*d*c+S*u*v-o*w*v-h*u*x+o*d*x,N=S*d*l-h*w*l-S*u*p+o*w*p+h*u*T-o*d*T,$=t*E+r*O+i*C+s*N;if($===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const M=1/$;return e[0]=E*M,e[1]=(w*p*s-d*T*s-w*i*v+r*T*v+d*i*x-r*p*x)*M,e[2]=(u*T*s-w*l*s+w*i*c-r*T*c-u*i*x+r*l*x)*M,e[3]=(d*l*s-u*p*s-d*i*c+r*p*c+u*i*v-r*l*v)*M,e[4]=O*M,e[5]=(h*T*s-S*p*s+S*i*v-t*T*v-h*i*x+t*p*x)*M,e[6]=(S*l*s-o*T*s-S*i*c+t*T*c+o*i*x-t*l*x)*M,e[7]=(o*p*s-h*l*s+h*i*c-t*p*c-o*i*v+t*l*v)*M,e[8]=C*M,e[9]=(S*d*s-h*w*s-S*r*v+t*w*v+h*r*x-t*d*x)*M,e[10]=(o*w*s-S*u*s+S*r*c-t*w*c-o*r*x+t*u*x)*M,e[11]=(h*u*s-o*d*s-h*r*c+t*d*c+o*r*v-t*u*v)*M,e[12]=N*M,e[13]=(h*w*i-S*d*i+S*r*p-t*w*p-h*r*T+t*d*T)*M,e[14]=(S*u*i-o*w*i-S*r*l+t*w*l+o*r*T-t*u*T)*M,e[15]=(o*d*i-h*u*i+h*r*l-t*d*l-o*r*p+t*u*p)*M,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,u=e.y,l=e.z,c=s*o,h=s*u;return this.set(c*o+r,c*u-i*l,c*l+i*u,0,c*u+i*l,h*u+r,h*l-i*o,0,c*l-i*u,h*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,u=t._z,l=t._w,c=s+s,h=o+o,d=u+u,p=s*c,v=s*h,S=s*d,w=o*h,T=o*d,x=u*d,E=l*c,O=l*h,C=l*d,N=r.x,$=r.y,M=r.z;return i[0]=(1-(w+x))*N,i[1]=(v+C)*N,i[2]=(S-O)*N,i[3]=0,i[4]=(v-C)*$,i[5]=(1-(p+x))*$,i[6]=(T+E)*$,i[7]=0,i[8]=(S+O)*M,i[9]=(T-E)*M,i[10]=(1-(p+w))*M,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=mp.set(i[0],i[1],i[2]).length();const o=mp.set(i[4],i[5],i[6]).length(),u=mp.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],pa.copy(this);const c=1/s,h=1/o,d=1/u;return pa.elements[0]*=c,pa.elements[1]*=c,pa.elements[2]*=c,pa.elements[4]*=h,pa.elements[5]*=h,pa.elements[6]*=h,pa.elements[8]*=d,pa.elements[9]*=d,pa.elements[10]*=d,t.setFromRotationMatrix(pa),r.x=s,r.y=o,r.z=u,this}makePerspective(e,t,r,i,s,o){o===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const u=this.elements,l=2*s/(t-e),c=2*s/(r-i),h=(t+e)/(t-e),d=(r+i)/(r-i),p=-(o+s)/(o-s),v=-2*o*s/(o-s);return u[0]=l,u[4]=0,u[8]=h,u[12]=0,u[1]=0,u[5]=c,u[9]=d,u[13]=0,u[2]=0,u[6]=0,u[10]=p,u[14]=v,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,t,r,i,s,o){const u=this.elements,l=1/(t-e),c=1/(r-i),h=1/(o-s),d=(t+e)*l,p=(r+i)*c,v=(o+s)*h;return u[0]=2*l,u[4]=0,u[8]=0,u[12]=-d,u[1]=0,u[5]=2*c,u[9]=0,u[13]=-p,u[2]=0,u[6]=0,u[10]=-2*h,u[14]=-v,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}Xt.prototype.isMatrix4=!0;const mp=new be,pa=new Xt,NQ=new be(0,0,0),UQ=new be(1,1,1),uc=new be,A2=new be,ao=new be,vO=new Xt,gO=new Mi;class Lf{constructor(e=0,t=0,r=0,i=Lf.DefaultOrder){this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],u=i[8],l=i[1],c=i[5],h=i[9],d=i[2],p=i[6],v=i[10];switch(t){case"XYZ":this._y=Math.asin(Ei(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-h,v),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Ei(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(u,v),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(Ei(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-d,v),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Ei(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(p,v),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Ei(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-h,c),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(u,v));break;case"XZY":this._z=Math.asin(-Ei(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(u,s)):(this._x=Math.atan2(-h,v),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return vO.makeRotationFromQuaternion(e),this.setFromRotationMatrix(vO,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return gO.setFromEuler(this),this.setFromQuaternion(gO,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}toVector3(e){return e?e.set(this._x,this._y,this._z):new be(this._x,this._y,this._z)}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}Lf.prototype.isEuler=!0;Lf.DefaultOrder="XYZ";Lf.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class Ff{constructor(){this.mask=1|0}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=4294967295|0}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!=0}isEnabled(e){return(this.mask&(1<<e|0))!=0}}let BQ=0;const yO=new be,vp=new Mi,Zu=new Xt,T2=new be,tg=new be,zQ=new be,$Q=new Mi,xO=new be(1,0,0),_O=new be(0,1,0),wO=new be(0,0,1),GQ={type:"added"},bO={type:"removed"};class bn extends rc{constructor(){super();Object.defineProperty(this,"id",{value:BQ++}),this.uuid=so(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=bn.DefaultUp.clone();const e=new be,t=new Lf,r=new Mi,i=new be(1,1,1);function s(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Xt},normalMatrix:{value:new zr}}),this.matrix=new Xt,this.matrixWorld=new Xt,this.matrixAutoUpdate=bn.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Ff,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return vp.setFromAxisAngle(e,t),this.quaternion.multiply(vp),this}rotateOnWorldAxis(e,t){return vp.setFromAxisAngle(e,t),this.quaternion.premultiply(vp),this}rotateX(e){return this.rotateOnAxis(xO,e)}rotateY(e){return this.rotateOnAxis(_O,e)}rotateZ(e){return this.rotateOnAxis(wO,e)}translateOnAxis(e,t){return yO.copy(e).applyQuaternion(this.quaternion),this.position.add(yO.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(xO,e)}translateY(e){return this.translateOnAxis(_O,e)}translateZ(e){return this.translateOnAxis(wO,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(Zu.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?T2.copy(e):T2.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),tg.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Zu.lookAt(tg,T2,this.up):Zu.lookAt(T2,tg,this.up),this.quaternion.setFromRotationMatrix(Zu),i&&(Zu.extractRotation(i.matrixWorld),vp.setFromRotationMatrix(Zu),this.quaternion.premultiply(vp.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(GQ)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(bO)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(bO)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Zu.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Zu.multiply(e.parent.matrixWorld)),e.applyMatrix4(Zu),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(tg,e,zQ),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(tg,$Q,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].updateMatrixWorld(e)}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(u,l){return u[l.uuid]===void 0&&(u[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const u=this.geometry.parameters;if(u!==void 0&&u.shapes!==void 0){const l=u.shapes;if(Array.isArray(l))for(let c=0,h=l.length;c<h;c++){const d=l[c];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const u=[];for(let l=0,c=this.material.length;l<c;l++)u.push(s(e.materials,this.material[l]));i.material=u}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let u=0;u<this.children.length;u++)i.children.push(this.children[u].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let u=0;u<this.animations.length;u++){const l=this.animations[u];i.animations.push(s(e.animations,l))}}if(t){const u=o(e.geometries),l=o(e.materials),c=o(e.textures),h=o(e.images),d=o(e.shapes),p=o(e.skeletons),v=o(e.animations);u.length>0&&(r.geometries=u),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),h.length>0&&(r.images=h),d.length>0&&(r.shapes=d),p.length>0&&(r.skeletons=p),v.length>0&&(r.animations=v)}return r.object=i,r;function o(u){const l=[];for(const c in u){const h=u[c];delete h.metadata,l.push(h)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}bn.DefaultUp=new be(0,1,0);bn.DefaultMatrixAutoUpdate=!0;bn.prototype.isObject3D=!0;const ma=new be,Qu=new be,lD=new be,el=new be,gp=new be,yp=new be,SO=new be,cD=new be,fD=new be,hD=new be;class kr{constructor(e=new be,t=new be,r=new be){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),ma.subVectors(e,t),i.cross(ma);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){ma.subVectors(i,t),Qu.subVectors(r,t),lD.subVectors(e,t);const o=ma.dot(ma),u=ma.dot(Qu),l=ma.dot(lD),c=Qu.dot(Qu),h=Qu.dot(lD),d=o*c-u*u;if(d===0)return s.set(-2,-1,-1);const p=1/d,v=(c*l-u*h)*p,S=(o*h-u*l)*p;return s.set(1-v-S,S,v)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,el),el.x>=0&&el.y>=0&&el.x+el.y<=1}static getUV(e,t,r,i,s,o,u,l){return this.getBarycoord(e,t,r,i,el),l.set(0,0),l.addScaledVector(s,el.x),l.addScaledVector(o,el.y),l.addScaledVector(u,el.z),l}static isFrontFacing(e,t,r,i){return ma.subVectors(r,t),Qu.subVectors(e,t),ma.cross(Qu).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ma.subVectors(this.c,this.b),Qu.subVectors(this.a,this.b),ma.cross(Qu).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return kr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return kr.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,s){return kr.getUV(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return kr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return kr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,u;gp.subVectors(i,r),yp.subVectors(s,r),cD.subVectors(e,r);const l=gp.dot(cD),c=yp.dot(cD);if(l<=0&&c<=0)return t.copy(r);fD.subVectors(e,i);const h=gp.dot(fD),d=yp.dot(fD);if(h>=0&&d<=h)return t.copy(i);const p=l*d-h*c;if(p<=0&&l>=0&&h<=0)return o=l/(l-h),t.copy(r).addScaledVector(gp,o);hD.subVectors(e,s);const v=gp.dot(hD),S=yp.dot(hD);if(S>=0&&v<=S)return t.copy(s);const w=v*c-l*S;if(w<=0&&c>=0&&S<=0)return u=c/(c-S),t.copy(r).addScaledVector(yp,u);const T=h*S-v*d;if(T<=0&&d-h>=0&&v-S>=0)return SO.subVectors(s,i),u=(d-h)/(d-h+(v-S)),t.copy(i).addScaledVector(SO,u);const x=1/(T+w+p);return o=w*x,u=p*x,t.copy(r).addScaledVector(gp,o).addScaledVector(yp,u)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let HQ=0;class ui extends rc{constructor(){super();Object.defineProperty(this,"id",{value:HQ++}),this.uuid=so(),this.name="",this.type="Material",this.fog=!0,this.blending=sp,this.side=Ql,this.vertexColors=!1,this.opacity=1,this.format=Pr,this.transparent=!1,this.blendSrc=OM,this.blendDst=NM,this.blendEquation=wf,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=h2,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=uO,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=y2,this.stencilZFail=y2,this.stencilZPass=y2,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=r===PM;continue}const i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==sp&&(r.blending=this.blending),this.side!==Ql&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.format!==Pr&&(r.format=this.format),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData);function i(s){const o=[];for(const u in s){const l=s[u];delete l.metadata,o.push(l)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.format=e.format,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}ui.prototype.isMaterial=!0;const EO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},va={h:0,s:0,l:0},C2={h:0,s:0,l:0};function dD(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function pD(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function mD(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}class Pt{constructor(e,t,r){return t===void 0&&r===void 0?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,this}setRGB(e,t,r){return this.r=e,this.g=t,this.b=r,this}setHSL(e,t,r){if(e=QM(e,1),t=Ei(t,0,1),r=Ei(r,0,1),t===0)this.r=this.g=this.b=r;else{const i=r<=.5?r*(1+t):r+t-r*t,s=2*r-i;this.r=dD(s,i,e+1/3),this.g=dD(s,i,e),this.b=dD(s,i,e-1/3)}return this}setStyle(e){function t(i){i!==void 0&&parseFloat(i)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let i;const s=r[1],o=r[2];switch(s){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,t(i[4]),this;if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,t(i[4]),this;break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o)){const u=parseFloat(i[1])/360,l=parseInt(i[2],10)/100,c=parseInt(i[3],10)/100;return t(i[4]),this.setHSL(u,l,c)}break}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const i=r[1],s=i.length;if(s===3)return this.r=parseInt(i.charAt(0)+i.charAt(0),16)/255,this.g=parseInt(i.charAt(1)+i.charAt(1),16)/255,this.b=parseInt(i.charAt(2)+i.charAt(2),16)/255,this;if(s===6)return this.r=parseInt(i.charAt(0)+i.charAt(1),16)/255,this.g=parseInt(i.charAt(2)+i.charAt(3),16)/255,this.b=parseInt(i.charAt(4)+i.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}setColorName(e){const t=EO[e.toLowerCase()];return t!==void 0?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=pD(e.r),this.g=pD(e.g),this.b=pD(e.b),this}copyLinearToSRGB(e){return this.r=mD(e.r),this.g=mD(e.g),this.b=mD(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return this.r*255<<16^this.g*255<<8^this.b*255<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(e){const t=this.r,r=this.g,i=this.b,s=Math.max(t,r,i),o=Math.min(t,r,i);let u,l;const c=(o+s)/2;if(o===s)u=0,l=0;else{const h=s-o;switch(l=c<=.5?h/(s+o):h/(2-s-o),s){case t:u=(r-i)/h+(r<i?6:0);break;case r:u=(i-t)/h+2;break;case i:u=(t-r)/h+4;break}u/=6}return e.h=u,e.s=l,e.l=c,e}getStyle(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"}offsetHSL(e,t,r){return this.getHSL(va),va.h+=e,va.s+=t,va.l+=r,this.setHSL(va.h,va.s,va.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(va),e.getHSL(C2);const r=Zv(va.h,C2.h,t),i=Zv(va.s,C2.s,t),s=Zv(va.l,C2.l,t);return this.setHSL(r,i,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}Pt.NAMES=EO;Pt.prototype.isColor=!0;Pt.prototype.r=1;Pt.prototype.g=1;Pt.prototype.b=1;class tu extends ui{constructor(e){super();this.type="MeshBasicMaterial",this.color=new Pt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=$v,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}tu.prototype.isMeshBasicMaterial=!0;const Qn=new be,P2=new ft;class Tn{constructor(e,t,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r===!0,this.usage=up,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const t=this.array;let r=0;for(let i=0,s=e.length;i<s;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),o=new Pt),t[r++]=o.r,t[r++]=o.g,t[r++]=o.b}return this}copyVector2sArray(e){const t=this.array;let r=0;for(let i=0,s=e.length;i<s;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),o=new ft),t[r++]=o.x,t[r++]=o.y}return this}copyVector3sArray(e){const t=this.array;let r=0;for(let i=0,s=e.length;i<s;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),o=new be),t[r++]=o.x,t[r++]=o.y,t[r++]=o.z}return this}copyVector4sArray(e){const t=this.array;let r=0;for(let i=0,s=e.length;i<s;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),o=new On),t[r++]=o.x,t[r++]=o.y,t[r++]=o.z,t[r++]=o.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)P2.fromBufferAttribute(this,t),P2.applyMatrix3(e),this.setXY(t,P2.x,P2.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)Qn.fromBufferAttribute(this,t),Qn.applyMatrix3(e),this.setXYZ(t,Qn.x,Qn.y,Qn.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Qn.x=this.getX(t),Qn.y=this.getY(t),Qn.z=this.getZ(t),Qn.applyMatrix4(e),this.setXYZ(t,Qn.x,Qn.y,Qn.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Qn.x=this.getX(t),Qn.y=this.getY(t),Qn.z=this.getZ(t),Qn.applyNormalMatrix(e),this.setXYZ(t,Qn.x,Qn.y,Qn.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Qn.x=this.getX(t),Qn.y=this.getY(t),Qn.z=this.getZ(t),Qn.transformDirection(e),this.setXYZ(t,Qn.x,Qn.y,Qn.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==up&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}Tn.prototype.isBufferAttribute=!0;class MO extends Tn{constructor(e,t,r){super(new Int8Array(e),t,r)}}class DO extends Tn{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class AO extends Tn{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class TO extends Tn{constructor(e,t,r){super(new Int16Array(e),t,r)}}class R2 extends Tn{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class CO extends Tn{constructor(e,t,r){super(new Int32Array(e),t,r)}}class k2 extends Tn{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class PO extends Tn{constructor(e,t,r){super(new Uint16Array(e),t,r)}}PO.prototype.isFloat16BufferAttribute=!0;class jt extends Tn{constructor(e,t,r){super(new Float32Array(e),t,r)}}class RO extends Tn{constructor(e,t,r){super(new Float64Array(e),t,r)}}let VQ=0;const Oo=new Xt,vD=new bn,xp=new be,uo=new Ls,ng=new Ls,li=new be;class rn extends rc{constructor(){super();Object.defineProperty(this,"id",{value:VQ++}),this.uuid=so(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(hO(e)>65535?k2:R2)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new zr().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Oo.makeRotationFromQuaternion(e),this.applyMatrix4(Oo),this}rotateX(e){return Oo.makeRotationX(e),this.applyMatrix4(Oo),this}rotateY(e){return Oo.makeRotationY(e),this.applyMatrix4(Oo),this}rotateZ(e){return Oo.makeRotationZ(e),this.applyMatrix4(Oo),this}translate(e,t,r){return Oo.makeTranslation(e,t,r),this.applyMatrix4(Oo),this}scale(e,t,r){return Oo.makeScale(e,t,r),this.applyMatrix4(Oo),this}lookAt(e){return vD.lookAt(e),vD.updateMatrix(),this.applyMatrix4(vD.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(xp).negate(),this.translate(xp.x,xp.y,xp.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new jt(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ls);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new be(-1/0,-1/0,-1/0),new be(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];uo.setFromBufferAttribute(s),this.morphTargetsRelative?(li.addVectors(this.boundingBox.min,uo.min),this.boundingBox.expandByPoint(li),li.addVectors(this.boundingBox.max,uo.max),this.boundingBox.expandByPoint(li)):(this.boundingBox.expandByPoint(uo.min),this.boundingBox.expandByPoint(uo.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ju);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new be,1/0);return}if(e){const r=this.boundingSphere.center;if(uo.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const u=t[s];ng.setFromBufferAttribute(u),this.morphTargetsRelative?(li.addVectors(uo.min,ng.min),uo.expandByPoint(li),li.addVectors(uo.max,ng.max),uo.expandByPoint(li)):(uo.expandByPoint(ng.min),uo.expandByPoint(ng.max))}uo.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)li.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(li));if(t)for(let s=0,o=t.length;s<o;s++){const u=t[s],l=this.morphTargetsRelative;for(let c=0,h=u.count;c<h;c++)li.fromBufferAttribute(u,c),l&&(xp.fromBufferAttribute(e,c),li.add(xp)),i=Math.max(i,r.distanceToSquared(li))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,s=t.normal.array,o=t.uv.array,u=i.length/3;t.tangent===void 0&&this.setAttribute("tangent",new Tn(new Float32Array(4*u),4));const l=t.tangent.array,c=[],h=[];for(let Z=0;Z<u;Z++)c[Z]=new be,h[Z]=new be;const d=new be,p=new be,v=new be,S=new ft,w=new ft,T=new ft,x=new be,E=new be;function O(Z,H,D){d.fromArray(i,Z*3),p.fromArray(i,H*3),v.fromArray(i,D*3),S.fromArray(o,Z*2),w.fromArray(o,H*2),T.fromArray(o,D*2),p.sub(d),v.sub(d),w.sub(S),T.sub(S);const R=1/(w.x*T.y-T.x*w.y);!isFinite(R)||(x.copy(p).multiplyScalar(T.y).addScaledVector(v,-w.y).multiplyScalar(R),E.copy(v).multiplyScalar(w.x).addScaledVector(p,-T.x).multiplyScalar(R),c[Z].add(x),c[H].add(x),c[D].add(x),h[Z].add(E),h[H].add(E),h[D].add(E))}let C=this.groups;C.length===0&&(C=[{start:0,count:r.length}]);for(let Z=0,H=C.length;Z<H;++Z){const D=C[Z],R=D.start,P=D.count;for(let F=R,z=R+P;F<z;F+=3)O(r[F+0],r[F+1],r[F+2])}const N=new be,$=new be,M=new be,L=new be;function V(Z){M.fromArray(s,Z*3),L.copy(M);const H=c[Z];N.copy(H),N.sub(M.multiplyScalar(M.dot(H))).normalize(),$.crossVectors(L,H);const R=$.dot(h[Z])<0?-1:1;l[Z*4]=N.x,l[Z*4+1]=N.y,l[Z*4+2]=N.z,l[Z*4+3]=R}for(let Z=0,H=C.length;Z<H;++Z){const D=C[Z],R=D.start,P=D.count;for(let F=R,z=R+P;F<z;F+=3)V(r[F+0]),V(r[F+1]),V(r[F+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Tn(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let p=0,v=r.count;p<v;p++)r.setXYZ(p,0,0,0);const i=new be,s=new be,o=new be,u=new be,l=new be,c=new be,h=new be,d=new be;if(e)for(let p=0,v=e.count;p<v;p+=3){const S=e.getX(p+0),w=e.getX(p+1),T=e.getX(p+2);i.fromBufferAttribute(t,S),s.fromBufferAttribute(t,w),o.fromBufferAttribute(t,T),h.subVectors(o,s),d.subVectors(i,s),h.cross(d),u.fromBufferAttribute(r,S),l.fromBufferAttribute(r,w),c.fromBufferAttribute(r,T),u.add(h),l.add(h),c.add(h),r.setXYZ(S,u.x,u.y,u.z),r.setXYZ(w,l.x,l.y,l.z),r.setXYZ(T,c.x,c.y,c.z)}else for(let p=0,v=t.count;p<v;p+=3)i.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),h.subVectors(o,s),d.subVectors(i,s),h.cross(d),r.setXYZ(p+0,h.x,h.y,h.z),r.setXYZ(p+1,h.x,h.y,h.z),r.setXYZ(p+2,h.x,h.y,h.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const r=this.attributes;for(const i in r){if(e.attributes[i]===void 0)continue;const o=r[i].array,u=e.attributes[i],l=u.array,c=u.itemSize*t,h=Math.min(l.length,o.length-c);for(let d=0,p=c;d<h;d++,p++)o[p]=l[d]}return this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)li.fromBufferAttribute(e,t),li.normalize(),e.setXYZ(t,li.x,li.y,li.z)}toNonIndexed(){function e(u,l){const c=u.array,h=u.itemSize,d=u.normalized,p=new c.constructor(l.length*h);let v=0,S=0;for(let w=0,T=l.length;w<T;w++){u.isInterleavedBufferAttribute?v=l[w]*u.data.stride+u.offset:v=l[w]*h;for(let x=0;x<h;x++)p[S++]=c[v++]}return new Tn(p,h,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new rn,r=this.index.array,i=this.attributes;for(const u in i){const l=i[u],c=e(l,r);t.setAttribute(u,c)}const s=this.morphAttributes;for(const u in s){const l=[],c=s[u];for(let h=0,d=c.length;h<d;h++){const p=c[h],v=e(p,r);l.push(v)}t.morphAttributes[u]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let u=0,l=o.length;u<l;u++){const c=o[u];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],h=[];for(let d=0,p=c.length;d<p;d++){const v=c[d];h.push(v.toJSON(e.data))}h.length>0&&(i[l]=h,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const u=this.boundingSphere;return u!==null&&(e.data.boundingSphere={center:u.center.toArray(),radius:u.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i){const h=i[c];this.setAttribute(c,h.clone(t))}const s=e.morphAttributes;for(const c in s){const h=[],d=s[c];for(let p=0,v=d.length;p<v;p++)h.push(d[p].clone(t));this.morphAttributes[c]=h}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,h=o.length;c<h;c++){const d=o[c];this.addGroup(d.start,d.count,d.materialIndex)}const u=e.boundingBox;u!==null&&(this.boundingBox=u.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}rn.prototype.isBufferGeometry=!0;const kO=new Xt,_p=new ac,gD=new Ju,lc=new be,cc=new be,fc=new be,yD=new be,xD=new be,_D=new be,I2=new be,L2=new be,F2=new be,O2=new ft,N2=new ft,U2=new ft,wD=new be,B2=new be;class mr extends bn{constructor(e=new rn,t=new tu){super();this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const u=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=s}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),gD.copy(r.boundingSphere),gD.applyMatrix4(s),e.ray.intersectsSphere(gD)===!1)||(kO.copy(s).invert(),_p.copy(e.ray).applyMatrix4(kO),r.boundingBox!==null&&_p.intersectsBox(r.boundingBox)===!1))return;let o;if(r.isBufferGeometry){const u=r.index,l=r.attributes.position,c=r.morphAttributes.position,h=r.morphTargetsRelative,d=r.attributes.uv,p=r.attributes.uv2,v=r.groups,S=r.drawRange;if(u!==null)if(Array.isArray(i))for(let w=0,T=v.length;w<T;w++){const x=v[w],E=i[x.materialIndex],O=Math.max(x.start,S.start),C=Math.min(u.count,Math.min(x.start+x.count,S.start+S.count));for(let N=O,$=C;N<$;N+=3){const M=u.getX(N),L=u.getX(N+1),V=u.getX(N+2);o=z2(this,E,e,_p,l,c,h,d,p,M,L,V),o&&(o.faceIndex=Math.floor(N/3),o.face.materialIndex=x.materialIndex,t.push(o))}}else{const w=Math.max(0,S.start),T=Math.min(u.count,S.start+S.count);for(let x=w,E=T;x<E;x+=3){const O=u.getX(x),C=u.getX(x+1),N=u.getX(x+2);o=z2(this,i,e,_p,l,c,h,d,p,O,C,N),o&&(o.faceIndex=Math.floor(x/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(i))for(let w=0,T=v.length;w<T;w++){const x=v[w],E=i[x.materialIndex],O=Math.max(x.start,S.start),C=Math.min(l.count,Math.min(x.start+x.count,S.start+S.count));for(let N=O,$=C;N<$;N+=3){const M=N,L=N+1,V=N+2;o=z2(this,E,e,_p,l,c,h,d,p,M,L,V),o&&(o.faceIndex=Math.floor(N/3),o.face.materialIndex=x.materialIndex,t.push(o))}}else{const w=Math.max(0,S.start),T=Math.min(l.count,S.start+S.count);for(let x=w,E=T;x<E;x+=3){const O=x,C=x+1,N=x+2;o=z2(this,i,e,_p,l,c,h,d,p,O,C,N),o&&(o.faceIndex=Math.floor(x/3),t.push(o))}}}else r.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}mr.prototype.isMesh=!0;function WQ(n,e,t,r,i,s,o,u){let l;if(e.side===wr?l=r.intersectTriangle(o,s,i,!0,u):l=r.intersectTriangle(i,s,o,e.side!==Za,u),l===null)return null;B2.copy(u),B2.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(B2);return c<t.near||c>t.far?null:{distance:c,point:B2.clone(),object:n}}function z2(n,e,t,r,i,s,o,u,l,c,h,d){lc.fromBufferAttribute(i,c),cc.fromBufferAttribute(i,h),fc.fromBufferAttribute(i,d);const p=n.morphTargetInfluences;if(s&&p){I2.set(0,0,0),L2.set(0,0,0),F2.set(0,0,0);for(let S=0,w=s.length;S<w;S++){const T=p[S],x=s[S];T!==0&&(yD.fromBufferAttribute(x,c),xD.fromBufferAttribute(x,h),_D.fromBufferAttribute(x,d),o?(I2.addScaledVector(yD,T),L2.addScaledVector(xD,T),F2.addScaledVector(_D,T)):(I2.addScaledVector(yD.sub(lc),T),L2.addScaledVector(xD.sub(cc),T),F2.addScaledVector(_D.sub(fc),T)))}lc.add(I2),cc.add(L2),fc.add(F2)}n.isSkinnedMesh&&(n.boneTransform(c,lc),n.boneTransform(h,cc),n.boneTransform(d,fc));const v=WQ(n,e,t,r,lc,cc,fc,wD);if(v){u&&(O2.fromBufferAttribute(u,c),N2.fromBufferAttribute(u,h),U2.fromBufferAttribute(u,d),v.uv=kr.getUV(wD,lc,cc,fc,O2,N2,U2,new ft)),l&&(O2.fromBufferAttribute(l,c),N2.fromBufferAttribute(l,h),U2.fromBufferAttribute(l,d),v.uv2=kr.getUV(wD,lc,cc,fc,O2,N2,U2,new ft));const S={a:c,b:h,c:d,normal:new be,materialIndex:0};kr.getNormal(lc,cc,fc,S.normal),v.face=S}return v}class tl extends rn{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super();this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const u=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],h=[],d=[];let p=0,v=0;S("z","y","x",-1,-1,r,t,e,o,s,0),S("z","y","x",1,-1,r,t,-e,o,s,1),S("x","z","y",1,1,e,r,t,i,o,2),S("x","z","y",1,-1,e,r,-t,i,o,3),S("x","y","z",1,-1,e,t,r,i,s,4),S("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new jt(c,3)),this.setAttribute("normal",new jt(h,3)),this.setAttribute("uv",new jt(d,2));function S(w,T,x,E,O,C,N,$,M,L,V){const Z=C/M,H=N/L,D=C/2,R=N/2,P=$/2,F=M+1,z=L+1;let j=0,B=0;const U=new be;for(let k=0;k<z;k++){const G=k*H-R;for(let ne=0;ne<F;ne++){const le=ne*Z-D;U[w]=le*E,U[T]=G*O,U[x]=P,c.push(U.x,U.y,U.z),U[w]=0,U[T]=0,U[x]=$>0?1:-1,h.push(U.x,U.y,U.z),d.push(ne/M),d.push(1-k/L),j+=1}}for(let k=0;k<L;k++)for(let G=0;G<M;G++){const ne=p+G+F*k,le=p+G+F*(k+1),ee=p+(G+1)+F*(k+1),J=p+(G+1)+F*k;l.push(ne,le,J),l.push(le,ee,J),B+=6}u.addGroup(v,B,V),v+=B,p+=j}}static fromJSON(e){return new tl(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function wp(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function Ji(n){const e={};for(let t=0;t<n.length;t++){const r=wp(n[t]);for(const i in r)e[i]=r[i]}return e}const bD={clone:wp,merge:Ji};var jQ=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,qQ=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class nl extends ui{constructor(e){super();this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=jQ,this.fragmentShader=qQ,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=wp(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}nl.prototype.isShaderMaterial=!0;class Of extends bn{constructor(){super();this.type="Camera",this.matrixWorldInverse=new Xt,this.projectionMatrix=new Xt,this.projectionMatrixInverse=new Xt}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}Of.prototype.isCamera=!0;class Jr extends Of{constructor(e=50,t=1,r=.1,i=2e3){super();this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Kv*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Pf*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Kv*2*Math.atan(Math.tan(Pf*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Pf*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const u=this.filmOffset;u!==0&&(s+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}Jr.prototype.isPerspectiveCamera=!0;const bp=90,Sp=1;class $2 extends bn{constructor(e,t,r){super();if(this.type="CubeCamera",r.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=r;const i=new Jr(bp,Sp,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new be(1,0,0)),this.add(i);const s=new Jr(bp,Sp,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new be(-1,0,0)),this.add(s);const o=new Jr(bp,Sp,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new be(0,1,0)),this.add(o);const u=new Jr(bp,Sp,e,t);u.layers=this.layers,u.up.set(0,0,-1),u.lookAt(new be(0,-1,0)),this.add(u);const l=new Jr(bp,Sp,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new be(0,0,1)),this.add(l);const c=new Jr(bp,Sp,e,t);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new be(0,0,-1)),this.add(c)}update(e,t){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,s,o,u,l,c]=this.children,h=e.xr.enabled,d=e.getRenderTarget();e.xr.enabled=!1;const p=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,s),e.setRenderTarget(r,2),e.render(t,o),e.setRenderTarget(r,3),e.render(t,u),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=p,e.setRenderTarget(r,5),e.render(t,c),e.setRenderTarget(d),e.xr.enabled=h}}class Ep extends Rr{constructor(e,t,r,i,s,o,u,l,c,h){e=e!==void 0?e:[],t=t!==void 0?t:bf;super(e,t,r,i,s,o,u,l,c,h);this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}Ep.prototype.isCubeTexture=!0;class G2 extends oo{constructor(e,t,r){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=r);super(e,e,t);t=t||{},this.texture=new Ep(void 0,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:hr,this.texture._needsFlipEnvMap=!1}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.format=Pr,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new tl(5,5,5),s=new nl({name:"CubemapFromEquirect",uniforms:wp(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:wr,blending:ju});s.uniforms.tEquirect.value=t;const o=new mr(i,s),u=t.minFilter;return t.minFilter===Ef&&(t.minFilter=hr),new $2(1,10,this).update(e,o),t.minFilter=u,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}G2.prototype.isWebGLCubeRenderTarget=!0;const SD=new be,XQ=new be,YQ=new zr;class nu{constructor(e=new be(1,0,0),t=0){this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=SD.subVectors(r,t).cross(XQ.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const r=e.delta(SD),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(r).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||YQ.getNormalMatrix(e),i=this.coplanarPoint(SD).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}nu.prototype.isPlane=!0;const Mp=new Ju,H2=new be;class rg{constructor(e=new nu,t=new nu,r=new nu,i=new nu,s=new nu,o=new nu){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const u=this.planes;return u[0].copy(e),u[1].copy(t),u[2].copy(r),u[3].copy(i),u[4].copy(s),u[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const t=this.planes,r=e.elements,i=r[0],s=r[1],o=r[2],u=r[3],l=r[4],c=r[5],h=r[6],d=r[7],p=r[8],v=r[9],S=r[10],w=r[11],T=r[12],x=r[13],E=r[14],O=r[15];return t[0].setComponents(u-i,d-l,w-p,O-T).normalize(),t[1].setComponents(u+i,d+l,w+p,O+T).normalize(),t[2].setComponents(u+s,d+c,w+v,O+x).normalize(),t[3].setComponents(u-s,d-c,w-v,O-x).normalize(),t[4].setComponents(u-o,d-h,w-S,O-E).normalize(),t[5].setComponents(u+o,d+h,w+S,O+E).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),Mp.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Mp)}intersectsSprite(e){return Mp.center.set(0,0,0),Mp.radius=.7071067811865476,Mp.applyMatrix4(e.matrixWorld),this.intersectsSphere(Mp)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(H2.x=i.normal.x>0?e.max.x:e.min.x,H2.y=i.normal.y>0?e.max.y:e.min.y,H2.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(H2)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function IO(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function JQ(n,e){const t=e.isWebGL2,r=new WeakMap;function i(c,h){const d=c.array,p=c.usage,v=n.createBuffer();n.bindBuffer(h,v),n.bufferData(h,d,p),c.onUploadCallback();let S=5126;return d instanceof Float32Array?S=5126:d instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):d instanceof Uint16Array?c.isFloat16BufferAttribute?t?S=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):S=5123:d instanceof Int16Array?S=5122:d instanceof Uint32Array?S=5125:d instanceof Int32Array?S=5124:d instanceof Int8Array?S=5120:(d instanceof Uint8Array||d instanceof Uint8ClampedArray)&&(S=5121),{buffer:v,type:S,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version}}function s(c,h,d){const p=h.array,v=h.updateRange;n.bindBuffer(d,c),v.count===-1?n.bufferSubData(d,0,p):(t?n.bufferSubData(d,v.offset*p.BYTES_PER_ELEMENT,p,v.offset,v.count):n.bufferSubData(d,v.offset*p.BYTES_PER_ELEMENT,p.subarray(v.offset,v.offset+v.count)),v.count=-1)}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function u(c){c.isInterleavedBufferAttribute&&(c=c.data);const h=r.get(c);h&&(n.deleteBuffer(h.buffer),r.delete(c))}function l(c,h){if(c.isGLBufferAttribute){const p=r.get(c);(!p||p.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const d=r.get(c);d===void 0?r.set(c,i(c,h)):d.version<c.version&&(s(d.buffer,c,h),d.version=c.version)}return{get:o,remove:u,update:l}}class ru extends rn{constructor(e=1,t=1,r=1,i=1){super();this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,u=Math.floor(r),l=Math.floor(i),c=u+1,h=l+1,d=e/u,p=t/l,v=[],S=[],w=[],T=[];for(let x=0;x<h;x++){const E=x*p-o;for(let O=0;O<c;O++){const C=O*d-s;S.push(C,-E,0),w.push(0,0,1),T.push(O/u),T.push(1-x/l)}}for(let x=0;x<l;x++)for(let E=0;E<u;E++){const O=E+c*x,C=E+c*(x+1),N=E+1+c*(x+1),$=E+1+c*x;v.push(O,C,$),v.push(C,N,$)}this.setIndex(v),this.setAttribute("position",new jt(S,3)),this.setAttribute("normal",new jt(w,3)),this.setAttribute("uv",new jt(T,2))}static fromJSON(e){return new ru(e.width,e.height,e.widthSegments,e.heightSegments)}}var KQ=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,ZQ=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,QQ=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,eee=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,tee=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,nee=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,ree="vec3 transformed = vec3( position );",iee=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,see=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,oee=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,aee=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,uee=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,lee=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,cee=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,fee=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,hee=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,dee=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,pee=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,mee=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,vee=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_maxMipLevel 8.0
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_maxTileSize 256.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		float texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 ) + 0.5;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		if ( mipInt < cubeUV_maxMipLevel ) {
			uv.y += 2.0 * cubeUV_maxTileSize;
		}
		uv.y += filterInt * 2.0 * cubeUV_minTileSize;
		uv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );
		uv *= texelSize;
		return texture2D( envMap, uv ).rgb;
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,gee=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,yee=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,xee=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,_ee=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,wee=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,bee="gl_FragColor = linearToOutputTexel( gl_FragColor );",See=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Eee=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
		envColor = envMapTexelToLinear( envColor );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Mee=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Dee=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Aee=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Tee=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Cee=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Pee=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Ree=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,kee=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Iee=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,Lee=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		lightMapIrradiance *= PI;
	#endif
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,Fee=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Oee=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,Nee=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Uee=`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec;
			#ifdef ENVMAP_MODE_REFLECTION
				reflectVec = reflect( - viewDir, normal );
				reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			#else
				reflectVec = refract( - viewDir, normal, refractionRatio );
			#endif
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,Bee=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,zee=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,$ee=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Gee=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,Hee=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= specularColorMapTexelToLinear( texture2D( specularColorMap, vUv ) ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= sheenColorMapTexelToLinear( texture2D( sheenColorMap, vUv ) ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,Vee=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	vec3 FssEss = specularColor * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Wee=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,jee=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,qee=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,Xee=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Yee=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Jee=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,Kee=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Zee=`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,Qee=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,ete=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,tte=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,nte=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,rte=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,ite=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] > 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1, 2 ) * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,ste=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform vec2 morphTargetsTextureSize;
		vec3 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset, const in int stride ) {
			float texelIndex = float( vertexIndex * stride + offset );
			float y = floor( texelIndex / morphTargetsTextureSize.x );
			float x = texelIndex - y * morphTargetsTextureSize.x;
			vec3 morphUV = vec3( ( x + 0.5 ) / morphTargetsTextureSize.x, y / morphTargetsTextureSize.y, morphTargetIndex );
			return texture( morphTargetsTexture, morphUV ).xyz;
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,ote=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			#ifndef USE_MORPHNORMALS
				if ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 1 ) * morphTargetInfluences[ i ];
			#else
				if ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 2 ) * morphTargetInfluences[ i ];
			#endif
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,ate=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,ute=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,lte=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,cte=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,fte=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,hte=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,dte=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,pte=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,mte=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,vte=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,gte=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,yte=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,xte=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,_te=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,wte=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,bte=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Ste=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Ete=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Mte=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Dte=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,Ate=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Tte=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Cte=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,Pte=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Rte=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,kte=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Ite=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Lte=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Fte=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Ote=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,Nte=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( float roughness, float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( vec2 fragCoord, float roughness, float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef TEXTURE_LOD_EXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( vec3 radiance, float transmissionDistance, vec3 attenuationColor, float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( vec3 n, vec3 v, float roughness, vec3 diffuseColor, vec3 specularColor, float specularF90,
		vec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness,
		vec3 attenuationColor, float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,Ute=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,Bte=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,zte=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,$te=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,Gte=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,Hte=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,Vte=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Wte=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,jte=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,qte=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Xte=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Yte=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Jte=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Kte=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Zte=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Qte=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,ene=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,tne=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,nne=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,rne=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,ine=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,sne=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,one=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ane=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,une=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,lne=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,cne=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,fne=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,hne=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,dne=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,pne=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,mne=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,vne=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gne=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,yne=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,xne=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,_ne=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,wne=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,bne=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,_n={alphamap_fragment:KQ,alphamap_pars_fragment:ZQ,alphatest_fragment:QQ,alphatest_pars_fragment:eee,aomap_fragment:tee,aomap_pars_fragment:nee,begin_vertex:ree,beginnormal_vertex:iee,bsdfs:see,bumpmap_pars_fragment:oee,clipping_planes_fragment:aee,clipping_planes_pars_fragment:uee,clipping_planes_pars_vertex:lee,clipping_planes_vertex:cee,color_fragment:fee,color_pars_fragment:hee,color_pars_vertex:dee,color_vertex:pee,common:mee,cube_uv_reflection_fragment:vee,defaultnormal_vertex:gee,displacementmap_pars_vertex:yee,displacementmap_vertex:xee,emissivemap_fragment:_ee,emissivemap_pars_fragment:wee,encodings_fragment:bee,encodings_pars_fragment:See,envmap_fragment:Eee,envmap_common_pars_fragment:Mee,envmap_pars_fragment:Dee,envmap_pars_vertex:Aee,envmap_physical_pars_fragment:Uee,envmap_vertex:Tee,fog_vertex:Cee,fog_pars_vertex:Pee,fog_fragment:Ree,fog_pars_fragment:kee,gradientmap_pars_fragment:Iee,lightmap_fragment:Lee,lightmap_pars_fragment:Fee,lights_lambert_vertex:Oee,lights_pars_begin:Nee,lights_toon_fragment:Bee,lights_toon_pars_fragment:zee,lights_phong_fragment:$ee,lights_phong_pars_fragment:Gee,lights_physical_fragment:Hee,lights_physical_pars_fragment:Vee,lights_fragment_begin:Wee,lights_fragment_maps:jee,lights_fragment_end:qee,logdepthbuf_fragment:Xee,logdepthbuf_pars_fragment:Yee,logdepthbuf_pars_vertex:Jee,logdepthbuf_vertex:Kee,map_fragment:Zee,map_pars_fragment:Qee,map_particle_fragment:ete,map_particle_pars_fragment:tte,metalnessmap_fragment:nte,metalnessmap_pars_fragment:rte,morphnormal_vertex:ite,morphtarget_pars_vertex:ste,morphtarget_vertex:ote,normal_fragment_begin:ate,normal_fragment_maps:ute,normal_pars_fragment:lte,normal_pars_vertex:cte,normal_vertex:fte,normalmap_pars_fragment:hte,clearcoat_normal_fragment_begin:dte,clearcoat_normal_fragment_maps:pte,clearcoat_pars_fragment:mte,output_fragment:vte,packing:gte,premultiplied_alpha_fragment:yte,project_vertex:xte,dithering_fragment:_te,dithering_pars_fragment:wte,roughnessmap_fragment:bte,roughnessmap_pars_fragment:Ste,shadowmap_pars_fragment:Ete,shadowmap_pars_vertex:Mte,shadowmap_vertex:Dte,shadowmask_pars_fragment:Ate,skinbase_vertex:Tte,skinning_pars_vertex:Cte,skinning_vertex:Pte,skinnormal_vertex:Rte,specularmap_fragment:kte,specularmap_pars_fragment:Ite,tonemapping_fragment:Lte,tonemapping_pars_fragment:Fte,transmission_fragment:Ote,transmission_pars_fragment:Nte,uv_pars_fragment:Ute,uv_pars_vertex:Bte,uv_vertex:zte,uv2_pars_fragment:$te,uv2_pars_vertex:Gte,uv2_vertex:Hte,worldpos_vertex:Vte,background_vert:Wte,background_frag:jte,cube_vert:qte,cube_frag:Xte,depth_vert:Yte,depth_frag:Jte,distanceRGBA_vert:Kte,distanceRGBA_frag:Zte,equirect_vert:Qte,equirect_frag:ene,linedashed_vert:tne,linedashed_frag:nne,meshbasic_vert:rne,meshbasic_frag:ine,meshlambert_vert:sne,meshlambert_frag:one,meshmatcap_vert:ane,meshmatcap_frag:une,meshnormal_vert:lne,meshnormal_frag:cne,meshphong_vert:fne,meshphong_frag:hne,meshphysical_vert:dne,meshphysical_frag:pne,meshtoon_vert:mne,meshtoon_frag:vne,points_vert:gne,points_frag:yne,shadow_vert:xne,shadow_frag:_ne,sprite_vert:wne,sprite_frag:bne},Rt={common:{diffuse:{value:new Pt(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new zr},uv2Transform:{value:new zr},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ft(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Pt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Pt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new zr}},sprite:{diffuse:{value:new Pt(16777215)},opacity:{value:1},center:{value:new ft(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new zr}}},ga={basic:{uniforms:Ji([Rt.common,Rt.specularmap,Rt.envmap,Rt.aomap,Rt.lightmap,Rt.fog]),vertexShader:_n.meshbasic_vert,fragmentShader:_n.meshbasic_frag},lambert:{uniforms:Ji([Rt.common,Rt.specularmap,Rt.envmap,Rt.aomap,Rt.lightmap,Rt.emissivemap,Rt.fog,Rt.lights,{emissive:{value:new Pt(0)}}]),vertexShader:_n.meshlambert_vert,fragmentShader:_n.meshlambert_frag},phong:{uniforms:Ji([Rt.common,Rt.specularmap,Rt.envmap,Rt.aomap,Rt.lightmap,Rt.emissivemap,Rt.bumpmap,Rt.normalmap,Rt.displacementmap,Rt.fog,Rt.lights,{emissive:{value:new Pt(0)},specular:{value:new Pt(1118481)},shininess:{value:30}}]),vertexShader:_n.meshphong_vert,fragmentShader:_n.meshphong_frag},standard:{uniforms:Ji([Rt.common,Rt.envmap,Rt.aomap,Rt.lightmap,Rt.emissivemap,Rt.bumpmap,Rt.normalmap,Rt.displacementmap,Rt.roughnessmap,Rt.metalnessmap,Rt.fog,Rt.lights,{emissive:{value:new Pt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:_n.meshphysical_vert,fragmentShader:_n.meshphysical_frag},toon:{uniforms:Ji([Rt.common,Rt.aomap,Rt.lightmap,Rt.emissivemap,Rt.bumpmap,Rt.normalmap,Rt.displacementmap,Rt.gradientmap,Rt.fog,Rt.lights,{emissive:{value:new Pt(0)}}]),vertexShader:_n.meshtoon_vert,fragmentShader:_n.meshtoon_frag},matcap:{uniforms:Ji([Rt.common,Rt.bumpmap,Rt.normalmap,Rt.displacementmap,Rt.fog,{matcap:{value:null}}]),vertexShader:_n.meshmatcap_vert,fragmentShader:_n.meshmatcap_frag},points:{uniforms:Ji([Rt.points,Rt.fog]),vertexShader:_n.points_vert,fragmentShader:_n.points_frag},dashed:{uniforms:Ji([Rt.common,Rt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:_n.linedashed_vert,fragmentShader:_n.linedashed_frag},depth:{uniforms:Ji([Rt.common,Rt.displacementmap]),vertexShader:_n.depth_vert,fragmentShader:_n.depth_frag},normal:{uniforms:Ji([Rt.common,Rt.bumpmap,Rt.normalmap,Rt.displacementmap,{opacity:{value:1}}]),vertexShader:_n.meshnormal_vert,fragmentShader:_n.meshnormal_frag},sprite:{uniforms:Ji([Rt.sprite,Rt.fog]),vertexShader:_n.sprite_vert,fragmentShader:_n.sprite_frag},background:{uniforms:{uvTransform:{value:new zr},t2D:{value:null}},vertexShader:_n.background_vert,fragmentShader:_n.background_frag},cube:{uniforms:Ji([Rt.envmap,{opacity:{value:1}}]),vertexShader:_n.cube_vert,fragmentShader:_n.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:_n.equirect_vert,fragmentShader:_n.equirect_frag},distanceRGBA:{uniforms:Ji([Rt.common,Rt.displacementmap,{referencePosition:{value:new be},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:_n.distanceRGBA_vert,fragmentShader:_n.distanceRGBA_frag},shadow:{uniforms:Ji([Rt.lights,Rt.fog,{color:{value:new Pt(0)},opacity:{value:1}}]),vertexShader:_n.shadow_vert,fragmentShader:_n.shadow_frag}};ga.physical={uniforms:Ji([ga.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new ft(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new Pt(0)},sheenColorMap:{value:null},sheenRoughness:{value:0},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new ft},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Pt(0)},specularIntensity:{value:0},specularIntensityMap:{value:null},specularColor:{value:new Pt(1,1,1)},specularColorMap:{value:null}}]),vertexShader:_n.meshphysical_vert,fragmentShader:_n.meshphysical_frag};function Sne(n,e,t,r,i){const s=new Pt(0);let o=0,u,l,c=null,h=0,d=null;function p(S,w){let T=!1,x=w.isScene===!0?w.background:null;x&&x.isTexture&&(x=e.get(x));const E=n.xr,O=E.getSession&&E.getSession();O&&O.environmentBlendMode==="additive"&&(x=null),x===null?v(s,o):x&&x.isColor&&(v(x,1),T=!0),(n.autoClear||T)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),x&&(x.isCubeTexture||x.mapping===op)?(l===void 0&&(l=new mr(new tl(1,1,1),new nl({name:"BackgroundCubeMaterial",uniforms:wp(ga.cube.uniforms),vertexShader:ga.cube.vertexShader,fragmentShader:ga.cube.fragmentShader,side:wr,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),l.geometry.deleteAttribute("uv"),l.onBeforeRender=function(C,N,$){this.matrixWorld.copyPosition($.matrixWorld)},Object.defineProperty(l.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(l)),l.material.uniforms.envMap.value=x,l.material.uniforms.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,(c!==x||h!==x.version||d!==n.toneMapping)&&(l.material.needsUpdate=!0,c=x,h=x.version,d=n.toneMapping),S.unshift(l,l.geometry,l.material,0,0,null)):x&&x.isTexture&&(u===void 0&&(u=new mr(new ru(2,2),new nl({name:"BackgroundMaterial",uniforms:wp(ga.background.uniforms),vertexShader:ga.background.vertexShader,fragmentShader:ga.background.fragmentShader,side:Ql,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(u)),u.material.uniforms.t2D.value=x,x.matrixAutoUpdate===!0&&x.updateMatrix(),u.material.uniforms.uvTransform.value.copy(x.matrix),(c!==x||h!==x.version||d!==n.toneMapping)&&(u.material.needsUpdate=!0,c=x,h=x.version,d=n.toneMapping),S.unshift(u,u.geometry,u.material,0,0,null))}function v(S,w){t.buffers.color.setClear(S.r,S.g,S.b,w,i)}return{getClearColor:function(){return s},setClearColor:function(S,w=1){s.set(S),o=w,v(s,o)},getClearAlpha:function(){return o},setClearAlpha:function(S){o=S,v(s,o)},render:p}}function Ene(n,e,t,r){const i=n.getParameter(34921),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,u={},l=w(null);let c=l;function h(R,P,F,z,j){let B=!1;if(o){const U=S(z,F,P);c!==U&&(c=U,p(c.object)),B=T(z,j),B&&x(z,j)}else{const U=P.wireframe===!0;(c.geometry!==z.id||c.program!==F.id||c.wireframe!==U)&&(c.geometry=z.id,c.program=F.id,c.wireframe=U,B=!0)}R.isInstancedMesh===!0&&(B=!0),j!==null&&t.update(j,34963),B&&(M(R,P,F,z),j!==null&&n.bindBuffer(34963,t.get(j).buffer))}function d(){return r.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function p(R){return r.isWebGL2?n.bindVertexArray(R):s.bindVertexArrayOES(R)}function v(R){return r.isWebGL2?n.deleteVertexArray(R):s.deleteVertexArrayOES(R)}function S(R,P,F){const z=F.wireframe===!0;let j=u[R.id];j===void 0&&(j={},u[R.id]=j);let B=j[P.id];B===void 0&&(B={},j[P.id]=B);let U=B[z];return U===void 0&&(U=w(d()),B[z]=U),U}function w(R){const P=[],F=[],z=[];for(let j=0;j<i;j++)P[j]=0,F[j]=0,z[j]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:P,enabledAttributes:F,attributeDivisors:z,object:R,attributes:{},index:null}}function T(R,P){const F=c.attributes,z=R.attributes;let j=0;for(const B in z){const U=F[B],k=z[B];if(U===void 0||U.attribute!==k||U.data!==k.data)return!0;j++}return c.attributesNum!==j||c.index!==P}function x(R,P){const F={},z=R.attributes;let j=0;for(const B in z){const U=z[B],k={};k.attribute=U,U.data&&(k.data=U.data),F[B]=k,j++}c.attributes=F,c.attributesNum=j,c.index=P}function E(){const R=c.newAttributes;for(let P=0,F=R.length;P<F;P++)R[P]=0}function O(R){C(R,0)}function C(R,P){const F=c.newAttributes,z=c.enabledAttributes,j=c.attributeDivisors;F[R]=1,z[R]===0&&(n.enableVertexAttribArray(R),z[R]=1),j[R]!==P&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](R,P),j[R]=P)}function N(){const R=c.newAttributes,P=c.enabledAttributes;for(let F=0,z=P.length;F<z;F++)P[F]!==R[F]&&(n.disableVertexAttribArray(F),P[F]=0)}function $(R,P,F,z,j,B){r.isWebGL2===!0&&(F===5124||F===5125)?n.vertexAttribIPointer(R,P,F,j,B):n.vertexAttribPointer(R,P,F,z,j,B)}function M(R,P,F,z){if(r.isWebGL2===!1&&(R.isInstancedMesh||z.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;E();const j=z.attributes,B=F.getAttributes(),U=P.defaultAttributeValues;for(const k in B){const G=B[k];if(G.location>=0){let ne=j[k];if(ne===void 0&&(k==="instanceMatrix"&&R.instanceMatrix&&(ne=R.instanceMatrix),k==="instanceColor"&&R.instanceColor&&(ne=R.instanceColor)),ne!==void 0){const le=ne.normalized,ee=ne.itemSize,J=t.get(ne);if(J===void 0)continue;const de=J.buffer,se=J.type,ue=J.bytesPerElement;if(ne.isInterleavedBufferAttribute){const oe=ne.data,W=oe.stride,ce=ne.offset;if(oe&&oe.isInstancedInterleavedBuffer){for(let ye=0;ye<G.locationSize;ye++)C(G.location+ye,oe.meshPerAttribute);R.isInstancedMesh!==!0&&z._maxInstanceCount===void 0&&(z._maxInstanceCount=oe.meshPerAttribute*oe.count)}else for(let ye=0;ye<G.locationSize;ye++)O(G.location+ye);n.bindBuffer(34962,de);for(let ye=0;ye<G.locationSize;ye++)$(G.location+ye,ee/G.locationSize,se,le,W*ue,(ce+ee/G.locationSize*ye)*ue)}else{if(ne.isInstancedBufferAttribute){for(let oe=0;oe<G.locationSize;oe++)C(G.location+oe,ne.meshPerAttribute);R.isInstancedMesh!==!0&&z._maxInstanceCount===void 0&&(z._maxInstanceCount=ne.meshPerAttribute*ne.count)}else for(let oe=0;oe<G.locationSize;oe++)O(G.location+oe);n.bindBuffer(34962,de);for(let oe=0;oe<G.locationSize;oe++)$(G.location+oe,ee/G.locationSize,se,le,ee*ue,ee/G.locationSize*oe*ue)}}else if(U!==void 0){const le=U[k];if(le!==void 0)switch(le.length){case 2:n.vertexAttrib2fv(G.location,le);break;case 3:n.vertexAttrib3fv(G.location,le);break;case 4:n.vertexAttrib4fv(G.location,le);break;default:n.vertexAttrib1fv(G.location,le)}}}}N()}function L(){H();for(const R in u){const P=u[R];for(const F in P){const z=P[F];for(const j in z)v(z[j].object),delete z[j];delete P[F]}delete u[R]}}function V(R){if(u[R.id]===void 0)return;const P=u[R.id];for(const F in P){const z=P[F];for(const j in z)v(z[j].object),delete z[j];delete P[F]}delete u[R.id]}function Z(R){for(const P in u){const F=u[P];if(F[R.id]===void 0)continue;const z=F[R.id];for(const j in z)v(z[j].object),delete z[j];delete F[R.id]}}function H(){D(),c!==l&&(c=l,p(c.object))}function D(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:h,reset:H,resetDefaultState:D,dispose:L,releaseStatesOfGeometry:V,releaseStatesOfProgram:Z,initAttributes:E,enableAttribute:O,disableUnusedAttributes:N}}function Mne(n,e,t,r){const i=r.isWebGL2;let s;function o(c){s=c}function u(c,h){n.drawArrays(s,c,h),t.update(h,s,1)}function l(c,h,d){if(d===0)return;let p,v;if(i)p=n,v="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),v="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[v](s,c,h,d),t.update(h,s,d)}this.setMode=o,this.render=u,this.renderInstances=l}function Dne(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const M=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(M.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(M){if(M==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";M="mediump"}return M==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext!="undefined"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext!="undefined"&&n instanceof WebGL2ComputeRenderingContext;let u=t.precision!==void 0?t.precision:"highp";const l=s(u);l!==u&&(console.warn("THREE.WebGLRenderer:",u,"not supported, using",l,"instead."),u=l);const c=o||e.has("WEBGL_draw_buffers"),h=t.logarithmicDepthBuffer===!0,d=n.getParameter(34930),p=n.getParameter(35660),v=n.getParameter(3379),S=n.getParameter(34076),w=n.getParameter(34921),T=n.getParameter(36347),x=n.getParameter(36348),E=n.getParameter(36349),O=p>0,C=o||e.has("OES_texture_float"),N=O&&C,$=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:s,precision:u,logarithmicDepthBuffer:h,maxTextures:d,maxVertexTextures:p,maxTextureSize:v,maxCubemapSize:S,maxAttributes:w,maxVertexUniforms:T,maxVaryings:x,maxFragmentUniforms:E,vertexTextures:O,floatFragmentTextures:C,floatVertexTextures:N,maxSamples:$}}function Ane(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new nu,u=new zr,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,p,v){const S=d.length!==0||p||r!==0||i;return i=p,t=h(d,v,0),r=d.length,S},this.beginShadows=function(){s=!0,h(null)},this.endShadows=function(){s=!1,c()},this.setState=function(d,p,v){const S=d.clippingPlanes,w=d.clipIntersection,T=d.clipShadows,x=n.get(d);if(!i||S===null||S.length===0||s&&!T)s?h(null):c();else{const E=s?0:r,O=E*4;let C=x.clippingState||null;l.value=C,C=h(S,p,O,v);for(let N=0;N!==O;++N)C[N]=t[N];x.clippingState=C,this.numIntersection=w?this.numPlanes:0,this.numPlanes+=E}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function h(d,p,v,S){const w=d!==null?d.length:0;let T=null;if(w!==0){if(T=l.value,S!==!0||T===null){const x=v+w*4,E=p.matrixWorldInverse;u.getNormalMatrix(E),(T===null||T.length<x)&&(T=new Float32Array(x));for(let O=0,C=v;O!==w;++O,C+=4)o.copy(d[O]).applyMatrix4(E,u),o.normal.toArray(T,C),T[C+3]=o.constant}l.value=T,l.needsUpdate=!0}return e.numPlanes=w,e.numIntersection=0,T}}function Tne(n){let e=new WeakMap;function t(o,u){return u===Gv?o.mapping=bf:u===Hv&&(o.mapping=Sf),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const u=o.mapping;if(u===Gv||u===Hv)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=n.getRenderTarget(),h=new G2(l.height/2);return h.fromEquirectangularTexture(n,o),e.set(o,h),n.setRenderTarget(c),o.addEventListener("dispose",i),t(h.texture,o.mapping)}else return null}}return o}function i(o){const u=o.target;u.removeEventListener("dispose",i);const l=e.get(u);l!==void 0&&(e.delete(u),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class Dp extends Of{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super();this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,u=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,u-=h*this.view.offsetY,l=u-h*this.view.height}this.projectionMatrix.makeOrthographic(s,o,u,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}Dp.prototype.isOrthographicCamera=!0;class Ap extends nl{constructor(e){super(e);this.type="RawShaderMaterial"}}Ap.prototype.isRawShaderMaterial=!0;const Tp=4,hc=8,iu=Math.pow(2,hc),LO=[.125,.215,.35,.446,.526,.582],FO=hc-Tp+1+LO.length,Cp=20,V2={[Fo]:0,[Xu]:1},ED=new Dp,{_lodPlanes:ig,_sizeLods:OO,_sigmas:W2}=Cne(),NO=new Pt;let MD=null;const Nf=(1+Math.sqrt(5))/2,Pp=1/Nf,UO=[new be(1,1,1),new be(-1,1,1),new be(1,1,-1),new be(-1,1,-1),new be(0,Nf,Pp),new be(0,Nf,-Pp),new be(Pp,0,Nf),new be(-Pp,0,Nf),new be(Nf,Pp,0),new be(-Nf,Pp,0)];class BO{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=Pne(Cp),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){MD=this._renderer.getRenderTarget();const s=this._allocateTargets();return this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e){return this._fromTexture(e)}fromCubemap(e){return this._fromTexture(e)}compileCubemapShader(){this._cubemapShader===null&&(this._cubemapShader=GO(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){this._equirectShader===null&&(this._equirectShader=$O(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),this._cubemapShader!==null&&this._cubemapShader.dispose(),this._equirectShader!==null&&this._equirectShader.dispose();for(let e=0;e<ig.length;e++)ig[e].dispose()}_cleanup(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(MD),e.scissorTest=!1,j2(e,0,0,e.width,e.height)}_fromTexture(e){MD=this._renderer.getRenderTarget();const t=this._allocateTargets(e);return this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t}_allocateTargets(e){const t={magFilter:hr,minFilter:hr,generateMipmaps:!1,type:ec,format:Pr,encoding:Fo,depthBuffer:!1},r=zO(t);return r.depthBuffer=!e,this._pingPongRenderTarget=zO(t),r}_compileMaterial(e){const t=new mr(ig[0],e);this._renderer.compile(t,ED)}_sceneToCubeUV(e,t,r,i){const s=90,o=1,u=new Jr(s,o,t,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],h=this._renderer,d=h.autoClear,p=h.toneMapping;h.getClearColor(NO),h.toneMapping=qu,h.autoClear=!1;const v=new tu({name:"PMREM.Background",side:wr,depthWrite:!1,depthTest:!1}),S=new mr(new tl,v);let w=!1;const T=e.background;T?T.isColor&&(v.color.copy(T),e.background=null,w=!0):(v.color.copy(NO),w=!0);for(let x=0;x<6;x++){const E=x%3;E==0?(u.up.set(0,l[x],0),u.lookAt(c[x],0,0)):E==1?(u.up.set(0,0,l[x]),u.lookAt(0,c[x],0)):(u.up.set(0,l[x],0),u.lookAt(0,0,c[x])),j2(i,E*iu,x>2?iu:0,iu,iu),h.setRenderTarget(i),w&&h.render(S,u),h.render(e,u)}S.geometry.dispose(),S.material.dispose(),h.toneMapping=p,h.autoClear=d,e.background=T}_setEncoding(e,t){this._renderer.capabilities.isWebGL2===!0&&t.format===Pr&&t.type===Qa&&t.encoding===Xu?e.value=V2[Fo]:e.value=V2[t.encoding]}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===bf||e.mapping===Sf;i?this._cubemapShader==null&&(this._cubemapShader=GO()):this._equirectShader==null&&(this._equirectShader=$O());const s=i?this._cubemapShader:this._equirectShader,o=new mr(ig[0],s),u=s.uniforms;u.envMap.value=e,i||u.texelSize.value.set(1/e.image.width,1/e.image.height),this._setEncoding(u.inputEncoding,e),j2(t,0,0,3*iu,2*iu),r.setRenderTarget(t),r.render(o,ED)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<FO;i++){const s=Math.sqrt(W2[i]*W2[i]-W2[i-1]*W2[i-1]),o=UO[(i-1)%UO.length];this._blur(e,i-1,i,s,o)}t.autoClear=r}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,u){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const h=3,d=new mr(ig[i],c),p=c.uniforms,v=OO[r]-1,S=isFinite(s)?Math.PI/(2*v):2*Math.PI/(2*Cp-1),w=s/S,T=isFinite(s)?1+Math.floor(h*w):Cp;T>Cp&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${T} samples when the maximum is set to ${Cp}`);const x=[];let E=0;for(let $=0;$<Cp;++$){const M=$/w,L=Math.exp(-M*M/2);x.push(L),$==0?E+=L:$<T&&(E+=2*L)}for(let $=0;$<x.length;$++)x[$]=x[$]/E;p.envMap.value=e.texture,p.samples.value=T,p.weights.value=x,p.latitudinal.value=o==="latitudinal",u&&(p.poleAxis.value=u),p.dTheta.value=S,p.mipInt.value=hc-r;const O=OO[i],C=3*Math.max(0,iu-2*O),N=(i===0?0:2*iu)+2*O*(i>hc-Tp?i-hc+Tp:0);j2(t,C,N,3*O,2*O),l.setRenderTarget(t),l.render(d,ED)}}function Cne(){const n=[],e=[],t=[];let r=hc;for(let i=0;i<FO;i++){const s=Math.pow(2,r);e.push(s);let o=1/s;i>hc-Tp?o=LO[i-hc+Tp-1]:i==0&&(o=0),t.push(o);const u=1/(s-1),l=-u/2,c=1+u/2,h=[l,l,c,l,c,c,l,l,c,c,l,c],d=6,p=6,v=3,S=2,w=1,T=new Float32Array(v*p*d),x=new Float32Array(S*p*d),E=new Float32Array(w*p*d);for(let C=0;C<d;C++){const N=C%3*2/3-1,$=C>2?0:-1,M=[N,$,0,N+2/3,$,0,N+2/3,$+1,0,N,$,0,N+2/3,$+1,0,N,$+1,0];T.set(M,v*p*C),x.set(h,S*p*C);const L=[C,C,C,C,C,C];E.set(L,w*p*C)}const O=new rn;O.setAttribute("position",new Tn(T,v)),O.setAttribute("uv",new Tn(x,S)),O.setAttribute("faceIndex",new Tn(E,w)),n.push(O),r>Tp&&r--}return{_lodPlanes:n,_sizeLods:e,_sigmas:t}}function zO(n){const e=new oo(3*iu,3*iu,n);return e.texture.mapping=op,e.texture.name="PMREM.cubeUv",e.scissorTest=!0,e}function j2(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function Pne(n){const e=new Float32Array(n),t=new be(0,1,0);return new Ap({name:"SphericalGaussianBlur",defines:{n},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:e},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:t}},vertexShader:DD(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			${AD()}

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:ju,depthTest:!1,depthWrite:!1})}function $O(){const n=new ft(1,1);return new Ap({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:n},inputEncoding:{value:V2[Fo]}},vertexShader:DD(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform vec2 texelSize;

			${AD()}

			#include <common>

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				vec2 f = fract( uv / texelSize - 0.5 );
				uv -= f * texelSize;
				vec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x += texelSize.x;
				vec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.y += texelSize.y;
				vec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x -= texelSize.x;
				vec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;

				vec3 tm = mix( tl, tr, f.x );
				vec3 bm = mix( bl, br, f.x );
				gl_FragColor.rgb = mix( tm, bm, f.y );

			}
		`,blending:ju,depthTest:!1,depthWrite:!1})}function GO(){return new Ap({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:V2[Fo]}},vertexShader:DD(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			${AD()}

			void main() {

				gl_FragColor = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) );

			}
		`,blending:ju,depthTest:!1,depthWrite:!1})}function DD(){return`

		precision mediump float;
		precision mediump int;

		attribute vec3 position;
		attribute vec2 uv;
		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function AD(){return`

		uniform int inputEncoding;

		#include <encodings_pars_fragment>

		vec4 inputTexelToLinear( vec4 value ) {

			if ( inputEncoding == 0 ) {

				return value;

			} else {

				return sRGBToLinear( value );

			}

		}

		vec4 envMapTexelToLinear( vec4 color ) {

			return inputTexelToLinear( color );

		}
	`}function Rne(n){let e=new WeakMap,t=null;function r(u){if(u&&u.isTexture&&u.isRenderTargetTexture===!1){const l=u.mapping,c=l===Gv||l===Hv,h=l===bf||l===Sf;if(c||h){if(e.has(u))return e.get(u).texture;{const d=u.image;if(c&&d&&d.height>0||h&&d&&i(d)){const p=n.getRenderTarget();t===null&&(t=new BO(n));const v=c?t.fromEquirectangular(u):t.fromCubemap(u);return e.set(u,v),n.setRenderTarget(p),u.addEventListener("dispose",s),v.texture}else return null}}}return u}function i(u){let l=0;const c=6;for(let h=0;h<c;h++)u[h]!==void 0&&l++;return l===c}function s(u){const l=u.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function kne(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Ine(n,e,t,r){const i={},s=new WeakMap;function o(d){const p=d.target;p.index!==null&&e.remove(p.index);for(const S in p.attributes)e.remove(p.attributes[S]);p.removeEventListener("dispose",o),delete i[p.id];const v=s.get(p);v&&(e.remove(v),s.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function u(d,p){return i[p.id]===!0||(p.addEventListener("dispose",o),i[p.id]=!0,t.memory.geometries++),p}function l(d){const p=d.attributes;for(const S in p)e.update(p[S],34962);const v=d.morphAttributes;for(const S in v){const w=v[S];for(let T=0,x=w.length;T<x;T++)e.update(w[T],34962)}}function c(d){const p=[],v=d.index,S=d.attributes.position;let w=0;if(v!==null){const E=v.array;w=v.version;for(let O=0,C=E.length;O<C;O+=3){const N=E[O+0],$=E[O+1],M=E[O+2];p.push(N,$,$,M,M,N)}}else{const E=S.array;w=S.version;for(let O=0,C=E.length/3-1;O<C;O+=3){const N=O+0,$=O+1,M=O+2;p.push(N,$,$,M,M,N)}}const T=new(hO(p)>65535?k2:R2)(p,1);T.version=w;const x=s.get(d);x&&e.remove(x),s.set(d,T)}function h(d){const p=s.get(d);if(p){const v=d.index;v!==null&&p.version<v.version&&c(d)}else c(d);return s.get(d)}return{get:u,update:l,getWireframeAttribute:h}}function Lne(n,e,t,r){const i=r.isWebGL2;let s;function o(p){s=p}let u,l;function c(p){u=p.type,l=p.bytesPerElement}function h(p,v){n.drawElements(s,v,u,p*l),t.update(v,s,1)}function d(p,v,S){if(S===0)return;let w,T;if(i)w=n,T="drawElementsInstanced";else if(w=e.get("ANGLE_instanced_arrays"),T="drawElementsInstancedANGLE",w===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}w[T](s,v,u,p*l,S),t.update(v,s,S)}this.setMode=o,this.setIndex=c,this.render=h,this.renderInstances=d}function Fne(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,u){switch(t.calls++,o){case 4:t.triangles+=u*(s/3);break;case 1:t.lines+=u*(s/2);break;case 3:t.lines+=u*(s-1);break;case 2:t.lines+=u*s;break;case 0:t.points+=u*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}class q2 extends Rr{constructor(e=null,t=1,r=1,i=1){super(null);this.image={data:e,width:t,height:r,depth:i},this.magFilter=Cr,this.minFilter=Cr,this.wrapR=bi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}q2.prototype.isDataTexture2DArray=!0;function One(n,e){return n[0]-e[0]}function Nne(n,e){return Math.abs(e[1])-Math.abs(n[1])}function HO(n,e){let t=1;const r=e.isInterleavedBufferAttribute?e.data.array:e.array;r instanceof Int8Array?t=127:r instanceof Int16Array?t=32767:r instanceof Int32Array?t=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",r),n.divideScalar(t)}function Une(n,e,t){const r={},i=new Float32Array(8),s=new WeakMap,o=new be,u=[];for(let c=0;c<8;c++)u[c]=[c,0];function l(c,h,d,p){const v=c.morphTargetInfluences;if(e.isWebGL2===!0){const S=h.morphAttributes.position.length;let w=s.get(h);if(w===void 0||w.count!==S){w!==void 0&&w.texture.dispose();const E=h.morphAttributes.normal!==void 0,O=h.morphAttributes.position,C=h.morphAttributes.normal||[],N=h.attributes.position.count,$=E===!0?2:1;let M=N*$,L=1;M>e.maxTextureSize&&(L=Math.ceil(M/e.maxTextureSize),M=e.maxTextureSize);const V=new Float32Array(M*L*4*S),Z=new q2(V,M,L,S);Z.format=Pr,Z.type=eu,Z.needsUpdate=!0;const H=$*4;for(let D=0;D<S;D++){const R=O[D],P=C[D],F=M*L*4*D;for(let z=0;z<R.count;z++){o.fromBufferAttribute(R,z),R.normalized===!0&&HO(o,R);const j=z*H;V[F+j+0]=o.x,V[F+j+1]=o.y,V[F+j+2]=o.z,V[F+j+3]=0,E===!0&&(o.fromBufferAttribute(P,z),P.normalized===!0&&HO(o,P),V[F+j+4]=o.x,V[F+j+5]=o.y,V[F+j+6]=o.z,V[F+j+7]=0)}}w={count:S,texture:Z,size:new ft(M,L)},s.set(h,w)}let T=0;for(let E=0;E<v.length;E++)T+=v[E];const x=h.morphTargetsRelative?1:1-T;p.getUniforms().setValue(n,"morphTargetBaseInfluence",x),p.getUniforms().setValue(n,"morphTargetInfluences",v),p.getUniforms().setValue(n,"morphTargetsTexture",w.texture,t),p.getUniforms().setValue(n,"morphTargetsTextureSize",w.size)}else{const S=v===void 0?0:v.length;let w=r[h.id];if(w===void 0||w.length!==S){w=[];for(let C=0;C<S;C++)w[C]=[C,0];r[h.id]=w}for(let C=0;C<S;C++){const N=w[C];N[0]=C,N[1]=v[C]}w.sort(Nne);for(let C=0;C<8;C++)C<S&&w[C][1]?(u[C][0]=w[C][0],u[C][1]=w[C][1]):(u[C][0]=Number.MAX_SAFE_INTEGER,u[C][1]=0);u.sort(One);const T=h.morphAttributes.position,x=h.morphAttributes.normal;let E=0;for(let C=0;C<8;C++){const N=u[C],$=N[0],M=N[1];$!==Number.MAX_SAFE_INTEGER&&M?(T&&h.getAttribute("morphTarget"+C)!==T[$]&&h.setAttribute("morphTarget"+C,T[$]),x&&h.getAttribute("morphNormal"+C)!==x[$]&&h.setAttribute("morphNormal"+C,x[$]),i[C]=M,E+=M):(T&&h.hasAttribute("morphTarget"+C)===!0&&h.deleteAttribute("morphTarget"+C),x&&h.hasAttribute("morphNormal"+C)===!0&&h.deleteAttribute("morphNormal"+C),i[C]=0)}const O=h.morphTargetsRelative?1:1-E;p.getUniforms().setValue(n,"morphTargetBaseInfluence",O),p.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function Bne(n,e,t,r){let i=new WeakMap;function s(l){const c=r.render.frame,h=l.geometry,d=e.get(l,h);return i.get(d)!==c&&(e.update(d),i.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",u)===!1&&l.addEventListener("dispose",u),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),d}function o(){i=new WeakMap}function u(l){const c=l.target;c.removeEventListener("dispose",u),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}class TD extends Rr{constructor(e=null,t=1,r=1,i=1){super(null);this.image={data:e,width:t,height:r,depth:i},this.magFilter=Cr,this.minFilter=Cr,this.wrapR=bi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}TD.prototype.isDataTexture3D=!0;const VO=new Rr,WO=new q2,jO=new TD,qO=new Ep,XO=[],YO=[],JO=new Float32Array(16),KO=new Float32Array(9),ZO=new Float32Array(4);function Rp(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=XO[i];if(s===void 0&&(s=new Float32Array(i),XO[i]=s),e!==0){r.toArray(s,0);for(let o=1,u=0;o!==e;++o)u+=t,n[o].toArray(s,u)}return s}function ms(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function Ki(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function X2(n,e){let t=YO[e];t===void 0&&(t=new Int32Array(e),YO[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function zne(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function $ne(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ms(t,e))return;n.uniform2fv(this.addr,e),Ki(t,e)}}function Gne(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(ms(t,e))return;n.uniform3fv(this.addr,e),Ki(t,e)}}function Hne(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ms(t,e))return;n.uniform4fv(this.addr,e),Ki(t,e)}}function Vne(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(ms(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Ki(t,e)}else{if(ms(t,r))return;ZO.set(r),n.uniformMatrix2fv(this.addr,!1,ZO),Ki(t,r)}}function Wne(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(ms(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Ki(t,e)}else{if(ms(t,r))return;KO.set(r),n.uniformMatrix3fv(this.addr,!1,KO),Ki(t,r)}}function jne(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(ms(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Ki(t,e)}else{if(ms(t,r))return;JO.set(r),n.uniformMatrix4fv(this.addr,!1,JO),Ki(t,r)}}function qne(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function Xne(n,e){const t=this.cache;ms(t,e)||(n.uniform2iv(this.addr,e),Ki(t,e))}function Yne(n,e){const t=this.cache;ms(t,e)||(n.uniform3iv(this.addr,e),Ki(t,e))}function Jne(n,e){const t=this.cache;ms(t,e)||(n.uniform4iv(this.addr,e),Ki(t,e))}function Kne(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function Zne(n,e){const t=this.cache;ms(t,e)||(n.uniform2uiv(this.addr,e),Ki(t,e))}function Qne(n,e){const t=this.cache;ms(t,e)||(n.uniform3uiv(this.addr,e),Ki(t,e))}function ere(n,e){const t=this.cache;ms(t,e)||(n.uniform4uiv(this.addr,e),Ki(t,e))}function tre(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.safeSetTexture2D(e||VO,i)}function nre(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||jO,i)}function rre(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.safeSetTextureCube(e||qO,i)}function ire(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||WO,i)}function sre(n){switch(n){case 5126:return zne;case 35664:return $ne;case 35665:return Gne;case 35666:return Hne;case 35674:return Vne;case 35675:return Wne;case 35676:return jne;case 5124:case 35670:return qne;case 35667:case 35671:return Xne;case 35668:case 35672:return Yne;case 35669:case 35673:return Jne;case 5125:return Kne;case 36294:return Zne;case 36295:return Qne;case 36296:return ere;case 35678:case 36198:case 36298:case 36306:case 35682:return tre;case 35679:case 36299:case 36307:return nre;case 35680:case 36300:case 36308:case 36293:return rre;case 36289:case 36303:case 36311:case 36292:return ire}}function ore(n,e){n.uniform1fv(this.addr,e)}function are(n,e){const t=Rp(e,this.size,2);n.uniform2fv(this.addr,t)}function ure(n,e){const t=Rp(e,this.size,3);n.uniform3fv(this.addr,t)}function lre(n,e){const t=Rp(e,this.size,4);n.uniform4fv(this.addr,t)}function cre(n,e){const t=Rp(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function fre(n,e){const t=Rp(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function hre(n,e){const t=Rp(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function dre(n,e){n.uniform1iv(this.addr,e)}function pre(n,e){n.uniform2iv(this.addr,e)}function mre(n,e){n.uniform3iv(this.addr,e)}function vre(n,e){n.uniform4iv(this.addr,e)}function gre(n,e){n.uniform1uiv(this.addr,e)}function yre(n,e){n.uniform2uiv(this.addr,e)}function xre(n,e){n.uniform3uiv(this.addr,e)}function _re(n,e){n.uniform4uiv(this.addr,e)}function wre(n,e,t){const r=e.length,i=X2(t,r);n.uniform1iv(this.addr,i);for(let s=0;s!==r;++s)t.safeSetTexture2D(e[s]||VO,i[s])}function bre(n,e,t){const r=e.length,i=X2(t,r);n.uniform1iv(this.addr,i);for(let s=0;s!==r;++s)t.setTexture3D(e[s]||jO,i[s])}function Sre(n,e,t){const r=e.length,i=X2(t,r);n.uniform1iv(this.addr,i);for(let s=0;s!==r;++s)t.safeSetTextureCube(e[s]||qO,i[s])}function Ere(n,e,t){const r=e.length,i=X2(t,r);n.uniform1iv(this.addr,i);for(let s=0;s!==r;++s)t.setTexture2DArray(e[s]||WO,i[s])}function Mre(n){switch(n){case 5126:return ore;case 35664:return are;case 35665:return ure;case 35666:return lre;case 35674:return cre;case 35675:return fre;case 35676:return hre;case 5124:case 35670:return dre;case 35667:case 35671:return pre;case 35668:case 35672:return mre;case 35669:case 35673:return vre;case 5125:return gre;case 36294:return yre;case 36295:return xre;case 36296:return _re;case 35678:case 36198:case 36298:case 36306:case 35682:return wre;case 35679:case 36299:case 36307:return bre;case 35680:case 36300:case 36308:case 36293:return Sre;case 36289:case 36303:case 36311:case 36292:return Ere}}function Dre(n,e,t){this.id=n,this.addr=t,this.cache=[],this.setValue=sre(e.type)}function QO(n,e,t){this.id=n,this.addr=t,this.cache=[],this.size=e.size,this.setValue=Mre(e.type)}QO.prototype.updateCache=function(n){const e=this.cache;n instanceof Float32Array&&e.length!==n.length&&(this.cache=new Float32Array(n.length)),Ki(e,n)};function eN(n){this.id=n,this.seq=[],this.map={}}eN.prototype.setValue=function(n,e,t){const r=this.seq;for(let i=0,s=r.length;i!==s;++i){const o=r[i];o.setValue(n,e[o.id],t)}};const CD=/(\w+)(\])?(\[|\.)?/g;function tN(n,e){n.seq.push(e),n.map[e.id]=e}function Are(n,e,t){const r=n.name,i=r.length;for(CD.lastIndex=0;;){const s=CD.exec(r),o=CD.lastIndex;let u=s[1];const l=s[2]==="]",c=s[3];if(l&&(u=u|0),c===void 0||c==="["&&o+2===i){tN(t,c===void 0?new Dre(u,n,e):new QO(u,n,e));break}else{let d=t.map[u];d===void 0&&(d=new eN(u),tN(t,d)),t=d}}}function dc(n,e){this.seq=[],this.map={};const t=n.getProgramParameter(e,35718);for(let r=0;r<t;++r){const i=n.getActiveUniform(e,r),s=n.getUniformLocation(e,i.name);Are(i,s,this)}}dc.prototype.setValue=function(n,e,t,r){const i=this.map[e];i!==void 0&&i.setValue(n,t,r)};dc.prototype.setOptional=function(n,e,t){const r=e[t];r!==void 0&&this.setValue(n,t,r)};dc.upload=function(n,e,t,r){for(let i=0,s=e.length;i!==s;++i){const o=e[i],u=t[o.id];u.needsUpdate!==!1&&o.setValue(n,u.value,r)}};dc.seqWithValue=function(n,e){const t=[];for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.id in e&&t.push(s)}return t};function nN(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}const Tre=37297;let Cre=0;function Pre(n){const e=n.split(`
`);for(let t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e.join(`
`)}function rN(n){switch(n){case Fo:return["Linear","( value )"];case Xu:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function iN(n,e,t){const r=n.getShaderParameter(e,35713),i=n.getShaderInfoLog(e).trim();return r&&i===""?"":t.toUpperCase()+`

`+i+`

`+Pre(n.getShaderSource(e))}function Uf(n,e){const t=rN(e);return"vec4 "+n+"( vec4 value ) { return "+t[0]+"ToLinear"+t[1]+"; }"}function Rre(n,e){const t=rN(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function kre(n,e){let t;switch(e){case aF:t="Linear";break;case uF:t="Reinhard";break;case lF:t="OptimizedCineon";break;case UM:t="ACESFilmic";break;case cF:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function Ire(n){return[n.extensionDerivatives||n.envMapCubeUV||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(sg).join(`
`)}function Lre(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function Fre(n,e){const t={},r=n.getProgramParameter(e,35721);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let u=1;s.type===35674&&(u=2),s.type===35675&&(u=3),s.type===35676&&(u=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:u}}return t}function sg(n){return n!==""}function sN(n,e){return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function oN(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Ore=/^[ \t]*#include +<([\w\d./]+)>/gm;function PD(n){return n.replace(Ore,Nre)}function Nre(n,e){const t=_n[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return PD(t)}const Ure=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,Bre=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function aN(n){return n.replace(Bre,uN).replace(Ure,zre)}function zre(n,e,t,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),uN(n,e,t,r)}function uN(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function lN(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function $re(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===TM?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===CM?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===ip&&(e="SHADOWMAP_TYPE_VSM"),e}function Gre(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case bf:case Sf:e="ENVMAP_TYPE_CUBE";break;case op:case Vv:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Hre(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Sf:case Vv:e="ENVMAP_MODE_REFRACTION";break}return e}function Vre(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case $v:e="ENVMAP_BLENDING_MULTIPLY";break;case sF:e="ENVMAP_BLENDING_MIX";break;case oF:e="ENVMAP_BLENDING_ADD";break}return e}function Wre(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,u=t.fragmentShader;const l=$re(t),c=Gre(t),h=Hre(t),d=Vre(t),p=t.isWebGL2?"":Ire(t),v=Lre(s),S=i.createProgram();let w,T,x=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(w=[v].filter(sg).join(`
`),w.length>0&&(w+=`
`),T=[p,v].filter(sg).join(`
`),T.length>0&&(T+=`
`)):(w=[lN(t),"#define SHADER_NAME "+t.shaderName,v,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define MAX_BONES "+t.maxBones,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+h:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.useVertexTexture?"#define BONE_TEXTURE":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphTargets&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargets&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(sg).join(`
`),T=[p,lN(t),"#define SHADER_NAME "+t.shaderName,v,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+h:"",t.envMap?"#define "+d:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(t.extensionShaderTextureLOD||t.envMap)&&t.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==qu?"#define TONE_MAPPING":"",t.toneMapping!==qu?_n.tonemapping_pars_fragment:"",t.toneMapping!==qu?kre("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.format===tc?"#define OPAQUE":"",_n.encodings_pars_fragment,t.map?Uf("mapTexelToLinear",t.mapEncoding):"",t.matcap?Uf("matcapTexelToLinear",t.matcapEncoding):"",t.envMap?Uf("envMapTexelToLinear",t.envMapEncoding):"",t.emissiveMap?Uf("emissiveMapTexelToLinear",t.emissiveMapEncoding):"",t.specularColorMap?Uf("specularColorMapTexelToLinear",t.specularColorMapEncoding):"",t.sheenColorMap?Uf("sheenColorMapTexelToLinear",t.sheenColorMapEncoding):"",t.lightMap?Uf("lightMapTexelToLinear",t.lightMapEncoding):"",Rre("linearToOutputTexel",t.outputEncoding),t.depthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(sg).join(`
`)),o=PD(o),o=sN(o,t),o=oN(o,t),u=PD(u),u=sN(u,t),u=oN(u,t),o=aN(o),u=aN(u),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(x=`#version 300 es
`,w=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+w,T=["#define varying in",t.glslVersion===ZM?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===ZM?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+T);const E=x+w+o,O=x+T+u,C=nN(i,35633,E),N=nN(i,35632,O);i.attachShader(S,C),i.attachShader(S,N),t.index0AttributeName!==void 0?i.bindAttribLocation(S,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(S,0,"position"),i.linkProgram(S);function $(){if(n.debug.checkShaderErrors){const Z=i.getProgramInfoLog(S).trim(),H=i.getShaderInfoLog(C).trim(),D=i.getShaderInfoLog(N).trim();let R=!0,P=!0;if(i.getProgramParameter(S,35714)===!1){R=!1;const F=iN(i,C,"vertex"),z=iN(i,N,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(S,35715)+`

Program Info Log: `+Z+`
`+F+`
`+z)}else Z!==""?console.warn("THREE.WebGLProgram: Program Info Log:",Z):(H===""||D==="")&&(P=!1);P&&(this.diagnostics={runnable:R,programLog:Z,vertexShader:{log:H,prefix:w},fragmentShader:{log:D,prefix:T}})}i.deleteShader(C),i.deleteShader(N),M=new dc(i,S),L=Fre(i,S)}let M;this.getUniforms=function(){return M===void 0&&$(),M};let L;this.getAttributes=function(){return L===void 0&&$(),L};let V=!t.rendererExtensionParallelShaderCompile;return this.isReady=function(){return V||(V=i.getProgramParameter(S,Tre)),V},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(S),this.program=void 0},this.name=t.shaderName,this.id=Cre++,this.cacheKey=e,this.usedTimes=1,this.program=S,this.vertexShader=C,this.fragmentShader=N,this}let jre=0;class qre{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;return t.has(e)===!1&&t.set(e,new Set),t.get(e)}_getShaderStage(e){const t=this.shaderCache;if(t.has(e)===!1){const r=new Xre;t.set(e,r)}return t.get(e)}}class Xre{constructor(){this.id=jre++,this.usedTimes=0}}function Yre(n,e,t,r,i,s,o){const u=new Ff,l=new qre,c=[],h=i.isWebGL2,d=i.logarithmicDepthBuffer,p=i.floatVertexTextures,v=i.maxVertexUniforms,S=i.vertexTextures;let w=i.precision;const T={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function x(D){const P=D.skeleton.bones;if(p)return 1024;{const z=Math.floor((v-20)/4),j=Math.min(z,P.length);return j<P.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+P.length+" bones. This GPU supports "+j+"."),0):j}}function E(D){let R;return D&&D.isTexture?R=D.encoding:D&&D.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),R=D.texture.encoding):R=Fo,h&&D&&D.isTexture&&D.format===Pr&&D.type===Qa&&D.encoding===Xu&&(R=Fo),R}function O(D,R,P,F,z){const j=F.fog,B=D.isMeshStandardMaterial?F.environment:null,U=(D.isMeshStandardMaterial?t:e).get(D.envMap||B),k=T[D.type],G=z.isSkinnedMesh?x(z):0;D.precision!==null&&(w=i.getMaxPrecision(D.precision),w!==D.precision&&console.warn("THREE.WebGLProgram.getParameters:",D.precision,"not supported, using",w,"instead."));let ne,le,ee,J;if(k){const W=ga[k];ne=W.vertexShader,le=W.fragmentShader}else ne=D.vertexShader,le=D.fragmentShader,l.update(D),ee=l.getVertexShaderID(D),J=l.getFragmentShaderID(D);const de=n.getRenderTarget(),se=D.alphaTest>0,ue=D.clearcoat>0;return{isWebGL2:h,shaderID:k,shaderName:D.type,vertexShader:ne,fragmentShader:le,defines:D.defines,customVertexShaderID:ee,customFragmentShaderID:J,isRawShaderMaterial:D.isRawShaderMaterial===!0,glslVersion:D.glslVersion,precision:w,instancing:z.isInstancedMesh===!0,instancingColor:z.isInstancedMesh===!0&&z.instanceColor!==null,supportsVertexTextures:S,outputEncoding:de!==null?E(de.texture):n.outputEncoding,map:!!D.map,mapEncoding:E(D.map),matcap:!!D.matcap,matcapEncoding:E(D.matcap),envMap:!!U,envMapMode:U&&U.mapping,envMapEncoding:E(U),envMapCubeUV:!!U&&(U.mapping===op||U.mapping===Vv),lightMap:!!D.lightMap,lightMapEncoding:E(D.lightMap),aoMap:!!D.aoMap,emissiveMap:!!D.emissiveMap,emissiveMapEncoding:E(D.emissiveMap),bumpMap:!!D.bumpMap,normalMap:!!D.normalMap,objectSpaceNormalMap:D.normalMapType===aO,tangentSpaceNormalMap:D.normalMapType===Cf,clearcoat:ue,clearcoatMap:ue&&!!D.clearcoatMap,clearcoatRoughnessMap:ue&&!!D.clearcoatRoughnessMap,clearcoatNormalMap:ue&&!!D.clearcoatNormalMap,displacementMap:!!D.displacementMap,roughnessMap:!!D.roughnessMap,metalnessMap:!!D.metalnessMap,specularMap:!!D.specularMap,specularIntensityMap:!!D.specularIntensityMap,specularColorMap:!!D.specularColorMap,specularColorMapEncoding:E(D.specularColorMap),alphaMap:!!D.alphaMap,alphaTest:se,gradientMap:!!D.gradientMap,sheen:D.sheen>0,sheenColorMap:!!D.sheenColorMap,sheenColorMapEncoding:E(D.sheenColorMap),sheenRoughnessMap:!!D.sheenRoughnessMap,transmission:D.transmission>0,transmissionMap:!!D.transmissionMap,thicknessMap:!!D.thicknessMap,combine:D.combine,vertexTangents:!!D.normalMap&&!!z.geometry&&!!z.geometry.attributes.tangent,vertexColors:D.vertexColors,vertexAlphas:D.vertexColors===!0&&!!z.geometry&&!!z.geometry.attributes.color&&z.geometry.attributes.color.itemSize===4,vertexUvs:!!D.map||!!D.bumpMap||!!D.normalMap||!!D.specularMap||!!D.alphaMap||!!D.emissiveMap||!!D.roughnessMap||!!D.metalnessMap||!!D.clearcoatMap||!!D.clearcoatRoughnessMap||!!D.clearcoatNormalMap||!!D.displacementMap||!!D.transmissionMap||!!D.thicknessMap||!!D.specularIntensityMap||!!D.specularColorMap||!!D.sheenColorMap||!!D.sheenRoughnessMap,uvsVertexOnly:!(!!D.map||!!D.bumpMap||!!D.normalMap||!!D.specularMap||!!D.alphaMap||!!D.emissiveMap||!!D.roughnessMap||!!D.metalnessMap||!!D.clearcoatNormalMap||D.transmission>0||!!D.transmissionMap||!!D.thicknessMap||!!D.specularIntensityMap||!!D.specularColorMap||D.sheen>0||!!D.sheenColorMap||!!D.sheenRoughnessMap)&&!!D.displacementMap,fog:!!j,useFog:D.fog,fogExp2:j&&j.isFogExp2,flatShading:!!D.flatShading,sizeAttenuation:D.sizeAttenuation,logarithmicDepthBuffer:d,skinning:z.isSkinnedMesh===!0&&G>0,maxBones:G,useVertexTexture:p,morphTargets:!!z.geometry&&!!z.geometry.morphAttributes.position,morphNormals:!!z.geometry&&!!z.geometry.morphAttributes.normal,morphTargetsCount:!!z.geometry&&!!z.geometry.morphAttributes.position?z.geometry.morphAttributes.position.length:0,numDirLights:R.directional.length,numPointLights:R.point.length,numSpotLights:R.spot.length,numRectAreaLights:R.rectArea.length,numHemiLights:R.hemi.length,numDirLightShadows:R.directionalShadowMap.length,numPointLightShadows:R.pointShadowMap.length,numSpotLightShadows:R.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,format:D.format,dithering:D.dithering,shadowMapEnabled:n.shadowMap.enabled&&P.length>0,shadowMapType:n.shadowMap.type,toneMapping:D.toneMapped?n.toneMapping:qu,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:D.premultipliedAlpha,doubleSided:D.side===Za,flipSided:D.side===wr,depthPacking:D.depthPacking!==void 0?D.depthPacking:!1,index0AttributeName:D.index0AttributeName,extensionDerivatives:D.extensions&&D.extensions.derivatives,extensionFragDepth:D.extensions&&D.extensions.fragDepth,extensionDrawBuffers:D.extensions&&D.extensions.drawBuffers,extensionShaderTextureLOD:D.extensions&&D.extensions.shaderTextureLOD,rendererExtensionFragDepth:h||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:h||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:h||r.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:D.customProgramCacheKey()}}function C(D){const R=[];if(D.shaderID?R.push(D.shaderID):(R.push(D.customVertexShaderID),R.push(D.customFragmentShaderID)),D.defines!==void 0)for(const P in D.defines)R.push(P),R.push(D.defines[P]);return D.isRawShaderMaterial===!1&&(N(R,D),$(R,D),R.push(n.outputEncoding)),R.push(D.customProgramCacheKey),R.join()}function N(D,R){D.push(R.precision),D.push(R.outputEncoding),D.push(R.mapEncoding),D.push(R.matcapEncoding),D.push(R.envMapMode),D.push(R.envMapEncoding),D.push(R.lightMapEncoding),D.push(R.emissiveMapEncoding),D.push(R.combine),D.push(R.vertexUvs),D.push(R.fogExp2),D.push(R.sizeAttenuation),D.push(R.maxBones),D.push(R.morphTargetsCount),D.push(R.numDirLights),D.push(R.numPointLights),D.push(R.numSpotLights),D.push(R.numHemiLights),D.push(R.numRectAreaLights),D.push(R.numDirLightShadows),D.push(R.numPointLightShadows),D.push(R.numSpotLightShadows),D.push(R.shadowMapType),D.push(R.toneMapping),D.push(R.numClippingPlanes),D.push(R.numClipIntersection),D.push(R.format),D.push(R.specularColorMapEncoding),D.push(R.sheenColorMapEncoding)}function $(D,R){u.disableAll(),R.isWebGL2&&u.enable(0),R.supportsVertexTextures&&u.enable(1),R.instancing&&u.enable(2),R.instancingColor&&u.enable(3),R.map&&u.enable(4),R.matcap&&u.enable(5),R.envMap&&u.enable(6),R.envMapCubeUV&&u.enable(7),R.lightMap&&u.enable(8),R.aoMap&&u.enable(9),R.emissiveMap&&u.enable(10),R.bumpMap&&u.enable(11),R.normalMap&&u.enable(12),R.objectSpaceNormalMap&&u.enable(13),R.tangentSpaceNormalMap&&u.enable(14),R.clearcoat&&u.enable(15),R.clearcoatMap&&u.enable(16),R.clearcoatRoughnessMap&&u.enable(17),R.clearcoatNormalMap&&u.enable(18),R.displacementMap&&u.enable(19),R.specularMap&&u.enable(20),R.roughnessMap&&u.enable(21),R.metalnessMap&&u.enable(22),R.gradientMap&&u.enable(23),R.alphaMap&&u.enable(24),R.alphaTest&&u.enable(25),R.vertexColors&&u.enable(26),R.vertexAlphas&&u.enable(27),R.vertexUvs&&u.enable(28),R.vertexTangents&&u.enable(29),R.uvsVertexOnly&&u.enable(30),R.fog&&u.enable(31),D.push(u.mask),u.disableAll(),R.useFog&&u.enable(0),R.flatShading&&u.enable(1),R.logarithmicDepthBuffer&&u.enable(2),R.skinning&&u.enable(3),R.useVertexTexture&&u.enable(4),R.morphTargets&&u.enable(5),R.morphNormals&&u.enable(6),R.premultipliedAlpha&&u.enable(7),R.shadowMapEnabled&&u.enable(8),R.physicallyCorrectLights&&u.enable(9),R.doubleSided&&u.enable(10),R.flipSided&&u.enable(11),R.depthPacking&&u.enable(12),R.dithering&&u.enable(13),R.specularIntensityMap&&u.enable(14),R.specularColorMap&&u.enable(15),R.transmission&&u.enable(16),R.transmissionMap&&u.enable(17),R.thicknessMap&&u.enable(18),R.sheen&&u.enable(19),R.sheenColorMap&&u.enable(20),R.sheenRoughnessMap&&u.enable(21),D.push(u.mask)}function M(D){const R=T[D.type];let P;if(R){const F=ga[R];P=bD.clone(F.uniforms)}else P=D.uniforms;return P}function L(D,R){let P;for(let F=0,z=c.length;F<z;F++){const j=c[F];if(j.cacheKey===R){P=j,++P.usedTimes;break}}return P===void 0&&(P=new Wre(n,R,D,s),c.push(P)),P}function V(D){if(--D.usedTimes==0){const R=c.indexOf(D);c[R]=c[c.length-1],c.pop(),D.destroy()}}function Z(D){l.remove(D)}function H(){l.dispose()}return{getParameters:O,getProgramCacheKey:C,getUniforms:M,acquireProgram:L,releaseProgram:V,releaseShaderCache:Z,programs:c,dispose:H}}function Jre(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function r(s,o,u){n.get(s)[o]=u}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function Kre(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function cN(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function fN(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function o(d,p,v,S,w,T){let x=n[e];return x===void 0?(x={id:d.id,object:d,geometry:p,material:v,groupOrder:S,renderOrder:d.renderOrder,z:w,group:T},n[e]=x):(x.id=d.id,x.object=d,x.geometry=p,x.material=v,x.groupOrder=S,x.renderOrder=d.renderOrder,x.z=w,x.group=T),e++,x}function u(d,p,v,S,w,T){const x=o(d,p,v,S,w,T);v.transmission>0?r.push(x):v.transparent===!0?i.push(x):t.push(x)}function l(d,p,v,S,w,T){const x=o(d,p,v,S,w,T);v.transmission>0?r.unshift(x):v.transparent===!0?i.unshift(x):t.unshift(x)}function c(d,p){t.length>1&&t.sort(d||Kre),r.length>1&&r.sort(p||cN),i.length>1&&i.sort(p||cN)}function h(){for(let d=e,p=n.length;d<p;d++){const v=n[d];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:u,unshift:l,finish:h,sort:c}}function Zre(){let n=new WeakMap;function e(r,i){let s;return n.has(r)===!1?(s=new fN,n.set(r,[s])):i>=n.get(r).length?(s=new fN,n.get(r).push(s)):s=n.get(r)[i],s}function t(){n=new WeakMap}return{get:e,dispose:t}}function Qre(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new be,color:new Pt};break;case"SpotLight":t={position:new be,direction:new be,color:new Pt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new be,color:new Pt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new be,skyColor:new Pt,groundColor:new Pt};break;case"RectAreaLight":t={color:new Pt,position:new be,halfWidth:new be,halfHeight:new be};break}return n[e.id]=t,t}}}function eie(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ft};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ft};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ft,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let tie=0;function nie(n,e){return(e.castShadow?1:0)-(n.castShadow?1:0)}function rie(n,e){const t=new Qre,r=eie(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let h=0;h<9;h++)i.probe.push(new be);const s=new be,o=new Xt,u=new Xt;function l(h,d){let p=0,v=0,S=0;for(let V=0;V<9;V++)i.probe[V].set(0,0,0);let w=0,T=0,x=0,E=0,O=0,C=0,N=0,$=0;h.sort(nie);const M=d!==!0?Math.PI:1;for(let V=0,Z=h.length;V<Z;V++){const H=h[V],D=H.color,R=H.intensity,P=H.distance,F=H.shadow&&H.shadow.map?H.shadow.map.texture:null;if(H.isAmbientLight)p+=D.r*R*M,v+=D.g*R*M,S+=D.b*R*M;else if(H.isLightProbe)for(let z=0;z<9;z++)i.probe[z].addScaledVector(H.sh.coefficients[z],R);else if(H.isDirectionalLight){const z=t.get(H);if(z.color.copy(H.color).multiplyScalar(H.intensity*M),H.castShadow){const j=H.shadow,B=r.get(H);B.shadowBias=j.bias,B.shadowNormalBias=j.normalBias,B.shadowRadius=j.radius,B.shadowMapSize=j.mapSize,i.directionalShadow[w]=B,i.directionalShadowMap[w]=F,i.directionalShadowMatrix[w]=H.shadow.matrix,C++}i.directional[w]=z,w++}else if(H.isSpotLight){const z=t.get(H);if(z.position.setFromMatrixPosition(H.matrixWorld),z.color.copy(D).multiplyScalar(R*M),z.distance=P,z.coneCos=Math.cos(H.angle),z.penumbraCos=Math.cos(H.angle*(1-H.penumbra)),z.decay=H.decay,H.castShadow){const j=H.shadow,B=r.get(H);B.shadowBias=j.bias,B.shadowNormalBias=j.normalBias,B.shadowRadius=j.radius,B.shadowMapSize=j.mapSize,i.spotShadow[x]=B,i.spotShadowMap[x]=F,i.spotShadowMatrix[x]=H.shadow.matrix,$++}i.spot[x]=z,x++}else if(H.isRectAreaLight){const z=t.get(H);z.color.copy(D).multiplyScalar(R),z.halfWidth.set(H.width*.5,0,0),z.halfHeight.set(0,H.height*.5,0),i.rectArea[E]=z,E++}else if(H.isPointLight){const z=t.get(H);if(z.color.copy(H.color).multiplyScalar(H.intensity*M),z.distance=H.distance,z.decay=H.decay,H.castShadow){const j=H.shadow,B=r.get(H);B.shadowBias=j.bias,B.shadowNormalBias=j.normalBias,B.shadowRadius=j.radius,B.shadowMapSize=j.mapSize,B.shadowCameraNear=j.camera.near,B.shadowCameraFar=j.camera.far,i.pointShadow[T]=B,i.pointShadowMap[T]=F,i.pointShadowMatrix[T]=H.shadow.matrix,N++}i.point[T]=z,T++}else if(H.isHemisphereLight){const z=t.get(H);z.skyColor.copy(H.color).multiplyScalar(R*M),z.groundColor.copy(H.groundColor).multiplyScalar(R*M),i.hemi[O]=z,O++}}E>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Rt.LTC_FLOAT_1,i.rectAreaLTC2=Rt.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Rt.LTC_HALF_1,i.rectAreaLTC2=Rt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=p,i.ambient[1]=v,i.ambient[2]=S;const L=i.hash;(L.directionalLength!==w||L.pointLength!==T||L.spotLength!==x||L.rectAreaLength!==E||L.hemiLength!==O||L.numDirectionalShadows!==C||L.numPointShadows!==N||L.numSpotShadows!==$)&&(i.directional.length=w,i.spot.length=x,i.rectArea.length=E,i.point.length=T,i.hemi.length=O,i.directionalShadow.length=C,i.directionalShadowMap.length=C,i.pointShadow.length=N,i.pointShadowMap.length=N,i.spotShadow.length=$,i.spotShadowMap.length=$,i.directionalShadowMatrix.length=C,i.pointShadowMatrix.length=N,i.spotShadowMatrix.length=$,L.directionalLength=w,L.pointLength=T,L.spotLength=x,L.rectAreaLength=E,L.hemiLength=O,L.numDirectionalShadows=C,L.numPointShadows=N,L.numSpotShadows=$,i.version=tie++)}function c(h,d){let p=0,v=0,S=0,w=0,T=0;const x=d.matrixWorldInverse;for(let E=0,O=h.length;E<O;E++){const C=h[E];if(C.isDirectionalLight){const N=i.directional[p];N.direction.setFromMatrixPosition(C.matrixWorld),s.setFromMatrixPosition(C.target.matrixWorld),N.direction.sub(s),N.direction.transformDirection(x),p++}else if(C.isSpotLight){const N=i.spot[S];N.position.setFromMatrixPosition(C.matrixWorld),N.position.applyMatrix4(x),N.direction.setFromMatrixPosition(C.matrixWorld),s.setFromMatrixPosition(C.target.matrixWorld),N.direction.sub(s),N.direction.transformDirection(x),S++}else if(C.isRectAreaLight){const N=i.rectArea[w];N.position.setFromMatrixPosition(C.matrixWorld),N.position.applyMatrix4(x),u.identity(),o.copy(C.matrixWorld),o.premultiply(x),u.extractRotation(o),N.halfWidth.set(C.width*.5,0,0),N.halfHeight.set(0,C.height*.5,0),N.halfWidth.applyMatrix4(u),N.halfHeight.applyMatrix4(u),w++}else if(C.isPointLight){const N=i.point[v];N.position.setFromMatrixPosition(C.matrixWorld),N.position.applyMatrix4(x),v++}else if(C.isHemisphereLight){const N=i.hemi[T];N.direction.setFromMatrixPosition(C.matrixWorld),N.direction.transformDirection(x),N.direction.normalize(),T++}}}return{setup:l,setupView:c,state:i}}function hN(n,e){const t=new rie(n,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(d){r.push(d)}function u(d){i.push(d)}function l(d){t.setup(r,d)}function c(d){t.setupView(r,d)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:u}}function iie(n,e){let t=new WeakMap;function r(s,o=0){let u;return t.has(s)===!1?(u=new hN(n,e),t.set(s,[u])):o>=t.get(s).length?(u=new hN(n,e),t.get(s).push(u)):u=t.get(s)[o],u}function i(){t=new WeakMap}return{get:r,dispose:i}}class og extends ui{constructor(e){super();this.type="MeshDepthMaterial",this.depthPacking=oO,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}og.prototype.isMeshDepthMaterial=!0;class ag extends ui{constructor(e){super();this.type="MeshDistanceMaterial",this.referencePosition=new be,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}ag.prototype.isMeshDistanceMaterial=!0;const sie=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,oie=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function dN(n,e,t){let r=new rg;const i=new ft,s=new ft,o=new On,u=new og({depthPacking:KM}),l=new ag,c={},h=t.maxTextureSize,d={0:wr,1:Ql,2:Za},p=new nl({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ft},radius:{value:4}},vertexShader:sie,fragmentShader:oie}),v=p.clone();v.defines.HORIZONTAL_PASS=1;const S=new rn;S.setAttribute("position",new Tn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const w=new mr(S,p),T=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=TM,this.render=function(C,N,$){if(T.enabled===!1||T.autoUpdate===!1&&T.needsUpdate===!1||C.length===0)return;const M=n.getRenderTarget(),L=n.getActiveCubeFace(),V=n.getActiveMipmapLevel(),Z=n.state;Z.setBlending(ju),Z.buffers.color.setClear(1,1,1,1),Z.buffers.depth.setTest(!0),Z.setScissorTest(!1);for(let H=0,D=C.length;H<D;H++){const R=C[H],P=R.shadow;if(P===void 0){console.warn("THREE.WebGLShadowMap:",R,"has no shadow.");continue}if(P.autoUpdate===!1&&P.needsUpdate===!1)continue;i.copy(P.mapSize);const F=P.getFrameExtents();if(i.multiply(F),s.copy(P.mapSize),(i.x>h||i.y>h)&&(i.x>h&&(s.x=Math.floor(h/F.x),i.x=s.x*F.x,P.mapSize.x=s.x),i.y>h&&(s.y=Math.floor(h/F.y),i.y=s.y*F.y,P.mapSize.y=s.y)),P.map===null&&!P.isPointLightShadow&&this.type===ip){const j={minFilter:hr,magFilter:hr,format:Pr};P.map=new oo(i.x,i.y,j),P.map.texture.name=R.name+".shadowMap",P.mapPass=new oo(i.x,i.y,j),P.camera.updateProjectionMatrix()}if(P.map===null){const j={minFilter:Cr,magFilter:Cr,format:Pr};P.map=new oo(i.x,i.y,j),P.map.texture.name=R.name+".shadowMap",P.camera.updateProjectionMatrix()}n.setRenderTarget(P.map),n.clear();const z=P.getViewportCount();for(let j=0;j<z;j++){const B=P.getViewport(j);o.set(s.x*B.x,s.y*B.y,s.x*B.z,s.y*B.w),Z.viewport(o),P.updateMatrices(R,j),r=P.getFrustum(),O(N,$,P.camera,R,this.type)}!P.isPointLightShadow&&this.type===ip&&x(P,$),P.needsUpdate=!1}T.needsUpdate=!1,n.setRenderTarget(M,L,V)};function x(C,N){const $=e.update(w);p.defines.VSM_SAMPLES!==C.blurSamples&&(p.defines.VSM_SAMPLES=C.blurSamples,v.defines.VSM_SAMPLES=C.blurSamples,p.needsUpdate=!0,v.needsUpdate=!0),p.uniforms.shadow_pass.value=C.map.texture,p.uniforms.resolution.value=C.mapSize,p.uniforms.radius.value=C.radius,n.setRenderTarget(C.mapPass),n.clear(),n.renderBufferDirect(N,null,$,p,w,null),v.uniforms.shadow_pass.value=C.mapPass.texture,v.uniforms.resolution.value=C.mapSize,v.uniforms.radius.value=C.radius,n.setRenderTarget(C.map),n.clear(),n.renderBufferDirect(N,null,$,v,w,null)}function E(C,N,$,M,L,V,Z){let H=null;const D=M.isPointLight===!0?C.customDistanceMaterial:C.customDepthMaterial;if(D!==void 0?H=D:H=M.isPointLight===!0?l:u,n.localClippingEnabled&&$.clipShadows===!0&&$.clippingPlanes.length!==0||$.displacementMap&&$.displacementScale!==0||$.alphaMap&&$.alphaTest>0){const R=H.uuid,P=$.uuid;let F=c[R];F===void 0&&(F={},c[R]=F);let z=F[P];z===void 0&&(z=H.clone(),F[P]=z),H=z}return H.visible=$.visible,H.wireframe=$.wireframe,Z===ip?H.side=$.shadowSide!==null?$.shadowSide:$.side:H.side=$.shadowSide!==null?$.shadowSide:d[$.side],H.alphaMap=$.alphaMap,H.alphaTest=$.alphaTest,H.clipShadows=$.clipShadows,H.clippingPlanes=$.clippingPlanes,H.clipIntersection=$.clipIntersection,H.displacementMap=$.displacementMap,H.displacementScale=$.displacementScale,H.displacementBias=$.displacementBias,H.wireframeLinewidth=$.wireframeLinewidth,H.linewidth=$.linewidth,M.isPointLight===!0&&H.isMeshDistanceMaterial===!0&&(H.referencePosition.setFromMatrixPosition(M.matrixWorld),H.nearDistance=L,H.farDistance=V),H}function O(C,N,$,M,L){if(C.visible===!1)return;if(C.layers.test(N.layers)&&(C.isMesh||C.isLine||C.isPoints)&&(C.castShadow||C.receiveShadow&&L===ip)&&(!C.frustumCulled||r.intersectsObject(C))){C.modelViewMatrix.multiplyMatrices($.matrixWorldInverse,C.matrixWorld);const H=e.update(C),D=C.material;if(Array.isArray(D)){const R=H.groups;for(let P=0,F=R.length;P<F;P++){const z=R[P],j=D[z.materialIndex];if(j&&j.visible){const B=E(C,H,j,M,$.near,$.far,L);n.renderBufferDirect($,null,H,B,C,z)}}}else if(D.visible){const R=E(C,H,D,M,$.near,$.far,L);n.renderBufferDirect($,null,H,R,C,null)}}const Z=C.children;for(let H=0,D=Z.length;H<D;H++)O(Z[H],N,$,M,L)}}function aie(n,e,t){const r=t.isWebGL2;function i(){let ae=!1;const Ue=new On;let Ye=null;const He=new On(0,0,0,0);return{setMask:function(Be){Ye!==Be&&!ae&&(n.colorMask(Be,Be,Be,Be),Ye=Be)},setLocked:function(Be){ae=Be},setClear:function(Be,Ze,Ve,ot,kt){kt===!0&&(Be*=ot,Ze*=ot,Ve*=ot),Ue.set(Be,Ze,Ve,ot),He.equals(Ue)===!1&&(n.clearColor(Be,Ze,Ve,ot),He.copy(Ue))},reset:function(){ae=!1,Ye=null,He.set(-1,0,0,0)}}}function s(){let ae=!1,Ue=null,Ye=null,He=null;return{setTest:function(Be){Be?le(2929):ee(2929)},setMask:function(Be){Ue!==Be&&!ae&&(n.depthMask(Be),Ue=Be)},setFunc:function(Be){if(Ye!==Be){if(Be)switch(Be){case ZL:n.depthFunc(512);break;case QL:n.depthFunc(519);break;case eF:n.depthFunc(513);break;case h2:n.depthFunc(515);break;case tF:n.depthFunc(514);break;case nF:n.depthFunc(518);break;case rF:n.depthFunc(516);break;case iF:n.depthFunc(517);break;default:n.depthFunc(515)}else n.depthFunc(515);Ye=Be}},setLocked:function(Be){ae=Be},setClear:function(Be){He!==Be&&(n.clearDepth(Be),He=Be)},reset:function(){ae=!1,Ue=null,Ye=null,He=null}}}function o(){let ae=!1,Ue=null,Ye=null,He=null,Be=null,Ze=null,Ve=null,ot=null,kt=null;return{setTest:function(lt){ae||(lt?le(2960):ee(2960))},setMask:function(lt){Ue!==lt&&!ae&&(n.stencilMask(lt),Ue=lt)},setFunc:function(lt,_t,nn){(Ye!==lt||He!==_t||Be!==nn)&&(n.stencilFunc(lt,_t,nn),Ye=lt,He=_t,Be=nn)},setOp:function(lt,_t,nn){(Ze!==lt||Ve!==_t||ot!==nn)&&(n.stencilOp(lt,_t,nn),Ze=lt,Ve=_t,ot=nn)},setLocked:function(lt){ae=lt},setClear:function(lt){kt!==lt&&(n.clearStencil(lt),kt=lt)},reset:function(){ae=!1,Ue=null,Ye=null,He=null,Be=null,Ze=null,Ve=null,ot=null,kt=null}}}const u=new i,l=new s,c=new o;let h={},d={},p=null,v=!1,S=null,w=null,T=null,x=null,E=null,O=null,C=null,N=!1,$=null,M=null,L=null,V=null,Z=null;const H=n.getParameter(35661);let D=!1,R=0;const P=n.getParameter(7938);P.indexOf("WebGL")!==-1?(R=parseFloat(/^WebGL (\d)/.exec(P)[1]),D=R>=1):P.indexOf("OpenGL ES")!==-1&&(R=parseFloat(/^OpenGL ES (\d)/.exec(P)[1]),D=R>=2);let F=null,z={};const j=n.getParameter(3088),B=n.getParameter(2978),U=new On().fromArray(j),k=new On().fromArray(B);function G(ae,Ue,Ye){const He=new Uint8Array(4),Be=n.createTexture();n.bindTexture(ae,Be),n.texParameteri(ae,10241,9728),n.texParameteri(ae,10240,9728);for(let Ze=0;Ze<Ye;Ze++)n.texImage2D(Ue+Ze,0,6408,1,1,0,6408,5121,He);return Be}const ne={};ne[3553]=G(3553,3553,1),ne[34067]=G(34067,34069,6),u.setClear(0,0,0,1),l.setClear(1),c.setClear(0),le(2929),l.setFunc(h2),ce(!1),ye(AM),le(2884),oe(ju);function le(ae){h[ae]!==!0&&(n.enable(ae),h[ae]=!0)}function ee(ae){h[ae]!==!1&&(n.disable(ae),h[ae]=!1)}function J(ae,Ue){return d[ae]!==Ue?(n.bindFramebuffer(ae,Ue),d[ae]=Ue,r&&(ae===36009&&(d[36160]=Ue),ae===36160&&(d[36009]=Ue)),!0):!1}function de(ae){return p!==ae?(n.useProgram(ae),p=ae,!0):!1}const se={[wf]:32774,[$L]:32778,[GL]:32779};if(r)se[LM]=32775,se[FM]=32776;else{const ae=e.get("EXT_blend_minmax");ae!==null&&(se[LM]=ae.MIN_EXT,se[FM]=ae.MAX_EXT)}const ue={[HL]:0,[VL]:1,[WL]:768,[OM]:770,[KL]:776,[YL]:774,[qL]:772,[jL]:769,[NM]:771,[JL]:775,[XL]:773};function oe(ae,Ue,Ye,He,Be,Ze,Ve,ot){if(ae===ju){v===!0&&(ee(3042),v=!1);return}if(v===!1&&(le(3042),v=!0),ae!==zL){if(ae!==S||ot!==N){if((w!==wf||E!==wf)&&(n.blendEquation(32774),w=wf,E=wf),ot)switch(ae){case sp:n.blendFuncSeparate(1,771,1,771);break;case RM:n.blendFunc(1,1);break;case kM:n.blendFuncSeparate(0,0,769,771);break;case IM:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",ae);break}else switch(ae){case sp:n.blendFuncSeparate(770,771,1,771);break;case RM:n.blendFunc(770,1);break;case kM:n.blendFunc(0,769);break;case IM:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",ae);break}T=null,x=null,O=null,C=null,S=ae,N=ot}return}Be=Be||Ue,Ze=Ze||Ye,Ve=Ve||He,(Ue!==w||Be!==E)&&(n.blendEquationSeparate(se[Ue],se[Be]),w=Ue,E=Be),(Ye!==T||He!==x||Ze!==O||Ve!==C)&&(n.blendFuncSeparate(ue[Ye],ue[He],ue[Ze],ue[Ve]),T=Ye,x=He,O=Ze,C=Ve),S=ae,N=null}function W(ae,Ue){ae.side===Za?ee(2884):le(2884);let Ye=ae.side===wr;Ue&&(Ye=!Ye),ce(Ye),ae.blending===sp&&ae.transparent===!1?oe(ju):oe(ae.blending,ae.blendEquation,ae.blendSrc,ae.blendDst,ae.blendEquationAlpha,ae.blendSrcAlpha,ae.blendDstAlpha,ae.premultipliedAlpha),l.setFunc(ae.depthFunc),l.setTest(ae.depthTest),l.setMask(ae.depthWrite),u.setMask(ae.colorWrite);const He=ae.stencilWrite;c.setTest(He),He&&(c.setMask(ae.stencilWriteMask),c.setFunc(ae.stencilFunc,ae.stencilRef,ae.stencilFuncMask),c.setOp(ae.stencilFail,ae.stencilZFail,ae.stencilZPass)),Pe(ae.polygonOffset,ae.polygonOffsetFactor,ae.polygonOffsetUnits),ae.alphaToCoverage===!0?le(32926):ee(32926)}function ce(ae){$!==ae&&(ae?n.frontFace(2304):n.frontFace(2305),$=ae)}function ye(ae){ae!==UL?(le(2884),ae!==M&&(ae===AM?n.cullFace(1029):ae===BL?n.cullFace(1028):n.cullFace(1032))):ee(2884),M=ae}function Te(ae){ae!==L&&(D&&n.lineWidth(ae),L=ae)}function Pe(ae,Ue,Ye){ae?(le(32823),(V!==Ue||Z!==Ye)&&(n.polygonOffset(Ue,Ye),V=Ue,Z=Ye)):ee(32823)}function Je(ae){ae?le(3089):ee(3089)}function ie(ae){ae===void 0&&(ae=33984+H-1),F!==ae&&(n.activeTexture(ae),F=ae)}function K(ae,Ue){F===null&&ie();let Ye=z[F];Ye===void 0&&(Ye={type:void 0,texture:void 0},z[F]=Ye),(Ye.type!==ae||Ye.texture!==Ue)&&(n.bindTexture(ae,Ue||ne[ae]),Ye.type=ae,Ye.texture=Ue)}function q(){const ae=z[F];ae!==void 0&&ae.type!==void 0&&(n.bindTexture(ae.type,null),ae.type=void 0,ae.texture=void 0)}function he(){try{n.compressedTexImage2D.apply(n,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function Se(){try{n.texSubImage2D.apply(n,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function te(){try{n.texSubImage3D.apply(n,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function re(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function Me(){try{n.texStorage2D.apply(n,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function Ce(){try{n.texStorage3D.apply(n,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function Ae(){try{n.texImage2D.apply(n,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function Oe(){try{n.texImage3D.apply(n,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function ge(ae){U.equals(ae)===!1&&(n.scissor(ae.x,ae.y,ae.z,ae.w),U.copy(ae))}function Ne(ae){k.equals(ae)===!1&&(n.viewport(ae.x,ae.y,ae.z,ae.w),k.copy(ae))}function ze(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),r===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),h={},F=null,z={},d={},p=null,v=!1,S=null,w=null,T=null,x=null,E=null,O=null,C=null,N=!1,$=null,M=null,L=null,V=null,Z=null,U.set(0,0,n.canvas.width,n.canvas.height),k.set(0,0,n.canvas.width,n.canvas.height),u.reset(),l.reset(),c.reset()}return{buffers:{color:u,depth:l,stencil:c},enable:le,disable:ee,bindFramebuffer:J,useProgram:de,setBlending:oe,setMaterial:W,setFlipSided:ce,setCullFace:ye,setLineWidth:Te,setPolygonOffset:Pe,setScissorTest:Je,activeTexture:ie,bindTexture:K,unbindTexture:q,compressedTexImage2D:he,texImage2D:Ae,texImage3D:Oe,texStorage2D:Me,texStorage3D:Ce,texSubImage2D:Se,texSubImage3D:te,compressedTexSubImage2D:re,scissor:ge,viewport:Ne,reset:ze}}function uie(n,e,t,r,i,s,o){const u=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,h=i.maxTextureSize,d=i.maxSamples,v=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):void 0,S=new WeakMap;let w,T=!1;try{T=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function x(te,re){return T?new OffscreenCanvas(te,re):_2("canvas")}function E(te,re,Me,Ce){let Ae=1;if((te.width>Ce||te.height>Ce)&&(Ae=Ce/Math.max(te.width,te.height)),Ae<1||re===!0)if(typeof HTMLImageElement!="undefined"&&te instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&te instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&te instanceof ImageBitmap){const Oe=re?cO:Math.floor,ge=Oe(Ae*te.width),Ne=Oe(Ae*te.height);w===void 0&&(w=x(ge,Ne));const ze=Me?x(ge,Ne):w;return ze.width=ge,ze.height=Ne,ze.getContext("2d").drawImage(te,0,0,ge,Ne),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+te.width+"x"+te.height+") to ("+ge+"x"+Ne+")."),ze}else return"data"in te&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+te.width+"x"+te.height+")."),te;return te}function O(te){return eD(te.width)&&eD(te.height)}function C(te){return u?!1:te.wrapS!==bi||te.wrapT!==bi||te.minFilter!==Cr&&te.minFilter!==hr}function N(te,re){return te.generateMipmaps&&re&&te.minFilter!==Cr&&te.minFilter!==hr}function $(te){n.generateMipmap(te)}function M(te,re,Me,Ce){if(u===!1)return re;if(te!==null){if(n[te]!==void 0)return n[te];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+te+"'")}let Ae=re;return re===6403&&(Me===5126&&(Ae=33326),Me===5131&&(Ae=33325),Me===5121&&(Ae=33321)),re===6407&&(Me===5126&&(Ae=34837),Me===5131&&(Ae=34843),Me===5121&&(Ae=32849)),re===6408&&(Me===5126&&(Ae=34836),Me===5131&&(Ae=34842),Me===5121&&(Ae=Ce===Xu?35907:32856)),(Ae===33325||Ae===33326||Ae===34842||Ae===34836)&&e.get("EXT_color_buffer_float"),Ae}function L(te,re,Me){return N(te,Me)===!0||te.isFramebufferTexture&&te.minFilter!==Cr&&te.minFilter!==hr?Math.log2(Math.max(re.width,re.height))+1:te.mipmaps!==void 0&&te.mipmaps.length>0?te.mipmaps.length:te.isCompressedTexture&&Array.isArray(te.image)?re.mipmaps.length:1}function V(te){return te===Cr||te===p2||te===m2?9728:9729}function Z(te){const re=te.target;re.removeEventListener("dispose",Z),D(re),re.isVideoTexture&&S.delete(re),o.memory.textures--}function H(te){const re=te.target;re.removeEventListener("dispose",H),R(re)}function D(te){const re=r.get(te);re.__webglInit!==void 0&&(n.deleteTexture(re.__webglTexture),r.remove(te))}function R(te){const re=te.texture,Me=r.get(te),Ce=r.get(re);if(!!te){if(Ce.__webglTexture!==void 0&&(n.deleteTexture(Ce.__webglTexture),o.memory.textures--),te.depthTexture&&te.depthTexture.dispose(),te.isWebGLCubeRenderTarget)for(let Ae=0;Ae<6;Ae++)n.deleteFramebuffer(Me.__webglFramebuffer[Ae]),Me.__webglDepthbuffer&&n.deleteRenderbuffer(Me.__webglDepthbuffer[Ae]);else n.deleteFramebuffer(Me.__webglFramebuffer),Me.__webglDepthbuffer&&n.deleteRenderbuffer(Me.__webglDepthbuffer),Me.__webglMultisampledFramebuffer&&n.deleteFramebuffer(Me.__webglMultisampledFramebuffer),Me.__webglColorRenderbuffer&&n.deleteRenderbuffer(Me.__webglColorRenderbuffer),Me.__webglDepthRenderbuffer&&n.deleteRenderbuffer(Me.__webglDepthRenderbuffer);if(te.isWebGLMultipleRenderTargets)for(let Ae=0,Oe=re.length;Ae<Oe;Ae++){const ge=r.get(re[Ae]);ge.__webglTexture&&(n.deleteTexture(ge.__webglTexture),o.memory.textures--),r.remove(re[Ae])}r.remove(re),r.remove(te)}}let P=0;function F(){P=0}function z(){const te=P;return te>=l&&console.warn("THREE.WebGLTextures: Trying to use "+te+" texture units while this GPU supports only "+l),P+=1,te}function j(te,re){const Me=r.get(te);if(te.isVideoTexture&&ie(te),te.version>0&&Me.__version!==te.version){const Ce=te.image;if(Ce===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(Ce.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{J(Me,te,re);return}}t.activeTexture(33984+re),t.bindTexture(3553,Me.__webglTexture)}function B(te,re){const Me=r.get(te);if(te.version>0&&Me.__version!==te.version){J(Me,te,re);return}t.activeTexture(33984+re),t.bindTexture(35866,Me.__webglTexture)}function U(te,re){const Me=r.get(te);if(te.version>0&&Me.__version!==te.version){J(Me,te,re);return}t.activeTexture(33984+re),t.bindTexture(32879,Me.__webglTexture)}function k(te,re){const Me=r.get(te);if(te.version>0&&Me.__version!==te.version){de(Me,te,re);return}t.activeTexture(33984+re),t.bindTexture(34067,Me.__webglTexture)}const G={[Wv]:10497,[bi]:33071,[jv]:33648},ne={[Cr]:9728,[p2]:9984,[m2]:9986,[hr]:9729,[BM]:9985,[Ef]:9987};function le(te,re,Me){if(Me?(n.texParameteri(te,10242,G[re.wrapS]),n.texParameteri(te,10243,G[re.wrapT]),(te===32879||te===35866)&&n.texParameteri(te,32882,G[re.wrapR]),n.texParameteri(te,10240,ne[re.magFilter]),n.texParameteri(te,10241,ne[re.minFilter])):(n.texParameteri(te,10242,33071),n.texParameteri(te,10243,33071),(te===32879||te===35866)&&n.texParameteri(te,32882,33071),(re.wrapS!==bi||re.wrapT!==bi)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(te,10240,V(re.magFilter)),n.texParameteri(te,10241,V(re.minFilter)),re.minFilter!==Cr&&re.minFilter!==hr&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const Ce=e.get("EXT_texture_filter_anisotropic");if(re.type===eu&&e.has("OES_texture_float_linear")===!1||u===!1&&re.type===ec&&e.has("OES_texture_half_float_linear")===!1)return;(re.anisotropy>1||r.get(re).__currentAnisotropy)&&(n.texParameterf(te,Ce.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(re.anisotropy,i.getMaxAnisotropy())),r.get(re).__currentAnisotropy=re.anisotropy)}}function ee(te,re){te.__webglInit===void 0&&(te.__webglInit=!0,re.addEventListener("dispose",Z),te.__webglTexture=n.createTexture(),o.memory.textures++)}function J(te,re,Me){let Ce=3553;re.isDataTexture2DArray&&(Ce=35866),re.isDataTexture3D&&(Ce=32879),ee(te,re),t.activeTexture(33984+Me),t.bindTexture(Ce,te.__webglTexture),n.pixelStorei(37440,re.flipY),n.pixelStorei(37441,re.premultiplyAlpha),n.pixelStorei(3317,re.unpackAlignment),n.pixelStorei(37443,0);const Ae=C(re)&&O(re.image)===!1,Oe=E(re.image,Ae,!1,h),ge=O(Oe)||u,Ne=s.convert(re.format);let ze=s.convert(re.type),ae=M(re.internalFormat,Ne,ze,re.encoding);le(Ce,re,ge);let Ue;const Ye=re.mipmaps,He=u&&re.isVideoTexture!==!0,Be=te.__version===void 0,Ze=L(re,Oe,ge);if(re.isDepthTexture)ae=6402,u?re.type===eu?ae=36012:re.type===qv?ae=33190:re.type===Mf?ae=35056:ae=33189:re.type===eu&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),re.format===nc&&ae===6402&&re.type!==ap&&re.type!==qv&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),re.type=ap,ze=s.convert(re.type)),re.format===Df&&ae===6402&&(ae=34041,re.type!==Mf&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),re.type=Mf,ze=s.convert(re.type))),He&&Be?t.texStorage2D(3553,1,ae,Oe.width,Oe.height):t.texImage2D(3553,0,ae,Oe.width,Oe.height,0,Ne,ze,null);else if(re.isDataTexture)if(Ye.length>0&&ge){He&&Be&&t.texStorage2D(3553,Ze,ae,Ye[0].width,Ye[0].height);for(let Ve=0,ot=Ye.length;Ve<ot;Ve++)Ue=Ye[Ve],He?t.texSubImage2D(3553,0,0,0,Ue.width,Ue.height,Ne,ze,Ue.data):t.texImage2D(3553,Ve,ae,Ue.width,Ue.height,0,Ne,ze,Ue.data);re.generateMipmaps=!1}else He?(Be&&t.texStorage2D(3553,Ze,ae,Oe.width,Oe.height),t.texSubImage2D(3553,0,0,0,Oe.width,Oe.height,Ne,ze,Oe.data)):t.texImage2D(3553,0,ae,Oe.width,Oe.height,0,Ne,ze,Oe.data);else if(re.isCompressedTexture){He&&Be&&t.texStorage2D(3553,Ze,ae,Ye[0].width,Ye[0].height);for(let Ve=0,ot=Ye.length;Ve<ot;Ve++)Ue=Ye[Ve],re.format!==Pr&&re.format!==tc?Ne!==null?He?t.compressedTexSubImage2D(3553,Ve,0,0,Ue.width,Ue.height,Ne,Ue.data):t.compressedTexImage2D(3553,Ve,ae,Ue.width,Ue.height,0,Ue.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):He?t.texSubImage2D(3553,Ve,0,0,Ue.width,Ue.height,Ne,ze,Ue.data):t.texImage2D(3553,Ve,ae,Ue.width,Ue.height,0,Ne,ze,Ue.data)}else if(re.isDataTexture2DArray)He?(Be&&t.texStorage3D(35866,Ze,ae,Oe.width,Oe.height,Oe.depth),t.texSubImage3D(35866,0,0,0,0,Oe.width,Oe.height,Oe.depth,Ne,ze,Oe.data)):t.texImage3D(35866,0,ae,Oe.width,Oe.height,Oe.depth,0,Ne,ze,Oe.data);else if(re.isDataTexture3D)He?(Be&&t.texStorage3D(32879,Ze,ae,Oe.width,Oe.height,Oe.depth),t.texSubImage3D(32879,0,0,0,0,Oe.width,Oe.height,Oe.depth,Ne,ze,Oe.data)):t.texImage3D(32879,0,ae,Oe.width,Oe.height,Oe.depth,0,Ne,ze,Oe.data);else if(re.isFramebufferTexture)He&&Be?t.texStorage2D(3553,Ze,ae,Oe.width,Oe.height):t.texImage2D(3553,0,ae,Oe.width,Oe.height,0,Ne,ze,null);else if(Ye.length>0&&ge){He&&Be&&t.texStorage2D(3553,Ze,ae,Ye[0].width,Ye[0].height);for(let Ve=0,ot=Ye.length;Ve<ot;Ve++)Ue=Ye[Ve],He?t.texSubImage2D(3553,Ve,0,0,Ne,ze,Ue):t.texImage2D(3553,Ve,ae,Ne,ze,Ue);re.generateMipmaps=!1}else He?(Be&&t.texStorage2D(3553,Ze,ae,Oe.width,Oe.height),t.texSubImage2D(3553,0,0,0,Ne,ze,Oe)):t.texImage2D(3553,0,ae,Ne,ze,Oe);N(re,ge)&&$(Ce),te.__version=re.version,re.onUpdate&&re.onUpdate(re)}function de(te,re,Me){if(re.image.length!==6)return;ee(te,re),t.activeTexture(33984+Me),t.bindTexture(34067,te.__webglTexture),n.pixelStorei(37440,re.flipY),n.pixelStorei(37441,re.premultiplyAlpha),n.pixelStorei(3317,re.unpackAlignment),n.pixelStorei(37443,0);const Ce=re&&(re.isCompressedTexture||re.image[0].isCompressedTexture),Ae=re.image[0]&&re.image[0].isDataTexture,Oe=[];for(let Ve=0;Ve<6;Ve++)!Ce&&!Ae?Oe[Ve]=E(re.image[Ve],!1,!0,c):Oe[Ve]=Ae?re.image[Ve].image:re.image[Ve];const ge=Oe[0],Ne=O(ge)||u,ze=s.convert(re.format),ae=s.convert(re.type),Ue=M(re.internalFormat,ze,ae,re.encoding),Ye=u&&re.isVideoTexture!==!0,He=te.__version===void 0;let Be=L(re,ge,Ne);le(34067,re,Ne);let Ze;if(Ce){Ye&&He&&t.texStorage2D(34067,Be,Ue,ge.width,ge.height);for(let Ve=0;Ve<6;Ve++){Ze=Oe[Ve].mipmaps;for(let ot=0;ot<Ze.length;ot++){const kt=Ze[ot];re.format!==Pr&&re.format!==tc?ze!==null?Ye?t.compressedTexSubImage2D(34069+Ve,ot,0,0,kt.width,kt.height,ze,kt.data):t.compressedTexImage2D(34069+Ve,ot,Ue,kt.width,kt.height,0,kt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ye?t.texSubImage2D(34069+Ve,ot,0,0,kt.width,kt.height,ze,ae,kt.data):t.texImage2D(34069+Ve,ot,Ue,kt.width,kt.height,0,ze,ae,kt.data)}}}else{Ze=re.mipmaps,Ye&&He&&(Ze.length>0&&Be++,t.texStorage2D(34067,Be,Ue,Oe[0].width,Oe[0].height));for(let Ve=0;Ve<6;Ve++)if(Ae){Ye?t.texSubImage2D(34069+Ve,0,0,0,Oe[Ve].width,Oe[Ve].height,ze,ae,Oe[Ve].data):t.texImage2D(34069+Ve,0,Ue,Oe[Ve].width,Oe[Ve].height,0,ze,ae,Oe[Ve].data);for(let ot=0;ot<Ze.length;ot++){const lt=Ze[ot].image[Ve].image;Ye?t.texSubImage2D(34069+Ve,ot+1,0,0,lt.width,lt.height,ze,ae,lt.data):t.texImage2D(34069+Ve,ot+1,Ue,lt.width,lt.height,0,ze,ae,lt.data)}}else{Ye?t.texSubImage2D(34069+Ve,0,0,0,ze,ae,Oe[Ve]):t.texImage2D(34069+Ve,0,Ue,ze,ae,Oe[Ve]);for(let ot=0;ot<Ze.length;ot++){const kt=Ze[ot];Ye?t.texSubImage2D(34069+Ve,ot+1,0,0,ze,ae,kt.image[Ve]):t.texImage2D(34069+Ve,ot+1,Ue,ze,ae,kt.image[Ve])}}}N(re,Ne)&&$(34067),te.__version=re.version,re.onUpdate&&re.onUpdate(re)}function se(te,re,Me,Ce,Ae){const Oe=s.convert(Me.format),ge=s.convert(Me.type),Ne=M(Me.internalFormat,Oe,ge,Me.encoding);r.get(re).__hasExternalTextures||(Ae===32879||Ae===35866?t.texImage3D(Ae,0,Ne,re.width,re.height,re.depth,0,Oe,ge,null):t.texImage2D(Ae,0,Ne,re.width,re.height,0,Oe,ge,null)),t.bindFramebuffer(36160,te),re.useRenderToTexture?v.framebufferTexture2DMultisampleEXT(36160,Ce,Ae,r.get(Me).__webglTexture,0,Je(re)):n.framebufferTexture2D(36160,Ce,Ae,r.get(Me).__webglTexture,0),t.bindFramebuffer(36160,null)}function ue(te,re,Me){if(n.bindRenderbuffer(36161,te),re.depthBuffer&&!re.stencilBuffer){let Ce=33189;if(Me||re.useRenderToTexture){const Ae=re.depthTexture;Ae&&Ae.isDepthTexture&&(Ae.type===eu?Ce=36012:Ae.type===qv&&(Ce=33190));const Oe=Je(re);re.useRenderToTexture?v.renderbufferStorageMultisampleEXT(36161,Oe,Ce,re.width,re.height):n.renderbufferStorageMultisample(36161,Oe,Ce,re.width,re.height)}else n.renderbufferStorage(36161,Ce,re.width,re.height);n.framebufferRenderbuffer(36160,36096,36161,te)}else if(re.depthBuffer&&re.stencilBuffer){const Ce=Je(re);Me&&re.useRenderbuffer?n.renderbufferStorageMultisample(36161,Ce,35056,re.width,re.height):re.useRenderToTexture?v.renderbufferStorageMultisampleEXT(36161,Ce,35056,re.width,re.height):n.renderbufferStorage(36161,34041,re.width,re.height),n.framebufferRenderbuffer(36160,33306,36161,te)}else{const Ce=re.isWebGLMultipleRenderTargets===!0?re.texture[0]:re.texture,Ae=s.convert(Ce.format),Oe=s.convert(Ce.type),ge=M(Ce.internalFormat,Ae,Oe,Ce.encoding),Ne=Je(re);Me&&re.useRenderbuffer?n.renderbufferStorageMultisample(36161,Ne,ge,re.width,re.height):re.useRenderToTexture?v.renderbufferStorageMultisampleEXT(36161,Ne,ge,re.width,re.height):n.renderbufferStorage(36161,ge,re.width,re.height)}n.bindRenderbuffer(36161,null)}function oe(te,re){if(re&&re.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,te),!(re.depthTexture&&re.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(re.depthTexture).__webglTexture||re.depthTexture.image.width!==re.width||re.depthTexture.image.height!==re.height)&&(re.depthTexture.image.width=re.width,re.depthTexture.image.height=re.height,re.depthTexture.needsUpdate=!0),j(re.depthTexture,0);const Ce=r.get(re.depthTexture).__webglTexture,Ae=Je(re);if(re.depthTexture.format===nc)re.useRenderToTexture?v.framebufferTexture2DMultisampleEXT(36160,36096,3553,Ce,0,Ae):n.framebufferTexture2D(36160,36096,3553,Ce,0);else if(re.depthTexture.format===Df)re.useRenderToTexture?v.framebufferTexture2DMultisampleEXT(36160,33306,3553,Ce,0,Ae):n.framebufferTexture2D(36160,33306,3553,Ce,0);else throw new Error("Unknown depthTexture format")}function W(te){const re=r.get(te),Me=te.isWebGLCubeRenderTarget===!0;if(te.depthTexture&&!re.__autoAllocateDepthBuffer){if(Me)throw new Error("target.depthTexture not supported in Cube render targets");oe(re.__webglFramebuffer,te)}else if(Me){re.__webglDepthbuffer=[];for(let Ce=0;Ce<6;Ce++)t.bindFramebuffer(36160,re.__webglFramebuffer[Ce]),re.__webglDepthbuffer[Ce]=n.createRenderbuffer(),ue(re.__webglDepthbuffer[Ce],te,!1)}else t.bindFramebuffer(36160,re.__webglFramebuffer),re.__webglDepthbuffer=n.createRenderbuffer(),ue(re.__webglDepthbuffer,te,!1);t.bindFramebuffer(36160,null)}function ce(te,re,Me){const Ce=r.get(te);re!==void 0&&se(Ce.__webglFramebuffer,te,te.texture,36064,3553),Me!==void 0&&W(te)}function ye(te){const re=te.texture,Me=r.get(te),Ce=r.get(re);te.addEventListener("dispose",H),te.isWebGLMultipleRenderTargets!==!0&&(Ce.__webglTexture===void 0&&(Ce.__webglTexture=n.createTexture()),Ce.__version=re.version,o.memory.textures++);const Ae=te.isWebGLCubeRenderTarget===!0,Oe=te.isWebGLMultipleRenderTargets===!0,ge=re.isDataTexture3D||re.isDataTexture2DArray,Ne=O(te)||u;if(u&&re.format===tc&&(re.type===eu||re.type===ec)&&(re.format=Pr,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),Ae){Me.__webglFramebuffer=[];for(let ze=0;ze<6;ze++)Me.__webglFramebuffer[ze]=n.createFramebuffer()}else if(Me.__webglFramebuffer=n.createFramebuffer(),Oe)if(i.drawBuffers){const ze=te.texture;for(let ae=0,Ue=ze.length;ae<Ue;ae++){const Ye=r.get(ze[ae]);Ye.__webglTexture===void 0&&(Ye.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(te.useRenderbuffer)if(u){Me.__webglMultisampledFramebuffer=n.createFramebuffer(),Me.__webglColorRenderbuffer=n.createRenderbuffer(),n.bindRenderbuffer(36161,Me.__webglColorRenderbuffer);const ze=s.convert(re.format),ae=s.convert(re.type),Ue=M(re.internalFormat,ze,ae,re.encoding),Ye=Je(te);n.renderbufferStorageMultisample(36161,Ye,Ue,te.width,te.height),t.bindFramebuffer(36160,Me.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064,36161,Me.__webglColorRenderbuffer),n.bindRenderbuffer(36161,null),te.depthBuffer&&(Me.__webglDepthRenderbuffer=n.createRenderbuffer(),ue(Me.__webglDepthRenderbuffer,te,!0)),t.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(Ae){t.bindTexture(34067,Ce.__webglTexture),le(34067,re,Ne);for(let ze=0;ze<6;ze++)se(Me.__webglFramebuffer[ze],te,re,36064,34069+ze);N(re,Ne)&&$(34067),t.unbindTexture()}else if(Oe){const ze=te.texture;for(let ae=0,Ue=ze.length;ae<Ue;ae++){const Ye=ze[ae],He=r.get(Ye);t.bindTexture(3553,He.__webglTexture),le(3553,Ye,Ne),se(Me.__webglFramebuffer,te,Ye,36064+ae,3553),N(Ye,Ne)&&$(3553)}t.unbindTexture()}else{let ze=3553;ge&&(u?ze=re.isDataTexture3D?32879:35866:console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.")),t.bindTexture(ze,Ce.__webglTexture),le(ze,re,Ne),se(Me.__webglFramebuffer,te,re,36064,ze),N(re,Ne)&&$(ze),t.unbindTexture()}te.depthBuffer&&W(te)}function Te(te){const re=O(te)||u,Me=te.isWebGLMultipleRenderTargets===!0?te.texture:[te.texture];for(let Ce=0,Ae=Me.length;Ce<Ae;Ce++){const Oe=Me[Ce];if(N(Oe,re)){const ge=te.isWebGLCubeRenderTarget?34067:3553,Ne=r.get(Oe).__webglTexture;t.bindTexture(ge,Ne),$(ge),t.unbindTexture()}}}function Pe(te){if(te.useRenderbuffer)if(u){const re=te.width,Me=te.height;let Ce=16384;const Ae=[36064],Oe=te.stencilBuffer?33306:36096;te.depthBuffer&&Ae.push(Oe),te.ignoreDepthForMultisampleCopy||(te.depthBuffer&&(Ce|=256),te.stencilBuffer&&(Ce|=1024));const ge=r.get(te);t.bindFramebuffer(36008,ge.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,ge.__webglFramebuffer),te.ignoreDepthForMultisampleCopy&&(n.invalidateFramebuffer(36008,[Oe]),n.invalidateFramebuffer(36009,[Oe])),n.blitFramebuffer(0,0,re,Me,0,0,re,Me,Ce,9728),n.invalidateFramebuffer(36008,Ae),t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,ge.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function Je(te){return u&&(te.useRenderbuffer||te.useRenderToTexture)?Math.min(d,te.samples):0}function ie(te){const re=o.render.frame;S.get(te)!==re&&(S.set(te,re),te.update())}let K=!1,q=!1;function he(te,re){te&&te.isWebGLRenderTarget&&(K===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),K=!0),te=te.texture),j(te,re)}function Se(te,re){te&&te.isWebGLCubeRenderTarget&&(q===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),q=!0),te=te.texture),k(te,re)}this.allocateTextureUnit=z,this.resetTextureUnits=F,this.setTexture2D=j,this.setTexture2DArray=B,this.setTexture3D=U,this.setTextureCube=k,this.rebindTextures=ce,this.setupRenderTarget=ye,this.updateRenderTargetMipmap=Te,this.updateMultisampleRenderTarget=Pe,this.setupDepthRenderbuffer=W,this.setupFrameBufferTexture=se,this.safeSetTexture2D=he,this.safeSetTextureCube=Se}function pN(n,e,t){const r=t.isWebGL2;function i(s){let o;if(s===Qa)return 5121;if(s===pF)return 32819;if(s===mF)return 32820;if(s===vF)return 33635;if(s===fF)return 5120;if(s===hF)return 5122;if(s===ap)return 5123;if(s===dF)return 5124;if(s===qv)return 5125;if(s===eu)return 5126;if(s===ec)return r?5131:(o=e.get("OES_texture_half_float"),o!==null?o.HALF_FLOAT_OES:null);if(s===gF)return 6406;if(s===tc)return 6407;if(s===Pr)return 6408;if(s===yF)return 6409;if(s===xF)return 6410;if(s===nc)return 6402;if(s===Df)return 34041;if(s===_F)return 6403;if(s===wF)return 36244;if(s===bF)return 33319;if(s===SF)return 33320;if(s===EF)return 36248;if(s===MF)return 36249;if(s===zM||s===$M||s===GM||s===HM)if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(s===zM)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===$M)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===GM)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===HM)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===VM||s===WM||s===jM||s===qM)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(s===VM)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===WM)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===jM)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===qM)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===DF)return o=e.get("WEBGL_compressed_texture_etc1"),o!==null?o.COMPRESSED_RGB_ETC1_WEBGL:null;if((s===XM||s===YM)&&(o=e.get("WEBGL_compressed_texture_etc"),o!==null)){if(s===XM)return o.COMPRESSED_RGB8_ETC2;if(s===YM)return o.COMPRESSED_RGBA8_ETC2_EAC}if(s===AF||s===TF||s===CF||s===PF||s===RF||s===kF||s===IF||s===LF||s===FF||s===OF||s===NF||s===UF||s===BF||s===zF||s===GF||s===HF||s===VF||s===WF||s===jF||s===qF||s===XF||s===YF||s===JF||s===KF||s===ZF||s===QF||s===eO||s===tO)return o=e.get("WEBGL_compressed_texture_astc"),o!==null?s:null;if(s===$F)return o=e.get("EXT_texture_compression_bptc"),o!==null?s:null;if(s===Mf)return r?34042:(o=e.get("WEBGL_depth_texture"),o!==null?o.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:i}}class RD extends Jr{constructor(e=[]){super();this.cameras=e}}RD.prototype.isArrayCamera=!0;class Bf extends bn{constructor(){super();this.type="Group"}}Bf.prototype.isGroup=!0;const lie={type:"move"};class kD{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Bf,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Bf,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new be,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new be),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Bf,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new be,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new be),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const u=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred")if(u!==null&&(i=t.getPose(e.targetRaySpace,r),i!==null&&(u.matrix.fromArray(i.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),i.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(i.linearVelocity)):u.hasLinearVelocity=!1,i.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(i.angularVelocity)):u.hasAngularVelocity=!1,this.dispatchEvent(lie))),c&&e.hand){o=!0;for(const w of e.hand.values()){const T=t.getJointPose(w,r);if(c.joints[w.jointName]===void 0){const E=new Bf;E.matrixAutoUpdate=!1,E.visible=!1,c.joints[w.jointName]=E,c.add(E)}const x=c.joints[w.jointName];T!==null&&(x.matrix.fromArray(T.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale),x.jointRadius=T.radius),x.visible=T!==null}const h=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],p=h.position.distanceTo(d.position),v=.02,S=.005;c.inputState.pinching&&p>v+S?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=v-S&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));return u!==null&&(u.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}}class Y2 extends Rr{constructor(e,t,r,i,s,o,u,l,c,h){if(h=h!==void 0?h:nc,h!==nc&&h!==Df)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&h===nc&&(r=ap),r===void 0&&h===Df&&(r=Mf);super(null,i,s,o,u,l,h,r,c);this.image={width:e,height:t},this.magFilter=u!==void 0?u:Cr,this.minFilter=l!==void 0?l:Cr,this.flipY=!1,this.generateMipmaps=!1}}Y2.prototype.isDepthTexture=!0;class cie extends rc{constructor(e,t){super();const r=this;let i=null,s=1,o=null,u="local-floor";const l=e.extensions.has("WEBGL_multisampled_render_to_texture");let c=null,h=null,d=null,p=null,v=!1,S=null;const w=t.getContextAttributes();let T=null,x=null;const E=[],O=new Map,C=new Jr;C.layers.enable(1),C.viewport=new On;const N=new Jr;N.layers.enable(2),N.viewport=new On;const $=[C,N],M=new RD;M.layers.enable(1),M.layers.enable(2);let L=null,V=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(k){let G=E[k];return G===void 0&&(G=new kD,E[k]=G),G.getTargetRaySpace()},this.getControllerGrip=function(k){let G=E[k];return G===void 0&&(G=new kD,E[k]=G),G.getGripSpace()},this.getHand=function(k){let G=E[k];return G===void 0&&(G=new kD,E[k]=G),G.getHandSpace()};function Z(k){const G=O.get(k.inputSource);G&&G.dispatchEvent({type:k.type,data:k.inputSource})}function H(){O.forEach(function(k,G){k.disconnect(G)}),O.clear(),L=null,V=null,e.setRenderTarget(T),p=null,d=null,h=null,i=null,x=null,U.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(k){s=k,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(k){u=k,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return o},this.getBaseLayer=function(){return d!==null?d:p},this.getBinding=function(){return h},this.getFrame=function(){return S},this.getSession=function(){return i},this.setSession=async function(k){if(i=k,i!==null){if(T=e.getRenderTarget(),i.addEventListener("select",Z),i.addEventListener("selectstart",Z),i.addEventListener("selectend",Z),i.addEventListener("squeeze",Z),i.addEventListener("squeezestart",Z),i.addEventListener("squeezeend",Z),i.addEventListener("end",H),i.addEventListener("inputsourceschange",D),w.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const G={antialias:i.renderState.layers===void 0?w.antialias:!0,alpha:w.alpha,depth:w.depth,stencil:w.stencil,framebufferScaleFactor:s};p=new XRWebGLLayer(i,t,G),i.updateRenderState({baseLayer:p}),x=new oo(p.framebufferWidth,p.framebufferHeight,{format:Pr,type:Qa,encoding:e.outputEncoding})}else{v=w.antialias;let G=null,ne=null,le=null;w.depth&&(le=w.stencil?35056:33190,G=w.stencil?Df:nc,ne=w.stencil?Mf:ap);const ee={colorFormat:w.alpha||v?32856:32849,depthFormat:le,scaleFactor:s};h=new XRWebGLBinding(i,t),d=h.createProjectionLayer(ee),i.updateRenderState({layers:[d]}),v?x=new w2(d.textureWidth,d.textureHeight,{format:Pr,type:Qa,depthTexture:new Y2(d.textureWidth,d.textureHeight,ne,void 0,void 0,void 0,void 0,void 0,void 0,G),stencilBuffer:w.stencil,ignoreDepth:d.ignoreDepthValues,useRenderToTexture:l,encoding:e.outputEncoding}):x=new oo(d.textureWidth,d.textureHeight,{format:w.alpha?Pr:tc,type:Qa,depthTexture:new Y2(d.textureWidth,d.textureHeight,ne,void 0,void 0,void 0,void 0,void 0,void 0,G),stencilBuffer:w.stencil,ignoreDepth:d.ignoreDepthValues,encoding:e.outputEncoding})}this.setFoveation(1),o=await i.requestReferenceSpace(u),U.setContext(i),U.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function D(k){const G=i.inputSources;for(let ne=0;ne<E.length;ne++)O.set(G[ne],E[ne]);for(let ne=0;ne<k.removed.length;ne++){const le=k.removed[ne],ee=O.get(le);ee&&(ee.dispatchEvent({type:"disconnected",data:le}),O.delete(le))}for(let ne=0;ne<k.added.length;ne++){const le=k.added[ne],ee=O.get(le);ee&&ee.dispatchEvent({type:"connected",data:le})}}const R=new be,P=new be;function F(k,G,ne){R.setFromMatrixPosition(G.matrixWorld),P.setFromMatrixPosition(ne.matrixWorld);const le=R.distanceTo(P),ee=G.projectionMatrix.elements,J=ne.projectionMatrix.elements,de=ee[14]/(ee[10]-1),se=ee[14]/(ee[10]+1),ue=(ee[9]+1)/ee[5],oe=(ee[9]-1)/ee[5],W=(ee[8]-1)/ee[0],ce=(J[8]+1)/J[0],ye=de*W,Te=de*ce,Pe=le/(-W+ce),Je=Pe*-W;G.matrixWorld.decompose(k.position,k.quaternion,k.scale),k.translateX(Je),k.translateZ(Pe),k.matrixWorld.compose(k.position,k.quaternion,k.scale),k.matrixWorldInverse.copy(k.matrixWorld).invert();const ie=de+Pe,K=se+Pe,q=ye-Je,he=Te+(le-Je),Se=ue*se/K*ie,te=oe*se/K*ie;k.projectionMatrix.makePerspective(q,he,Se,te,ie,K)}function z(k,G){G===null?k.matrixWorld.copy(k.matrix):k.matrixWorld.multiplyMatrices(G.matrixWorld,k.matrix),k.matrixWorldInverse.copy(k.matrixWorld).invert()}this.updateCamera=function(k){if(i===null)return;M.near=N.near=C.near=k.near,M.far=N.far=C.far=k.far,(L!==M.near||V!==M.far)&&(i.updateRenderState({depthNear:M.near,depthFar:M.far}),L=M.near,V=M.far);const G=k.parent,ne=M.cameras;z(M,G);for(let ee=0;ee<ne.length;ee++)z(ne[ee],G);M.matrixWorld.decompose(M.position,M.quaternion,M.scale),k.position.copy(M.position),k.quaternion.copy(M.quaternion),k.scale.copy(M.scale),k.matrix.copy(M.matrix),k.matrixWorld.copy(M.matrixWorld);const le=k.children;for(let ee=0,J=le.length;ee<J;ee++)le[ee].updateMatrixWorld(!0);ne.length===2?F(M,C,N):M.projectionMatrix.copy(C.projectionMatrix)},this.getCamera=function(){return M},this.getFoveation=function(){if(d!==null)return d.fixedFoveation;if(p!==null)return p.fixedFoveation},this.setFoveation=function(k){d!==null&&(d.fixedFoveation=k),p!==null&&p.fixedFoveation!==void 0&&(p.fixedFoveation=k)};let j=null;function B(k,G){if(c=G.getViewerPose(o),S=G,c!==null){const le=c.views;p!==null&&(e.setRenderTargetFramebuffer(x,p.framebuffer),e.setRenderTarget(x));let ee=!1;le.length!==M.cameras.length&&(M.cameras.length=0,ee=!0);for(let J=0;J<le.length;J++){const de=le[J];let se=null;if(p!==null)se=p.getViewport(de);else{const oe=h.getViewSubImage(d,de);se=oe.viewport,J===0&&(e.setRenderTargetTextures(x,oe.colorTexture,d.ignoreDepthValues?void 0:oe.depthStencilTexture),e.setRenderTarget(x))}const ue=$[J];ue.matrix.fromArray(de.transform.matrix),ue.projectionMatrix.fromArray(de.projectionMatrix),ue.viewport.set(se.x,se.y,se.width,se.height),J===0&&M.matrix.copy(ue.matrix),ee===!0&&M.cameras.push(ue)}}const ne=i.inputSources;for(let le=0;le<E.length;le++){const ee=E[le],J=ne[le];ee.update(J,G,o)}j&&j(k,G),S=null}const U=new IO;U.setAnimationLoop(B),this.setAnimationLoop=function(k){j=k},this.dispose=function(){}}}function fie(n){function e(x,E){x.fogColor.value.copy(E.color),E.isFog?(x.fogNear.value=E.near,x.fogFar.value=E.far):E.isFogExp2&&(x.fogDensity.value=E.density)}function t(x,E,O,C,N){E.isMeshBasicMaterial?r(x,E):E.isMeshLambertMaterial?(r(x,E),l(x,E)):E.isMeshToonMaterial?(r(x,E),h(x,E)):E.isMeshPhongMaterial?(r(x,E),c(x,E)):E.isMeshStandardMaterial?(r(x,E),E.isMeshPhysicalMaterial?p(x,E,N):d(x,E)):E.isMeshMatcapMaterial?(r(x,E),v(x,E)):E.isMeshDepthMaterial?(r(x,E),S(x,E)):E.isMeshDistanceMaterial?(r(x,E),w(x,E)):E.isMeshNormalMaterial?(r(x,E),T(x,E)):E.isLineBasicMaterial?(i(x,E),E.isLineDashedMaterial&&s(x,E)):E.isPointsMaterial?o(x,E,O,C):E.isSpriteMaterial?u(x,E):E.isShadowMaterial?(x.color.value.copy(E.color),x.opacity.value=E.opacity):E.isShaderMaterial&&(E.uniformsNeedUpdate=!1)}function r(x,E){x.opacity.value=E.opacity,E.color&&x.diffuse.value.copy(E.color),E.emissive&&x.emissive.value.copy(E.emissive).multiplyScalar(E.emissiveIntensity),E.map&&(x.map.value=E.map),E.alphaMap&&(x.alphaMap.value=E.alphaMap),E.specularMap&&(x.specularMap.value=E.specularMap),E.alphaTest>0&&(x.alphaTest.value=E.alphaTest);const O=n.get(E).envMap;O&&(x.envMap.value=O,x.flipEnvMap.value=O.isCubeTexture&&O.isRenderTargetTexture===!1?-1:1,x.reflectivity.value=E.reflectivity,x.ior.value=E.ior,x.refractionRatio.value=E.refractionRatio),E.lightMap&&(x.lightMap.value=E.lightMap,x.lightMapIntensity.value=E.lightMapIntensity),E.aoMap&&(x.aoMap.value=E.aoMap,x.aoMapIntensity.value=E.aoMapIntensity);let C;E.map?C=E.map:E.specularMap?C=E.specularMap:E.displacementMap?C=E.displacementMap:E.normalMap?C=E.normalMap:E.bumpMap?C=E.bumpMap:E.roughnessMap?C=E.roughnessMap:E.metalnessMap?C=E.metalnessMap:E.alphaMap?C=E.alphaMap:E.emissiveMap?C=E.emissiveMap:E.clearcoatMap?C=E.clearcoatMap:E.clearcoatNormalMap?C=E.clearcoatNormalMap:E.clearcoatRoughnessMap?C=E.clearcoatRoughnessMap:E.specularIntensityMap?C=E.specularIntensityMap:E.specularColorMap?C=E.specularColorMap:E.transmissionMap?C=E.transmissionMap:E.thicknessMap?C=E.thicknessMap:E.sheenColorMap?C=E.sheenColorMap:E.sheenRoughnessMap&&(C=E.sheenRoughnessMap),C!==void 0&&(C.isWebGLRenderTarget&&(C=C.texture),C.matrixAutoUpdate===!0&&C.updateMatrix(),x.uvTransform.value.copy(C.matrix));let N;E.aoMap?N=E.aoMap:E.lightMap&&(N=E.lightMap),N!==void 0&&(N.isWebGLRenderTarget&&(N=N.texture),N.matrixAutoUpdate===!0&&N.updateMatrix(),x.uv2Transform.value.copy(N.matrix))}function i(x,E){x.diffuse.value.copy(E.color),x.opacity.value=E.opacity}function s(x,E){x.dashSize.value=E.dashSize,x.totalSize.value=E.dashSize+E.gapSize,x.scale.value=E.scale}function o(x,E,O,C){x.diffuse.value.copy(E.color),x.opacity.value=E.opacity,x.size.value=E.size*O,x.scale.value=C*.5,E.map&&(x.map.value=E.map),E.alphaMap&&(x.alphaMap.value=E.alphaMap),E.alphaTest>0&&(x.alphaTest.value=E.alphaTest);let N;E.map?N=E.map:E.alphaMap&&(N=E.alphaMap),N!==void 0&&(N.matrixAutoUpdate===!0&&N.updateMatrix(),x.uvTransform.value.copy(N.matrix))}function u(x,E){x.diffuse.value.copy(E.color),x.opacity.value=E.opacity,x.rotation.value=E.rotation,E.map&&(x.map.value=E.map),E.alphaMap&&(x.alphaMap.value=E.alphaMap),E.alphaTest>0&&(x.alphaTest.value=E.alphaTest);let O;E.map?O=E.map:E.alphaMap&&(O=E.alphaMap),O!==void 0&&(O.matrixAutoUpdate===!0&&O.updateMatrix(),x.uvTransform.value.copy(O.matrix))}function l(x,E){E.emissiveMap&&(x.emissiveMap.value=E.emissiveMap)}function c(x,E){x.specular.value.copy(E.specular),x.shininess.value=Math.max(E.shininess,1e-4),E.emissiveMap&&(x.emissiveMap.value=E.emissiveMap),E.bumpMap&&(x.bumpMap.value=E.bumpMap,x.bumpScale.value=E.bumpScale,E.side===wr&&(x.bumpScale.value*=-1)),E.normalMap&&(x.normalMap.value=E.normalMap,x.normalScale.value.copy(E.normalScale),E.side===wr&&x.normalScale.value.negate()),E.displacementMap&&(x.displacementMap.value=E.displacementMap,x.displacementScale.value=E.displacementScale,x.displacementBias.value=E.displacementBias)}function h(x,E){E.gradientMap&&(x.gradientMap.value=E.gradientMap),E.emissiveMap&&(x.emissiveMap.value=E.emissiveMap),E.bumpMap&&(x.bumpMap.value=E.bumpMap,x.bumpScale.value=E.bumpScale,E.side===wr&&(x.bumpScale.value*=-1)),E.normalMap&&(x.normalMap.value=E.normalMap,x.normalScale.value.copy(E.normalScale),E.side===wr&&x.normalScale.value.negate()),E.displacementMap&&(x.displacementMap.value=E.displacementMap,x.displacementScale.value=E.displacementScale,x.displacementBias.value=E.displacementBias)}function d(x,E){x.roughness.value=E.roughness,x.metalness.value=E.metalness,E.roughnessMap&&(x.roughnessMap.value=E.roughnessMap),E.metalnessMap&&(x.metalnessMap.value=E.metalnessMap),E.emissiveMap&&(x.emissiveMap.value=E.emissiveMap),E.bumpMap&&(x.bumpMap.value=E.bumpMap,x.bumpScale.value=E.bumpScale,E.side===wr&&(x.bumpScale.value*=-1)),E.normalMap&&(x.normalMap.value=E.normalMap,x.normalScale.value.copy(E.normalScale),E.side===wr&&x.normalScale.value.negate()),E.displacementMap&&(x.displacementMap.value=E.displacementMap,x.displacementScale.value=E.displacementScale,x.displacementBias.value=E.displacementBias),n.get(E).envMap&&(x.envMapIntensity.value=E.envMapIntensity)}function p(x,E,O){d(x,E),x.ior.value=E.ior,E.sheen>0&&(x.sheenColor.value.copy(E.sheenColor).multiplyScalar(E.sheen),x.sheenRoughness.value=E.sheenRoughness,E.sheenColorMap&&(x.sheenColorMap.value=E.sheenColorMap),E.sheenRoughnessMap&&(x.sheenRoughnessMap.value=E.sheenRoughnessMap)),E.clearcoat>0&&(x.clearcoat.value=E.clearcoat,x.clearcoatRoughness.value=E.clearcoatRoughness,E.clearcoatMap&&(x.clearcoatMap.value=E.clearcoatMap),E.clearcoatRoughnessMap&&(x.clearcoatRoughnessMap.value=E.clearcoatRoughnessMap),E.clearcoatNormalMap&&(x.clearcoatNormalScale.value.copy(E.clearcoatNormalScale),x.clearcoatNormalMap.value=E.clearcoatNormalMap,E.side===wr&&x.clearcoatNormalScale.value.negate())),E.transmission>0&&(x.transmission.value=E.transmission,x.transmissionSamplerMap.value=O.texture,x.transmissionSamplerSize.value.set(O.width,O.height),E.transmissionMap&&(x.transmissionMap.value=E.transmissionMap),x.thickness.value=E.thickness,E.thicknessMap&&(x.thicknessMap.value=E.thicknessMap),x.attenuationDistance.value=E.attenuationDistance,x.attenuationColor.value.copy(E.attenuationColor)),x.specularIntensity.value=E.specularIntensity,x.specularColor.value.copy(E.specularColor),E.specularIntensityMap&&(x.specularIntensityMap.value=E.specularIntensityMap),E.specularColorMap&&(x.specularColorMap.value=E.specularColorMap)}function v(x,E){E.matcap&&(x.matcap.value=E.matcap),E.bumpMap&&(x.bumpMap.value=E.bumpMap,x.bumpScale.value=E.bumpScale,E.side===wr&&(x.bumpScale.value*=-1)),E.normalMap&&(x.normalMap.value=E.normalMap,x.normalScale.value.copy(E.normalScale),E.side===wr&&x.normalScale.value.negate()),E.displacementMap&&(x.displacementMap.value=E.displacementMap,x.displacementScale.value=E.displacementScale,x.displacementBias.value=E.displacementBias)}function S(x,E){E.displacementMap&&(x.displacementMap.value=E.displacementMap,x.displacementScale.value=E.displacementScale,x.displacementBias.value=E.displacementBias)}function w(x,E){E.displacementMap&&(x.displacementMap.value=E.displacementMap,x.displacementScale.value=E.displacementScale,x.displacementBias.value=E.displacementBias),x.referencePosition.value.copy(E.referencePosition),x.nearDistance.value=E.nearDistance,x.farDistance.value=E.farDistance}function T(x,E){E.bumpMap&&(x.bumpMap.value=E.bumpMap,x.bumpScale.value=E.bumpScale,E.side===wr&&(x.bumpScale.value*=-1)),E.normalMap&&(x.normalMap.value=E.normalMap,x.normalScale.value.copy(E.normalScale),E.side===wr&&x.normalScale.value.negate()),E.displacementMap&&(x.displacementMap.value=E.displacementMap,x.displacementScale.value=E.displacementScale,x.displacementBias.value=E.displacementBias)}return{refreshFogUniforms:e,refreshMaterialUniforms:t}}function hie(){const n=_2("canvas");return n.style.display="block",n}function Un(n={}){const e=n.canvas!==void 0?n.canvas:hie(),t=n.context!==void 0?n.context:null,r=n.alpha!==void 0?n.alpha:!1,i=n.depth!==void 0?n.depth:!0,s=n.stencil!==void 0?n.stencil:!0,o=n.antialias!==void 0?n.antialias:!1,u=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,l=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,c=n.powerPreference!==void 0?n.powerPreference:"default",h=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let d=null,p=null;const v=[],S=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Fo,this.physicallyCorrectLights=!1,this.toneMapping=qu,this.toneMappingExposure=1;const w=this;let T=!1,x=0,E=0,O=null,C=-1,N=null;const $=new On,M=new On;let L=null,V=e.width,Z=e.height,H=1,D=null,R=null;const P=new On(0,0,V,Z),F=new On(0,0,V,Z);let z=!1;const j=[],B=new rg;let U=!1,k=!1,G=null;const ne=new Xt,le=new be,ee={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function J(){return O===null?H:1}let de=t;function se(pe,Re){for(let We=0;We<pe.length;We++){const ke=pe[We],Le=e.getContext(ke,Re);if(Le!==null)return Le}return null}try{const pe={alpha:r,depth:i,stencil:s,antialias:o,premultipliedAlpha:u,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:h};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${f2}`),e.addEventListener("webglcontextlost",He,!1),e.addEventListener("webglcontextrestored",Be,!1),de===null){const Re=["webgl2","webgl","experimental-webgl"];if(w.isWebGL1Renderer===!0&&Re.shift(),de=se(Re,pe),de===null)throw se(Re)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}de.getShaderPrecisionFormat===void 0&&(de.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(pe){throw console.error("THREE.WebGLRenderer: "+pe.message),pe}let ue,oe,W,ce,ye,Te,Pe,Je,ie,K,q,he,Se,te,re,Me,Ce,Ae,Oe,ge,Ne,ze,ae;function Ue(){ue=new kne(de),oe=new Dne(de,ue,n),ue.init(oe),ze=new pN(de,ue,oe),W=new aie(de,ue,oe),j[0]=1029,ce=new Fne(de),ye=new Jre,Te=new uie(de,ue,W,ye,oe,ze,ce),Pe=new Tne(w),Je=new Rne(w),ie=new JQ(de,oe),ae=new Ene(de,ue,ie,oe),K=new Ine(de,ie,ce,ae),q=new Bne(de,K,ie,ce),Oe=new Une(de,oe,Te),Me=new Ane(ye),he=new Yre(w,Pe,Je,ue,oe,ae,Me),Se=new fie(ye),te=new Zre,re=new iie(ue,oe),Ae=new Sne(w,Pe,W,q,u),Ce=new dN(w,q,oe),ge=new Mne(de,ue,ce,oe),Ne=new Lne(de,ue,ce,oe),ce.programs=he.programs,w.capabilities=oe,w.extensions=ue,w.properties=ye,w.renderLists=te,w.shadowMap=Ce,w.state=W,w.info=ce}Ue();const Ye=new cie(w,de);this.xr=Ye,this.getContext=function(){return de},this.getContextAttributes=function(){return de.getContextAttributes()},this.forceContextLoss=function(){const pe=ue.get("WEBGL_lose_context");pe&&pe.loseContext()},this.forceContextRestore=function(){const pe=ue.get("WEBGL_lose_context");pe&&pe.restoreContext()},this.getPixelRatio=function(){return H},this.setPixelRatio=function(pe){pe!==void 0&&(H=pe,this.setSize(V,Z,!1))},this.getSize=function(pe){return pe.set(V,Z)},this.setSize=function(pe,Re,We){if(Ye.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}V=pe,Z=Re,e.width=Math.floor(pe*H),e.height=Math.floor(Re*H),We!==!1&&(e.style.width=pe+"px",e.style.height=Re+"px"),this.setViewport(0,0,pe,Re)},this.getDrawingBufferSize=function(pe){return pe.set(V*H,Z*H).floor()},this.setDrawingBufferSize=function(pe,Re,We){V=pe,Z=Re,H=We,e.width=Math.floor(pe*We),e.height=Math.floor(Re*We),this.setViewport(0,0,pe,Re)},this.getCurrentViewport=function(pe){return pe.copy($)},this.getViewport=function(pe){return pe.copy(P)},this.setViewport=function(pe,Re,We,ke){pe.isVector4?P.set(pe.x,pe.y,pe.z,pe.w):P.set(pe,Re,We,ke),W.viewport($.copy(P).multiplyScalar(H).floor())},this.getScissor=function(pe){return pe.copy(F)},this.setScissor=function(pe,Re,We,ke){pe.isVector4?F.set(pe.x,pe.y,pe.z,pe.w):F.set(pe,Re,We,ke),W.scissor(M.copy(F).multiplyScalar(H).floor())},this.getScissorTest=function(){return z},this.setScissorTest=function(pe){W.setScissorTest(z=pe)},this.setOpaqueSort=function(pe){D=pe},this.setTransparentSort=function(pe){R=pe},this.getClearColor=function(pe){return pe.copy(Ae.getClearColor())},this.setClearColor=function(){Ae.setClearColor.apply(Ae,arguments)},this.getClearAlpha=function(){return Ae.getClearAlpha()},this.setClearAlpha=function(){Ae.setClearAlpha.apply(Ae,arguments)},this.clear=function(pe,Re,We){let ke=0;(pe===void 0||pe)&&(ke|=16384),(Re===void 0||Re)&&(ke|=256),(We===void 0||We)&&(ke|=1024),de.clear(ke)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",He,!1),e.removeEventListener("webglcontextrestored",Be,!1),te.dispose(),re.dispose(),ye.dispose(),Pe.dispose(),Je.dispose(),q.dispose(),ae.dispose(),he.dispose(),Ye.dispose(),Ye.removeEventListener("sessionstart",_t),Ye.removeEventListener("sessionend",nn),G&&(G.dispose(),G=null),It.stop()};function He(pe){pe.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),T=!0}function Be(){console.log("THREE.WebGLRenderer: Context Restored."),T=!1;const pe=ce.autoReset,Re=Ce.enabled,We=Ce.autoUpdate,ke=Ce.needsUpdate,Le=Ce.type;Ue(),ce.autoReset=pe,Ce.enabled=Re,Ce.autoUpdate=We,Ce.needsUpdate=ke,Ce.type=Le}function Ze(pe){const Re=pe.target;Re.removeEventListener("dispose",Ze),Ve(Re)}function Ve(pe){ot(pe),ye.remove(pe)}function ot(pe){const Re=ye.get(pe).programs;Re!==void 0&&(Re.forEach(function(We){he.releaseProgram(We)}),pe.isShaderMaterial&&he.releaseShaderCache(pe))}this.renderBufferDirect=function(pe,Re,We,ke,Le,At){Re===null&&(Re=ee);const rt=Le.isMesh&&Le.matrixWorld.determinant()<0,ht=yt(pe,Re,We,ke,Le);W.setMaterial(ke,rt);let it=We.index;const $t=We.attributes.position;if(it===null){if($t===void 0||$t.count===0)return}else if(it.count===0)return;let zt=1;ke.wireframe===!0&&(it=K.getWireframeAttribute(We),zt=2),ae.setup(Le,ke,ht,We,it);let Wt,un=ge;it!==null&&(Wt=ie.get(it),un=Ne,un.setIndex(Wt));const Jt=it!==null?it.count:$t.count,sn=We.drawRange.start*zt,ct=We.drawRange.count*zt,xe=At!==null?At.start*zt:0,je=At!==null?At.count*zt:1/0,bt=Math.max(sn,xe),qt=Math.min(Jt,sn+ct,xe+je)-1,ln=Math.max(0,qt-bt+1);if(ln!==0){if(Le.isMesh)ke.wireframe===!0?(W.setLineWidth(ke.wireframeLinewidth*J()),un.setMode(1)):un.setMode(4);else if(Le.isLine){let hn=ke.linewidth;hn===void 0&&(hn=1),W.setLineWidth(hn*J()),Le.isLineSegments?un.setMode(1):Le.isLineLoop?un.setMode(2):un.setMode(3)}else Le.isPoints?un.setMode(0):Le.isSprite&&un.setMode(4);if(Le.isInstancedMesh)un.renderInstances(bt,ln,Le.count);else if(We.isInstancedBufferGeometry){const hn=Math.min(We.instanceCount,We._maxInstanceCount);un.renderInstances(bt,ln,hn)}else un.render(bt,ln)}},this.compile=function(pe,Re){p=re.get(pe),p.init(),S.push(p),pe.traverseVisible(function(We){We.isLight&&We.layers.test(Re.layers)&&(p.pushLight(We),We.castShadow&&p.pushShadow(We))}),p.setupLights(w.physicallyCorrectLights),pe.traverse(function(We){const ke=We.material;if(ke)if(Array.isArray(ke))for(let Le=0;Le<ke.length;Le++){const At=ke[Le];dt(At,pe,We)}else dt(ke,pe,We)}),S.pop(),p=null},this.compileAsync=function(pe,Re=null){Re||(Re=pe),p=re.get(Re),p.init(),S.push(p);let We=pe===Re;Re.traverseVisible(function(rt){rt===pe&&(We=!0),rt.isLight&&(p.pushLight(rt),rt.castShadow&&p.pushShadow(rt))}),We||pe.traverseVisible(function(rt){rt.isLight&&(p.pushLight(rt),rt.castShadow&&p.pushShadow(rt))}),p.setupLights(w.physicallyCorrectLights);const ke=new Set;function Le(rt,ht,it){rt.transparent===!0&&rt.side===Za?(rt.side=wr,dt(rt,ht,it),rt.side=Ql,dt(rt,ht,it),rt.side=Za):dt(rt,ht,it)}function At(rt,ht){if(Array.isArray(rt))for(let it=0;it<rt.length;it++){const $t=rt[it];Le($t,Re,ht),ke.add($t)}else Le(rt,Re,ht),ke.add(rt)}return pe.overrideMaterial?pe.traverse(function(rt){rt.material&&At(pe.overrideMaterial,rt)}):pe.traverse(function(rt){const ht=rt.material;ht&&At(ht,rt)}),p=null,new Promise(rt=>{function ht(){if(ke.forEach(function(it){ye.get(it).currentProgram.isReady()&&ke.delete(it)}),ke.size===0){rt(pe);return}setTimeout(ht,10)}ue.get("KHR_parallel_shader_compile")!==null?ht():setTimeout(ht,10)})};let kt=null;function lt(pe){kt&&kt(pe)}function _t(){It.stop()}function nn(){It.start()}const It=new IO;It.setAnimationLoop(lt),typeof window!="undefined"&&It.setContext(window),this.setAnimationLoop=function(pe){kt=pe,Ye.setAnimationLoop(pe),pe===null?It.stop():It.start()},Ye.addEventListener("sessionstart",_t),Ye.addEventListener("sessionend",nn),this.render=function(pe,Re){if(Re!==void 0&&Re.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(T===!0)return;pe.autoUpdate===!0&&pe.updateMatrixWorld(),Re.parent===null&&Re.updateMatrixWorld(),Ye.enabled===!0&&Ye.isPresenting===!0&&(Ye.cameraAutoUpdate===!0&&Ye.updateCamera(Re),Re=Ye.getCamera()),pe.isScene===!0&&pe.onBeforeRender(w,pe,Re,O),p=re.get(pe,S.length),p.init(),S.push(p),ne.multiplyMatrices(Re.projectionMatrix,Re.matrixWorldInverse),B.setFromProjectionMatrix(ne),k=this.localClippingEnabled,U=Me.init(this.clippingPlanes,k,Re),d=te.get(pe,v.length),d.init(),v.push(d),Gt(pe,Re,0,w.sortObjects),d.finish(),w.sortObjects===!0&&d.sort(D,R),U===!0&&Me.beginShadows();const We=p.state.shadowsArray;if(Ce.render(We,pe,Re),U===!0&&Me.endShadows(),this.info.autoReset===!0&&this.info.reset(),Ae.render(d,pe),p.setupLights(w.physicallyCorrectLights),Re.isArrayCamera){const ke=Re.cameras;for(let Le=0,At=ke.length;Le<At;Le++){const rt=ke[Le];Ot(d,pe,rt,rt.viewport)}}else Ot(d,pe,Re);O!==null&&(Te.updateMultisampleRenderTarget(O),Te.updateRenderTargetMipmap(O)),pe.isScene===!0&&pe.onAfterRender(w,pe,Re),W.buffers.depth.setTest(!0),W.buffers.depth.setMask(!0),W.buffers.color.setMask(!0),W.setPolygonOffset(!1),ae.resetDefaultState(),C=-1,N=null,S.pop(),S.length>0?p=S[S.length-1]:p=null,v.pop(),v.length>0?d=v[v.length-1]:d=null};function Gt(pe,Re,We,ke){if(pe.visible===!1)return;if(pe.layers.test(Re.layers)){if(pe.isGroup)We=pe.renderOrder;else if(pe.isLOD)pe.autoUpdate===!0&&pe.update(Re);else if(pe.isLight)p.pushLight(pe),pe.castShadow&&p.pushShadow(pe);else if(pe.isSprite){if(!pe.frustumCulled||B.intersectsSprite(pe)){ke&&le.setFromMatrixPosition(pe.matrixWorld).applyMatrix4(ne);const rt=q.update(pe),ht=pe.material;ht.visible&&d.push(pe,rt,ht,We,le.z,null)}}else if((pe.isMesh||pe.isLine||pe.isPoints)&&(pe.isSkinnedMesh&&pe.skeleton.frame!==ce.render.frame&&(pe.skeleton.update(),pe.skeleton.frame=ce.render.frame),!pe.frustumCulled||B.intersectsObject(pe))){ke&&le.setFromMatrixPosition(pe.matrixWorld).applyMatrix4(ne);const rt=q.update(pe),ht=pe.material;if(Array.isArray(ht)){const it=rt.groups;for(let $t=0,zt=it.length;$t<zt;$t++){const Wt=it[$t],un=ht[Wt.materialIndex];un&&un.visible&&d.push(pe,rt,un,We,le.z,Wt)}}else ht.visible&&d.push(pe,rt,ht,We,le.z,null)}}const At=pe.children;for(let rt=0,ht=At.length;rt<ht;rt++)Gt(At[rt],Re,We,ke)}function Ot(pe,Re,We,ke){const Le=pe.opaque,At=pe.transmissive,rt=pe.transparent;p.setupLightsView(We),At.length>0&&mt(Le,Re,We),ke&&W.viewport($.copy(ke)),Le.length>0&&gt(Le,Re,We),At.length>0&&gt(At,Re,We),rt.length>0&&gt(rt,Re,We)}function mt(pe,Re,We){if(G===null){const rt=o===!0&&oe.isWebGL2===!0?w2:oo;G=new rt(1024,1024,{generateMipmaps:!0,type:ze.convert(ec)!==null?ec:Qa,minFilter:Ef,magFilter:Cr,wrapS:bi,wrapT:bi,useRenderToTexture:ue.has("WEBGL_multisampled_render_to_texture")})}const ke=w.getRenderTarget();w.setRenderTarget(G),w.clear();const Le=w.toneMapping;w.toneMapping=qu,gt(pe,Re,We),w.toneMapping=Le,Te.updateMultisampleRenderTarget(G),Te.updateRenderTargetMipmap(G),w.setRenderTarget(ke)}function gt(pe,Re,We){const ke=Re.isScene===!0?Re.overrideMaterial:null;for(let Le=0,At=pe.length;Le<At;Le++){const rt=pe[Le],ht=rt.object,it=rt.geometry,$t=ke===null?rt.material:ke,zt=rt.group;ht.layers.test(We.layers)&&Ct(ht,Re,We,it,$t,zt)}}function Ct(pe,Re,We,ke,Le,At){pe.onBeforeRender(w,Re,We,ke,Le,At),pe.modelViewMatrix.multiplyMatrices(We.matrixWorldInverse,pe.matrixWorld),pe.normalMatrix.getNormalMatrix(pe.modelViewMatrix),Le.onBeforeRender(w,Re,We,ke,pe,At),Le.transparent===!0&&Le.side===Za?(Le.side=wr,Le.needsUpdate=!0,w.renderBufferDirect(We,Re,ke,Le,pe,At),Le.side=Ql,Le.needsUpdate=!0,w.renderBufferDirect(We,Re,ke,Le,pe,At),Le.side=Za):w.renderBufferDirect(We,Re,ke,Le,pe,At),pe.onAfterRender(w,Re,We,ke,Le,At)}function dt(pe,Re,We){Re.isScene!==!0&&(Re=ee);const ke=ye.get(pe),Le=p.state.lights,At=p.state.shadowsArray,rt=Le.state.version,ht=he.getParameters(pe,Le.state,At,Re,We),it=he.getProgramCacheKey(ht);let $t=ke.programs;ke.environment=pe.isMeshStandardMaterial?Re.environment:null,ke.fog=Re.fog,ke.envMap=(pe.isMeshStandardMaterial?Je:Pe).get(pe.envMap||ke.environment),$t===void 0&&(pe.addEventListener("dispose",Ze),$t=new Map,ke.programs=$t);let zt=$t.get(it);if(zt!==void 0){if(ke.currentProgram===zt&&ke.lightsStateVersion===rt)return Dt(pe,ht),zt}else ht.uniforms=he.getUniforms(pe),pe.onBuild(We,ht,w),pe.onBeforeCompile(ht,w),zt=he.acquireProgram(ht,it),$t.set(it,zt),ke.uniforms=ht.uniforms;const Wt=ke.uniforms;return(!pe.isShaderMaterial&&!pe.isRawShaderMaterial||pe.clipping===!0)&&(Wt.clippingPlanes=Me.uniform),Dt(pe,ht),ke.needsLights=Nt(pe),ke.lightsStateVersion=rt,ke.needsLights&&(Wt.ambientLightColor.value=Le.state.ambient,Wt.lightProbe.value=Le.state.probe,Wt.directionalLights.value=Le.state.directional,Wt.directionalLightShadows.value=Le.state.directionalShadow,Wt.spotLights.value=Le.state.spot,Wt.spotLightShadows.value=Le.state.spotShadow,Wt.rectAreaLights.value=Le.state.rectArea,Wt.ltc_1.value=Le.state.rectAreaLTC1,Wt.ltc_2.value=Le.state.rectAreaLTC2,Wt.pointLights.value=Le.state.point,Wt.pointLightShadows.value=Le.state.pointShadow,Wt.hemisphereLights.value=Le.state.hemi,Wt.directionalShadowMap.value=Le.state.directionalShadowMap,Wt.directionalShadowMatrix.value=Le.state.directionalShadowMatrix,Wt.spotShadowMap.value=Le.state.spotShadowMap,Wt.spotShadowMatrix.value=Le.state.spotShadowMatrix,Wt.pointShadowMap.value=Le.state.pointShadowMap,Wt.pointShadowMatrix.value=Le.state.pointShadowMatrix),ke.currentProgram=zt,ke.uniformsList=null,zt}function Mt(pe){if(pe.uniformsList===null){const Re=pe.currentProgram.getUniforms();pe.uniformsList=dc.seqWithValue(Re.seq,pe.uniforms)}return pe.uniformsList}function Dt(pe,Re){const We=ye.get(pe);We.outputEncoding=Re.outputEncoding,We.instancing=Re.instancing,We.skinning=Re.skinning,We.morphTargets=Re.morphTargets,We.morphNormals=Re.morphNormals,We.morphTargetsCount=Re.morphTargetsCount,We.numClippingPlanes=Re.numClippingPlanes,We.numIntersection=Re.numClipIntersection,We.vertexAlphas=Re.vertexAlphas,We.vertexTangents=Re.vertexTangents,We.toneMapping=Re.toneMapping}function yt(pe,Re,We,ke,Le){Re.isScene!==!0&&(Re=ee),Te.resetTextureUnits();const At=Re.fog,rt=ke.isMeshStandardMaterial?Re.environment:null,ht=O===null?w.outputEncoding:O.texture.encoding,it=(ke.isMeshStandardMaterial?Je:Pe).get(ke.envMap||rt),$t=ke.vertexColors===!0&&!!We.attributes.color&&We.attributes.color.itemSize===4,zt=!!ke.normalMap&&!!We.attributes.tangent,Wt=!!We.morphAttributes.position,un=!!We.morphAttributes.normal,Jt=We.morphAttributes.position?We.morphAttributes.position.length:0,sn=ke.toneMapped?w.toneMapping:qu,ct=ye.get(ke),xe=p.state.lights;if(U===!0&&(k===!0||pe!==N)){const gn=pe===N&&ke.id===C;Me.setState(ke,pe,gn)}let je=!1;ke.version===ct.__version?(ct.needsLights&&ct.lightsStateVersion!==xe.state.version||ct.outputEncoding!==ht||Le.isInstancedMesh&&ct.instancing===!1||!Le.isInstancedMesh&&ct.instancing===!0||Le.isSkinnedMesh&&ct.skinning===!1||!Le.isSkinnedMesh&&ct.skinning===!0||ct.envMap!==it||ke.fog&&ct.fog!==At||ct.numClippingPlanes!==void 0&&(ct.numClippingPlanes!==Me.numPlanes||ct.numIntersection!==Me.numIntersection)||ct.vertexAlphas!==$t||ct.vertexTangents!==zt||ct.morphTargets!==Wt||ct.morphNormals!==un||ct.toneMapping!==sn||oe.isWebGL2===!0&&ct.morphTargetsCount!==Jt)&&(je=!0):(je=!0,ct.__version=ke.version);let bt=ct.currentProgram;je===!0&&(bt=dt(ke,Re,Le));let qt=!1,ln=!1,hn=!1;const xn=bt.getUniforms(),Xn=ct.uniforms;if(W.useProgram(bt.program)&&(qt=!0,ln=!0,hn=!0),ke.id!==C&&(C=ke.id,ln=!0),qt||N!==pe){if(xn.setValue(de,"projectionMatrix",pe.projectionMatrix),oe.logarithmicDepthBuffer&&xn.setValue(de,"logDepthBufFC",2/(Math.log(pe.far+1)/Math.LN2)),N!==pe&&(N=pe,ln=!0,hn=!0),ke.isShaderMaterial||ke.isMeshPhongMaterial||ke.isMeshToonMaterial||ke.isMeshStandardMaterial||ke.envMap){const gn=xn.map.cameraPosition;gn!==void 0&&gn.setValue(de,le.setFromMatrixPosition(pe.matrixWorld))}(ke.isMeshPhongMaterial||ke.isMeshToonMaterial||ke.isMeshLambertMaterial||ke.isMeshBasicMaterial||ke.isMeshStandardMaterial||ke.isShaderMaterial)&&xn.setValue(de,"isOrthographic",pe.isOrthographicCamera===!0),(ke.isMeshPhongMaterial||ke.isMeshToonMaterial||ke.isMeshLambertMaterial||ke.isMeshBasicMaterial||ke.isMeshStandardMaterial||ke.isShaderMaterial||ke.isShadowMaterial||Le.isSkinnedMesh)&&xn.setValue(de,"viewMatrix",pe.matrixWorldInverse)}if(Le.isSkinnedMesh){xn.setOptional(de,Le,"bindMatrix"),xn.setOptional(de,Le,"bindMatrixInverse");const gn=Le.skeleton;gn&&(oe.floatVertexTextures?(gn.boneTexture===null&&gn.computeBoneTexture(),xn.setValue(de,"boneTexture",gn.boneTexture,Te),xn.setValue(de,"boneTextureSize",gn.boneTextureSize)):xn.setOptional(de,gn,"boneMatrices"))}return!!We&&(We.morphAttributes.position!==void 0||We.morphAttributes.normal!==void 0)&&Oe.update(Le,We,ke,bt),(ln||ct.receiveShadow!==Le.receiveShadow)&&(ct.receiveShadow=Le.receiveShadow,xn.setValue(de,"receiveShadow",Le.receiveShadow)),ln&&(xn.setValue(de,"toneMappingExposure",w.toneMappingExposure),ct.needsLights&&pt(Xn,hn),At&&ke.fog&&Se.refreshFogUniforms(Xn,At),Se.refreshMaterialUniforms(Xn,ke,H,Z,G),dc.upload(de,Mt(ct),Xn,Te)),ke.isShaderMaterial&&ke.uniformsNeedUpdate===!0&&(dc.upload(de,Mt(ct),Xn,Te),ke.uniformsNeedUpdate=!1),ke.isSpriteMaterial&&xn.setValue(de,"center",Le.center),xn.setValue(de,"modelViewMatrix",Le.modelViewMatrix),xn.setValue(de,"normalMatrix",Le.normalMatrix),xn.setValue(de,"modelMatrix",Le.matrixWorld),bt}function pt(pe,Re){pe.ambientLightColor.needsUpdate=Re,pe.lightProbe.needsUpdate=Re,pe.directionalLights.needsUpdate=Re,pe.directionalLightShadows.needsUpdate=Re,pe.pointLights.needsUpdate=Re,pe.pointLightShadows.needsUpdate=Re,pe.spotLights.needsUpdate=Re,pe.spotLightShadows.needsUpdate=Re,pe.rectAreaLights.needsUpdate=Re,pe.hemisphereLights.needsUpdate=Re}function Nt(pe){return pe.isMeshLambertMaterial||pe.isMeshToonMaterial||pe.isMeshPhongMaterial||pe.isMeshStandardMaterial||pe.isShadowMaterial||pe.isShaderMaterial&&pe.lights===!0}this.getActiveCubeFace=function(){return x},this.getActiveMipmapLevel=function(){return E},this.getRenderTarget=function(){return O},this.setRenderTargetTextures=function(pe,Re,We){ye.get(pe.texture).__webglTexture=Re,ye.get(pe.depthTexture).__webglTexture=We;const ke=ye.get(pe);ke.__hasExternalTextures=!0,ke.__hasExternalTextures&&(ke.__autoAllocateDepthBuffer=We===void 0,ke.__autoAllocateDepthBuffer||pe.useRenderToTexture&&(console.warn("render-to-texture extension was disabled because an external texture was provided"),pe.useRenderToTexture=!1,pe.useRenderbuffer=!0))},this.setRenderTargetFramebuffer=function(pe,Re){const We=ye.get(pe);We.__webglFramebuffer=Re,We.__useDefaultFramebuffer=Re===void 0},this.setRenderTarget=function(pe,Re=0,We=0){O=pe,x=Re,E=We;let ke=!0;if(pe){const it=ye.get(pe);it.__useDefaultFramebuffer!==void 0?(W.bindFramebuffer(36160,null),ke=!1):it.__webglFramebuffer===void 0?Te.setupRenderTarget(pe):it.__hasExternalTextures&&Te.rebindTextures(pe,ye.get(pe.texture).__webglTexture,ye.get(pe.depthTexture).__webglTexture)}let Le=null,At=!1,rt=!1;if(pe){const it=pe.texture;(it.isDataTexture3D||it.isDataTexture2DArray)&&(rt=!0);const $t=ye.get(pe).__webglFramebuffer;pe.isWebGLCubeRenderTarget?(Le=$t[Re],At=!0):pe.useRenderbuffer?Le=ye.get(pe).__webglMultisampledFramebuffer:Le=$t,$.copy(pe.viewport),M.copy(pe.scissor),L=pe.scissorTest}else $.copy(P).multiplyScalar(H).floor(),M.copy(F).multiplyScalar(H).floor(),L=z;if(W.bindFramebuffer(36160,Le)&&oe.drawBuffers&&ke){let it=!1;if(pe)if(pe.isWebGLMultipleRenderTargets){const $t=pe.texture;if(j.length!==$t.length||j[0]!==36064){for(let zt=0,Wt=$t.length;zt<Wt;zt++)j[zt]=36064+zt;j.length=$t.length,it=!0}}else(j.length!==1||j[0]!==36064)&&(j[0]=36064,j.length=1,it=!0);else(j.length!==1||j[0]!==1029)&&(j[0]=1029,j.length=1,it=!0);it&&(oe.isWebGL2?de.drawBuffers(j):ue.get("WEBGL_draw_buffers").drawBuffersWEBGL(j))}if(W.viewport($),W.scissor(M),W.setScissorTest(L),At){const it=ye.get(pe.texture);de.framebufferTexture2D(36160,36064,34069+Re,it.__webglTexture,We)}else if(rt){const it=ye.get(pe.texture),$t=Re||0;de.framebufferTextureLayer(36160,36064,it.__webglTexture,We||0,$t)}C=-1},this.readRenderTargetPixels=function(pe,Re,We,ke,Le,At,rt){if(!(pe&&pe.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ht=ye.get(pe).__webglFramebuffer;if(pe.isWebGLCubeRenderTarget&&rt!==void 0&&(ht=ht[rt]),ht){W.bindFramebuffer(36160,ht);try{const it=pe.texture,$t=it.format,zt=it.type;if($t!==Pr&&ze.convert($t)!==de.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Wt=zt===ec&&(ue.has("EXT_color_buffer_half_float")||oe.isWebGL2&&ue.has("EXT_color_buffer_float"));if(zt!==Qa&&ze.convert(zt)!==de.getParameter(35738)&&!(zt===eu&&(oe.isWebGL2||ue.has("OES_texture_float")||ue.has("WEBGL_color_buffer_float")))&&!Wt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}de.checkFramebufferStatus(36160)===36053?Re>=0&&Re<=pe.width-ke&&We>=0&&We<=pe.height-Le&&de.readPixels(Re,We,ke,Le,ze.convert($t),ze.convert(zt),At):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{const it=O!==null?ye.get(O).__webglFramebuffer:null;W.bindFramebuffer(36160,it)}}},this.copyFramebufferToTexture=function(pe,Re,We=0){if(Re.isFramebufferTexture!==!0){console.error("THREE.WebGLRenderer: copyFramebufferToTexture() can only be used with FramebufferTexture.");return}const ke=Math.pow(2,-We),Le=Math.floor(Re.image.width*ke),At=Math.floor(Re.image.height*ke);Te.setTexture2D(Re,0),de.copyTexSubImage2D(3553,We,0,0,pe.x,pe.y,Le,At),W.unbindTexture()},this.copyTextureToTexture=function(pe,Re,We,ke=0){const Le=Re.image.width,At=Re.image.height,rt=ze.convert(We.format),ht=ze.convert(We.type);Te.setTexture2D(We,0),de.pixelStorei(37440,We.flipY),de.pixelStorei(37441,We.premultiplyAlpha),de.pixelStorei(3317,We.unpackAlignment),Re.isDataTexture?de.texSubImage2D(3553,ke,pe.x,pe.y,Le,At,rt,ht,Re.image.data):Re.isCompressedTexture?de.compressedTexSubImage2D(3553,ke,pe.x,pe.y,Re.mipmaps[0].width,Re.mipmaps[0].height,rt,Re.mipmaps[0].data):de.texSubImage2D(3553,ke,pe.x,pe.y,rt,ht,Re.image),ke===0&&We.generateMipmaps&&de.generateMipmap(3553),W.unbindTexture()},this.copyTextureToTexture3D=function(pe,Re,We,ke,Le=0){if(w.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const At=pe.max.x-pe.min.x+1,rt=pe.max.y-pe.min.y+1,ht=pe.max.z-pe.min.z+1,it=ze.convert(ke.format),$t=ze.convert(ke.type);let zt;if(ke.isDataTexture3D)Te.setTexture3D(ke,0),zt=32879;else if(ke.isDataTexture2DArray)Te.setTexture2DArray(ke,0),zt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}de.pixelStorei(37440,ke.flipY),de.pixelStorei(37441,ke.premultiplyAlpha),de.pixelStorei(3317,ke.unpackAlignment);const Wt=de.getParameter(3314),un=de.getParameter(32878),Jt=de.getParameter(3316),sn=de.getParameter(3315),ct=de.getParameter(32877),xe=We.isCompressedTexture?We.mipmaps[0]:We.image;de.pixelStorei(3314,xe.width),de.pixelStorei(32878,xe.height),de.pixelStorei(3316,pe.min.x),de.pixelStorei(3315,pe.min.y),de.pixelStorei(32877,pe.min.z),We.isDataTexture||We.isDataTexture3D?de.texSubImage3D(zt,Le,Re.x,Re.y,Re.z,At,rt,ht,it,$t,xe.data):We.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),de.compressedTexSubImage3D(zt,Le,Re.x,Re.y,Re.z,At,rt,ht,it,xe.data)):de.texSubImage3D(zt,Le,Re.x,Re.y,Re.z,At,rt,ht,it,$t,xe),de.pixelStorei(3314,Wt),de.pixelStorei(32878,un),de.pixelStorei(3316,Jt),de.pixelStorei(3315,sn),de.pixelStorei(32877,ct),Le===0&&ke.generateMipmaps&&de.generateMipmap(zt),W.unbindTexture()},this.initTexture=function(pe){Te.setTexture2D(pe,0),W.unbindTexture()},this.resetState=function(){x=0,E=0,O=null,W.reset(),ae.reset()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Un.prototype.isWebGLRenderer=!0;class mN extends Un{}mN.prototype.isWebGL1Renderer=!0;class ug{constructor(e,t=25e-5){this.name="",this.color=new Pt(e),this.density=t}clone(){return new ug(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}ug.prototype.isFogExp2=!0;class lg{constructor(e,t=1,r=1e3){this.name="",this.color=new Pt(e),this.near=t,this.far=r}clone(){return new lg(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}lg.prototype.isFog=!0;class cg extends bn{constructor(){super();this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),t}}cg.prototype.isScene=!0;class zf{constructor(e,t){this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=up,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=so()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=so()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=so()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}zf.prototype.isInterleavedBuffer=!0;const Ir=new be;class pc{constructor(e,t,r,i=!1){this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Ir.x=this.getX(t),Ir.y=this.getY(t),Ir.z=this.getZ(t),Ir.applyMatrix4(e),this.setXYZ(t,Ir.x,Ir.y,Ir.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Ir.x=this.getX(t),Ir.y=this.getY(t),Ir.z=this.getZ(t),Ir.applyNormalMatrix(e),this.setXYZ(t,Ir.x,Ir.y,Ir.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Ir.x=this.getX(t),Ir.y=this.getY(t),Ir.z=this.getZ(t),Ir.transformDirection(e),this.setXYZ(t,Ir.x,Ir.y,Ir.z);return this}setX(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new Tn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new pc(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}pc.prototype.isInterleavedBufferAttribute=!0;class J2 extends ui{constructor(e){super();this.type="SpriteMaterial",this.color=new Pt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}}J2.prototype.isSpriteMaterial=!0;let kp;const fg=new be,Ip=new be,Lp=new be,Fp=new ft,hg=new ft,vN=new Xt,K2=new be,dg=new be,Z2=new be,gN=new ft,ID=new ft,yN=new ft;class Q2 extends bn{constructor(e){super();if(this.type="Sprite",kp===void 0){kp=new rn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new zf(t,5);kp.setIndex([0,1,2,0,2,3]),kp.setAttribute("position",new pc(r,3,0,!1)),kp.setAttribute("uv",new pc(r,2,3,!1))}this.geometry=kp,this.material=e!==void 0?e:new J2,this.center=new ft(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Ip.setFromMatrixScale(this.matrixWorld),vN.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Lp.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Ip.multiplyScalar(-Lp.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;e_(K2.set(-.5,-.5,0),Lp,o,Ip,i,s),e_(dg.set(.5,-.5,0),Lp,o,Ip,i,s),e_(Z2.set(.5,.5,0),Lp,o,Ip,i,s),gN.set(0,0),ID.set(1,0),yN.set(1,1);let u=e.ray.intersectTriangle(K2,dg,Z2,!1,fg);if(u===null&&(e_(dg.set(-.5,.5,0),Lp,o,Ip,i,s),ID.set(0,1),u=e.ray.intersectTriangle(K2,Z2,dg,!1,fg),u===null))return;const l=e.ray.origin.distanceTo(fg);l<e.near||l>e.far||t.push({distance:l,point:fg.clone(),uv:kr.getUV(fg,K2,dg,Z2,gN,ID,yN,new ft),face:null,object:this})}copy(e){return super.copy(e),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}Q2.prototype.isSprite=!0;function e_(n,e,t,r,i,s){Fp.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(hg.x=s*Fp.x-i*Fp.y,hg.y=i*Fp.x+s*Fp.y):hg.copy(Fp),n.copy(e),n.x+=hg.x,n.y+=hg.y,n.applyMatrix4(vN)}const t_=new be,xN=new be;class _N extends bn{constructor(){super();this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0){t=Math.abs(t);const r=this.levels;let i;for(i=0;i<r.length&&!(t<r[i].distance);i++);return r.splice(i,0,{distance:t,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i&&!(e<t[r].distance);r++);return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){t_.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(t_);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){t_.setFromMatrixPosition(e.matrixWorld),xN.setFromMatrixPosition(this.matrixWorld);const r=t_.distanceTo(xN)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s&&r>=t[i].distance;i++)t[i-1].object.visible=!1,t[i].object.visible=!0;for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}}const wN=new be,bN=new On,SN=new On,die=new be,EN=new Xt;class n_ extends mr{constructor(e,t){super(e,t);this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Xt,this.bindMatrixInverse=new Xt}copy(e){return super.copy(e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new On,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.x=t.getX(r),e.y=t.getY(r),e.z=t.getZ(r),e.w=t.getW(r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const r=this.skeleton,i=this.geometry;bN.fromBufferAttribute(i.attributes.skinIndex,e),SN.fromBufferAttribute(i.attributes.skinWeight,e),wN.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=SN.getComponent(s);if(o!==0){const u=bN.getComponent(s);EN.multiplyMatrices(r.bones[u].matrixWorld,r.boneInverses[u]),t.addScaledVector(die.copy(wN).applyMatrix4(EN),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}n_.prototype.isSkinnedMesh=!0;class r_ extends bn{constructor(){super();this.type="Bone"}}r_.prototype.isBone=!0;class mc extends Rr{constructor(e=null,t=1,r=1,i,s,o,u,l,c=Cr,h=Cr,d,p){super(null,o,u,l,c,h,i,s,d,p);this.image={data:e,width:t,height:r},this.magFilter=c,this.minFilter=h,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}mc.prototype.isDataTexture=!0;const MN=new Xt,pie=new Xt;class i_{constructor(e=[],t=[]){this.uuid=so(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Xt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new Xt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const u=e[s]?e[s].matrixWorld:pie;MN.multiplyMatrices(u,t[s]),MN.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new i_(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=lO(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new mc(t,e,e,Pr,eu);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new r_),this.bones.push(o),this.boneInverses.push(new Xt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const u=r[i];e.boneInverses.push(u.toArray())}return e}}class vc extends Tn{constructor(e,t,r,i=1){typeof r=="number"&&(i=r,r=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument."));super(e,t,r);this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}vc.prototype.isInstancedBufferAttribute=!0;const DN=new Xt,AN=new Xt,s_=[],pg=new mr;class LD extends mr{constructor(e,t,r){super(e,t);this.instanceMatrix=new vc(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1}copy(e){return super.copy(e),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(pg.geometry=this.geometry,pg.material=this.material,pg.material!==void 0)for(let s=0;s<i;s++){this.getMatrixAt(s,DN),AN.multiplyMatrices(r,DN),pg.matrixWorld=AN,pg.raycast(e,s_);for(let o=0,u=s_.length;o<u;o++){const l=s_[o];l.instanceId=s,l.object=this,t.push(l)}s_.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new vc(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}LD.prototype.isInstancedMesh=!0;class ci extends ui{constructor(e){super();this.type="LineBasicMaterial",this.color=new Pt(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this}}ci.prototype.isLineBasicMaterial=!0;const TN=new be,CN=new be,PN=new Xt,FD=new ac,o_=new Ju;class rl extends bn{constructor(e=new rn,t=new ci){super();this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)TN.fromBufferAttribute(t,i-1),CN.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=TN.distanceTo(CN);e.setAttribute("lineDistance",new jt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),o_.copy(r.boundingSphere),o_.applyMatrix4(i),o_.radius+=s,e.ray.intersectsSphere(o_)===!1)return;PN.copy(i).invert(),FD.copy(e.ray).applyMatrix4(PN);const u=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=u*u,c=new be,h=new be,d=new be,p=new be,v=this.isLineSegments?2:1;if(r.isBufferGeometry){const S=r.index,T=r.attributes.position;if(S!==null){const x=Math.max(0,o.start),E=Math.min(S.count,o.start+o.count);for(let O=x,C=E-1;O<C;O+=v){const N=S.getX(O),$=S.getX(O+1);if(c.fromBufferAttribute(T,N),h.fromBufferAttribute(T,$),FD.distanceSqToSegment(c,h,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);const L=e.ray.origin.distanceTo(p);L<e.near||L>e.far||t.push({distance:L,point:d.clone().applyMatrix4(this.matrixWorld),index:O,face:null,faceIndex:null,object:this})}}else{const x=Math.max(0,o.start),E=Math.min(T.count,o.start+o.count);for(let O=x,C=E-1;O<C;O+=v){if(c.fromBufferAttribute(T,O),h.fromBufferAttribute(T,O+1),FD.distanceSqToSegment(c,h,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);const $=e.ray.origin.distanceTo(p);$<e.near||$>e.far||t.push({distance:$,point:d.clone().applyMatrix4(this.matrixWorld),index:O,face:null,faceIndex:null,object:this})}}}else r.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const u=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=s}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}rl.prototype.isLine=!0;const RN=new be,kN=new be;class Fs extends rl{constructor(e,t){super(e,t);this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)RN.fromBufferAttribute(t,i),kN.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+RN.distanceTo(kN);e.setAttribute("lineDistance",new jt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}Fs.prototype.isLineSegments=!0;class OD extends rl{constructor(e,t){super(e,t);this.type="LineLoop"}}OD.prototype.isLineLoop=!0;class $f extends ui{constructor(e){super();this.type="PointsMaterial",this.color=new Pt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this}}$f.prototype.isPointsMaterial=!0;const IN=new Xt,ND=new ac,a_=new Ju,u_=new be;class mg extends bn{constructor(e=new rn,t=new $f){super();this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),a_.copy(r.boundingSphere),a_.applyMatrix4(i),a_.radius+=s,e.ray.intersectsSphere(a_)===!1)return;IN.copy(i).invert(),ND.copy(e.ray).applyMatrix4(IN);const u=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=u*u;if(r.isBufferGeometry){const c=r.index,d=r.attributes.position;if(c!==null){const p=Math.max(0,o.start),v=Math.min(c.count,o.start+o.count);for(let S=p,w=v;S<w;S++){const T=c.getX(S);u_.fromBufferAttribute(d,T),LN(u_,T,l,i,e,t,this)}}else{const p=Math.max(0,o.start),v=Math.min(d.count,o.start+o.count);for(let S=p,w=v;S<w;S++)u_.fromBufferAttribute(d,S),LN(u_,S,l,i,e,t,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const u=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=s}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}mg.prototype.isPoints=!0;function LN(n,e,t,r,i,s,o){const u=ND.distanceSqToPoint(n);if(u<t){const l=new be;ND.closestPointToPoint(n,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(u),point:l,index:e,face:null,object:o})}}class FN extends Rr{constructor(e,t,r,i,s,o,u,l,c){super(e,t,r,i,s,o,u,l,c);this.format=u!==void 0?u:tc,this.minFilter=o!==void 0?o:hr,this.magFilter=s!==void 0?s:hr,this.generateMipmaps=!1;const h=this;function d(){h.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}FN.prototype.isVideoTexture=!0;class ON extends Rr{constructor(e,t,r){super({width:e,height:t});this.format=r,this.magFilter=Cr,this.minFilter=Cr,this.generateMipmaps=!1,this.needsUpdate=!0}}ON.prototype.isFramebufferTexture=!0;class UD extends Rr{constructor(e,t,r,i,s,o,u,l,c,h,d,p){super(null,o,u,l,c,h,i,s,d,p);this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}UD.prototype.isCompressedTexture=!0;class NN extends Rr{constructor(e,t,r,i,s,o,u,l,c){super(e,t,r,i,s,o,u,l,c);this.needsUpdate=!0}}NN.prototype.isCanvasTexture=!0;class Op extends rn{constructor(e=1,t=8,r=0,i=Math.PI*2){super();this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],o=[],u=[],l=[],c=new be,h=new ft;o.push(0,0,0),u.push(0,0,1),l.push(.5,.5);for(let d=0,p=3;d<=t;d++,p+=3){const v=r+d/t*i;c.x=e*Math.cos(v),c.y=e*Math.sin(v),o.push(c.x,c.y,c.z),u.push(0,0,1),h.x=(o[p]/e+1)/2,h.y=(o[p+1]/e+1)/2,l.push(h.x,h.y)}for(let d=1;d<=t;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new jt(o,3)),this.setAttribute("normal",new jt(u,3)),this.setAttribute("uv",new jt(l,2))}static fromJSON(e){return new Op(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class gc extends rn{constructor(e=1,t=1,r=1,i=8,s=1,o=!1,u=0,l=Math.PI*2){super();this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:u,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const h=[],d=[],p=[],v=[];let S=0;const w=[],T=r/2;let x=0;E(),o===!1&&(e>0&&O(!0),t>0&&O(!1)),this.setIndex(h),this.setAttribute("position",new jt(d,3)),this.setAttribute("normal",new jt(p,3)),this.setAttribute("uv",new jt(v,2));function E(){const C=new be,N=new be;let $=0;const M=(t-e)/r;for(let L=0;L<=s;L++){const V=[],Z=L/s,H=Z*(t-e)+e;for(let D=0;D<=i;D++){const R=D/i,P=R*l+u,F=Math.sin(P),z=Math.cos(P);N.x=H*F,N.y=-Z*r+T,N.z=H*z,d.push(N.x,N.y,N.z),C.set(F,M,z).normalize(),p.push(C.x,C.y,C.z),v.push(R,1-Z),V.push(S++)}w.push(V)}for(let L=0;L<i;L++)for(let V=0;V<s;V++){const Z=w[V][L],H=w[V+1][L],D=w[V+1][L+1],R=w[V][L+1];h.push(Z,H,R),h.push(H,D,R),$+=6}c.addGroup(x,$,0),x+=$}function O(C){const N=S,$=new ft,M=new be;let L=0;const V=C===!0?e:t,Z=C===!0?1:-1;for(let D=1;D<=i;D++)d.push(0,T*Z,0),p.push(0,Z,0),v.push(.5,.5),S++;const H=S;for(let D=0;D<=i;D++){const P=D/i*l+u,F=Math.cos(P),z=Math.sin(P);M.x=V*z,M.y=T*Z,M.z=V*F,d.push(M.x,M.y,M.z),p.push(0,Z,0),$.x=F*.5+.5,$.y=z*.5*Z+.5,v.push($.x,$.y),S++}for(let D=0;D<i;D++){const R=N+D,P=H+D;C===!0?h.push(P,P+1,R):h.push(P+1,P,R),L+=3}c.addGroup(x,L,C===!0?1:2),x+=L}}static fromJSON(e){return new gc(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Np extends gc{constructor(e=1,t=1,r=8,i=1,s=!1,o=0,u=Math.PI*2){super(0,e,t,r,i,s,o,u);this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:u}}static fromJSON(e){return new Np(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class su extends rn{constructor(e=[],t=[],r=1,i=0){super();this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],o=[];u(i),c(r),h(),this.setAttribute("position",new jt(s,3)),this.setAttribute("normal",new jt(s.slice(),3)),this.setAttribute("uv",new jt(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function u(E){const O=new be,C=new be,N=new be;for(let $=0;$<t.length;$+=3)v(t[$+0],O),v(t[$+1],C),v(t[$+2],N),l(O,C,N,E)}function l(E,O,C,N){const $=N+1,M=[];for(let L=0;L<=$;L++){M[L]=[];const V=E.clone().lerp(C,L/$),Z=O.clone().lerp(C,L/$),H=$-L;for(let D=0;D<=H;D++)D===0&&L===$?M[L][D]=V:M[L][D]=V.clone().lerp(Z,D/H)}for(let L=0;L<$;L++)for(let V=0;V<2*($-L)-1;V++){const Z=Math.floor(V/2);V%2==0?(p(M[L][Z+1]),p(M[L+1][Z]),p(M[L][Z])):(p(M[L][Z+1]),p(M[L+1][Z+1]),p(M[L+1][Z]))}}function c(E){const O=new be;for(let C=0;C<s.length;C+=3)O.x=s[C+0],O.y=s[C+1],O.z=s[C+2],O.normalize().multiplyScalar(E),s[C+0]=O.x,s[C+1]=O.y,s[C+2]=O.z}function h(){const E=new be;for(let O=0;O<s.length;O+=3){E.x=s[O+0],E.y=s[O+1],E.z=s[O+2];const C=T(E)/2/Math.PI+.5,N=x(E)/Math.PI+.5;o.push(C,1-N)}S(),d()}function d(){for(let E=0;E<o.length;E+=6){const O=o[E+0],C=o[E+2],N=o[E+4],$=Math.max(O,C,N),M=Math.min(O,C,N);$>.9&&M<.1&&(O<.2&&(o[E+0]+=1),C<.2&&(o[E+2]+=1),N<.2&&(o[E+4]+=1))}}function p(E){s.push(E.x,E.y,E.z)}function v(E,O){const C=E*3;O.x=e[C+0],O.y=e[C+1],O.z=e[C+2]}function S(){const E=new be,O=new be,C=new be,N=new be,$=new ft,M=new ft,L=new ft;for(let V=0,Z=0;V<s.length;V+=9,Z+=6){E.set(s[V+0],s[V+1],s[V+2]),O.set(s[V+3],s[V+4],s[V+5]),C.set(s[V+6],s[V+7],s[V+8]),$.set(o[Z+0],o[Z+1]),M.set(o[Z+2],o[Z+3]),L.set(o[Z+4],o[Z+5]),N.copy(E).add(O).add(C).divideScalar(3);const H=T(N);w($,Z+0,E,H),w(M,Z+2,O,H),w(L,Z+4,C,H)}}function w(E,O,C,N){N<0&&E.x===1&&(o[O]=E.x-1),C.x===0&&C.z===0&&(o[O]=N/2/Math.PI+.5)}function T(E){return Math.atan2(E.z,-E.x)}function x(E){return Math.atan2(-E.y,Math.sqrt(E.x*E.x+E.z*E.z))}}static fromJSON(e){return new su(e.vertices,e.indices,e.radius,e.details)}}class Up extends su{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t);this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Up(e.radius,e.detail)}}const l_=new be,c_=new be,BD=new be,f_=new kr;class zD extends rn{constructor(e=null,t=1){super();if(this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(Pf*t),o=e.getIndex(),u=e.getAttribute("position"),l=o?o.count:u.count,c=[0,0,0],h=["a","b","c"],d=new Array(3),p={},v=[];for(let S=0;S<l;S+=3){o?(c[0]=o.getX(S),c[1]=o.getX(S+1),c[2]=o.getX(S+2)):(c[0]=S,c[1]=S+1,c[2]=S+2);const{a:w,b:T,c:x}=f_;if(w.fromBufferAttribute(u,c[0]),T.fromBufferAttribute(u,c[1]),x.fromBufferAttribute(u,c[2]),f_.getNormal(BD),d[0]=`${Math.round(w.x*i)},${Math.round(w.y*i)},${Math.round(w.z*i)}`,d[1]=`${Math.round(T.x*i)},${Math.round(T.y*i)},${Math.round(T.z*i)}`,d[2]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let E=0;E<3;E++){const O=(E+1)%3,C=d[E],N=d[O],$=f_[h[E]],M=f_[h[O]],L=`${C}_${N}`,V=`${N}_${C}`;V in p&&p[V]?(BD.dot(p[V].normal)<=s&&(v.push($.x,$.y,$.z),v.push(M.x,M.y,M.z)),p[V]=null):L in p||(p[L]={index0:c[E],index1:c[O],normal:BD.clone()})}}for(const S in p)if(p[S]){const{index0:w,index1:T}=p[S];l_.fromBufferAttribute(u,w),c_.fromBufferAttribute(u,T),v.push(l_.x,l_.y,l_.z),v.push(c_.x,c_.y,c_.z)}this.setAttribute("position",new jt(v,3))}}}class lo{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const s=r.length;let o;t?o=t:o=e*r[s-1];let u=0,l=s-1,c;for(;u<=l;)if(i=Math.floor(u+(l-u)/2),c=r[i]-o,c<0)u=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const h=r[i],p=r[i+1]-h,v=(o-h)/p;return(i+v)/(s-1)}getTangent(e,t){const r=1e-4;let i=e-r,s=e+r;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),u=this.getPoint(s),l=t||(o.isVector2?new ft:new be);return l.copy(u).sub(o).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new be,i=[],s=[],o=[],u=new be,l=new Xt;for(let v=0;v<=e;v++){const S=v/e;i[v]=this.getTangentAt(S,new be)}s[0]=new be,o[0]=new be;let c=Number.MAX_VALUE;const h=Math.abs(i[0].x),d=Math.abs(i[0].y),p=Math.abs(i[0].z);h<=c&&(c=h,r.set(1,0,0)),d<=c&&(c=d,r.set(0,1,0)),p<=c&&r.set(0,0,1),u.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],u),o[0].crossVectors(i[0],s[0]);for(let v=1;v<=e;v++){if(s[v]=s[v-1].clone(),o[v]=o[v-1].clone(),u.crossVectors(i[v-1],i[v]),u.length()>Number.EPSILON){u.normalize();const S=Math.acos(Ei(i[v-1].dot(i[v]),-1,1));s[v].applyMatrix4(l.makeRotationAxis(u,S))}o[v].crossVectors(i[v],s[v])}if(t===!0){let v=Math.acos(Ei(s[0].dot(s[e]),-1,1));v/=e,i[0].dot(u.crossVectors(s[0],s[e]))>0&&(v=-v);for(let S=1;S<=e;S++)s[S].applyMatrix4(l.makeRotationAxis(i[S],v*S)),o[S].crossVectors(i[S],s[S])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class vg extends lo{constructor(e=0,t=0,r=1,i=1,s=0,o=Math.PI*2,u=!1,l=0){super();this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=u,this.aRotation=l}getPoint(e,t){const r=t||new ft,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const u=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(u),c=this.aY+this.yRadius*Math.sin(u);if(this.aRotation!==0){const h=Math.cos(this.aRotation),d=Math.sin(this.aRotation),p=l-this.aX,v=c-this.aY;l=p*h-v*d+this.aX,c=p*d+v*h+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}vg.prototype.isEllipseCurve=!0;class $D extends vg{constructor(e,t,r,i,s,o){super(e,t,r,r,i,s,o);this.type="ArcCurve"}}$D.prototype.isArcCurve=!0;function GD(){let n=0,e=0,t=0,r=0;function i(s,o,u,l){n=s,e=u,t=-3*s+3*o-2*u-l,r=2*s-2*o+u+l}return{initCatmullRom:function(s,o,u,l,c){i(o,u,c*(u-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,u,l,c,h,d){let p=(o-s)/c-(u-s)/(c+h)+(u-o)/h,v=(u-o)/h-(l-o)/(h+d)+(l-u)/d;p*=h,v*=h,i(o,u,p,v)},calc:function(s){const o=s*s,u=o*s;return n+e*s+t*o+r*u}}}const h_=new be,HD=new GD,VD=new GD,WD=new GD;class jD extends lo{constructor(e=[],t=!1,r="centripetal",i=.5){super();this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new be){const r=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let u=Math.floor(o),l=o-u;this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/s)+1)*s:l===0&&u===s-1&&(u=s-2,l=1);let c,h;this.closed||u>0?c=i[(u-1)%s]:(h_.subVectors(i[0],i[1]).add(i[0]),c=h_);const d=i[u%s],p=i[(u+1)%s];if(this.closed||u+2<s?h=i[(u+2)%s]:(h_.subVectors(i[s-1],i[s-2]).add(i[s-1]),h=h_),this.curveType==="centripetal"||this.curveType==="chordal"){const v=this.curveType==="chordal"?.5:.25;let S=Math.pow(c.distanceToSquared(d),v),w=Math.pow(d.distanceToSquared(p),v),T=Math.pow(p.distanceToSquared(h),v);w<1e-4&&(w=1),S<1e-4&&(S=w),T<1e-4&&(T=w),HD.initNonuniformCatmullRom(c.x,d.x,p.x,h.x,S,w,T),VD.initNonuniformCatmullRom(c.y,d.y,p.y,h.y,S,w,T),WD.initNonuniformCatmullRom(c.z,d.z,p.z,h.z,S,w,T)}else this.curveType==="catmullrom"&&(HD.initCatmullRom(c.x,d.x,p.x,h.x,this.tension),VD.initCatmullRom(c.y,d.y,p.y,h.y,this.tension),WD.initCatmullRom(c.z,d.z,p.z,h.z,this.tension));return r.set(HD.calc(l),VD.calc(l),WD.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new be().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}jD.prototype.isCatmullRomCurve3=!0;function UN(n,e,t,r,i){const s=(r-e)*.5,o=(i-t)*.5,u=n*n,l=n*u;return(2*t-2*r+s+o)*l+(-3*t+3*r-2*s-o)*u+s*n+t}function mie(n,e){const t=1-n;return t*t*e}function vie(n,e){return 2*(1-n)*n*e}function gie(n,e){return n*n*e}function gg(n,e,t,r){return mie(n,e)+vie(n,t)+gie(n,r)}function yie(n,e){const t=1-n;return t*t*t*e}function xie(n,e){const t=1-n;return 3*t*t*n*e}function _ie(n,e){return 3*(1-n)*n*n*e}function wie(n,e){return n*n*n*e}function yg(n,e,t,r,i){return yie(n,e)+xie(n,t)+_ie(n,r)+wie(n,i)}class d_ extends lo{constructor(e=new ft,t=new ft,r=new ft,i=new ft){super();this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new ft){const r=t,i=this.v0,s=this.v1,o=this.v2,u=this.v3;return r.set(yg(e,i.x,s.x,o.x,u.x),yg(e,i.y,s.y,o.y,u.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}d_.prototype.isCubicBezierCurve=!0;class qD extends lo{constructor(e=new be,t=new be,r=new be,i=new be){super();this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new be){const r=t,i=this.v0,s=this.v1,o=this.v2,u=this.v3;return r.set(yg(e,i.x,s.x,o.x,u.x),yg(e,i.y,s.y,o.y,u.y),yg(e,i.z,s.z,o.z,u.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}qD.prototype.isCubicBezierCurve3=!0;class xg extends lo{constructor(e=new ft,t=new ft){super();this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new ft){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const r=t||new ft;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}xg.prototype.isLineCurve=!0;class BN extends lo{constructor(e=new be,t=new be){super();this.type="LineCurve3",this.isLineCurve3=!0,this.v1=e,this.v2=t}getPoint(e,t=new be){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class p_ extends lo{constructor(e=new ft,t=new ft,r=new ft){super();this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new ft){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(gg(e,i.x,s.x,o.x),gg(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}p_.prototype.isQuadraticBezierCurve=!0;class m_ extends lo{constructor(e=new be,t=new be,r=new be){super();this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new be){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(gg(e,i.x,s.x,o.x),gg(e,i.y,s.y,o.y),gg(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}m_.prototype.isQuadraticBezierCurve3=!0;class v_ extends lo{constructor(e=[]){super();this.type="SplineCurve",this.points=e}getPoint(e,t=new ft){const r=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),u=s-o,l=i[o===0?o:o-1],c=i[o],h=i[o>i.length-2?i.length-1:o+1],d=i[o>i.length-3?i.length-1:o+2];return r.set(UN(u,l.x,c.x,h.x,d.x),UN(u,l.y,c.y,h.y,d.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new ft().fromArray(i))}return this}}v_.prototype.isSplineCurve=!0;var XD=Object.freeze({__proto__:null,ArcCurve:$D,CatmullRomCurve3:jD,CubicBezierCurve:d_,CubicBezierCurve3:qD,EllipseCurve:vg,LineCurve:xg,LineCurve3:BN,QuadraticBezierCurve:p_,QuadraticBezierCurve3:m_,SplineCurve:v_});class zN extends lo{constructor(){super();this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new xg(t,e))}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,u=this.curves[s],l=u.getLength(),c=l===0?0:1-o/l;return u.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],u=o&&o.isEllipseCurve?e*2:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?e*o.points.length:e,l=o.getPoints(u);for(let c=0;c<l.length;c++){const h=l[c];r&&r.equals(h)||(t.push(h),r=h)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new XD[i.type]().fromJSON(i))}return this}}class _g extends zN{constructor(e){super();this.type="Path",this.currentPoint=new ft,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new xg(this.currentPoint.clone(),new ft(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new p_(this.currentPoint.clone(),new ft(e,t),new ft(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,o){const u=new d_(this.currentPoint.clone(),new ft(e,t),new ft(r,i),new ft(s,o));return this.curves.push(u),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new v_(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,o){const u=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+u,t+l,r,i,s,o),this}absarc(e,t,r,i,s,o){return this.absellipse(e,t,r,r,i,s,o),this}ellipse(e,t,r,i,s,o,u,l){const c=this.currentPoint.x,h=this.currentPoint.y;return this.absellipse(e+c,t+h,r,i,s,o,u,l),this}absellipse(e,t,r,i,s,o,u,l){const c=new vg(e,t,r,i,s,o,u,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const h=c.getPoint(1);return this.currentPoint.copy(h),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class ou extends _g{constructor(e){super(e);this.uuid=so(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new _g().fromJSON(i))}return this}}const bie={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=$N(n,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let u,l,c,h,d,p,v;if(r&&(s=Aie(n,e,s,t)),n.length>80*t){u=c=n[0],l=h=n[1];for(let S=t;S<i;S+=t)d=n[S],p=n[S+1],d<u&&(u=d),p<l&&(l=p),d>c&&(c=d),p>h&&(h=p);v=Math.max(c-u,h-l),v=v!==0?1/v:0}return wg(s,o,t,u,l,v),o}};function $N(n,e,t,r,i){let s,o;if(i===Uie(n,e,t,r)>0)for(s=e;s<t;s+=r)o=VN(s,n[s],n[s+1],o);else for(s=t-r;s>=e;s-=r)o=VN(s,n[s],n[s+1],o);return o&&g_(o,o.next)&&(Sg(o),o=o.next),o}function yc(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(g_(t,t.next)||vr(t.prev,t,t.next)===0)){if(Sg(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function wg(n,e,t,r,i,s,o){if(!n)return;!o&&s&&kie(n,r,i,s);let u=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?Eie(n,r,i,s):Sie(n)){e.push(l.i/t),e.push(n.i/t),e.push(c.i/t),Sg(n),n=c.next,u=c.next;continue}if(n=c,n===u){o?o===1?(n=Mie(yc(n),e,t),wg(n,e,t,r,i,s,2)):o===2&&Die(n,e,t,r,i,s):wg(yc(n),e,t,r,i,s,1);break}}}function Sie(n){const e=n.prev,t=n,r=n.next;if(vr(e,t,r)>=0)return!1;let i=n.next.next;for(;i!==n.prev;){if(Bp(e.x,e.y,t.x,t.y,r.x,r.y,i.x,i.y)&&vr(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Eie(n,e,t,r){const i=n.prev,s=n,o=n.next;if(vr(i,s,o)>=0)return!1;const u=i.x<s.x?i.x<o.x?i.x:o.x:s.x<o.x?s.x:o.x,l=i.y<s.y?i.y<o.y?i.y:o.y:s.y<o.y?s.y:o.y,c=i.x>s.x?i.x>o.x?i.x:o.x:s.x>o.x?s.x:o.x,h=i.y>s.y?i.y>o.y?i.y:o.y:s.y>o.y?s.y:o.y,d=YD(u,l,e,t,r),p=YD(c,h,e,t,r);let v=n.prevZ,S=n.nextZ;for(;v&&v.z>=d&&S&&S.z<=p;){if(v!==n.prev&&v!==n.next&&Bp(i.x,i.y,s.x,s.y,o.x,o.y,v.x,v.y)&&vr(v.prev,v,v.next)>=0||(v=v.prevZ,S!==n.prev&&S!==n.next&&Bp(i.x,i.y,s.x,s.y,o.x,o.y,S.x,S.y)&&vr(S.prev,S,S.next)>=0))return!1;S=S.nextZ}for(;v&&v.z>=d;){if(v!==n.prev&&v!==n.next&&Bp(i.x,i.y,s.x,s.y,o.x,o.y,v.x,v.y)&&vr(v.prev,v,v.next)>=0)return!1;v=v.prevZ}for(;S&&S.z<=p;){if(S!==n.prev&&S!==n.next&&Bp(i.x,i.y,s.x,s.y,o.x,o.y,S.x,S.y)&&vr(S.prev,S,S.next)>=0)return!1;S=S.nextZ}return!0}function Mie(n,e,t){let r=n;do{const i=r.prev,s=r.next.next;!g_(i,s)&&GN(i,r,r.next,s)&&bg(i,s)&&bg(s,i)&&(e.push(i.i/t),e.push(r.i/t),e.push(s.i/t),Sg(r),Sg(r.next),r=n=s),r=r.next}while(r!==n);return yc(r)}function Die(n,e,t,r,i,s){let o=n;do{let u=o.next.next;for(;u!==o.prev;){if(o.i!==u.i&&Fie(o,u)){let l=HN(o,u);o=yc(o,o.next),l=yc(l,l.next),wg(o,e,t,r,i,s),wg(l,e,t,r,i,s);return}u=u.next}o=o.next}while(o!==n)}function Aie(n,e,t,r){const i=[];let s,o,u,l,c;for(s=0,o=e.length;s<o;s++)u=e[s]*r,l=s<o-1?e[s+1]*r:n.length,c=$N(n,u,l,r,!1),c===c.next&&(c.steiner=!0),i.push(Lie(c));for(i.sort(Tie),s=0;s<i.length;s++)Cie(i[s],t),t=yc(t,t.next);return t}function Tie(n,e){return n.x-e.x}function Cie(n,e){if(e=Pie(n,e),e){const t=HN(e,n);yc(e,e.next),yc(t,t.next)}}function Pie(n,e){let t=e;const r=n.x,i=n.y;let s=-1/0,o;do{if(i<=t.y&&i>=t.next.y&&t.next.y!==t.y){const p=t.x+(i-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=r&&p>s){if(s=p,p===r){if(i===t.y)return t;if(i===t.next.y)return t.next}o=t.x<t.next.x?t:t.next}}t=t.next}while(t!==e);if(!o)return null;if(r===s)return o;const u=o,l=o.x,c=o.y;let h=1/0,d;t=o;do r>=t.x&&t.x>=l&&r!==t.x&&Bp(i<c?r:s,i,l,c,i<c?s:r,i,t.x,t.y)&&(d=Math.abs(i-t.y)/(r-t.x),bg(t,n)&&(d<h||d===h&&(t.x>o.x||t.x===o.x&&Rie(o,t)))&&(o=t,h=d)),t=t.next;while(t!==u);return o}function Rie(n,e){return vr(n.prev,n,e.prev)<0&&vr(e.next,n,n.next)<0}function kie(n,e,t,r){let i=n;do i.z===null&&(i.z=YD(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,Iie(i)}function Iie(n){let e,t,r,i,s,o,u,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,r=t,u=0,e=0;e<c&&(u++,r=r.nextZ,!!r);e++);for(l=c;u>0||l>0&&r;)u!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,u--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;t=r}s.nextZ=null,c*=2}while(o>1);return n}function YD(n,e,t,r,i){return n=32767*(n-t)*i,e=32767*(e-r)*i,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function Lie(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Bp(n,e,t,r,i,s,o,u){return(i-o)*(e-u)-(n-o)*(s-u)>=0&&(n-o)*(r-u)-(t-o)*(e-u)>=0&&(t-o)*(s-u)-(i-o)*(r-u)>=0}function Fie(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!Oie(n,e)&&(bg(n,e)&&bg(e,n)&&Nie(n,e)&&(vr(n.prev,n,e.prev)||vr(n,e.prev,e))||g_(n,e)&&vr(n.prev,n,n.next)>0&&vr(e.prev,e,e.next)>0)}function vr(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function g_(n,e){return n.x===e.x&&n.y===e.y}function GN(n,e,t,r){const i=x_(vr(n,e,t)),s=x_(vr(n,e,r)),o=x_(vr(t,r,n)),u=x_(vr(t,r,e));return!!(i!==s&&o!==u||i===0&&y_(n,t,e)||s===0&&y_(n,r,e)||o===0&&y_(t,n,r)||u===0&&y_(t,e,r))}function y_(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function x_(n){return n>0?1:n<0?-1:0}function Oie(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&GN(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function bg(n,e){return vr(n.prev,n,n.next)<0?vr(n,e,n.next)>=0&&vr(n,n.prev,e)>=0:vr(n,e,n.prev)<0||vr(n,n.next,e)<0}function Nie(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function HN(n,e){const t=new JD(n.i,n.x,n.y),r=new JD(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function VN(n,e,t,r){const i=new JD(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Sg(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function JD(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Uie(n,e,t,r){let i=0;for(let s=e,o=t-r;s<t;s+=r)i+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return i}class au{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return au.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];WN(e),jN(r,e);let o=e.length;t.forEach(WN);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,jN(r,t[l]);const u=bie.triangulate(r,i);for(let l=0;l<u.length;l+=3)s.push(u.slice(l,l+3));return s}}function WN(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function jN(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class uu extends rn{constructor(e=new ou([new ft(.5,.5),new ft(-.5,.5),new ft(-.5,-.5),new ft(.5,-.5)]),t={}){super();this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let u=0,l=e.length;u<l;u++){const c=e[u];o(c)}this.setAttribute("position",new jt(i,3)),this.setAttribute("uv",new jt(s,2)),this.computeVertexNormals();function o(u){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,h=t.steps!==void 0?t.steps:1;let d=t.depth!==void 0?t.depth:1,p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,v=t.bevelThickness!==void 0?t.bevelThickness:.2,S=t.bevelSize!==void 0?t.bevelSize:v-.1,w=t.bevelOffset!==void 0?t.bevelOffset:0,T=t.bevelSegments!==void 0?t.bevelSegments:3;const x=t.extrudePath,E=t.UVGenerator!==void 0?t.UVGenerator:Bie;t.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),d=t.amount);let O,C=!1,N,$,M,L;x&&(O=x.getSpacedPoints(h),C=!0,p=!1,N=x.computeFrenetFrames(h,!1),$=new be,M=new be,L=new be),p||(T=0,v=0,S=0,w=0);const V=u.extractPoints(c);let Z=V.shape;const H=V.holes;if(!au.isClockWise(Z)){Z=Z.reverse();for(let ye=0,Te=H.length;ye<Te;ye++){const Pe=H[ye];au.isClockWise(Pe)&&(H[ye]=Pe.reverse())}}const R=au.triangulateShape(Z,H),P=Z;for(let ye=0,Te=H.length;ye<Te;ye++){const Pe=H[ye];Z=Z.concat(Pe)}function F(ye,Te,Pe){return Te||console.error("THREE.ExtrudeGeometry: vec does not exist"),Te.clone().multiplyScalar(Pe).add(ye)}const z=Z.length,j=R.length;function B(ye,Te,Pe){let Je,ie,K;const q=ye.x-Te.x,he=ye.y-Te.y,Se=Pe.x-ye.x,te=Pe.y-ye.y,re=q*q+he*he,Me=q*te-he*Se;if(Math.abs(Me)>Number.EPSILON){const Ce=Math.sqrt(re),Ae=Math.sqrt(Se*Se+te*te),Oe=Te.x-he/Ce,ge=Te.y+q/Ce,Ne=Pe.x-te/Ae,ze=Pe.y+Se/Ae,ae=((Ne-Oe)*te-(ze-ge)*Se)/(q*te-he*Se);Je=Oe+q*ae-ye.x,ie=ge+he*ae-ye.y;const Ue=Je*Je+ie*ie;if(Ue<=2)return new ft(Je,ie);K=Math.sqrt(Ue/2)}else{let Ce=!1;q>Number.EPSILON?Se>Number.EPSILON&&(Ce=!0):q<-Number.EPSILON?Se<-Number.EPSILON&&(Ce=!0):Math.sign(he)===Math.sign(te)&&(Ce=!0),Ce?(Je=-he,ie=q,K=Math.sqrt(re)):(Je=q,ie=he,K=Math.sqrt(re/2))}return new ft(Je/K,ie/K)}const U=[];for(let ye=0,Te=P.length,Pe=Te-1,Je=ye+1;ye<Te;ye++,Pe++,Je++)Pe===Te&&(Pe=0),Je===Te&&(Je=0),U[ye]=B(P[ye],P[Pe],P[Je]);const k=[];let G,ne=U.concat();for(let ye=0,Te=H.length;ye<Te;ye++){const Pe=H[ye];G=[];for(let Je=0,ie=Pe.length,K=ie-1,q=Je+1;Je<ie;Je++,K++,q++)K===ie&&(K=0),q===ie&&(q=0),G[Je]=B(Pe[Je],Pe[K],Pe[q]);k.push(G),ne=ne.concat(G)}for(let ye=0;ye<T;ye++){const Te=ye/T,Pe=v*Math.cos(Te*Math.PI/2),Je=S*Math.sin(Te*Math.PI/2)+w;for(let ie=0,K=P.length;ie<K;ie++){const q=F(P[ie],U[ie],Je);se(q.x,q.y,-Pe)}for(let ie=0,K=H.length;ie<K;ie++){const q=H[ie];G=k[ie];for(let he=0,Se=q.length;he<Se;he++){const te=F(q[he],G[he],Je);se(te.x,te.y,-Pe)}}}const le=S+w;for(let ye=0;ye<z;ye++){const Te=p?F(Z[ye],ne[ye],le):Z[ye];C?(M.copy(N.normals[0]).multiplyScalar(Te.x),$.copy(N.binormals[0]).multiplyScalar(Te.y),L.copy(O[0]).add(M).add($),se(L.x,L.y,L.z)):se(Te.x,Te.y,0)}for(let ye=1;ye<=h;ye++)for(let Te=0;Te<z;Te++){const Pe=p?F(Z[Te],ne[Te],le):Z[Te];C?(M.copy(N.normals[ye]).multiplyScalar(Pe.x),$.copy(N.binormals[ye]).multiplyScalar(Pe.y),L.copy(O[ye]).add(M).add($),se(L.x,L.y,L.z)):se(Pe.x,Pe.y,d/h*ye)}for(let ye=T-1;ye>=0;ye--){const Te=ye/T,Pe=v*Math.cos(Te*Math.PI/2),Je=S*Math.sin(Te*Math.PI/2)+w;for(let ie=0,K=P.length;ie<K;ie++){const q=F(P[ie],U[ie],Je);se(q.x,q.y,d+Pe)}for(let ie=0,K=H.length;ie<K;ie++){const q=H[ie];G=k[ie];for(let he=0,Se=q.length;he<Se;he++){const te=F(q[he],G[he],Je);C?se(te.x,te.y+O[h-1].y,O[h-1].x+Pe):se(te.x,te.y,d+Pe)}}}ee(),J();function ee(){const ye=i.length/3;if(p){let Te=0,Pe=z*Te;for(let Je=0;Je<j;Je++){const ie=R[Je];ue(ie[2]+Pe,ie[1]+Pe,ie[0]+Pe)}Te=h+T*2,Pe=z*Te;for(let Je=0;Je<j;Je++){const ie=R[Je];ue(ie[0]+Pe,ie[1]+Pe,ie[2]+Pe)}}else{for(let Te=0;Te<j;Te++){const Pe=R[Te];ue(Pe[2],Pe[1],Pe[0])}for(let Te=0;Te<j;Te++){const Pe=R[Te];ue(Pe[0]+z*h,Pe[1]+z*h,Pe[2]+z*h)}}r.addGroup(ye,i.length/3-ye,0)}function J(){const ye=i.length/3;let Te=0;de(P,Te),Te+=P.length;for(let Pe=0,Je=H.length;Pe<Je;Pe++){const ie=H[Pe];de(ie,Te),Te+=ie.length}r.addGroup(ye,i.length/3-ye,1)}function de(ye,Te){let Pe=ye.length;for(;--Pe>=0;){const Je=Pe;let ie=Pe-1;ie<0&&(ie=ye.length-1);for(let K=0,q=h+T*2;K<q;K++){const he=z*K,Se=z*(K+1),te=Te+Je+he,re=Te+ie+he,Me=Te+ie+Se,Ce=Te+Je+Se;oe(te,re,Me,Ce)}}}function se(ye,Te,Pe){l.push(ye),l.push(Te),l.push(Pe)}function ue(ye,Te,Pe){W(ye),W(Te),W(Pe);const Je=i.length/3,ie=E.generateTopUV(r,i,Je-3,Je-2,Je-1);ce(ie[0]),ce(ie[1]),ce(ie[2])}function oe(ye,Te,Pe,Je){W(ye),W(Te),W(Je),W(Te),W(Pe),W(Je);const ie=i.length/3,K=E.generateSideWallUV(r,i,ie-6,ie-3,ie-2,ie-1);ce(K[0]),ce(K[1]),ce(K[3]),ce(K[1]),ce(K[2]),ce(K[3])}function W(ye){i.push(l[ye*3+0]),i.push(l[ye*3+1]),i.push(l[ye*3+2])}function ce(ye){s.push(ye.x),s.push(ye.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return zie(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const u=t[e.shapes[s]];r.push(u)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new XD[i.type]().fromJSON(i)),new uu(r,e.options)}}const Bie={generateTopUV:function(n,e,t,r,i){const s=e[t*3],o=e[t*3+1],u=e[r*3],l=e[r*3+1],c=e[i*3],h=e[i*3+1];return[new ft(s,o),new ft(u,l),new ft(c,h)]},generateSideWallUV:function(n,e,t,r,i,s){const o=e[t*3],u=e[t*3+1],l=e[t*3+2],c=e[r*3],h=e[r*3+1],d=e[r*3+2],p=e[i*3],v=e[i*3+1],S=e[i*3+2],w=e[s*3],T=e[s*3+1],x=e[s*3+2];return Math.abs(u-h)<Math.abs(o-c)?[new ft(o,1-l),new ft(c,1-d),new ft(p,1-S),new ft(w,1-x)]:[new ft(u,1-l),new ft(h,1-d),new ft(v,1-S),new ft(T,1-x)]}};function zie(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class zp extends su{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t);this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new zp(e.radius,e.detail)}}class $p extends rn{constructor(e=[new ft(0,.5),new ft(.5,0),new ft(0,-.5)],t=12,r=0,i=Math.PI*2){super();this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=Ei(i,0,Math.PI*2);const s=[],o=[],u=[],l=[],c=[],h=1/t,d=new be,p=new ft,v=new be,S=new be,w=new be;let T=0,x=0;for(let E=0;E<=e.length-1;E++)switch(E){case 0:T=e[E+1].x-e[E].x,x=e[E+1].y-e[E].y,v.x=x*1,v.y=-T,v.z=x*0,w.copy(v),v.normalize(),l.push(v.x,v.y,v.z);break;case e.length-1:l.push(w.x,w.y,w.z);break;default:T=e[E+1].x-e[E].x,x=e[E+1].y-e[E].y,v.x=x*1,v.y=-T,v.z=x*0,S.copy(v),v.x+=w.x,v.y+=w.y,v.z+=w.z,v.normalize(),l.push(v.x,v.y,v.z),w.copy(S)}for(let E=0;E<=t;E++){const O=r+E*h*i,C=Math.sin(O),N=Math.cos(O);for(let $=0;$<=e.length-1;$++){d.x=e[$].x*C,d.y=e[$].y,d.z=e[$].x*N,o.push(d.x,d.y,d.z),p.x=E/t,p.y=$/(e.length-1),u.push(p.x,p.y);const M=l[3*$+0]*C,L=l[3*$+1],V=l[3*$+0]*N;c.push(M,L,V)}}for(let E=0;E<t;E++)for(let O=0;O<e.length-1;O++){const C=O+E*e.length,N=C,$=C+e.length,M=C+e.length+1,L=C+1;s.push(N,$,L),s.push($,M,L)}this.setIndex(s),this.setAttribute("position",new jt(o,3)),this.setAttribute("uv",new jt(u,2)),this.setAttribute("normal",new jt(c,3))}static fromJSON(e){return new $p(e.points,e.segments,e.phiStart,e.phiLength)}}class Gf extends su{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t);this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Gf(e.radius,e.detail)}}class Gp extends rn{constructor(e=.5,t=1,r=8,i=1,s=0,o=Math.PI*2){super();this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const u=[],l=[],c=[],h=[];let d=e;const p=(t-e)/i,v=new be,S=new ft;for(let w=0;w<=i;w++){for(let T=0;T<=r;T++){const x=s+T/r*o;v.x=d*Math.cos(x),v.y=d*Math.sin(x),l.push(v.x,v.y,v.z),c.push(0,0,1),S.x=(v.x/t+1)/2,S.y=(v.y/t+1)/2,h.push(S.x,S.y)}d+=p}for(let w=0;w<i;w++){const T=w*(r+1);for(let x=0;x<r;x++){const E=x+T,O=E,C=E+r+1,N=E+r+2,$=E+1;u.push(O,C,$),u.push(C,N,$)}}this.setIndex(u),this.setAttribute("position",new jt(l,3)),this.setAttribute("normal",new jt(c,3)),this.setAttribute("uv",new jt(h,2))}static fromJSON(e){return new Gp(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Hf extends rn{constructor(e=new ou([new ft(0,.5),new ft(-.5,-.5),new ft(.5,-.5)]),t=12){super();this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],o=[];let u=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let h=0;h<e.length;h++)c(e[h]),this.addGroup(u,l,h),u+=l,l=0;this.setIndex(r),this.setAttribute("position",new jt(i,3)),this.setAttribute("normal",new jt(s,3)),this.setAttribute("uv",new jt(o,2));function c(h){const d=i.length/3,p=h.extractPoints(t);let v=p.shape;const S=p.holes;au.isClockWise(v)===!1&&(v=v.reverse());for(let T=0,x=S.length;T<x;T++){const E=S[T];au.isClockWise(E)===!0&&(S[T]=E.reverse())}const w=au.triangulateShape(v,S);for(let T=0,x=S.length;T<x;T++){const E=S[T];v=v.concat(E)}for(let T=0,x=v.length;T<x;T++){const E=v[T];i.push(E.x,E.y,0),s.push(0,0,1),o.push(E.x,E.y)}for(let T=0,x=w.length;T<x;T++){const E=w[T],O=E[0]+d,C=E[1]+d,N=E[2]+d;r.push(O,C,N),l+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return $ie(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];r.push(o)}return new Hf(r,e.curveSegments)}}function $ie(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class Vf extends rn{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,o=0,u=Math.PI){super();this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:u},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(o+u,Math.PI);let c=0;const h=[],d=new be,p=new be,v=[],S=[],w=[],T=[];for(let x=0;x<=r;x++){const E=[],O=x/r;let C=0;x==0&&o==0?C=.5/t:x==r&&l==Math.PI&&(C=-.5/t);for(let N=0;N<=t;N++){const $=N/t;d.x=-e*Math.cos(i+$*s)*Math.sin(o+O*u),d.y=e*Math.cos(o+O*u),d.z=e*Math.sin(i+$*s)*Math.sin(o+O*u),S.push(d.x,d.y,d.z),p.copy(d).normalize(),w.push(p.x,p.y,p.z),T.push($+C,1-O),E.push(c++)}h.push(E)}for(let x=0;x<r;x++)for(let E=0;E<t;E++){const O=h[x][E+1],C=h[x][E],N=h[x+1][E],$=h[x+1][E+1];(x!==0||o>0)&&v.push(O,C,$),(x!==r-1||l<Math.PI)&&v.push(C,N,$)}this.setIndex(v),this.setAttribute("position",new jt(S,3)),this.setAttribute("normal",new jt(w,3)),this.setAttribute("uv",new jt(T,2))}static fromJSON(e){return new Vf(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Hp extends su{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t);this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Hp(e.radius,e.detail)}}class Vp extends rn{constructor(e=1,t=.4,r=8,i=6,s=Math.PI*2){super();this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],u=[],l=[],c=[],h=new be,d=new be,p=new be;for(let v=0;v<=r;v++)for(let S=0;S<=i;S++){const w=S/i*s,T=v/r*Math.PI*2;d.x=(e+t*Math.cos(T))*Math.cos(w),d.y=(e+t*Math.cos(T))*Math.sin(w),d.z=t*Math.sin(T),u.push(d.x,d.y,d.z),h.x=e*Math.cos(w),h.y=e*Math.sin(w),p.subVectors(d,h).normalize(),l.push(p.x,p.y,p.z),c.push(S/i),c.push(v/r)}for(let v=1;v<=r;v++)for(let S=1;S<=i;S++){const w=(i+1)*v+S-1,T=(i+1)*(v-1)+S-1,x=(i+1)*(v-1)+S,E=(i+1)*v+S;o.push(w,T,E),o.push(T,x,E)}this.setIndex(o),this.setAttribute("position",new jt(u,3)),this.setAttribute("normal",new jt(l,3)),this.setAttribute("uv",new jt(c,2))}static fromJSON(e){return new Vp(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Wp extends rn{constructor(e=1,t=.4,r=64,i=8,s=2,o=3){super();this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const u=[],l=[],c=[],h=[],d=new be,p=new be,v=new be,S=new be,w=new be,T=new be,x=new be;for(let O=0;O<=r;++O){const C=O/r*s*Math.PI*2;E(C,s,o,e,v),E(C+.01,s,o,e,S),T.subVectors(S,v),x.addVectors(S,v),w.crossVectors(T,x),x.crossVectors(w,T),w.normalize(),x.normalize();for(let N=0;N<=i;++N){const $=N/i*Math.PI*2,M=-t*Math.cos($),L=t*Math.sin($);d.x=v.x+(M*x.x+L*w.x),d.y=v.y+(M*x.y+L*w.y),d.z=v.z+(M*x.z+L*w.z),l.push(d.x,d.y,d.z),p.subVectors(d,v).normalize(),c.push(p.x,p.y,p.z),h.push(O/r),h.push(N/i)}}for(let O=1;O<=r;O++)for(let C=1;C<=i;C++){const N=(i+1)*(O-1)+(C-1),$=(i+1)*O+(C-1),M=(i+1)*O+C,L=(i+1)*(O-1)+C;u.push(N,$,L),u.push($,M,L)}this.setIndex(u),this.setAttribute("position",new jt(l,3)),this.setAttribute("normal",new jt(c,3)),this.setAttribute("uv",new jt(h,2));function E(O,C,N,$,M){const L=Math.cos(O),V=Math.sin(O),Z=N/C*O,H=Math.cos(Z);M.x=$*(2+H)*.5*L,M.y=$*(2+H)*V*.5,M.z=$*Math.sin(Z)*.5}}static fromJSON(e){return new Wp(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class jp extends rn{constructor(e=new m_(new be(-1,-1,0),new be(-1,1,0),new be(1,1,0)),t=64,r=1,i=8,s=!1){super();this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const u=new be,l=new be,c=new ft;let h=new be;const d=[],p=[],v=[],S=[];w(),this.setIndex(S),this.setAttribute("position",new jt(d,3)),this.setAttribute("normal",new jt(p,3)),this.setAttribute("uv",new jt(v,2));function w(){for(let O=0;O<t;O++)T(O);T(s===!1?t:0),E(),x()}function T(O){h=e.getPointAt(O/t,h);const C=o.normals[O],N=o.binormals[O];for(let $=0;$<=i;$++){const M=$/i*Math.PI*2,L=Math.sin(M),V=-Math.cos(M);l.x=V*C.x+L*N.x,l.y=V*C.y+L*N.y,l.z=V*C.z+L*N.z,l.normalize(),p.push(l.x,l.y,l.z),u.x=h.x+r*l.x,u.y=h.y+r*l.y,u.z=h.z+r*l.z,d.push(u.x,u.y,u.z)}}function x(){for(let O=1;O<=t;O++)for(let C=1;C<=i;C++){const N=(i+1)*(O-1)+(C-1),$=(i+1)*O+(C-1),M=(i+1)*O+C,L=(i+1)*(O-1)+C;S.push(N,$,L),S.push($,M,L)}}function E(){for(let O=0;O<=t;O++)for(let C=0;C<=i;C++)c.x=O/t,c.y=C/i,v.push(c.x,c.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new jp(new XD[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class KD extends rn{constructor(e=null){super();if(this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new be,s=new be;if(e.index!==null){const o=e.attributes.position,u=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:u.count,materialIndex:0}]);for(let c=0,h=l.length;c<h;++c){const d=l[c],p=d.start,v=d.count;for(let S=p,w=p+v;S<w;S+=3)for(let T=0;T<3;T++){const x=u.getX(S+T),E=u.getX(S+(T+1)%3);i.fromBufferAttribute(o,x),s.fromBufferAttribute(o,E),qN(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let u=0,l=o.count/3;u<l;u++)for(let c=0;c<3;c++){const h=3*u+c,d=3*u+(c+1)%3;i.fromBufferAttribute(o,h),s.fromBufferAttribute(o,d),qN(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new jt(t,3))}}}function qN(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r,i),!0)}var XN=Object.freeze({__proto__:null,BoxGeometry:tl,BoxBufferGeometry:tl,CircleGeometry:Op,CircleBufferGeometry:Op,ConeGeometry:Np,ConeBufferGeometry:Np,CylinderGeometry:gc,CylinderBufferGeometry:gc,DodecahedronGeometry:Up,DodecahedronBufferGeometry:Up,EdgesGeometry:zD,ExtrudeGeometry:uu,ExtrudeBufferGeometry:uu,IcosahedronGeometry:zp,IcosahedronBufferGeometry:zp,LatheGeometry:$p,LatheBufferGeometry:$p,OctahedronGeometry:Gf,OctahedronBufferGeometry:Gf,PlaneGeometry:ru,PlaneBufferGeometry:ru,PolyhedronGeometry:su,PolyhedronBufferGeometry:su,RingGeometry:Gp,RingBufferGeometry:Gp,ShapeGeometry:Hf,ShapeBufferGeometry:Hf,SphereGeometry:Vf,SphereBufferGeometry:Vf,TetrahedronGeometry:Hp,TetrahedronBufferGeometry:Hp,TorusGeometry:Vp,TorusBufferGeometry:Vp,TorusKnotGeometry:Wp,TorusKnotBufferGeometry:Wp,TubeGeometry:jp,TubeBufferGeometry:jp,WireframeGeometry:KD});class ZD extends ui{constructor(e){super();this.type="ShadowMaterial",this.color=new Pt(0),this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this}}ZD.prototype.isShadowMaterial=!0;class __ extends ui{constructor(e){super();this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Pt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Pt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Cf,this.normalScale=new ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}__.prototype.isMeshStandardMaterial=!0;class QD extends __{constructor(e){super();this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ft(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Ei(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.sheenColor=new Pt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new Pt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Pt(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}QD.prototype.isMeshPhysicalMaterial=!0;class eA extends ui{constructor(e){super();this.type="MeshPhongMaterial",this.color=new Pt(16777215),this.specular=new Pt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Pt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Cf,this.normalScale=new ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=$v,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}eA.prototype.isMeshPhongMaterial=!0;class tA extends ui{constructor(e){super();this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Pt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Pt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Cf,this.normalScale=new ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}tA.prototype.isMeshToonMaterial=!0;class nA extends ui{constructor(e){super();this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Cf,this.normalScale=new ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}nA.prototype.isMeshNormalMaterial=!0;class rA extends ui{constructor(e){super();this.type="MeshLambertMaterial",this.color=new Pt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Pt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=$v,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}rA.prototype.isMeshLambertMaterial=!0;class iA extends ui{constructor(e){super();this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Pt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Cf,this.normalScale=new ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this}}iA.prototype.isMeshMatcapMaterial=!0;class sA extends ci{constructor(e){super();this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}sA.prototype.isLineDashedMaterial=!0;var Gie=Object.freeze({__proto__:null,ShadowMaterial:ZD,SpriteMaterial:J2,RawShaderMaterial:Ap,ShaderMaterial:nl,PointsMaterial:$f,MeshPhysicalMaterial:QD,MeshStandardMaterial:__,MeshPhongMaterial:eA,MeshToonMaterial:tA,MeshNormalMaterial:nA,MeshLambertMaterial:rA,MeshDepthMaterial:og,MeshDistanceMaterial:ag,MeshBasicMaterial:tu,MeshMatcapMaterial:iA,LineDashedMaterial:sA,LineBasicMaterial:ci,Material:ui});const sr={arraySlice:function(n,e,t){return sr.isTypedArray(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)},convertArray:function(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)},isTypedArray:function(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)},getKeyframeOrder:function(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r},sortedArray:function(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,o=0;o!==r;++s){const u=t[s]*e;for(let l=0;l!==e;++l)i[o++]=n[u+l]}return i},flattenJSON:function(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),t.push(o)),s=n[i++];while(s!==void 0)},subclip:function(n,e,t,r,i=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],h=c.getValueSize(),d=[],p=[];for(let v=0;v<c.times.length;++v){const S=c.times[v]*i;if(!(S<t||S>=r)){d.push(c.times[v]);for(let w=0;w<h;++w)p.push(c.values[v*h+w])}}d.length!==0&&(c.times=sr.convertArray(d,c.times.constructor),c.values=sr.convertArray(p,c.values.constructor),o.push(c))}s.tracks=o;let u=1/0;for(let l=0;l<s.tracks.length;++l)u>s.tracks[l].times[0]&&(u=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*u);return s.resetDuration(),s},makeClipAdditive:function(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let o=0;o<i;++o){const u=t.tracks[o],l=u.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(x){return x.name===u.name&&x.ValueTypeName===l});if(c===void 0)continue;let h=0;const d=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=d/3);let p=0;const v=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=v/3);const S=u.times.length-1;let w;if(s<=u.times[0]){const x=h,E=d-h;w=sr.arraySlice(u.values,x,E)}else if(s>=u.times[S]){const x=S*d+h,E=x+d-h;w=sr.arraySlice(u.values,x,E)}else{const x=u.createInterpolant(),E=h,O=d-h;x.evaluate(s),w=sr.arraySlice(x.resultBuffer,E,O)}l==="quaternion"&&new Mi().fromArray(w).normalize().conjugate().toArray(w);const T=c.times.length;for(let x=0;x<T;++x){const E=x*v+p;if(l==="quaternion")Mi.multiplyQuaternionsFlat(c.values,E,w,0,c.values,E);else{const O=v-p*2;for(let C=0;C<O;++C)c.values[E+C]-=w[C]}}}return n.blendMode=JM,n}};class il{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let u=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,e,s)}if(r===u)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=s)){const u=t[1];e<u&&(r=2,s=u);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const u=r+o>>>1;e<t[u]?o=u:r=u+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(i===void 0)return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,s,e)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}il.prototype.beforeStart_=il.prototype.copySampleValue_;il.prototype.afterEnd_=il.prototype.copySampleValue_;class YN extends il{constructor(e,t,r,i){super(e,t,r,i);this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Af,endingEnd:Af}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,u=i[s],l=i[o];if(u===void 0)switch(this.getSettings_().endingStart){case Tf:s=e,u=2*t-r;break;case Jv:s=i.length-2,u=t+i[s]-i[s+1];break;default:s=e,u=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Tf:o=e,l=2*r-t;break;case Jv:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const c=(r-t)*.5,h=this.valueSize;this._weightPrev=c/(t-u),this._weightNext=c/(l-r),this._offsetPrev=s*h,this._offsetNext=o*h}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,u=this.valueSize,l=e*u,c=l-u,h=this._offsetPrev,d=this._offsetNext,p=this._weightPrev,v=this._weightNext,S=(r-t)/(i-t),w=S*S,T=w*S,x=-p*T+2*p*w-p*S,E=(1+p)*T+(-1.5-2*p)*w+(-.5+p)*S+1,O=(-1-v)*T+(1.5+v)*w+.5*S,C=v*T-v*w;for(let N=0;N!==u;++N)s[N]=x*o[h+N]+E*o[c+N]+O*o[l+N]+C*o[d+N];return s}}class oA extends il{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,u=this.valueSize,l=e*u,c=l-u,h=(r-t)/(i-t),d=1-h;for(let p=0;p!==u;++p)s[p]=o[c+p]*d+o[l+p]*h;return s}}class JN extends il{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class ya{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=sr.convertArray(t,this.TimeBufferType),this.values=sr.convertArray(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:sr.convertArray(e.times,Array),values:sr.convertArray(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new JN(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new oA(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new YN(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Xv:t=this.InterpolantFactoryMethodDiscrete;break;case Yv:t=this.InterpolantFactoryMethodLinear;break;case v2:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Xv;case this.InterpolantFactoryMethodLinear:return Yv;case this.InterpolantFactoryMethodSmooth:return v2}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const u=this.getValueSize();this.times=sr.arraySlice(r,s,o),this.values=sr.arraySlice(this.values,s*u,o*u)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let u=0;u!==s;u++){const l=r[u];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,u,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,u,l,o),e=!1;break}o=l}if(i!==void 0&&sr.isTypedArray(i))for(let u=0,l=i.length;u!==l;++u){const c=i[u];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,u,c),e=!1;break}}return e}optimize(){const e=sr.arraySlice(this.times),t=sr.arraySlice(this.values),r=this.getValueSize(),i=this.getInterpolation()===v2,s=e.length-1;let o=1;for(let u=1;u<s;++u){let l=!1;const c=e[u],h=e[u+1];if(c!==h&&(u!==1||c!==e[0]))if(i)l=!0;else{const d=u*r,p=d-r,v=d+r;for(let S=0;S!==r;++S){const w=t[d+S];if(w!==t[p+S]||w!==t[v+S]){l=!0;break}}}if(l){if(u!==o){e[o]=e[u];const d=u*r,p=o*r;for(let v=0;v!==r;++v)t[p+v]=t[d+v]}++o}}if(s>0){e[o]=e[s];for(let u=s*r,l=o*r,c=0;c!==r;++c)t[l+c]=t[u+c];++o}return o!==e.length?(this.times=sr.arraySlice(e,0,o),this.values=sr.arraySlice(t,0,o*r)):(this.times=e,this.values=t),this}clone(){const e=sr.arraySlice(this.times,0),t=sr.arraySlice(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}ya.prototype.TimeBufferType=Float32Array;ya.prototype.ValueBufferType=Float32Array;ya.prototype.DefaultInterpolation=Yv;class Wf extends ya{}Wf.prototype.ValueTypeName="bool";Wf.prototype.ValueBufferType=Array;Wf.prototype.DefaultInterpolation=Xv;Wf.prototype.InterpolantFactoryMethodLinear=void 0;Wf.prototype.InterpolantFactoryMethodSmooth=void 0;class aA extends ya{}aA.prototype.ValueTypeName="color";class Eg extends ya{}Eg.prototype.ValueTypeName="number";class KN extends il{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,u=this.valueSize,l=(r-t)/(i-t);let c=e*u;for(let h=c+u;c!==h;c+=4)Mi.slerpFlat(s,0,o,c-u,o,c,l);return s}}class qp extends ya{InterpolantFactoryMethodLinear(e){return new KN(this.times,this.values,this.getValueSize(),e)}}qp.prototype.ValueTypeName="quaternion";qp.prototype.DefaultInterpolation=Yv;qp.prototype.InterpolantFactoryMethodSmooth=void 0;class jf extends ya{}jf.prototype.ValueTypeName="string";jf.prototype.ValueBufferType=Array;jf.prototype.DefaultInterpolation=Xv;jf.prototype.InterpolantFactoryMethodLinear=void 0;jf.prototype.InterpolantFactoryMethodSmooth=void 0;class Mg extends ya{}Mg.prototype.ValueTypeName="vector";class Dg{constructor(e,t=-1,r,i=g2){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=so(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,u=r.length;o!==u;++o)t.push(Vie(r[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)t.push(ya.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,o=[];for(let u=0;u<s;u++){let l=[],c=[];l.push((u+s-1)%s,u,(u+1)%s),c.push(0,1,0);const h=sr.getKeyframeOrder(l);l=sr.sortedArray(l,1,h),c=sr.sortedArray(c,1,h),!i&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new Eg(".morphTargetInfluences["+t[u].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let u=0,l=e.length;u<l;u++){const c=e[u],h=c.name.match(s);if(h&&h.length>1){const d=h[1];let p=i[d];p||(i[d]=p=[]),p.push(c)}}const o=[];for(const u in i)o.push(this.CreateFromMorphTargetSequence(u,i[u],t,r));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(d,p,v,S,w){if(v.length!==0){const T=[],x=[];sr.flattenJSON(v,T,x,S),T.length!==0&&w.push(new d(p,T,x))}},i=[],s=e.name||"default",o=e.fps||30,u=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const p=c[d].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const v={};let S;for(S=0;S<p.length;S++)if(p[S].morphTargets)for(let w=0;w<p[S].morphTargets.length;w++)v[p[S].morphTargets[w]]=-1;for(const w in v){const T=[],x=[];for(let E=0;E!==p[S].morphTargets.length;++E){const O=p[S];T.push(O.time),x.push(O.morphTarget===w?1:0)}i.push(new Eg(".morphTargetInfluence["+w+"]",T,x))}l=v.length*(o||1)}else{const v=".bones["+t[d].name+"]";r(Mg,v+".position",p,"pos",i),r(qp,v+".quaternion",p,"rot",i),r(Mg,v+".scale",p,"scl",i)}}return i.length===0?null:new this(s,l,i,u)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Hie(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Eg;case"vector":case"vector2":case"vector3":case"vector4":return Mg;case"color":return aA;case"quaternion":return qp;case"bool":case"boolean":return Wf;case"string":return jf}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function Vie(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Hie(n.type);if(n.times===void 0){const t=[],r=[];sr.flattenJSON(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const qf={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class uA{constructor(e,t,r){const i=this;let s=!1,o=0,u=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(h){u++,s===!1&&i.onStart!==void 0&&i.onStart(h,o,u),s=!0},this.itemEnd=function(h){o++,i.onProgress!==void 0&&i.onProgress(h,o,u),o===u&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(h){i.onError!==void 0&&i.onError(h)},this.resolveURL=function(h){return l?l(h):h},this.setURLModifier=function(h){return l=h,this},this.addHandler=function(h,d){return c.push(h,d),this},this.removeHandler=function(h){const d=c.indexOf(h);return d!==-1&&c.splice(d,2),this},this.getHandler=function(h){for(let d=0,p=c.length;d<p;d+=2){const v=c[d],S=c[d+1];if(v.global&&(v.lastIndex=0),v.test(h))return S}return null}}}const ZN=new uA;class vs{constructor(e){this.manager=e!==void 0?e:ZN,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const sl={};class lu extends vs{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=qf.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(sl[e]!==void 0){sl[e].push({onLoad:t,onProgress:r,onError:i});return}sl[e]=[],sl[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"});fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream=="undefined"||u.body.getReader===void 0)return u;const l=sl[e],c=u.body.getReader(),h=u.headers.get("Content-Length"),d=h?parseInt(h):0,p=d!==0;let v=0;const S=new ReadableStream({start(w){T();function T(){c.read().then(({done:x,value:E})=>{if(x)w.close();else{v+=E.byteLength;const O=new ProgressEvent("progress",{lengthComputable:p,loaded:v,total:d});for(let C=0,N=l.length;C<N;C++){const $=l[C];$.onProgress&&$.onProgress(O)}w.enqueue(E),T()}})}}});return new Response(S)}else throw Error(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`)}).then(u=>{switch(this.responseType){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(l=>new DOMParser().parseFromString(l,this.mimeType));case"json":return u.json();default:return u.text()}}).then(u=>{qf.add(e,u);const l=sl[e];delete sl[e];for(let c=0,h=l.length;c<h;c++){const d=l[c];d.onLoad&&d.onLoad(u)}}).catch(u=>{const l=sl[e];if(l===void 0)throw this.manager.itemError(e),u;delete sl[e];for(let c=0,h=l.length;c<h;c++){const d=l[c];d.onError&&d.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Wie extends vs{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new lu(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(u){try{t(s.parse(JSON.parse(u)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=Dg.parse(e[r]);t.push(i)}return t}}class jie extends vs{constructor(e){super(e)}load(e,t,r,i){const s=this,o=[],u=new UD,l=new lu(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function h(d){l.load(e[d],function(p){const v=s.parse(p,!0);o[d]={width:v.width,height:v.height,format:v.format,mipmaps:v.mipmaps},c+=1,c===6&&(v.mipmapCount===1&&(u.minFilter=hr),u.image=o,u.format=v.format,u.needsUpdate=!0,t&&t(u))},r,i)}if(Array.isArray(e))for(let d=0,p=e.length;d<p;++d)h(d);else l.load(e,function(d){const p=s.parse(d,!0);if(p.isCubemap){const v=p.mipmaps.length/p.mipmapCount;for(let S=0;S<v;S++){o[S]={mipmaps:[]};for(let w=0;w<p.mipmapCount;w++)o[S].mipmaps.push(p.mipmaps[S*p.mipmapCount+w]),o[S].format=p.format,o[S].width=p.width,o[S].height=p.height}u.image=o}else u.image.width=p.width,u.image.height=p.height,u.mipmaps=p.mipmaps;p.mipmapCount===1&&(u.minFilter=hr),u.format=p.format,u.needsUpdate=!0,t&&t(u)},r,i);return u}}class Ag extends vs{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=qf.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const u=_2("img");function l(){h(),qf.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(d){h(),i&&i(d),s.manager.itemError(e),s.manager.itemEnd(e)}function h(){u.removeEventListener("load",l,!1),u.removeEventListener("error",c,!1)}return u.addEventListener("load",l,!1),u.addEventListener("error",c,!1),e.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(u.crossOrigin=this.crossOrigin),s.manager.itemStart(e),u.src=e,u}}class QN extends vs{constructor(e){super(e)}load(e,t,r,i){const s=new Ep,o=new Ag(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let u=0;function l(c){o.load(e[c],function(h){s.images[c]=h,u++,u===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class eU extends vs{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new mc,u=new lu(this.manager);return u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setPath(this.path),u.setWithCredentials(s.withCredentials),u.load(e,function(l){const c=s.parse(l);!c||(c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:bi,o.wrapT=c.wrapT!==void 0?c.wrapT:bi,o.magFilter=c.magFilter!==void 0?c.magFilter:hr,o.minFilter=c.minFilter!==void 0?c.minFilter:hr,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=Ef),c.mipmapCount===1&&(o.minFilter=hr),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c))},r,i),o}}class tU extends vs{constructor(e){super(e)}load(e,t,r,i){const s=new Rr,o=new Ag(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(u){s.image=u,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}class xa extends bn{constructor(e,t=1){super();this.type="Light",this.color=new Pt(e),this.intensity=t}dispose(){}copy(e){return super.copy(e),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}xa.prototype.isLight=!0;class lA extends xa{constructor(e,t,r){super(e,r);this.type="HemisphereLight",this.position.copy(bn.DefaultUp),this.updateMatrix(),this.groundColor=new Pt(t)}copy(e){return xa.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}lA.prototype.isHemisphereLight=!0;const nU=new Xt,rU=new be,iU=new be;class cA{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ft(512,512),this.map=null,this.mapPass=null,this.matrix=new Xt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new rg,this._frameExtents=new ft(1,1),this._viewportCount=1,this._viewports=[new On(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;rU.setFromMatrixPosition(e.matrixWorld),t.position.copy(rU),iU.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(iU),t.updateMatrixWorld(),nU.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(nU),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(t.projectionMatrix),r.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class sU extends cA{constructor(){super(new Jr(50,1,.5,500));this.focus=1}updateMatrices(e){const t=this.camera,r=Kv*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}sU.prototype.isSpotLightShadow=!0;class fA extends xa{constructor(e,t,r=0,i=Math.PI/3,s=0,o=1){super(e,t);this.type="SpotLight",this.position.copy(bn.DefaultUp),this.updateMatrix(),this.target=new bn,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.shadow=new sU}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}fA.prototype.isSpotLight=!0;const oU=new Xt,Tg=new be,hA=new be;class aU extends cA{constructor(){super(new Jr(90,1,.5,500));this._frameExtents=new ft(4,2),this._viewportCount=6,this._viewports=[new On(2,1,1,1),new On(0,1,1,1),new On(3,1,1,1),new On(1,1,1,1),new On(3,0,1,1),new On(1,0,1,1)],this._cubeDirections=[new be(1,0,0),new be(-1,0,0),new be(0,0,1),new be(0,0,-1),new be(0,1,0),new be(0,-1,0)],this._cubeUps=[new be(0,1,0),new be(0,1,0),new be(0,1,0),new be(0,1,0),new be(0,0,1),new be(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Tg.setFromMatrixPosition(e.matrixWorld),r.position.copy(Tg),hA.copy(r.position),hA.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(hA),r.updateMatrixWorld(),i.makeTranslation(-Tg.x,-Tg.y,-Tg.z),oU.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(oU)}}aU.prototype.isPointLightShadow=!0;class dA extends xa{constructor(e,t,r=0,i=1){super(e,t);this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new aU}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}dA.prototype.isPointLight=!0;class uU extends cA{constructor(){super(new Dp(-5,5,5,-5,.5,500))}}uU.prototype.isDirectionalLightShadow=!0;class pA extends xa{constructor(e,t){super(e,t);this.type="DirectionalLight",this.position.copy(bn.DefaultUp),this.updateMatrix(),this.target=new bn,this.shadow=new uU}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}pA.prototype.isDirectionalLight=!0;class mA extends xa{constructor(e,t){super(e,t);this.type="AmbientLight"}}mA.prototype.isAmbientLight=!0;class vA extends xa{constructor(e,t,r=10,i=10){super(e,t);this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}vA.prototype.isRectAreaLight=!0;class gA{constructor(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new be)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(r*s)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*r*s),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}gA.prototype.isSphericalHarmonics3=!0;class Cg extends xa{constructor(e=new gA,t=1){super(void 0,t);this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}Cg.prototype.isLightProbe=!0;class lU extends vs{constructor(e){super(e);this.textures={}}load(e,t,r,i){const s=this,o=new lu(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(u){try{t(s.parse(JSON.parse(u)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=new Gie[e.type];if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Pt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.format!==void 0&&(i.format=e.format),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new Pt().setHex(o.value);break;case"v2":i.uniforms[s].value=new ft().fromArray(o.value);break;case"v3":i.uniforms[s].value=new be().fromArray(o.value);break;case"v4":i.uniforms[s].value=new On().fromArray(o.value);break;case"m3":i.uniforms[s].value=new zr().fromArray(o.value);break;case"m4":i.uniforms[s].value=new Xt().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.shading!==void 0&&(i.flatShading=e.shading===1),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new ft().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new ft().fromArray(e.clearcoatNormalScale)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}}class w_{static decodeText(e){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.substr(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class b_ extends rn{constructor(){super();this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}b_.prototype.isInstancedBufferGeometry=!0;class cU extends vs{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new lu(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(u){try{t(s.parse(JSON.parse(u)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(v,S){if(t[S]!==void 0)return t[S];const T=v.interleavedBuffers[S],x=s(v,T.buffer),E=cp(T.type,x),O=new zf(E,T.stride);return O.uuid=T.uuid,t[S]=O,O}function s(v,S){if(r[S]!==void 0)return r[S];const T=v.arrayBuffers[S],x=new Uint32Array(T).buffer;return r[S]=x,x}const o=e.isInstancedBufferGeometry?new b_:new rn,u=e.data.index;if(u!==void 0){const v=cp(u.type,u.array);o.setIndex(new Tn(v,1))}const l=e.data.attributes;for(const v in l){const S=l[v];let w;if(S.isInterleavedBufferAttribute){const T=i(e.data,S.data);w=new pc(T,S.itemSize,S.offset,S.normalized)}else{const T=cp(S.type,S.array),x=S.isInstancedBufferAttribute?vc:Tn;w=new x(T,S.itemSize,S.normalized)}S.name!==void 0&&(w.name=S.name),S.usage!==void 0&&w.setUsage(S.usage),S.updateRange!==void 0&&(w.updateRange.offset=S.updateRange.offset,w.updateRange.count=S.updateRange.count),o.setAttribute(v,w)}const c=e.data.morphAttributes;if(c)for(const v in c){const S=c[v],w=[];for(let T=0,x=S.length;T<x;T++){const E=S[T];let O;if(E.isInterleavedBufferAttribute){const C=i(e.data,E.data);O=new pc(C,E.itemSize,E.offset,E.normalized)}else{const C=cp(E.type,E.array);O=new Tn(C,E.itemSize,E.normalized)}E.name!==void 0&&(O.name=E.name),w.push(O)}o.morphAttributes[v]=w}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let v=0,S=d.length;v!==S;++v){const w=d[v];o.addGroup(w.start,w.count,w.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const v=new be;p.center!==void 0&&v.fromArray(p.center),o.boundingSphere=new Ju(v,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class qie extends vs{constructor(e){super(e)}load(e,t,r,i){const s=this,o=this.path===""?w_.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const u=new lu(this.manager);u.setPath(this.path),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(d){i!==void 0&&i(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const h=c.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?w_.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new lu(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),u=JSON.parse(o),l=u.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(u)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),u=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,u),c=this.parseObject(e.object,s,l,u,r),h=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,h),t!==void 0){let d=!1;for(const p in o)if(o[p]instanceof HTMLImageElement){d=!0;break}d===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),u=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,u,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new ou().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const u=new i_().fromJSON(e[s],i);r[u.uuid]=u}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new cU;for(let s=0,o=e.length;s<o;s++){let u;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":u=i.parse(l);break;case"Geometry":console.error("THREE.ObjectLoader: The legacy Geometry type is no longer supported.");break;default:l.type in XN?u=XN[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}u.uuid=l.uuid,l.name!==void 0&&(u.name=l.name),u.isBufferGeometry===!0&&l.userData!==void 0&&(u.userData=l.userData),r[l.uuid]=u}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new lU;s.setTextures(t);for(let o=0,u=e.length;o<u;o++){const l=e[o];if(l.type==="MultiMaterial"){const c=[];for(let h=0;h<l.materials.length;h++){const d=l.materials[h];r[d.uuid]===void 0&&(r[d.uuid]=s.parse(d)),c.push(r[d.uuid])}i[l.uuid]=c}else r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=Dg.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function u(l){if(typeof l=="string"){const c=l,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(h)}else return l.data?{data:cp(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new uA(t);s=new Ag(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,h=e.length;c<h;c++){const d=e[c],p=d.url;if(Array.isArray(p)){i[d.uuid]=[];for(let v=0,S=p.length;v<S;v++){const w=p[v],T=u(w);T!==null&&(T instanceof HTMLImageElement?i[d.uuid].push(T):i[d.uuid].push(new mc(T.data,T.width,T.height)))}}else{const v=u(d.url);v!==null&&(i[d.uuid]=v)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(o){if(typeof o=="string"){const u=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:t.resourcePath+u;return await i.loadAsync(l)}else return o.data?{data:cp(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new Ag(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,u=e.length;o<u;o++){const l=e[o],c=l.url;if(Array.isArray(c)){r[l.uuid]=[];for(let h=0,d=c.length;h<d;h++){const p=c[h],v=await s(p);v!==null&&(v instanceof HTMLImageElement?r[l.uuid].push(v):r[l.uuid].push(new mc(v.data,v.width,v.height)))}}else{const h=await s(l.url);h!==null&&(r[l.uuid]=h)}}}return r}parseTextures(e,t){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const u=e[s];u.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',u.uuid),t[u.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",u.image);let l;const c=t[u.image];Array.isArray(c)?(l=new Ep(c),c.length===6&&(l.needsUpdate=!0)):(c&&c.data?l=new mc(c.data,c.width,c.height):l=new Rr(c),c&&(l.needsUpdate=!0)),l.uuid=u.uuid,u.name!==void 0&&(l.name=u.name),u.mapping!==void 0&&(l.mapping=r(u.mapping,Xie)),u.offset!==void 0&&l.offset.fromArray(u.offset),u.repeat!==void 0&&l.repeat.fromArray(u.repeat),u.center!==void 0&&l.center.fromArray(u.center),u.rotation!==void 0&&(l.rotation=u.rotation),u.wrap!==void 0&&(l.wrapS=r(u.wrap[0],fU),l.wrapT=r(u.wrap[1],fU)),u.format!==void 0&&(l.format=u.format),u.type!==void 0&&(l.type=u.type),u.encoding!==void 0&&(l.encoding=u.encoding),u.minFilter!==void 0&&(l.minFilter=r(u.minFilter,hU)),u.magFilter!==void 0&&(l.magFilter=r(u.magFilter,hU)),u.anisotropy!==void 0&&(l.anisotropy=u.anisotropy),u.flipY!==void 0&&(l.flipY=u.flipY),u.premultiplyAlpha!==void 0&&(l.premultiplyAlpha=u.premultiplyAlpha),u.unpackAlignment!==void 0&&(l.unpackAlignment=u.unpackAlignment),u.userData!==void 0&&(l.userData=u.userData),i[u.uuid]=l}return i}parseObject(e,t,r,i,s){let o;function u(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const v=[];for(let S=0,w=p.length;S<w;S++){const T=p[S];r[T]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",T),v.push(r[T])}return v}return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),r[p]}}function c(p){return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),i[p]}let h,d;switch(e.type){case"Scene":o=new cg,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Pt(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new lg(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new ug(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":o=new Jr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Dp(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new mA(e.color,e.intensity);break;case"DirectionalLight":o=new pA(e.color,e.intensity);break;case"PointLight":o=new dA(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new vA(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new fA(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new lA(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new Cg().fromJSON(e);break;case"SkinnedMesh":h=u(e.geometry),d=l(e.material),o=new n_(h,d),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":h=u(e.geometry),d=l(e.material),o=new mr(h,d);break;case"InstancedMesh":h=u(e.geometry),d=l(e.material);const p=e.count,v=e.instanceMatrix,S=e.instanceColor;o=new LD(h,d,p),o.instanceMatrix=new vc(new Float32Array(v.array),16),S!==void 0&&(o.instanceColor=new vc(new Float32Array(S.array),S.itemSize));break;case"LOD":o=new _N;break;case"Line":o=new rl(u(e.geometry),l(e.material));break;case"LineLoop":o=new OD(u(e.geometry),l(e.material));break;case"LineSegments":o=new Fs(u(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new mg(u(e.geometry),l(e.material));break;case"Sprite":o=new Q2(l(e.material));break;case"Group":o=new Bf;break;case"Bone":o=new r_;break;default:o=new bn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let v=0;v<p.length;v++)o.add(this.parseObject(p[v],t,r,i,s))}if(e.animations!==void 0){const p=e.animations;for(let v=0;v<p.length;v++){const S=p[v];o.animations.push(s[S])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let v=0;v<p.length;v++){const S=p[v],w=o.getObjectByProperty("uuid",S.object);w!==void 0&&o.addLevel(w,S.distance)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}setTexturePath(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}const Xie={UVMapping:d2,CubeReflectionMapping:bf,CubeRefractionMapping:Sf,EquirectangularReflectionMapping:Gv,EquirectangularRefractionMapping:Hv,CubeUVReflectionMapping:op,CubeUVRefractionMapping:Vv},fU={RepeatWrapping:Wv,ClampToEdgeWrapping:bi,MirroredRepeatWrapping:jv},hU={NearestFilter:Cr,NearestMipmapNearestFilter:p2,NearestMipmapLinearFilter:m2,LinearFilter:hr,LinearMipmapNearestFilter:BM,LinearMipmapLinearFilter:Ef};class dU extends vs{constructor(e){super(e);typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=qf.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const u={};u.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",u.headers=this.requestHeader,fetch(e,u).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){qf.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}dU.prototype.isImageBitmapLoader=!0;let S_;const yA={getContext:function(){return S_===void 0&&(S_=new(window.AudioContext||window.webkitAudioContext)),S_},setContext:function(n){S_=n}};class pU extends vs{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new lu(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(u){try{const l=u.slice(0);yA.getContext().decodeAudioData(l,function(h){t(h)})}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}}class mU extends Cg{constructor(e,t,r=1){super(void 0,r);const i=new Pt().set(e),s=new Pt().set(t),o=new be(i.r,i.g,i.b),u=new be(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(u).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(u).multiplyScalar(c)}}mU.prototype.isHemisphereLightProbe=!0;class vU extends Cg{constructor(e,t=1){super(void 0,t);const r=new Pt().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}vU.prototype.isAmbientLightProbe=!0;const gU=new Xt,yU=new Xt,Xf=new Xt;class Yie{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Jr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Jr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Xf.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,o=t.near*Math.tan(Pf*t.fov*.5)/t.zoom;let u,l;yU.elements[12]=-i,gU.elements[12]=i,u=-o*t.aspect+s,l=o*t.aspect+s,Xf.elements[0]=2*t.near/(l-u),Xf.elements[8]=(l+u)/(l-u),this.cameraL.projectionMatrix.copy(Xf),u=-o*t.aspect-s,l=o*t.aspect-s,Xf.elements[0]=2*t.near/(l-u),Xf.elements[8]=(l+u)/(l-u),this.cameraR.projectionMatrix.copy(Xf)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(yU),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(gU)}}class xA{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=xU(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=xU();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function xU(){return(typeof performance=="undefined"?Date:performance).now()}const Yf=new be,_U=new Mi,Jie=new be,Jf=new be;class Kie extends bn{constructor(){super();this.type="AudioListener",this.context=yA.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new xA}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Yf,_U,Jie),Jf.set(0,0,-1).applyQuaternion(_U),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Yf.x,i),t.positionY.linearRampToValueAtTime(Yf.y,i),t.positionZ.linearRampToValueAtTime(Yf.z,i),t.forwardX.linearRampToValueAtTime(Jf.x,i),t.forwardY.linearRampToValueAtTime(Jf.y,i),t.forwardZ.linearRampToValueAtTime(Jf.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(Yf.x,Yf.y,Yf.z),t.setOrientation(Jf.x,Jf.y,Jf.z,r.x,r.y,r.z)}}class _A extends bn{constructor(e){super();this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Kf=new be,wU=new Mi,Zie=new be,Zf=new be;class Qie extends _A{constructor(e){super(e);this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Kf,wU,Zie),Zf.set(0,0,1).applyQuaternion(wU);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Kf.x,r),t.positionY.linearRampToValueAtTime(Kf.y,r),t.positionZ.linearRampToValueAtTime(Kf.z,r),t.orientationX.linearRampToValueAtTime(Zf.x,r),t.orientationY.linearRampToValueAtTime(Zf.y,r),t.orientationZ.linearRampToValueAtTime(Zf.z,r)}else t.setPosition(Kf.x,Kf.y,Kf.z),t.setOrientation(Zf.x,Zf.y,Zf.z)}}class bU{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class SU{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let u=0;u!==i;++u)r[s+u]=r[u];o=t}else{o+=t;const u=t/o;this._mixBufferRegion(r,s,0,u,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,u=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(r[l]!==r[l+t]){u.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,o=i;s!==o;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){Mi.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const o=this._workIndex*s;Mi.multiplyQuaternionsFlat(e,o,e,t,e,r),Mi.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,s){const o=1-i;for(let u=0;u!==s;++u){const l=t+u;e[l]=e[l]*o+e[r+u]*i}}_lerpAdditive(e,t,r,i,s){for(let o=0;o!==s;++o){const u=t+o;e[u]=e[u]+e[r+o]*i}}}const wA="\\[\\]\\.:\\/",ese=new RegExp("["+wA+"]","g"),bA="[^"+wA+"]",tse="[^"+wA.replace("\\.","")+"]",nse=/((?:WC+[\/:])*)/.source.replace("WC",bA),rse=/(WCOD+)?/.source.replace("WCOD",tse),ise=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",bA),sse=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",bA),ose=new RegExp("^"+nse+rse+ise+sse+"$"),ase=["material","materials","bones"];class use{constructor(e,t,r){const i=r||Pn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class Pn{constructor(e,t,r){this.path=t,this.parsedPath=r||Pn.parseTrackName(t),this.node=Pn.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new Pn.Composite(e,t,r):new Pn(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(ese,"")}static parseTrackName(e){const t=ose.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);ase.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(!t||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const u=s[o];if(u.name===t||u.uuid===t)return u;const l=r(u.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=Pn.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let c=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let h=0;h<e.length;h++)if(e[h].name===c){c=h;break}break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let u=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?u=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(u=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][u]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Pn.Composite=use;Pn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Pn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Pn.prototype.GetterByBindingType=[Pn.prototype._getValue_direct,Pn.prototype._getValue_array,Pn.prototype._getValue_arrayElement,Pn.prototype._getValue_toArray];Pn.prototype.SetterByBindingTypeAndVersioning=[[Pn.prototype._setValue_direct,Pn.prototype._setValue_direct_setNeedsUpdate,Pn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Pn.prototype._setValue_array,Pn.prototype._setValue_array_setNeedsUpdate,Pn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Pn.prototype._setValue_arrayElement,Pn.prototype._setValue_arrayElement_setNeedsUpdate,Pn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Pn.prototype._setValue_fromArray,Pn.prototype._setValue_fromArray_setNeedsUpdate,Pn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class EU{constructor(){this.uuid=so(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let u,l=e.length,c=this.nCachedObjects_;for(let h=0,d=arguments.length;h!==d;++h){const p=arguments[h],v=p.uuid;let S=t[v];if(S===void 0){S=l++,t[v]=S,e.push(p);for(let w=0,T=o;w!==T;++w)s[w].push(new Pn(p,r[w],i[w]))}else if(S<c){u=e[S];const w=--c,T=e[w];t[T.uuid]=S,e[S]=T,t[v]=w,e[w]=p;for(let x=0,E=o;x!==E;++x){const O=s[x],C=O[w];let N=O[S];O[S]=C,N===void 0&&(N=new Pn(p,r[x],i[x])),O[w]=N}}else e[S]!==u&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,u=arguments.length;o!==u;++o){const l=arguments[o],c=l.uuid,h=t[c];if(h!==void 0&&h>=s){const d=s++,p=e[d];t[p.uuid]=h,e[h]=p,t[c]=d,e[d]=l;for(let v=0,S=i;v!==S;++v){const w=r[v],T=w[d],x=w[h];w[h]=T,w[d]=x}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let u=0,l=arguments.length;u!==l;++u){const c=arguments[u],h=c.uuid,d=t[h];if(d!==void 0)if(delete t[h],d<s){const p=--s,v=e[p],S=--o,w=e[S];t[v.uuid]=d,e[d]=v,t[w.uuid]=p,e[p]=w,e.pop();for(let T=0,x=i;T!==x;++T){const E=r[T],O=E[p],C=E[S];E[d]=O,E[p]=C,E.pop()}}else{const p=--o,v=e[p];p>0&&(t[v.uuid]=d),e[d]=v,e.pop();for(let S=0,w=i;S!==w;++S){const T=r[S];T[d]=T[p],T.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,u=this._parsedPaths,l=this._objects,c=l.length,h=this.nCachedObjects_,d=new Array(c);i=s.length,r[e]=i,o.push(e),u.push(t),s.push(d);for(let p=h,v=l.length;p!==v;++p){const S=l[p];d[p]=new Pn(S,e,t)}return d}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,u=o.length-1,l=o[u],c=e[u];t[c]=r,o[r]=l,o.pop(),s[r]=s[u],s.pop(),i[r]=i[u],i.pop()}}}EU.prototype.isAnimationObjectGroup=!0;class lse{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,o=s.length,u=new Array(o),l={endingStart:Af,endingEnd:Af};for(let c=0;c!==o;++c){const h=s[c].createInterpolant(null);u[c]=h,h.settings=l}this._interpolantSettings=l,this._interpolants=u,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=rO,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,u=i/s;e.warp(1,o,t),this.warp(u,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,o=this.timeScale;let u=this._timeScaleInterpolant;u===null&&(u=i._lendControlInterpolant(),this._timeScaleInterpolant=u);const l=u.parameterPositions,c=u.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;if(l<0||r===0)return;this._startTime=null,t=r*l}t*=this._updateTimeScale(e);const o=this._updateTime(t),u=this._updateWeight(e);if(u>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case JM:for(let h=0,d=l.length;h!==d;++h)l[h].evaluate(o),c[h].accumulateAdditive(u);break;case g2:default:for(let h=0,d=l.length;h!==d;++h)l[h].evaluate(o),c[h].accumulate(i,u)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;r!==null&&(t*=r.evaluate(e)[0],e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===iO;if(e===0)return s===-1?i:o&&(s&1)==1?t-i:i;if(r===nO){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const u=Math.floor(i/t);i-=t*u,s+=Math.abs(u);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:u})}}else this.time=i;if(o&&(s&1)==1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=Tf,i.endingEnd=Tf):(e?i.endingStart=this.zeroSlopeAtStart?Tf:Af:i.endingStart=Jv,t?i.endingEnd=this.zeroSlopeAtEnd?Tf:Af:i.endingEnd=Jv)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const u=o.parameterPositions,l=o.sampleValues;return u[0]=s,l[0]=t,u[1]=s+e,l[1]=r,this}}class MU extends rc{constructor(e){super();this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,u=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let h=c[l];h===void 0&&(h={},c[l]=h);for(let d=0;d!==s;++d){const p=i[d],v=p.name;let S=h[v];if(S!==void 0)o[d]=S;else{if(S=o[d],S!==void 0){S._cacheIndex===null&&(++S.referenceCount,this._addInactiveBinding(S,l,v));continue}const w=t&&t._propertyBindings[d].binding.parsedPath;S=new SU(Pn.create(r,v,w),p.ValueTypeName,p.getValueSize()),++S.referenceCount,this._addInactiveBinding(S,l,v),o[d]=S}u[d].resultBuffer=S.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++==0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount==0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const u=o.knownActions;e._byClipCacheIndex=u.length,u.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,u=o[s],l=u.knownActions,c=l[l.length-1],h=e._byClipCacheIndex;c._byClipCacheIndex=h,l[h]=c,l.pop(),e._byClipCacheIndex=null;const d=u.actionByRoot,p=(e._localRoot||this._root).uuid;delete d[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount==0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,u=o[i],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete u[s],Object.keys(u).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new oA(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?Dg.findByName(i,e):e;const u=o!==null?o.uuid:e,l=this._actionsByClip[u];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=g2),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===r)return d;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const h=new lse(this,o,t,r);return this._bindAction(h,c),this._addInactiveAction(h,u,s),h}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?Dg.findByName(r,e):e,o=s?s.uuid:e,u=this._actionsByClip[o];return u!==void 0&&u.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)t[c]._update(i,e,s,o);const u=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)u[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let u=0,l=o.length;u!==l;++u){const c=o[u];this._deactivateAction(c);const h=c._cacheIndex,d=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=h,t[h]=d,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const u=r[o].actionByRoot,l=u[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const u=s[o];u.restoreOriginalState(),this._removeInactiveBinding(u)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}MU.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class E_{constructor(e){typeof e=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}clone(){return new E_(this.value.clone===void 0?this.value:this.value.clone())}}class DU extends zf{constructor(e,t,r=1){super(e,t);this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}DU.prototype.isInstancedInterleavedBuffer=!0;class AU{constructor(e,t,r,i,s){this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}AU.prototype.isGLBufferAttribute=!0;class TU{constructor(e,t,r=0,i=1/0){this.ray=new ac(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new Ff,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return SA(e,this,r,t),r.sort(CU),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)SA(e[i],this,r,t);return r.sort(CU),r}}function CU(n,e){return n.distance-e.distance}function SA(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let s=0,o=i.length;s<o;s++)SA(i[s],e,t,!0)}}class cse{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){const e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Ei(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class fse{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const PU=new ft;class Xp{constructor(e=new ft(1/0,1/0),t=new ft(-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=PU.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return PU.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}Xp.prototype.isBox2=!0;const RU=new be,M_=new be;class kU{constructor(e=new be,t=new be){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){RU.subVectors(e,this.start),M_.subVectors(this.end,this.start);const r=M_.dot(M_);let s=M_.dot(RU)/r;return t&&(s=Ei(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const IU=new be;class hse extends bn{constructor(e,t){super();this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;const r=new rn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,u=1,l=32;o<l;o++,u++){const c=o/l*Math.PI*2,h=u/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(h),Math.sin(h),1)}r.setAttribute("position",new jt(i,3));const s=new ci({fog:!1,toneMapped:!1});this.cone=new Fs(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),IU.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(IU),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const xc=new be,D_=new Xt,EA=new Xt;class LU extends Fs{constructor(e){const t=FU(e),r=new rn,i=[],s=[],o=new Pt(0,0,1),u=new Pt(0,1,0);for(let c=0;c<t.length;c++){const h=t[c];h.parent&&h.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(u.r,u.g,u.b))}r.setAttribute("position",new jt(i,3)),r.setAttribute("color",new jt(s,3));const l=new ci({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l);this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");EA.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const u=t[s];u.parent&&u.parent.isBone&&(D_.multiplyMatrices(EA,u.matrixWorld),xc.setFromMatrixPosition(D_),i.setXYZ(o,xc.x,xc.y,xc.z),D_.multiplyMatrices(EA,u.parent.matrixWorld),xc.setFromMatrixPosition(D_),i.setXYZ(o+1,xc.x,xc.y,xc.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}function FU(n){const e=[];n&&n.isBone&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,FU(n.children[t]));return e}class dse extends mr{constructor(e,t,r){const i=new Vf(t,4,2),s=new tu({wireframe:!0,fog:!1,toneMapped:!1});super(i,s);this.light=e,this.light.updateMatrixWorld(),this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const pse=new be,OU=new Pt,NU=new Pt;class mse extends bn{constructor(e,t,r){super();this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r;const i=new Gf(t);i.rotateY(Math.PI*.5),this.material=new tu({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new Tn(o,3)),this.add(new mr(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");OU.copy(this.light.color),NU.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?OU:NU;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}e.lookAt(pse.setFromMatrixPosition(this.light.matrixWorld).negate())}}class UU extends Fs{constructor(e=10,t=10,r=4473924,i=8947848){r=new Pt(r),i=new Pt(i);const s=t/2,o=e/t,u=e/2,l=[],c=[];for(let p=0,v=0,S=-u;p<=t;p++,S+=o){l.push(-u,0,S,u,0,S),l.push(S,0,-u,S,0,u);const w=p===s?r:i;w.toArray(c,v),v+=3,w.toArray(c,v),v+=3,w.toArray(c,v),v+=3,w.toArray(c,v),v+=3}const h=new rn;h.setAttribute("position",new jt(l,3)),h.setAttribute("color",new jt(c,3));const d=new ci({vertexColors:!0,toneMapped:!1});super(h,d);this.type="GridHelper"}}class vse extends Fs{constructor(e=10,t=16,r=8,i=64,s=4473924,o=8947848){s=new Pt(s),o=new Pt(o);const u=[],l=[];for(let d=0;d<=t;d++){const p=d/t*(Math.PI*2),v=Math.sin(p)*e,S=Math.cos(p)*e;u.push(0,0,0),u.push(v,0,S);const w=d&1?s:o;l.push(w.r,w.g,w.b),l.push(w.r,w.g,w.b)}for(let d=0;d<=r;d++){const p=d&1?s:o,v=e-e/r*d;for(let S=0;S<i;S++){let w=S/i*(Math.PI*2),T=Math.sin(w)*v,x=Math.cos(w)*v;u.push(T,0,x),l.push(p.r,p.g,p.b),w=(S+1)/i*(Math.PI*2),T=Math.sin(w)*v,x=Math.cos(w)*v,u.push(T,0,x),l.push(p.r,p.g,p.b)}}const c=new rn;c.setAttribute("position",new jt(u,3)),c.setAttribute("color",new jt(l,3));const h=new ci({vertexColors:!0,toneMapped:!1});super(c,h);this.type="PolarGridHelper"}}const BU=new be,A_=new be,zU=new be;class gse extends bn{constructor(e,t,r){super();this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,t===void 0&&(t=1);let i=new rn;i.setAttribute("position",new jt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new ci({fog:!1,toneMapped:!1});this.lightPlane=new rl(i,s),this.add(this.lightPlane),i=new rn,i.setAttribute("position",new jt([0,0,0,0,0,1],3)),this.targetLine=new rl(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){BU.setFromMatrixPosition(this.light.matrixWorld),A_.setFromMatrixPosition(this.light.target.matrixWorld),zU.subVectors(A_,BU),this.lightPlane.lookAt(A_),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(A_),this.targetLine.scale.z=zU.length()}}const T_=new be,br=new Of;class yse extends Fs{constructor(e){const t=new rn,r=new ci({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={},u=new Pt(16755200),l=new Pt(16711680),c=new Pt(43775),h=new Pt(16777215),d=new Pt(3355443);p("n1","n2",u),p("n2","n4",u),p("n4","n3",u),p("n3","n1",u),p("f1","f2",u),p("f2","f4",u),p("f4","f3",u),p("f3","f1",u),p("n1","f1",u),p("n2","f2",u),p("n3","f3",u),p("n4","f4",u),p("p","n1",l),p("p","n2",l),p("p","n3",l),p("p","n4",l),p("u1","u2",c),p("u2","u3",c),p("u3","u1",c),p("c","t",h),p("p","c",d),p("cn1","cn2",d),p("cn3","cn4",d),p("cf1","cf2",d),p("cf3","cf4",d);function p(S,w,T){v(S,T),v(w,T)}function v(S,w){i.push(0,0,0),s.push(w.r,w.g,w.b),o[S]===void 0&&(o[S]=[]),o[S].push(i.length/3-1)}t.setAttribute("position",new jt(i,3)),t.setAttribute("color",new jt(s,3));super(t,r);this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;br.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Lr("c",t,e,br,0,0,-1),Lr("t",t,e,br,0,0,1),Lr("n1",t,e,br,-r,-i,-1),Lr("n2",t,e,br,r,-i,-1),Lr("n3",t,e,br,-r,i,-1),Lr("n4",t,e,br,r,i,-1),Lr("f1",t,e,br,-r,-i,1),Lr("f2",t,e,br,r,-i,1),Lr("f3",t,e,br,-r,i,1),Lr("f4",t,e,br,r,i,1),Lr("u1",t,e,br,r*.7,i*1.1,-1),Lr("u2",t,e,br,-r*.7,i*1.1,-1),Lr("u3",t,e,br,0,i*2,-1),Lr("cf1",t,e,br,-r,0,1),Lr("cf2",t,e,br,r,0,1),Lr("cf3",t,e,br,0,-i,1),Lr("cf4",t,e,br,0,i,1),Lr("cn1",t,e,br,-r,0,-1),Lr("cn2",t,e,br,r,0,-1),Lr("cn3",t,e,br,0,-i,-1),Lr("cn4",t,e,br,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Lr(n,e,t,r,i,s,o){T_.set(i,s,o).unproject(r);const u=e[n];if(u!==void 0){const l=t.getAttribute("position");for(let c=0,h=u.length;c<h;c++)l.setXYZ(u[c],T_.x,T_.y,T_.z)}}const C_=new Ls;class $U extends Fs{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new rn;s.setIndex(new Tn(r,1)),s.setAttribute("position",new Tn(i,3));super(s,new ci({color:t,toneMapped:!1}));this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&C_.setFromObject(this.object),C_.isEmpty())return;const t=C_.min,r=C_.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=t.x,s[4]=r.y,s[5]=r.z,s[6]=t.x,s[7]=t.y,s[8]=r.z,s[9]=r.x,s[10]=t.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=t.z,s[15]=t.x,s[16]=r.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=r.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e){return Fs.prototype.copy.call(this,e),this.object=e.object,this}}class xse extends Fs{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new rn;s.setIndex(new Tn(r,1)),s.setAttribute("position",new jt(i,3));super(s,new ci({color:t,toneMapped:!1}));this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}}class _se extends rl{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],o=new rn;o.setAttribute("position",new jt(s,3)),o.computeBoundingSphere();super(o,new ci({color:i,toneMapped:!1}));this.type="PlaneHelper",this.plane=e,this.size=t;const u=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],l=new rn;l.setAttribute("position",new jt(u,3)),l.computeBoundingSphere(),this.add(new mr(l,new tu({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){let t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?wr:Ql,this.lookAt(this.plane.normal),super.updateMatrixWorld(e)}}const GU=new be;let P_,MA;class wse extends bn{constructor(e=new be(0,0,1),t=new be(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super();this.type="ArrowHelper",P_===void 0&&(P_=new rn,P_.setAttribute("position",new jt([0,0,0,0,1,0],3)),MA=new gc(0,.5,1,5,1),MA.translate(0,-.5,0)),this.position.copy(t),this.line=new rl(P_,new ci({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new mr(MA,new tu({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{GU.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(GU,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}}class HU extends Fs{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new rn;i.setAttribute("position",new jt(t,3)),i.setAttribute("color",new jt(r,3));const s=new ci({vertexColors:!0,toneMapped:!1});super(i,s);this.type="AxesHelper"}setColors(e,t,r){const i=new Pt,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class bse{constructor(){this.type="ShapePath",this.color=new Pt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new _g,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,o){return this.currentPath.bezierCurveTo(e,t,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e,t){function r(E){const O=[];for(let C=0,N=E.length;C<N;C++){const $=E[C],M=new ou;M.curves=$.curves,O.push(M)}return O}function i(E,O){const C=O.length;let N=!1;for(let $=C-1,M=0;M<C;$=M++){let L=O[$],V=O[M],Z=V.x-L.x,H=V.y-L.y;if(Math.abs(H)>Number.EPSILON){if(H<0&&(L=O[M],Z=-Z,V=O[$],H=-H),E.y<L.y||E.y>V.y)continue;if(E.y===L.y){if(E.x===L.x)return!0}else{const D=H*(E.x-L.x)-Z*(E.y-L.y);if(D===0)return!0;if(D<0)continue;N=!N}}else{if(E.y!==L.y)continue;if(V.x<=E.x&&E.x<=L.x||L.x<=E.x&&E.x<=V.x)return!0}}return N}const s=au.isClockWise,o=this.subPaths;if(o.length===0)return[];if(t===!0)return r(o);let u,l,c;const h=[];if(o.length===1)return l=o[0],c=new ou,c.curves=l.curves,h.push(c),h;let d=!s(o[0].getPoints());d=e?!d:d;const p=[],v=[];let S=[],w=0,T;v[w]=void 0,S[w]=[];for(let E=0,O=o.length;E<O;E++)l=o[E],T=l.getPoints(),u=s(T),u=e?!u:u,u?(!d&&v[w]&&w++,v[w]={s:new ou,p:T},v[w].s.curves=l.curves,d&&w++,S[w]=[]):S[w].push({h:l,p:T[0]});if(!v[0])return r(o);if(v.length>1){let E=!1;const O=[];for(let C=0,N=v.length;C<N;C++)p[C]=[];for(let C=0,N=v.length;C<N;C++){const $=S[C];for(let M=0;M<$.length;M++){const L=$[M];let V=!0;for(let Z=0;Z<v.length;Z++)i(L.p,v[Z].p)&&(C!==Z&&O.push({froms:C,tos:Z,hole:M}),V?(V=!1,p[Z].push(L)):E=!0);V&&p[C].push(L)}}O.length>0&&(E||(S=p))}let x;for(let E=0,O=v.length;E<O;E++){c=v[E].s,h.push(c),x=S[E];for(let C=0,N=x.length;C<N;C++)c.holes.push(x[C].h)}return h}}const VU=new Float32Array(1),Sse=new Int32Array(VU.buffer);class Ese{static toHalfFloat(e){e>65504&&(console.warn("THREE.DataUtils.toHalfFloat(): value exceeds 65504."),e=65504),VU[0]=e;const t=Sse[0];let r=t>>16&32768,i=t>>12&2047;const s=t>>23&255;return s<103?r:s>142?(r|=31744,r|=(s==255?0:1)&&t&8388607,r):s<113?(i|=2048,r|=(i>>114-s)+(i>>113-s&1),r):(r|=s-112<<10|i>>1,r+=i&1,r)}}const Mse=0,Dse=1,Ase=0,Tse=1,Cse=2;function Pse(n){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),n}function Rse(n=[]){return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),n.isMultiMaterial=!0,n.materials=n,n.clone=function(){return n.slice()},n}function kse(n,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new mg(n,e)}function Ise(n){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new Q2(n)}function Lse(n,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new mg(n,e)}function Fse(n){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new $f(n)}function Ose(n){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new $f(n)}function Nse(n){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new $f(n)}function Use(n,e,t){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new be(n,e,t)}function Bse(n,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new Tn(n,e).setUsage(lp)}function zse(n,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new MO(n,e)}function $se(n,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new DO(n,e)}function Gse(n,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new AO(n,e)}function Hse(n,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new TO(n,e)}function Vse(n,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new R2(n,e)}function Wse(n,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new CO(n,e)}function jse(n,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new k2(n,e)}function qse(n,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new jt(n,e)}function Xse(n,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new RO(n,e)}lo.create=function(n,e){return console.log("THREE.Curve.create() has been deprecated"),n.prototype=Object.create(lo.prototype),n.prototype.constructor=n,n.prototype.getPoint=e,n};_g.prototype.fromPoints=function(n){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(n)};function Yse(n){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new HU(n)}function Jse(n,e){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new $U(n,e)}function Kse(n,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Fs(new zD(n.geometry),new ci({color:e!==void 0?e:16777215}))}UU.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};LU.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};function Zse(n,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Fs(new KD(n.geometry),new ci({color:e!==void 0?e:16777215}))}vs.prototype.extractUrlBase=function(n){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),w_.extractUrlBase(n)};vs.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};function Qse(n){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new lu(n)}function eoe(n){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new eU(n)}Xp.prototype.center=function(n){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(n)};Xp.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()};Xp.prototype.isIntersectionBox=function(n){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};Xp.prototype.size=function(n){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(n)};Ls.prototype.center=function(n){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(n)};Ls.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()};Ls.prototype.isIntersectionBox=function(n){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};Ls.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)};Ls.prototype.size=function(n){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(n)};Ju.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()};rg.prototype.setFromMatrix=function(n){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(n)};kU.prototype.center=function(n){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(n)};zr.prototype.flattenToArrayOffset=function(n,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,e)};zr.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)};zr.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")};zr.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)};zr.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")};zr.prototype.getInverse=function(n){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()};Xt.prototype.extractPosition=function(n){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(n)};Xt.prototype.flattenToArrayOffset=function(n,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,e)};Xt.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new be().setFromMatrixColumn(this,3)};Xt.prototype.setRotationFromQuaternion=function(n){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(n)};Xt.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")};Xt.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};Xt.prototype.multiplyVector4=function(n){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};Xt.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")};Xt.prototype.rotateAxis=function(n){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),n.transformDirection(this)};Xt.prototype.crossVector=function(n){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};Xt.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")};Xt.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")};Xt.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")};Xt.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")};Xt.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")};Xt.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};Xt.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")};Xt.prototype.makeFrustum=function(n,e,t,r,i,s){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(n,e,r,t,i,s)};Xt.prototype.getInverse=function(n){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()};nu.prototype.isIntersectionLine=function(n){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(n)};Mi.prototype.multiplyVector3=function(n){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),n.applyQuaternion(this)};Mi.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()};ac.prototype.isIntersectionBox=function(n){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};ac.prototype.isIntersectionPlane=function(n){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(n)};ac.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)};kr.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()};kr.prototype.barycoordFromPoint=function(n,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(n,e)};kr.prototype.midpoint=function(n){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(n)};kr.prototypenormal=function(n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(n)};kr.prototype.plane=function(n){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(n)};kr.barycoordFromPoint=function(n,e,t,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),kr.getBarycoord(n,e,t,r,i)};kr.normal=function(n,e,t,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),kr.getNormal(n,e,t,r)};ou.prototype.extractAllPoints=function(n){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(n)};ou.prototype.extrude=function(n){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new uu(this,n)};ou.prototype.makeGeometry=function(n){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Hf(this,n)};ft.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};ft.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)};ft.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};be.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")};be.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")};be.prototype.getPositionFromMatrix=function(n){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(n)};be.prototype.getScaleFromMatrix=function(n){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(n)};be.prototype.getColumnFromMatrix=function(n,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,n)};be.prototype.applyProjection=function(n){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(n)};be.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};be.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)};be.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};On.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};On.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};bn.prototype.getChildByName=function(n){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(n)};bn.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")};bn.prototype.translate=function(n,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,n)};bn.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")};bn.prototype.applyMatrix=function(n){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)};Object.defineProperties(bn.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(n){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=n}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});mr.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")};Object.defineProperties(mr.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),sO},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});n_.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};Jr.prototype.setLens=function(n,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),e!==void 0&&(this.filmGauge=e),this.setFocalLength(n)};Object.defineProperties(xa.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(n){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=n}},shadowCameraLeft:{set:function(n){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=n}},shadowCameraRight:{set:function(n){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=n}},shadowCameraTop:{set:function(n){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=n}},shadowCameraBottom:{set:function(n){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=n}},shadowCameraNear:{set:function(n){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=n}},shadowCameraFar:{set:function(n){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=n}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(n){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=n}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(n){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=n}},shadowMapHeight:{set:function(n){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=n}}});Object.defineProperties(Tn.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===lp},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(lp)}}});Tn.prototype.setDynamic=function(n){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?lp:up),this};Tn.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},Tn.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};rn.prototype.addIndex=function(n){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(n)};rn.prototype.addAttribute=function(n,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(e&&e.isBufferAttribute)&&!(e&&e.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(n,new Tn(arguments[1],arguments[2]))):n==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(n,e)};rn.prototype.addDrawCall=function(n,e,t){t!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(n,e)};rn.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()};rn.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")};rn.prototype.removeAttribute=function(n){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(n)};rn.prototype.applyMatrix=function(n){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)};Object.defineProperties(rn.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});zf.prototype.setDynamic=function(n){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?lp:up),this};zf.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};uu.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")};uu.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")};uu.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")};cg.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")};E_.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this};Object.defineProperties(ui.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Pt}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(n){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===PM}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(n){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=n}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}});Object.defineProperties(nl.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(n){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=n}}});Un.prototype.clearTarget=function(n,e,t,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(n),this.clear(e,t,r)};Un.prototype.animate=function(n){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(n)};Un.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()};Un.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()};Un.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision};Un.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()};Un.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")};Un.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")};Un.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")};Un.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")};Un.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")};Un.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")};Un.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures};Un.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")};Un.prototype.enableScissorTest=function(n){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(n)};Un.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")};Un.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")};Un.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")};Un.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")};Un.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")};Un.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")};Un.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")};Un.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")};Un.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")};Un.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()};Object.defineProperties(Un.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=n}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=n}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(n){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=n===!0?Xu:Fo}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}},gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});Object.defineProperties(dN.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});function toe(n,e,t){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new G2(n,t)}Object.defineProperties(oo.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=n}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=n}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=n}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=n}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(n){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=n}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(n){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=n}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(n){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=n}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(n){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=n}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(n){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=n}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(n){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=n}}});_A.prototype.load=function(n){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const e=this;return new pU().load(n,function(r){e.setBuffer(r)}),this};bU.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};$2.prototype.updateCubeMap=function(n,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(n,e)};$2.prototype.clear=function(n,e,t,r){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(n,e,t,r)};Rf.crossOrigin=void 0;Rf.loadTexture=function(n,e,t,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const i=new tU;i.setCrossOrigin(this.crossOrigin);const s=i.load(n,t,void 0,r);return e&&(s.mapping=e),s};Rf.loadTextureCube=function(n,e,t,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const i=new QN;i.setCrossOrigin(this.crossOrigin);const s=i.load(n,t,void 0,r);return e&&(s.mapping=e),s};Rf.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};Rf.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};function noe(){console.error("THREE.CanvasRenderer has been removed")}function roe(){console.error("THREE.JSONLoader has been removed.")}const ioe={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function soe(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}function ooe(){return console.error("THREE.ParametricGeometry has been moved to /examples/jsm/geometries/ParametricGeometry.js"),new rn}function aoe(){return console.error("THREE.TextGeometry has been moved to /examples/jsm/geometries/TextGeometry.js"),new rn}function uoe(){console.error("THREE.FontLoader has been moved to /examples/jsm/loaders/FontLoader.js")}function loe(){console.error("THREE.Font has been moved to /examples/jsm/loaders/FontLoader.js")}function coe(){console.error("THREE.ImmediateRenderObject has been removed.")}typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:f2}}));typeof window!="undefined"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=f2);var foe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",ACESFilmicToneMapping:UM,AddEquation:wf,AddOperation:oF,AdditiveAnimationBlendMode:JM,AdditiveBlending:RM,AlphaFormat:gF,AlwaysDepth:QL,AlwaysStencilFunc:uO,AmbientLight:mA,AmbientLightProbe:vU,AnimationClip:Dg,AnimationLoader:Wie,AnimationMixer:MU,AnimationObjectGroup:EU,AnimationUtils:sr,ArcCurve:$D,ArrayCamera:RD,ArrowHelper:wse,Audio:_A,AudioAnalyser:bU,AudioContext:yA,AudioListener:Kie,AudioLoader:pU,AxesHelper:HU,AxisHelper:Yse,BackSide:wr,BasicDepthPacking:oO,BasicShadowMap:WZ,BinaryTextureLoader:eoe,Bone:r_,BooleanKeyframeTrack:Wf,BoundingBoxHelper:Jse,Box2:Xp,Box3:Ls,Box3Helper:xse,BoxBufferGeometry:tl,BoxGeometry:tl,BoxHelper:$U,BufferAttribute:Tn,BufferGeometry:rn,BufferGeometryLoader:cU,ByteType:fF,Cache:qf,Camera:Of,CameraHelper:yse,CanvasRenderer:noe,CanvasTexture:NN,CatmullRomCurve3:jD,CineonToneMapping:lF,CircleBufferGeometry:Op,CircleGeometry:Op,ClampToEdgeWrapping:bi,Clock:xA,Color:Pt,ColorKeyframeTrack:aA,CompressedTexture:UD,CompressedTextureLoader:jie,ConeBufferGeometry:Np,ConeGeometry:Np,CubeCamera:$2,CubeReflectionMapping:bf,CubeRefractionMapping:Sf,CubeTexture:Ep,CubeTextureLoader:QN,CubeUVReflectionMapping:op,CubeUVRefractionMapping:Vv,CubicBezierCurve:d_,CubicBezierCurve3:qD,CubicInterpolant:YN,CullFaceBack:AM,CullFaceFront:BL,CullFaceFrontBack:VZ,CullFaceNone:UL,Curve:lo,CurvePath:zN,CustomBlending:zL,CustomToneMapping:cF,CylinderBufferGeometry:gc,CylinderGeometry:gc,Cylindrical:fse,DataTexture:mc,DataTexture2DArray:q2,DataTexture3D:TD,DataTextureLoader:eU,DataUtils:Ese,DecrementStencilOp:nQ,DecrementWrapStencilOp:iQ,DefaultLoadingManager:ZN,DepthFormat:nc,DepthStencilFormat:Df,DepthTexture:Y2,DirectionalLight:pA,DirectionalLightHelper:gse,DiscreteInterpolant:JN,DodecahedronBufferGeometry:Up,DodecahedronGeometry:Up,DoubleSide:Za,DstAlphaFactor:qL,DstColorFactor:YL,DynamicBufferAttribute:Bse,DynamicCopyUsage:yQ,DynamicDrawUsage:lp,DynamicReadUsage:mQ,EdgesGeometry:zD,EdgesHelper:Kse,EllipseCurve:vg,EqualDepth:tF,EqualStencilFunc:uQ,EquirectangularReflectionMapping:Gv,EquirectangularRefractionMapping:Hv,Euler:Lf,EventDispatcher:rc,ExtrudeBufferGeometry:uu,ExtrudeGeometry:uu,FaceColors:Tse,FileLoader:lu,FlatShading:PM,Float16BufferAttribute:PO,Float32Attribute:qse,Float32BufferAttribute:jt,Float64Attribute:Xse,Float64BufferAttribute:RO,FloatType:eu,Fog:lg,FogExp2:ug,Font:loe,FontLoader:uoe,FramebufferTexture:ON,FrontSide:Ql,Frustum:rg,GLBufferAttribute:AU,GLSL1:_Q,GLSL3:ZM,GreaterDepth:rF,GreaterEqualDepth:nF,GreaterEqualStencilFunc:hQ,GreaterStencilFunc:cQ,GridHelper:UU,Group:Bf,HalfFloatType:ec,HemisphereLight:lA,HemisphereLightHelper:mse,HemisphereLightProbe:mU,IcosahedronBufferGeometry:zp,IcosahedronGeometry:zp,ImageBitmapLoader:dU,ImageLoader:Ag,ImageUtils:Rf,ImmediateRenderObject:coe,IncrementStencilOp:tQ,IncrementWrapStencilOp:rQ,InstancedBufferAttribute:vc,InstancedBufferGeometry:b_,InstancedInterleavedBuffer:DU,InstancedMesh:LD,Int16Attribute:Hse,Int16BufferAttribute:TO,Int32Attribute:Wse,Int32BufferAttribute:CO,Int8Attribute:zse,Int8BufferAttribute:MO,IntType:dF,InterleavedBuffer:zf,InterleavedBufferAttribute:pc,Interpolant:il,InterpolateDiscrete:Xv,InterpolateLinear:Yv,InterpolateSmooth:v2,InvertStencilOp:sQ,JSONLoader:roe,KeepStencilOp:y2,KeyframeTrack:ya,LOD:_N,LatheBufferGeometry:$p,LatheGeometry:$p,Layers:Ff,LensFlare:soe,LessDepth:eF,LessEqualDepth:h2,LessEqualStencilFunc:lQ,LessStencilFunc:aQ,Light:xa,LightProbe:Cg,Line:rl,Line3:kU,LineBasicMaterial:ci,LineCurve:xg,LineCurve3:BN,LineDashedMaterial:sA,LineLoop:OD,LinePieces:Dse,LineSegments:Fs,LineStrip:Mse,LinearEncoding:Fo,LinearFilter:hr,LinearInterpolant:oA,LinearMipMapLinearFilter:JZ,LinearMipMapNearestFilter:YZ,LinearMipmapLinearFilter:Ef,LinearMipmapNearestFilter:BM,LinearToneMapping:aF,Loader:vs,LoaderUtils:w_,LoadingManager:uA,LoopOnce:nO,LoopPingPong:iO,LoopRepeat:rO,LuminanceAlphaFormat:xF,LuminanceFormat:yF,MOUSE:GZ,Material:ui,MaterialLoader:lU,Math:fO,MathUtils:fO,Matrix3:zr,Matrix4:Xt,MaxEquation:FM,Mesh:mr,MeshBasicMaterial:tu,MeshDepthMaterial:og,MeshDistanceMaterial:ag,MeshFaceMaterial:Pse,MeshLambertMaterial:rA,MeshMatcapMaterial:iA,MeshNormalMaterial:nA,MeshPhongMaterial:eA,MeshPhysicalMaterial:QD,MeshStandardMaterial:__,MeshToonMaterial:tA,MinEquation:LM,MirroredRepeatWrapping:jv,MixOperation:sF,MultiMaterial:Rse,MultiplyBlending:IM,MultiplyOperation:$v,NearestFilter:Cr,NearestMipMapLinearFilter:XZ,NearestMipMapNearestFilter:qZ,NearestMipmapLinearFilter:m2,NearestMipmapNearestFilter:p2,NeverDepth:ZL,NeverStencilFunc:oQ,NoBlending:ju,NoColors:Ase,NoToneMapping:qu,NormalAnimationBlendMode:g2,NormalBlending:sp,NotEqualDepth:iF,NotEqualStencilFunc:fQ,NumberKeyframeTrack:Eg,Object3D:bn,ObjectLoader:qie,ObjectSpaceNormalMap:aO,OctahedronBufferGeometry:Gf,OctahedronGeometry:Gf,OneFactor:VL,OneMinusDstAlphaFactor:XL,OneMinusDstColorFactor:JL,OneMinusSrcAlphaFactor:NM,OneMinusSrcColorFactor:jL,OrthographicCamera:Dp,PCFShadowMap:TM,PCFSoftShadowMap:CM,PMREMGenerator:BO,ParametricGeometry:ooe,Particle:Ise,ParticleBasicMaterial:Ose,ParticleSystem:Lse,ParticleSystemMaterial:Nse,Path:_g,PerspectiveCamera:Jr,Plane:nu,PlaneBufferGeometry:ru,PlaneGeometry:ru,PlaneHelper:_se,PointCloud:kse,PointCloudMaterial:Fse,PointLight:dA,PointLightHelper:dse,Points:mg,PointsMaterial:$f,PolarGridHelper:vse,PolyhedronBufferGeometry:su,PolyhedronGeometry:su,PositionalAudio:Qie,PropertyBinding:Pn,PropertyMixer:SU,QuadraticBezierCurve:p_,QuadraticBezierCurve3:m_,Quaternion:Mi,QuaternionKeyframeTrack:qp,QuaternionLinearInterpolant:KN,REVISION:f2,RGBADepthPacking:KM,RGBAFormat:Pr,RGBAIntegerFormat:MF,RGBA_ASTC_10x10_Format:UF,RGBA_ASTC_10x5_Format:FF,RGBA_ASTC_10x6_Format:OF,RGBA_ASTC_10x8_Format:NF,RGBA_ASTC_12x10_Format:BF,RGBA_ASTC_12x12_Format:zF,RGBA_ASTC_4x4_Format:AF,RGBA_ASTC_5x4_Format:TF,RGBA_ASTC_5x5_Format:CF,RGBA_ASTC_6x5_Format:PF,RGBA_ASTC_6x6_Format:RF,RGBA_ASTC_8x5_Format:kF,RGBA_ASTC_8x6_Format:IF,RGBA_ASTC_8x8_Format:LF,RGBA_BPTC_Format:$F,RGBA_ETC2_EAC_Format:YM,RGBA_PVRTC_2BPPV1_Format:qM,RGBA_PVRTC_4BPPV1_Format:jM,RGBA_S3TC_DXT1_Format:$M,RGBA_S3TC_DXT3_Format:GM,RGBA_S3TC_DXT5_Format:HM,RGBFormat:tc,RGBIntegerFormat:EF,RGB_ETC1_Format:DF,RGB_ETC2_Format:XM,RGB_PVRTC_2BPPV1_Format:WM,RGB_PVRTC_4BPPV1_Format:VM,RGB_S3TC_DXT1_Format:zM,RGFormat:bF,RGIntegerFormat:SF,RawShaderMaterial:Ap,Ray:ac,Raycaster:TU,RectAreaLight:vA,RedFormat:_F,RedIntegerFormat:wF,ReinhardToneMapping:uF,RepeatWrapping:Wv,ReplaceStencilOp:eQ,ReverseSubtractEquation:GL,RingBufferGeometry:Gp,RingGeometry:Gp,SRGB8_ALPHA8_ASTC_10x10_Format:QF,SRGB8_ALPHA8_ASTC_10x5_Format:JF,SRGB8_ALPHA8_ASTC_10x6_Format:KF,SRGB8_ALPHA8_ASTC_10x8_Format:ZF,SRGB8_ALPHA8_ASTC_12x10_Format:eO,SRGB8_ALPHA8_ASTC_12x12_Format:tO,SRGB8_ALPHA8_ASTC_4x4_Format:GF,SRGB8_ALPHA8_ASTC_5x4_Format:HF,SRGB8_ALPHA8_ASTC_5x5_Format:VF,SRGB8_ALPHA8_ASTC_6x5_Format:WF,SRGB8_ALPHA8_ASTC_6x6_Format:jF,SRGB8_ALPHA8_ASTC_8x5_Format:qF,SRGB8_ALPHA8_ASTC_8x6_Format:XF,SRGB8_ALPHA8_ASTC_8x8_Format:YF,Scene:cg,SceneUtils:ioe,ShaderChunk:_n,ShaderLib:ga,ShaderMaterial:nl,ShadowMaterial:ZD,Shape:ou,ShapeBufferGeometry:Hf,ShapeGeometry:Hf,ShapePath:bse,ShapeUtils:au,ShortType:hF,Skeleton:i_,SkeletonHelper:LU,SkinnedMesh:n_,SmoothShading:jZ,Sphere:Ju,SphereBufferGeometry:Vf,SphereGeometry:Vf,Spherical:cse,SphericalHarmonics3:gA,SplineCurve:v_,SpotLight:fA,SpotLightHelper:hse,Sprite:Q2,SpriteMaterial:J2,SrcAlphaFactor:OM,SrcAlphaSaturateFactor:KL,SrcColorFactor:WL,StaticCopyUsage:gQ,StaticDrawUsage:up,StaticReadUsage:pQ,StereoCamera:Yie,StreamCopyUsage:xQ,StreamDrawUsage:dQ,StreamReadUsage:vQ,StringKeyframeTrack:jf,SubtractEquation:$L,SubtractiveBlending:kM,TOUCH:HZ,TangentSpaceNormalMap:Cf,TetrahedronBufferGeometry:Hp,TetrahedronGeometry:Hp,TextGeometry:aoe,Texture:Rr,TextureLoader:tU,TorusBufferGeometry:Vp,TorusGeometry:Vp,TorusKnotBufferGeometry:Wp,TorusKnotGeometry:Wp,Triangle:kr,TriangleFanDrawMode:ZZ,TriangleStripDrawMode:KZ,TrianglesDrawMode:sO,TubeBufferGeometry:jp,TubeGeometry:jp,UVMapping:d2,Uint16Attribute:Vse,Uint16BufferAttribute:R2,Uint32Attribute:jse,Uint32BufferAttribute:k2,Uint8Attribute:$se,Uint8BufferAttribute:DO,Uint8ClampedAttribute:Gse,Uint8ClampedBufferAttribute:AO,Uniform:E_,UniformsLib:Rt,UniformsUtils:bD,UnsignedByteType:Qa,UnsignedInt248Type:Mf,UnsignedIntType:qv,UnsignedShort4444Type:pF,UnsignedShort5551Type:mF,UnsignedShort565Type:vF,UnsignedShortType:ap,VSMShadowMap:ip,Vector2:ft,Vector3:be,Vector4:On,VectorKeyframeTrack:Mg,Vertex:Use,VertexColors:Cse,VideoTexture:FN,WebGL1Renderer:mN,WebGLCubeRenderTarget:G2,WebGLMultipleRenderTargets:dO,WebGLMultisampleRenderTarget:w2,WebGLRenderTarget:oo,WebGLRenderTargetCube:toe,WebGLRenderer:Un,WebGLUtils:pN,WireframeGeometry:KD,WireframeHelper:Zse,WrapAroundEnding:Jv,XHRLoader:Qse,ZeroCurvatureEnding:Af,ZeroFactor:HL,ZeroSlopeEnding:Tf,ZeroStencilOp:QZ,sRGBEncoding:Xu}),WU={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(!!s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var u=t.apply(null,s);u&&r.push(u)}}else if(o==="object")if(s.toString===Object.prototype.toString)for(var l in s)e.call(s,l)&&s[l]&&r.push(l);else r.push(s.toString())}}return r.join(" ")}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(WU);var Ebe=WU.exports;function DA(){var n=0,e=[],t,r=0,i=0;function s(x,E){var O=DA();function C(){var N=n>0?x:E;if(w(N))try{var $=N(t);$===O&&S();var M=p($);M?M.call($,O.resolve,O.reject):O.resolve($)}catch(L){O.reject(L)}else O[n>0?"resolve":"reject"](t)}return e.push(C),n&&c(),O}var o=v(function(x){i||l(1,x)}),u=v(function(x){i||l(-1,x)});function l(x,E){i++;var O=0;try{E===T&&S();var C=x>0&&p(E);C?C.call(E,v(function(N){O++,l(1,N)}),v(function(N){O++,l(-1,N)})):(n=x,t=E,c())}catch(N){!n&&!O&&l(-1,N)}}function c(){r||(setTimeout(h,0),r=1)}function h(){var x=e;r=0,e=[],x.forEach(d)}function d(x){x()}function p(x){var E=x&&(w(x)||typeof x=="object")&&x.then;return w(E)&&E}function v(x){var E=0;return function(){for(var O=[],C=arguments.length;C--;)O[C]=arguments[C];E++||x.apply(this,O)}}function S(){throw new TypeError("Chaining cycle detected")}var w=function(x){return typeof x=="function"},T={then:s,resolve:o,reject:u};return T}function jU(){var n,e,t=new Promise(function(r,i){n=r,e=i});return{then:t.then.bind(t),resolve:n,reject:e}}DA.all=jU.all=function(n){var e=0,t=[],r=Yp();return n.length===0?r.resolve([]):n.forEach(function(i,s){var o=Yp();o.resolve(i),o.then(function(u){e++,t[s]=u,e===n.length&&r.resolve(t)},r.reject)}),r};var Yp=typeof Promise=="function"?jU:DA;function hoe(){var n=Object.create(null);function e(i,s){var o=i.id,u=i.name,l=i.dependencies;l===void 0&&(l=[]);var c=i.init;c===void 0&&(c=function(){});var h=i.getTransferables;if(h===void 0&&(h=null),!n[o])try{l=l.map(function(p){return p&&p.isWorkerModule&&(e(p,function(v){if(v instanceof Error)throw v}),p=n[p.id].value),p}),c=r("<"+u+">.init",c),h&&(h=r("<"+u+">.getTransferables",h));var d=null;typeof c=="function"?d=c.apply(void 0,l):console.error("worker module init function failed to rehydrate"),n[o]={id:o,value:d,getTransferables:h},s(d)}catch(p){p&&p.noLog||console.error(p),s(p)}}function t(i,s){var o,u=i.id,l=i.args;(!n[u]||typeof n[u].value!="function")&&s(new Error("Worker module "+u+": not found or its 'init' did not return a function"));try{var c=(o=n[u]).value.apply(o,l);c&&typeof c.then=="function"?c.then(h,function(d){return s(d instanceof Error?d:new Error(""+d))}):h(c)}catch(d){s(d)}function h(d){try{var p=n[u].getTransferables&&n[u].getTransferables(d);(!p||!Array.isArray(p)||!p.length)&&(p=void 0),s(d,p)}catch(v){console.error(v),s(v)}}}function r(i,s){var o=void 0;self.troikaDefine=function(l){return o=l};var u=URL.createObjectURL(new Blob(["/** "+i.replace(/\*/g,"")+` **/

troikaDefine(
`+s+`
)`],{type:"application/javascript"}));try{importScripts(u)}catch(l){console.error(l)}return URL.revokeObjectURL(u),delete self.troikaDefine,o}self.addEventListener("message",function(i){var s=i.data,o=s.messageId,u=s.action,l=s.data;try{u==="registerModule"&&e(l,function(c){c instanceof Error?postMessage({messageId:o,success:!1,error:c.message}):postMessage({messageId:o,success:!0,result:{isCallable:typeof c=="function"}})}),u==="callModule"&&t(l,function(c,h){c instanceof Error?postMessage({messageId:o,success:!1,error:c.message}):postMessage({messageId:o,success:!0,result:c},h||void 0)})}catch(c){postMessage({messageId:o,success:!1,error:c.stack})}})}function doe(n){var e=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return e._getInitResult().then(function(i){if(typeof i=="function")return i.apply(void 0,t);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var t=n.dependencies,r=n.init;t=Array.isArray(t)?t.map(function(s){return s&&s._getInitResult?s._getInitResult():s}):[];var i=Yp.all(t).then(function(s){return r.apply(null,s)});return e._getInitResult=function(){return i},i},e}var qU=function(){var n=!1;if(typeof window!="undefined"&&typeof window.document!="undefined")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),n=!0}catch(t){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+t.message+"]")}return qU=function(){return n},n},poe=0,moe=0,AA=!1,Pg=Object.create(null),Rg=Object.create(null),TA=Object.create(null);function Jp(n){if((!n||typeof n.init!="function")&&!AA)throw new Error("requires `options.init` function");var e=n.dependencies,t=n.init,r=n.getTransferables,i=n.workerId;if(!qU())return doe(n);i==null&&(i="#default");var s="workerModule"+ ++poe,o=n.name||s,u=null;e=e&&e.map(function(c){return typeof c=="function"&&!c.workerModuleData&&(AA=!0,c=Jp({workerId:i,name:"<"+o+"> function dependency: "+c.name,init:`function(){return (
`+R_(c)+`
)}`}),AA=!1),c&&c.workerModuleData&&(c=c.workerModuleData),c});function l(){for(var c=[],h=arguments.length;h--;)c[h]=arguments[h];if(!u){u=XU(i,"registerModule",l.workerModuleData);var d=function(){u=null,Rg[i].delete(d)};(Rg[i]||(Rg[i]=new Set)).add(d)}return u.then(function(p){var v=p.isCallable;if(v)return XU(i,"callModule",{id:s,args:c});throw new Error("Worker module function was called but `init` did not return a callable function")})}return l.workerModuleData={isWorkerModule:!0,id:s,name:o,dependencies:e,init:R_(t),getTransferables:r&&R_(r)},l}function voe(n){Rg[n]&&Rg[n].forEach(function(e){e()}),Pg[n]&&(Pg[n].terminate(),delete Pg[n])}function R_(n){var e=n.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function goe(n){var e=Pg[n];if(!e){var t=R_(hoe);e=Pg[n]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+n.replace(/\*/g,"")+` **/

;(`+t+")()"],{type:"application/javascript"}))),e.onmessage=function(r){var i=r.data,s=i.messageId,o=TA[s];if(!o)throw new Error("WorkerModule response with empty or unknown messageId");delete TA[s],o(i)}}return e}function XU(n,e,t){var r=Yp(),i=++moe;return TA[i]=function(s){s.success?r.resolve(s.result):r.reject(new Error("Error in worker "+e+" call: "+s.error))},goe(n).postMessage({messageId:i,action:e,data:t}),r}var yoe=Jp({name:"Thenable",dependencies:[Yp],init:function(n){return n}});function xoe(){var n=function(e){var t={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},r={},i={};r.L=1,i[1]="L",Object.keys(t).forEach(function(q,he){r[q]=1<<he+1,i[r[q]]=q}),Object.freeze(r);var s=r.LRI|r.RLI|r.FSI,o=r.L|r.R|r.AL,u=r.B|r.S|r.WS|r.ON|r.FSI|r.LRI|r.RLI|r.PDI,l=r.BN|r.RLE|r.LRE|r.RLO|r.LRO|r.PDF,c=r.S|r.WS|r.B|s|r.PDI|l,h=null;function d(){if(!h){h=new Map;var q=function(Se){if(t.hasOwnProperty(Se)){var te=0;t[Se].split(",").forEach(function(re){var Me=re.split("+"),Ce=Me[0],Ae=Me[1];Ce=parseInt(Ce,36),Ae=Ae?parseInt(Ae,36):0,h.set(te+=Ce,r[Se]);for(var Oe=0;Oe<Ae;Oe++)h.set(++te,r[Se])})}};for(var he in t)q(he)}}function p(q){return d(),h.get(q.codePointAt(0))||r.L}function v(q){return i[p(q)]}var S={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function w(q,he){var Se=36,te=0,re=new Map,Me=he&&new Map,Ce;return q.split(",").forEach(function Ae(Oe){if(Oe.indexOf("+")!==-1)for(var ge=+Oe;ge--;)Ae(Ce);else{Ce=Oe;var Ne=Oe.split(">"),ze=Ne[0],ae=Ne[1];ze=String.fromCodePoint(te+=parseInt(ze,Se)),ae=String.fromCodePoint(te+=parseInt(ae,Se)),re.set(ze,ae),he&&Me.set(ae,ze)}}),{map:re,reverseMap:Me}}var T,x,E;function O(){if(!T){var q=w(S.pairs,!0),he=q.map,Se=q.reverseMap;T=he,x=Se,E=w(S.canonical,!1).map}}function C(q){return O(),T.get(q)||null}function N(q){return O(),x.get(q)||null}function $(q){return O(),E.get(q)||null}var M=r.L,L=r.R,V=r.EN,Z=r.ES,H=r.ET,D=r.AN,R=r.CS,P=r.B,F=r.S,z=r.ON,j=r.BN,B=r.NSM,U=r.AL,k=r.LRO,G=r.RLO,ne=r.LRE,le=r.RLE,ee=r.PDF,J=r.LRI,de=r.RLI,se=r.FSI,ue=r.PDI;function oe(q,he){for(var Se=125,te=new Uint32Array(q.length),re=0;re<q.length;re++)te[re]=p(q[re]);var Me=new Map;function Ce(dr,gi){var ar=te[dr];te[dr]=gi,Me.set(ar,Me.get(ar)-1),ar&u&&Me.set(u,Me.get(u)-1),Me.set(gi,(Me.get(gi)||0)+1),gi&u&&Me.set(u,(Me.get(u)||0)+1)}for(var Ae=new Uint8Array(q.length),Oe=new Map,ge=[],Ne=null,ze=0;ze<q.length;ze++)Ne||ge.push(Ne={start:ze,end:q.length-1,level:he==="rtl"?1:he==="ltr"?0:Oa(ze,!1)}),te[ze]&P&&(Ne.end=ze,Ne=null);for(var ae=le|ne|G|k|s|ue|ee|P,Ue=function(dr){return dr+(dr&1?1:2)},Ye=function(dr){return dr+(dr&1?2:1)},He=0;He<ge.length;He++){Ne=ge[He];var Be=[{_level:Ne.level,_override:0,_isolate:0}],Ze=void 0,Ve=0,ot=0,kt=0;Me.clear();for(var lt=Ne.start;lt<=Ne.end;lt++){var _t=te[lt];if(Ze=Be[Be.length-1],Me.set(_t,(Me.get(_t)||0)+1),_t&u&&Me.set(u,(Me.get(u)||0)+1),_t&ae)if(_t&(le|ne)){Ae[lt]=Ze._level;var nn=(_t===le?Ye:Ue)(Ze._level);nn<=Se&&!Ve&&!ot?Be.push({_level:nn,_override:0,_isolate:0}):Ve||ot++}else if(_t&(G|k)){Ae[lt]=Ze._level;var It=(_t===G?Ye:Ue)(Ze._level);It<=Se&&!Ve&&!ot?Be.push({_level:It,_override:_t&G?L:M,_isolate:0}):Ve||ot++}else if(_t&s){_t&se&&(_t=Oa(lt+1,!0)===1?de:J),Ae[lt]=Ze._level,Ze._override&&Ce(lt,Ze._override);var Gt=(_t===de?Ye:Ue)(Ze._level);Gt<=Se&&Ve===0&&ot===0?(kt++,Be.push({_level:Gt,_override:0,_isolate:1,_isolInitIndex:lt})):Ve++}else if(_t&ue){if(Ve>0)Ve--;else if(kt>0){for(ot=0;!Be[Be.length-1]._isolate;)Be.pop();var Ot=Be[Be.length-1]._isolInitIndex;Ot!=null&&(Oe.set(Ot,lt),Oe.set(lt,Ot)),Be.pop(),kt--}Ze=Be[Be.length-1],Ae[lt]=Ze._level,Ze._override&&Ce(lt,Ze._override)}else _t&ee?(Ve===0&&(ot>0?ot--:!Ze._isolate&&Be.length>1&&(Be.pop(),Ze=Be[Be.length-1])),Ae[lt]=Ze._level):_t&P&&(Ae[lt]=Ne.level);else Ae[lt]=Ze._level,Ze._override&&_t!==j&&Ce(lt,Ze._override)}for(var mt=[],gt=null,Ct=Ne.start;Ct<=Ne.end;Ct++){var dt=te[Ct];if(!(dt&l)){var Mt=Ae[Ct],Dt=dt&s,yt=dt===ue;gt&&Mt===gt._level?(gt._end=Ct,gt._endsWithIsolInit=Dt):mt.push(gt={_start:Ct,_end:Ct,_level:Mt,_startsWithPDI:yt,_endsWithIsolInit:Dt})}}for(var pt=[],Nt=0;Nt<mt.length;Nt++){var pe=mt[Nt];if(!pe._startsWithPDI||pe._startsWithPDI&&!Oe.has(pe._start)){for(var Re=[gt=pe],We=void 0;gt&&gt._endsWithIsolInit&&(We=Oe.get(gt._end))!=null;)for(var ke=Nt+1;ke<mt.length;ke++)if(mt[ke]._start===We){Re.push(gt=mt[ke]);break}for(var Le=[],At=0;At<Re.length;At++)for(var rt=Re[At],ht=rt._start;ht<=rt._end;ht++)Le.push(ht);for(var it=Ae[Le[0]],$t=Ne.level,zt=Le[0]-1;zt>=0;zt--)if(!(te[zt]&l)){$t=Ae[zt];break}var Wt=Le[Le.length-1],un=Ae[Wt],Jt=Ne.level;if(!(te[Wt]&s)){for(var sn=Wt+1;sn<=Ne.end;sn++)if(!(te[sn]&l)){Jt=Ae[sn];break}}pt.push({_seqIndices:Le,_sosType:Math.max($t,it)%2?L:M,_eosType:Math.max(Jt,un)%2?L:M})}}for(var ct=0;ct<pt.length;ct++){var xe=pt[ct],je=xe._seqIndices,bt=xe._sosType,qt=xe._eosType;if(Me.get(B))for(var ln=0;ln<je.length;ln++){var hn=je[ln];if(te[hn]&B){for(var xn=bt,Xn=ln-1;Xn>=0;Xn--)if(!(te[je[Xn]]&l)){xn=te[je[Xn]];break}Ce(hn,xn&(s|ue)?z:xn)}}if(Me.get(V))for(var gn=0;gn<je.length;gn++){var Oi=je[gn];if(te[Oi]&V)for(var Ni=gn-1;Ni>=-1;Ni--){var Ra=Ni===-1?bt:te[je[Ni]];if(Ra&o){Ra===U&&Ce(Oi,D);break}}}if(Me.get(U))for(var Ws=0;Ws<je.length;Ws++){var ka=je[Ws];te[ka]&U&&Ce(ka,L)}if(Me.get(Z)||Me.get(R))for(var bs=1;bs<je.length-1;bs++){var ti=je[bs];if(te[ti]&(Z|R)){for(var js=0,qs=0,An=bs-1;An>=0&&(js=te[je[An]],!!(js&l));An--);for(var Ui=bs+1;Ui<je.length&&(qs=te[je[Ui]],!!(qs&l));Ui++);js===qs&&(te[ti]===Z?js===V:js&(V|D))&&Ce(ti,js)}}if(Me.get(V))for(var vo=0;vo<je.length;vo++){var bl=je[vo];if(te[bl]&V){for(var os=vo-1;os>=0&&te[je[os]]&(H|l);os--)Ce(je[os],V);for(var Xs=vo+1;Xs<je.length&&te[je[Xs]]&(H|l);Xs++)Ce(je[Xs],V)}}if(Me.get(H)||Me.get(Z)||Me.get(R))for(var as=0;as<je.length;as++){var Ss=je[as];if(te[Ss]&(H|Z|R)){Ce(Ss,z);for(var Bi=as-1;Bi>=0&&te[je[Bi]]&l;Bi--)Ce(je[Bi],z);for(var Hr=as+1;Hr<je.length&&te[je[Hr]]&l;Hr++)Ce(je[Hr],z)}}if(Me.get(V))for(var ni=0,us=bt;ni<je.length;ni++){var ku=je[ni],Ia=te[ku];Ia&V?us===M&&Ce(ku,M):Ia&o&&(us=Ia)}if(Me.get(u)){var go=L|V|D,Ko=go|M,Ys=[];{for(var Js=[],ls=0;ls<je.length;ls++)if(te[je[ls]]&u){var Nr=q[je[ls]],Iu=void 0;if(C(Nr)!==null)if(Js.length<63)Js.push({char:Nr,seqIndex:ls});else break;else if((Iu=N(Nr))!==null)for(var zi=Js.length-1;zi>=0;zi--){var Zo=Js[zi].char;if(Zo===Iu||Zo===N($(Nr))||C($(Zo))===Nr){Ys.push([Js[zi].seqIndex,ls]),Js.length=zi;break}}}Ys.sort(function(dr,gi){return dr[0]-gi[0]})}for(var Ks=0;Ks<Ys.length;Ks++){for(var Qo=Ys[Ks],Zs=Qo[0],Qs=Qo[1],La=!1,Yn=0,$i=Zs+1;$i<Qs;$i++){var yo=je[$i];if(te[yo]&Ko){La=!0;var xo=te[yo]&go?L:M;if(xo===bo(yo)){Yn=xo;break}}}if(La&&!Yn){Yn=bt;for(var Jn=Zs-1;Jn>=0;Jn--){var Gi=je[Jn];if(te[Gi]&Ko){var _e=te[Gi]&go?L:M;_e!==bo(Gi)?Yn=_e:Yn=bo(Gi);break}}}if(Yn){if(te[je[Zs]]=te[je[Qs]]=Yn,Yn!==bo(je[Zs])){for(var Ke=Zs+1;Ke<je.length;Ke++)if(!(te[je[Ke]]&l)){p(q[je[Ke]])&B&&(te[je[Ke]]=Yn);break}}if(Yn!==bo(je[Qs])){for(var at=Qs+1;at<je.length;at++)if(!(te[je[at]]&l)){p(q[je[at]])&B&&(te[je[at]]=Yn);break}}}}for(var wt=0;wt<je.length;wt++)if(te[je[wt]]&u){for(var Wn=wt,or=wt,Dr=bt,Sn=wt-1;Sn>=0;Sn--)if(te[je[Sn]]&l)Wn=Sn;else{Dr=te[je[Sn]]&go?L:M;break}for(var Fa=qt,Ur=wt+1;Ur<je.length;Ur++)if(te[je[Ur]]&(u|l))or=Ur;else{Fa=te[je[Ur]]&go?L:M;break}for(var _o=Wn;_o<=or;_o++)te[je[_o]]=Dr===Fa?Dr:bo(je[_o]);wt=or}}}for(var Fn=Ne.start;Fn<=Ne.end;Fn++){var wo=Ae[Fn],Hi=te[Fn];if(wo&1?Hi&(M|V|D)&&Ae[Fn]++:Hi&L?Ae[Fn]++:Hi&(D|V)&&(Ae[Fn]+=2),Hi&l&&(Ae[Fn]=Fn===0?Ne.level:Ae[Fn-1]),Fn===Ne.end||p(q[Fn])&(F|P))for(var Vr=Fn;Vr>=0&&p(q[Vr])&c;Vr--)Ae[Vr]=Ne.level}}return{levels:Ae,paragraphs:ge};function Oa(dr,gi){for(var ar=dr;ar<q.length;ar++){var ur=te[ar];if(ur&(L|U))return 1;if(ur&(P|M)||gi&&ur===ue)return 0;if(ur&s){var Es=Sl(ar);ar=Es===-1?q.length:Es}}return 0}function Sl(dr){for(var gi=1,ar=dr+1;ar<q.length;ar++){var ur=te[ar];if(ur&P)break;if(ur&ue){if(--gi==0)return ar}else ur&s&&gi++}return-1}function bo(dr){return Ae[dr]&1?L:M}}var W="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",ce;function ye(){if(!ce){var q=w(W,!0),he=q.map,Se=q.reverseMap;Se.forEach(function(te,re){he.set(re,te)}),ce=he}}function Te(q){return ye(),ce.get(q)||null}function Pe(q,he,Se,te){var re=q.length;Se=Math.max(0,Se==null?0:+Se),te=Math.min(re-1,te==null?re-1:+te);for(var Me=new Map,Ce=Se;Ce<=te;Ce++)if(he[Ce]&1){var Ae=Te(q[Ce]);Ae!==null&&Me.set(Ce,Ae)}return Me}function Je(q,he,Se,te){var re=q.length;Se=Math.max(0,Se==null?0:+Se),te=Math.min(re-1,te==null?re-1:+te);var Me=[];return he.paragraphs.forEach(function(Ce){var Ae=Math.max(Se,Ce.start),Oe=Math.min(te,Ce.end);if(Ae<Oe){for(var ge=he.levels.slice(Ae,Oe+1),Ne=Oe;Ne>=Ae&&p(q[Ne])&c;Ne--)ge[Ne]=Ce.level;for(var ze=Ce.level,ae=1/0,Ue=0;Ue<ge.length;Ue++){var Ye=ge[Ue];Ye>ze&&(ze=Ye),Ye<ae&&(ae=Ye|1)}for(var He=ze;He>=ae;He--)for(var Be=0;Be<ge.length;Be++)if(ge[Be]>=He){for(var Ze=Be;Be+1<ge.length&&ge[Be+1]>=He;)Be++;Be>Ze&&Me.push([Ze+Se,Be+Se])}}}),Me}function ie(q,he,Se,te){var re=K(q,he,Se,te),Me=[].concat(q);return re.forEach(function(Ce,Ae){Me[Ae]=(he.levels[Ce]&1?Te(q[Ce]):null)||q[Ce]}),Me.join("")}function K(q,he,Se,te){for(var re=Je(q,he,Se,te),Me=[],Ce=0;Ce<q.length;Ce++)Me[Ce]=Ce;return re.forEach(function(Ae){for(var Oe=Ae[0],ge=Ae[1],Ne=Me.slice(Oe,ge+1),ze=Ne.length;ze--;)Me[ge-ze]=Ne[ze]}),Me}return e.closingToOpeningBracket=N,e.getBidiCharType=p,e.getBidiCharTypeName=v,e.getCanonicalBracket=$,e.getEmbeddingLevels=oe,e.getMirroredCharacter=Te,e.getMirroredCharactersMap=Pe,e.getReorderSegments=Je,e.getReorderedIndices=K,e.getReorderedString=ie,e.openingToClosingBracket=C,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return n}const YU=/\bvoid\s+main\s*\(\s*\)\s*{/g;function CA(n){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function t(r,i){let s=_n[i];return s?CA(s):r}return n.replace(e,t)}const Di=[];for(let n=0;n<256;n++)Di[n]=(n<16?"0":"")+n.toString(16);function _oe(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Di[n&255]+Di[n>>8&255]+Di[n>>16&255]+Di[n>>24&255]+"-"+Di[e&255]+Di[e>>8&255]+"-"+Di[e>>16&15|64]+Di[e>>24&255]+"-"+Di[t&63|128]+Di[t>>8&255]+"-"+Di[t>>16&255]+Di[t>>24&255]+Di[r&255]+Di[r>>8&255]+Di[r>>16&255]+Di[r>>24&255]).toUpperCase()}const Qf=Object.assign||function(){let n=arguments[0];for(let e=1,t=arguments.length;e<t;e++){let r=arguments[e];if(r)for(let i in r)r.hasOwnProperty(i)&&(n[i]=r[i])}return n},woe=Date.now(),JU=new WeakMap,KU=new Map;let boe=1e10;function PA(n,e){const t=Doe(e);let r=JU.get(n);if(r||JU.set(n,r=Object.create(null)),r[t])return new r[t];const i=`_onBeforeCompile${t}`,s=function(c){n.onBeforeCompile.call(this,c);const h=this.customProgramCacheKey()+"|"+c.vertexShader+"|"+c.fragmentShader;let d=KU[h];if(!d){const p=Soe(c,e,t);d=KU[h]=p}c.vertexShader=d.vertexShader,c.fragmentShader=d.fragmentShader,Qf(c.uniforms,this.uniforms),e.timeUniform&&(c.uniforms[e.timeUniform]={get value(){return Date.now()-woe}}),this[i]&&this[i](c)},o=function(){return u(e.chained?n:n.clone())},u=function(c){const h=Object.create(c,l);return Object.defineProperty(h,"baseMaterial",{value:n}),Object.defineProperty(h,"id",{value:boe++}),h.uuid=_oe(),h.uniforms=Qf({},c.uniforms,e.uniforms),h.defines=Qf({},c.defines,e.defines),h.defines[`TROIKA_DERIVED_MATERIAL_${t}`]="",h.extensions=Qf({},c.extensions,e.extensions),h._listeners=void 0,h},l={constructor:{value:o},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return t}},onBeforeCompile:{get(){return s},set(c){this[i]=c}},copy:{writable:!0,configurable:!0,value:function(c){return n.copy.call(this,c),!n.isShaderMaterial&&!n.isDerivedMaterial&&(Qf(this.extensions,c.extensions),Qf(this.defines,c.defines),Qf(this.uniforms,bD.clone(c.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const c=new n.constructor;return u(c).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let c=this._depthMaterial;return c||(c=this._depthMaterial=PA(n.isDerivedMaterial?n.getDepthMaterial():new og({depthPacking:KM}),e),c.defines.IS_DEPTH_MATERIAL="",c.uniforms=this.uniforms),c}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let c=this._distanceMaterial;return c||(c=this._distanceMaterial=PA(n.isDerivedMaterial?n.getDistanceMaterial():new ag,e),c.defines.IS_DISTANCE_MATERIAL="",c.uniforms=this.uniforms),c}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:c,_distanceMaterial:h}=this;c&&c.dispose(),h&&h.dispose(),n.dispose.call(this)}}};return r[t]=o,new o}function Soe({vertexShader:n,fragmentShader:e},t,r){let{vertexDefs:i,vertexMainIntro:s,vertexMainOutro:o,vertexTransform:u,fragmentDefs:l,fragmentMainIntro:c,fragmentMainOutro:h,fragmentColorTransform:d,customRewriter:p,timeUniform:v}=t;if(i=i||"",s=s||"",o=o||"",l=l||"",c=c||"",h=h||"",(u||p)&&(n=CA(n)),(d||p)&&(e=e.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),e=CA(e)),p){let S=p({vertexShader:n,fragmentShader:e});n=S.vertexShader,e=S.fragmentShader}if(d){let S=[];e=e.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,w=>(S.push(w),"")),h=`${d}
${S.join(`
`)}
${h}`}if(v){const S=`
uniform float ${v};
`;i=S+i,l=S+l}return u&&(n=`vec3 troika_position_${r};
vec3 troika_normal_${r};
vec2 troika_uv_${r};
${n}
`,i=`${i}
void troikaVertexTransform${r}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${u}
}
`,s=`
troika_position_${r} = vec3(position);
troika_normal_${r} = vec3(normal);
troika_uv_${r} = vec2(uv);
troikaVertexTransform${r}(troika_position_${r}, troika_normal_${r}, troika_uv_${r});
${s}
`,n=n.replace(/\b(position|normal|uv)\b/g,(S,w,T,x)=>/\battribute\s+vec[23]\s+$/.test(x.substr(0,T))?w:`troika_${w}_${r}`)),n=ZU(n,r,i,s,o),e=ZU(e,r,l,c,h),{vertexShader:n,fragmentShader:e}}function ZU(n,e,t,r,i){return(r||i||t)&&(n=n.replace(YU,`
${t}
void troikaOrigMain${e}() {`),n+=`
void main() {
  ${r}
  troikaOrigMain${e}();
  ${i}
}`),n}function Eoe(n,e){return n==="uniforms"?void 0:typeof e=="function"?e.toString():e}let Moe=0;const QU=new Map;function Doe(n){const e=JSON.stringify(n,Eoe);let t=QU.get(e);return t==null&&QU.set(e,t=++Moe),t}function Aoe(n){const e=16;function t(o,u,l,c,h,d,p){const v=1-p;return{x:v*v*o+2*v*p*l+p*p*h,y:v*v*u+2*v*p*c+p*p*d}}function r(o,u,l,c,h,d,p,v,S){const w=1-S;return{x:w*w*w*o+3*w*w*S*l+3*w*S*S*h+S*S*S*p,y:w*w*w*u+3*w*w*S*c+3*w*S*S*d+S*S*S*v}}function i(){return(self.performance||Date).now()}function s(o,u,l,c,h,d=1){const p=i(),v=new Uint8Array(o*u),S=c[2]-c[0],w=c[3]-c[1],T=n(c),x=/([MLQCZ])([^MLQCZ]*)/g;let E,O,C,N,$;for(;E=x.exec(l);){const M=E[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(L=>parseFloat(L));switch(E[1]){case"M":N=O=M[0],$=C=M[1];break;case"L":(M[0]!==N||M[1]!==$)&&T.addLineSegment(N,$,N=M[0],$=M[1]);break;case"Q":{let L={x:N,y:$};for(let V=1;V<e;V++){let Z=t(N,$,M[0],M[1],M[2],M[3],V/(e-1));T.addLineSegment(L.x,L.y,Z.x,Z.y),L=Z}N=M[2],$=M[3];break}case"C":{let L={x:N,y:$};for(let V=1;V<e;V++){let Z=r(N,$,M[0],M[1],M[2],M[3],M[4],M[5],V/(e-1));T.addLineSegment(L.x,L.y,Z.x,Z.y),L=Z}N=M[4],$=M[5];break}case"Z":(N!==O||$!==C)&&T.addLineSegment(N,$,O,C);break}}for(let M=0;M<o;M++)for(let L=0;L<u;L++){const V=T.findNearestSignedDistance(c[0]+S*(M+.5)/o,c[1]+w*(L+.5)/u,h);let Z=Math.pow(1-Math.abs(V)/h,d)/2;V<0&&(Z=1-Z),Z=Math.max(0,Math.min(255,Math.round(Z*255))),v[L*o+M]=Z}return{textureData:v,timing:i()-p}}return s}function Toe(n,e,t){const{defaultFontURL:r}=t,i=Object.create(null),s=1/0,o=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,u=/[\s\-\u007C\u00AD\u2010\u2012-\u2014\u2027\u2056\u2E17\u2E40]/;function l(T,x){function E(){const O=C=>{console.error(`Failure loading font ${T}${T===r?"":"; trying fallback"}`,C),T!==r&&(T=r,E())};try{const C=new XMLHttpRequest;C.open("get",T,!0),C.responseType="arraybuffer",C.onload=function(){if(C.status>=400)O(new Error(C.statusText));else if(C.status>0)try{const N=n(C.response);x(N)}catch(N){O(N)}},C.onerror=O,C.send()}catch(C){O(C)}}E()}function c(T,x){T||(T=r);let E=i[T];E?E.pending?E.pending.push(x):x(E):(i[T]={pending:[x]},l(T,O=>{let C=i[T].pending;i[T]=O,C.forEach(N=>N(O))}))}function h({text:T="",font:x=r,sdfGlyphSize:E=64,fontSize:O=1,letterSpacing:C=0,lineHeight:N="normal",maxWidth:$=s,direction:M,textAlign:L="left",textIndent:V=0,whiteSpace:Z="normal",overflowWrap:H="normal",anchorX:D=0,anchorY:R=0,includeCaretPositions:P=!1,chunkedBoundsSize:F=8192,colorRanges:z=null},j,B=!1){const U=v(),k={fontLoad:0,typesetting:0};T.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),T=T.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),O=+O,C=+C,$=+$,N=N||"normal",V=+V,c(x,G=>{const ne=isFinite($);let le=null,ee=null,J=null,de=null,se=null,ue=null,oe=null,W=0,ce=0,ye=Z!=="nowrap";const{ascender:Te,descender:Pe,unitsPerEm:Je}=G;k.fontLoad=v()-U;const ie=v(),K=O/Je;N==="normal"&&(N=(Te-Pe)/Je),N=N*O;const q=(N-(Te-Pe)*K)/2,he=-(Te*K+q),Se=Math.min(N,(Te-Pe)*K),te=(Te+Pe)/2*K-Se/2;let re=V,Me=new S;const Ce=[Me];G.forEachGlyph(T,O,C,(ge,Ne,ze)=>{const ae=T.charAt(ze),Ue=ge.advanceWidth*K,Ye=Me.count;let He;if("isEmpty"in ge||(ge.isWhitespace=!!ae&&/\s/.test(ae),ge.canBreakAfter=!!ae&&u.test(ae),ge.isEmpty=ge.xMin===ge.xMax||ge.yMin===ge.yMax||o.test(ae)),!ge.isWhitespace&&!ge.isEmpty&&ce++,ye&&ne&&!ge.isWhitespace&&Ne+Ue+re>$&&Ye){if(Me.glyphAt(Ye-1).glyphObj.canBreakAfter)He=new S,re=-Ne;else for(let Ze=Ye;Ze--;)if(Ze===0&&H==="break-word"){He=new S,re=-Ne;break}else if(Me.glyphAt(Ze).glyphObj.canBreakAfter){He=Me.splitAt(Ze+1);const Ve=He.glyphAt(0).x;re-=Ve;for(let ot=He.count;ot--;)He.glyphAt(ot).x-=Ve;break}He&&(Me.isSoftWrapped=!0,Me=He,Ce.push(Me),W=$)}let Be=Me.glyphAt(Me.count);Be.glyphObj=ge,Be.x=Ne+re,Be.width=Ue,Be.charIndex=ze,ae===`
`&&(Me=new S,Ce.push(Me),re=-(Ne+Ue+C*O)+V)}),Ce.forEach(ge=>{for(let Ne=ge.count;Ne--;){let{glyphObj:ze,x:ae,width:Ue}=ge.glyphAt(Ne);if(!ze.isWhitespace){ge.width=ae+Ue,ge.width>W&&(W=ge.width);return}}});let Ae=0,Oe=0;if(D&&(typeof D=="number"?Ae=-D:typeof D=="string"&&(Ae=-W*(D==="left"?0:D==="center"?.5:D==="right"?1:p(D)))),R){if(typeof R=="number")Oe=-R;else if(typeof R=="string"){let ge=Ce.length*N;Oe=R==="top"?0:R==="top-baseline"?-he:R==="middle"?ge/2:R==="bottom"?ge:R==="bottom-baseline"?ge-q+Pe*K:p(R)*ge}}if(!B){const ge=e.getEmbeddingLevels(T,M);le=new Uint16Array(ce),ee=new Float32Array(ce*2),J={},ue=[s,s,-s,-s],oe=[];let Ne=he;P&&(se=new Float32Array(T.length*3)),z&&(de=new Uint8Array(ce*3));let ze=0,ae=-1,Ue=-1,Ye,He;Ce.forEach((Be,Ze)=>{let{count:Ve,width:ot}=Be;if(Ve>0){let kt=0;for(let Ot=Ve;Ot--&&Be.glyphAt(Ot).glyphObj.isWhitespace;)kt++;let lt=0,_t=0;if(L==="center")lt=(W-ot)/2;else if(L==="right")lt=W-ot;else if(L==="justify"&&Be.isSoftWrapped){let Ot=0;for(let mt=Ve-kt;mt--;)Be.glyphAt(mt).glyphObj.isWhitespace&&Ot++;_t=(W-ot)/Ot}if(_t||lt){let Ot=0;for(let mt=0;mt<Ve;mt++){let gt=Be.glyphAt(mt);const Ct=gt.glyphObj;gt.x+=lt+Ot,_t!==0&&Ct.isWhitespace&&mt<Ve-kt&&(Ot+=_t,gt.width+=_t)}}const nn=e.getReorderSegments(T,ge,Be.glyphAt(0).charIndex,Be.glyphAt(Be.count-1).charIndex);for(let Ot=0;Ot<nn.length;Ot++){const[mt,gt]=nn[Ot];let Ct=1/0,dt=-1/0;for(let Mt=0;Mt<Ve;Mt++)if(Be.glyphAt(Mt).charIndex>=mt){let Dt=Mt,yt=Mt;for(;yt<Ve;yt++){let pt=Be.glyphAt(yt);if(pt.charIndex>gt)break;yt<Ve-kt&&(Ct=Math.min(Ct,pt.x),dt=Math.max(dt,pt.x+pt.width))}for(let pt=Dt;pt<yt;pt++){const Nt=Be.glyphAt(pt);Nt.x=dt-(Nt.x+Nt.width-Ct)}break}}let It;const Gt=Ot=>It=Ot;for(let Ot=0;Ot<Ve;Ot++){let mt=Be.glyphAt(Ot);It=mt.glyphObj;const gt=It.index,Ct=ge.levels[mt.charIndex]&1;if(Ct){const dt=e.getMirroredCharacter(T[mt.charIndex]);dt&&G.forEachGlyph(dt,0,0,Gt)}if(P){const{charIndex:dt}=mt,Mt=mt.x+Ae,Dt=mt.x+mt.width+Ae;for(se[dt*3]=Ct?Dt:Mt,se[dt*3+1]=Ct?Mt:Dt,se[dt*3+2]=Ne+te+Oe;dt-ae>1;)se[(ae+1)*3]=se[ae*3],se[(ae+1)*3+1]=se[ae*3+1],se[(ae+1)*3+2]=se[ae*3+2],ae++;ae=dt}if(z){const{charIndex:dt}=mt;for(;dt>Ue;)Ue++,z.hasOwnProperty(Ue)&&(He=z[Ue])}if(!It.isWhitespace&&!It.isEmpty){const dt=ze++;J[gt]||(J[gt]={path:It.path,pathBounds:[It.xMin,It.yMin,It.xMax,It.yMax]});const Mt=mt.x+Ae,Dt=Ne+Oe;ee[dt*2]=Mt,ee[dt*2+1]=Dt;const yt=Mt+It.xMin*K,pt=Dt+It.yMin*K,Nt=Mt+It.xMax*K,pe=Dt+It.yMax*K;yt<ue[0]&&(ue[0]=yt),pt<ue[1]&&(ue[1]=pt),Nt>ue[2]&&(ue[2]=Nt),pe>ue[3]&&(ue[3]=pe),dt%F==0&&(Ye={start:dt,end:dt,rect:[s,s,-s,-s]},oe.push(Ye)),Ye.end++;const Re=Ye.rect;if(yt<Re[0]&&(Re[0]=yt),pt<Re[1]&&(Re[1]=pt),Nt>Re[2]&&(Re[2]=Nt),pe>Re[3]&&(Re[3]=pe),le[dt]=gt,z){const We=dt*3;de[We]=He>>16&255,de[We+1]=He>>8&255,de[We+2]=He&255}}}}Ne-=N})}k.typesetting=v()-ie,j({glyphIds:le,glyphPositions:ee,glyphData:J,caretPositions:se,caretHeight:Se,glyphColors:de,chunkedBounds:oe,fontSize:O,unitsPerEm:Je,ascender:Te*K,descender:Pe*K,lineHeight:N,topBaseline:he,blockBounds:[Ae,Oe-Ce.length*N,Ae+W,Oe],visibleBounds:ue,timings:k})})}function d(T,x){h(T,E=>{const[O,C,N,$]=E.blockBounds;x({width:N-O,height:$-C})},{metricsOnly:!0})}function p(T){let x=T.match(/^([\d.]+)%$/),E=x?parseFloat(x[1]):NaN;return isNaN(E)?0:E/100}function v(){return(self.performance||Date).now()}function S(){this.data=[]}const w=["glyphObj","x","width","charIndex"];return S.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/w.length)},glyphAt(T){let x=S.flyweight;return x.data=this.data,x.index=T,x},splitAt(T){let x=new S;return x.data=this.data.splice(T*w.length),x}},S.flyweight=w.reduce((T,x,E,O)=>(Object.defineProperty(T,x,{get(){return this.data[this.index*w.length+E]},set(C){this.data[this.index*w.length+E]=C}}),T),{data:null,index:0}),{typeset:h,measure:d,loadFont:c}}function Coe(n){let e=!1;const t=[];function r(){e&&(t.sort(function(l,c){return l.maxX-c.maxX}),e=!1)}function i(l,c,h,d){const p={x0:l,y0:c,x1:h,y1:d,minX:Math.min(l,h),minY:Math.min(c,d),maxX:Math.max(l,h),maxY:Math.max(c,d)};t.push(p),e=!0}function s(l,c){r();let h=1/0,d=1/0;for(let p=t.length;p--;){const v=t[p];if(v.maxX+d<=l)break;if(l+d>v.minX&&c-d<v.maxY&&c+d>v.minY){const S=u(l,c,v.x0,v.y0,v.x1,v.y1);S<h&&(h=S,d=Math.sqrt(h))}}return o(l,c)&&(d=-d),d}function o(l,c){r();let h=!1;for(let d=t.length;d--;){const p=t[d];if(p.maxX<=l)break;p.minY<c&&p.maxY>c&&p.y0>c!=p.y1>c&&l<(p.x1-p.x0)*(c-p.y0)/(p.y1-p.y0)+p.x0&&(h=!h)}return h}function u(l,c,h,d,p,v){const S=p-h,w=v-d,T=S*S+w*w,x=T?Math.max(0,Math.min(1,((l-h)*S+(c-d)*w)/T)):0,E=l-(h+x*S),O=c-(d+x*w);return E*E+O*O}return{addLineSegment:i,findNearestSignedDistance:s}}/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function Poe(){return typeof window=="undefined"&&(self.window=self),function(n){var e={parse:function(i){var s=e._bin,o=new Uint8Array(i);if(s.readASCII(o,0,4)=="ttcf"){var u=4;s.readUshort(o,u),u+=2,s.readUshort(o,u),u+=2;var l=s.readUint(o,u);u+=4;for(var c=[],h=0;h<l;h++){var d=s.readUint(o,u);u+=4,c.push(e._readFont(o,d))}return c}return[e._readFont(o,0)]},_readFont:function(i,s){var o=e._bin,u=s;o.readFixed(i,s),s+=4;var l=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2;for(var c=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],h={_data:i,_offset:u},d={},p=0;p<l;p++){var v=o.readASCII(i,s,4);s+=4,o.readUint(i,s),s+=4;var S=o.readUint(i,s);s+=4;var w=o.readUint(i,s);s+=4,d[v]={offset:S,length:w}}for(p=0;p<c.length;p++){var T=c[p];d[T]&&(h[T.trim()]=e[T.trim()].parse(i,d[T].offset,d[T].length,h))}return h},_tabOffset:function(i,s,o){for(var u=e._bin,l=u.readUshort(i,o+4),c=o+12,h=0;h<l;h++){var d=u.readASCII(i,c,4);c+=4,u.readUint(i,c),c+=4;var p=u.readUint(i,c);if(c+=4,u.readUint(i,c),c+=4,d==s)return p}return 0}};e._bin={readFixed:function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<8|i[s+3])/65540},readF2dot14:function(i,s){return e._bin.readShort(i,s)/16384},readInt:function(i,s){return e._bin._view(i).getInt32(s)},readInt8:function(i,s){return e._bin._view(i).getInt8(s)},readShort:function(i,s){return e._bin._view(i).getInt16(s)},readUshort:function(i,s){return e._bin._view(i).getUint16(s)},readUshorts:function(i,s,o){for(var u=[],l=0;l<o;l++)u.push(e._bin.readUshort(i,s+2*l));return u},readUint:function(i,s){return e._bin._view(i).getUint32(s)},readUint64:function(i,s){return 4294967296*e._bin.readUint(i,s)+e._bin.readUint(i,s+4)},readASCII:function(i,s,o){for(var u="",l=0;l<o;l++)u+=String.fromCharCode(i[s+l]);return u},readUnicode:function(i,s,o){for(var u="",l=0;l<o;l++){var c=i[s++]<<8|i[s++];u+=String.fromCharCode(c)}return u},_tdec:typeof window!="undefined"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(i,s,o){var u=e._bin._tdec;return u&&s==0&&o==i.length?u.decode(i):e._bin.readASCII(i,s,o)},readBytes:function(i,s,o){for(var u=[],l=0;l<o;l++)u.push(i[s+l]);return u},readASCIIArray:function(i,s,o){for(var u=[],l=0;l<o;l++)u.push(String.fromCharCode(i[s+l]));return u},_view:function(i){return i._dataView||(i._dataView=i.buffer?new DataView(i.buffer,i.byteOffset,i.byteLength):new DataView(new Uint8Array(i).buffer))}},e._lctf={},e._lctf.parse=function(i,s,o,u,l){var c=e._bin,h={},d=s;c.readFixed(i,s),s+=4;var p=c.readUshort(i,s);s+=2;var v=c.readUshort(i,s);s+=2;var S=c.readUshort(i,s);return s+=2,h.scriptList=e._lctf.readScriptList(i,d+p),h.featureList=e._lctf.readFeatureList(i,d+v),h.lookupList=e._lctf.readLookupList(i,d+S,l),h},e._lctf.readLookupList=function(i,s,o){var u=e._bin,l=s,c=[],h=u.readUshort(i,s);s+=2;for(var d=0;d<h;d++){var p=u.readUshort(i,s);s+=2;var v=e._lctf.readLookupTable(i,l+p,o);c.push(v)}return c},e._lctf.readLookupTable=function(i,s,o){var u=e._bin,l=s,c={tabs:[]};c.ltype=u.readUshort(i,s),s+=2,c.flag=u.readUshort(i,s),s+=2;var h=u.readUshort(i,s);s+=2;for(var d=c.ltype,p=0;p<h;p++){var v=u.readUshort(i,s);s+=2;var S=o(i,d,l+v,c);c.tabs.push(S)}return c},e._lctf.numOfOnes=function(i){for(var s=0,o=0;o<32;o++)(i>>>o&1)!=0&&s++;return s},e._lctf.readClassDef=function(i,s){var o=e._bin,u=[],l=o.readUshort(i,s);if(s+=2,l==1){var c=o.readUshort(i,s);s+=2;var h=o.readUshort(i,s);s+=2;for(var d=0;d<h;d++)u.push(c+d),u.push(c+d),u.push(o.readUshort(i,s)),s+=2}if(l==2){var p=o.readUshort(i,s);for(s+=2,d=0;d<p;d++)u.push(o.readUshort(i,s)),s+=2,u.push(o.readUshort(i,s)),s+=2,u.push(o.readUshort(i,s)),s+=2}return u},e._lctf.getInterval=function(i,s){for(var o=0;o<i.length;o+=3){var u=i[o],l=i[o+1];if(i[o+2],u<=s&&s<=l)return o}return-1},e._lctf.readCoverage=function(i,s){var o=e._bin,u={};u.fmt=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);return s+=2,u.fmt==1&&(u.tab=o.readUshorts(i,s,l)),u.fmt==2&&(u.tab=o.readUshorts(i,s,3*l)),u},e._lctf.coverageIndex=function(i,s){var o=i.tab;if(i.fmt==1)return o.indexOf(s);if(i.fmt==2){var u=e._lctf.getInterval(o,s);if(u!=-1)return o[u+2]+(s-o[u])}return-1},e._lctf.readFeatureList=function(i,s){var o=e._bin,u=s,l=[],c=o.readUshort(i,s);s+=2;for(var h=0;h<c;h++){var d=o.readASCII(i,s,4);s+=4;var p=o.readUshort(i,s);s+=2;var v=e._lctf.readFeatureTable(i,u+p);v.tag=d.trim(),l.push(v)}return l},e._lctf.readFeatureTable=function(i,s){var o=e._bin,u=s,l={},c=o.readUshort(i,s);s+=2,c>0&&(l.featureParams=u+c);var h=o.readUshort(i,s);s+=2,l.tab=[];for(var d=0;d<h;d++)l.tab.push(o.readUshort(i,s+2*d));return l},e._lctf.readScriptList=function(i,s){var o=e._bin,u=s,l={},c=o.readUshort(i,s);s+=2;for(var h=0;h<c;h++){var d=o.readASCII(i,s,4);s+=4;var p=o.readUshort(i,s);s+=2,l[d.trim()]=e._lctf.readScriptTable(i,u+p)}return l},e._lctf.readScriptTable=function(i,s){var o=e._bin,u=s,l={},c=o.readUshort(i,s);s+=2,l.default=e._lctf.readLangSysTable(i,u+c);var h=o.readUshort(i,s);s+=2;for(var d=0;d<h;d++){var p=o.readASCII(i,s,4);s+=4;var v=o.readUshort(i,s);s+=2,l[p.trim()]=e._lctf.readLangSysTable(i,u+v)}return l},e._lctf.readLangSysTable=function(i,s){var o=e._bin,u={};o.readUshort(i,s),s+=2,u.reqFeature=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);return s+=2,u.features=o.readUshorts(i,s,l),u},e.CFF={},e.CFF.parse=function(i,s,o){var u=e._bin;(i=new Uint8Array(i.buffer,s,o))[s=0],i[++s],i[++s],i[++s],s++;var l=[];s=e.CFF.readIndex(i,s,l);for(var c=[],h=0;h<l.length-1;h++)c.push(u.readASCII(i,s+l[h],l[h+1]-l[h]));s+=l[l.length-1];var d=[];s=e.CFF.readIndex(i,s,d);var p=[];for(h=0;h<d.length-1;h++)p.push(e.CFF.readDict(i,s+d[h],s+d[h+1]));s+=d[d.length-1];var v=p[0],S=[];s=e.CFF.readIndex(i,s,S);var w=[];for(h=0;h<S.length-1;h++)w.push(u.readASCII(i,s+S[h],S[h+1]-S[h]));if(s+=S[S.length-1],e.CFF.readSubrs(i,s,v),v.CharStrings){s=v.CharStrings,S=[],s=e.CFF.readIndex(i,s,S);var T=[];for(h=0;h<S.length-1;h++)T.push(u.readBytes(i,s+S[h],S[h+1]-S[h]));v.CharStrings=T}if(v.ROS){s=v.FDArray;var x=[];for(s=e.CFF.readIndex(i,s,x),v.FDArray=[],h=0;h<x.length-1;h++){var E=e.CFF.readDict(i,s+x[h],s+x[h+1]);e.CFF._readFDict(i,E,w),v.FDArray.push(E)}s+=x[x.length-1],s=v.FDSelect,v.FDSelect=[];var O=i[s];if(s++,O!=3)throw O;var C=u.readUshort(i,s);for(s+=2,h=0;h<C+1;h++)v.FDSelect.push(u.readUshort(i,s),i[s+2]),s+=3}return v.Encoding&&(v.Encoding=e.CFF.readEncoding(i,v.Encoding,v.CharStrings.length)),v.charset&&(v.charset=e.CFF.readCharset(i,v.charset,v.CharStrings.length)),e.CFF._readFDict(i,v,w),v},e.CFF._readFDict=function(i,s,o){var u;for(var l in s.Private&&(u=s.Private[1],s.Private=e.CFF.readDict(i,u,u+s.Private[0]),s.Private.Subrs&&e.CFF.readSubrs(i,u+s.Private.Subrs,s.Private)),s)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(l)!=-1&&(s[l]=o[s[l]-426+35])},e.CFF.readSubrs=function(i,s,o){var u=e._bin,l=[];s=e.CFF.readIndex(i,s,l);var c,h=l.length;c=h<1240?107:h<33900?1131:32768,o.Bias=c,o.Subrs=[];for(var d=0;d<l.length-1;d++)o.Subrs.push(u.readBytes(i,s+l[d],l[d+1]-l[d]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(i,s){for(var o=0;o<i.charset.length;o++)if(i.charset[o]==s)return o;return-1},e.CFF.glyphBySE=function(i,s){return s<0||s>255?-1:e.CFF.glyphByUnicode(i,e.CFF.tableSE[s])},e.CFF.readEncoding=function(i,s,o){e._bin;var u=[".notdef"],l=i[s];if(s++,l!=0)throw"error: unknown encoding format: "+l;var c=i[s];s++;for(var h=0;h<c;h++)u.push(i[s+h]);return u},e.CFF.readCharset=function(i,s,o){var u=e._bin,l=[".notdef"],c=i[s];if(s++,c==0)for(var h=0;h<o;h++){var d=u.readUshort(i,s);s+=2,l.push(d)}else{if(c!=1&&c!=2)throw"error: format: "+c;for(;l.length<o;){d=u.readUshort(i,s),s+=2;var p=0;for(c==1?(p=i[s],s++):(p=u.readUshort(i,s),s+=2),h=0;h<=p;h++)l.push(d),d++}}return l},e.CFF.readIndex=function(i,s,o){var u=e._bin,l=u.readUshort(i,s)+1,c=i[s+=2];if(s++,c==1)for(var h=0;h<l;h++)o.push(i[s+h]);else if(c==2)for(h=0;h<l;h++)o.push(u.readUshort(i,s+2*h));else if(c==3)for(h=0;h<l;h++)o.push(16777215&u.readUint(i,s+3*h-1));else if(l!=1)throw"unsupported offset size: "+c+", count: "+l;return(s+=l*c)-1},e.CFF.getCharString=function(i,s,o){var u=e._bin,l=i[s],c=i[s+1];i[s+2],i[s+3],i[s+4];var h=1,d=null,p=null;l<=20&&(d=l,h=1),l==12&&(d=100*l+c,h=2),21<=l&&l<=27&&(d=l,h=1),l==28&&(p=u.readShort(i,s+1),h=3),29<=l&&l<=31&&(d=l,h=1),32<=l&&l<=246&&(p=l-139,h=1),247<=l&&l<=250&&(p=256*(l-247)+c+108,h=2),251<=l&&l<=254&&(p=256*-(l-251)-c-108,h=2),l==255&&(p=u.readInt(i,s+1)/65535,h=5),o.val=p!=null?p:"o"+d,o.size=h},e.CFF.readCharString=function(i,s,o){for(var u=s+o,l=e._bin,c=[];s<u;){var h=i[s],d=i[s+1];i[s+2],i[s+3],i[s+4];var p=1,v=null,S=null;h<=20&&(v=h,p=1),h==12&&(v=100*h+d,p=2),h!=19&&h!=20||(v=h,p=2),21<=h&&h<=27&&(v=h,p=1),h==28&&(S=l.readShort(i,s+1),p=3),29<=h&&h<=31&&(v=h,p=1),32<=h&&h<=246&&(S=h-139,p=1),247<=h&&h<=250&&(S=256*(h-247)+d+108,p=2),251<=h&&h<=254&&(S=256*-(h-251)-d-108,p=2),h==255&&(S=l.readInt(i,s+1)/65535,p=5),c.push(S!=null?S:"o"+v),s+=p}return c},e.CFF.readDict=function(i,s,o){for(var u=e._bin,l={},c=[];s<o;){var h=i[s],d=i[s+1];i[s+2],i[s+3],i[s+4];var p=1,v=null,S=null;if(h==28&&(S=u.readShort(i,s+1),p=3),h==29&&(S=u.readInt(i,s+1),p=5),32<=h&&h<=246&&(S=h-139,p=1),247<=h&&h<=250&&(S=256*(h-247)+d+108,p=2),251<=h&&h<=254&&(S=256*-(h-251)-d-108,p=2),h==255)throw S=u.readInt(i,s+1)/65535,p=5,"unknown number";if(h==30){var w=[];for(p=1;;){var T=i[s+p];p++;var x=T>>4,E=15&T;if(x!=15&&w.push(x),E!=15&&w.push(E),E==15)break}for(var O="",C=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],N=0;N<w.length;N++)O+=C[w[N]];S=parseFloat(O)}h<=21&&(v=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][h],p=1,h==12&&(v=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][d],p=2)),v!=null?(l[v]=c.length==1?c[0]:c,c=[]):c.push(S),s+=p}return l},e.cmap={},e.cmap.parse=function(i,s,o){i=new Uint8Array(i.buffer,s,o),s=0;var u=e._bin,l={};u.readUshort(i,s),s+=2;var c=u.readUshort(i,s);s+=2;var h=[];l.tables=[];for(var d=0;d<c;d++){var p=u.readUshort(i,s);s+=2;var v=u.readUshort(i,s);s+=2;var S=u.readUint(i,s);s+=4;var w="p"+p+"e"+v,T=h.indexOf(S);if(T==-1){var x;T=l.tables.length,h.push(S);var E=u.readUshort(i,S);E==0?x=e.cmap.parse0(i,S):E==4?x=e.cmap.parse4(i,S):E==6?x=e.cmap.parse6(i,S):E==12?x=e.cmap.parse12(i,S):console.debug("unknown format: "+E,p,v,S),l.tables.push(x)}if(l[w]!=null)throw"multiple tables for one platform+encoding";l[w]=T}return l},e.cmap.parse0=function(i,s){var o=e._bin,u={};u.format=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2,u.map=[];for(var c=0;c<l-6;c++)u.map.push(i[s+c]);return u},e.cmap.parse4=function(i,s){var o=e._bin,u=s,l={};l.format=o.readUshort(i,s),s+=2;var c=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2;var h=o.readUshort(i,s);s+=2;var d=h/2;l.searchRange=o.readUshort(i,s),s+=2,l.entrySelector=o.readUshort(i,s),s+=2,l.rangeShift=o.readUshort(i,s),s+=2,l.endCount=o.readUshorts(i,s,d),s+=2*d,s+=2,l.startCount=o.readUshorts(i,s,d),s+=2*d,l.idDelta=[];for(var p=0;p<d;p++)l.idDelta.push(o.readShort(i,s)),s+=2;for(l.idRangeOffset=o.readUshorts(i,s,d),s+=2*d,l.glyphIdArray=[];s<u+c;)l.glyphIdArray.push(o.readUshort(i,s)),s+=2;return l},e.cmap.parse6=function(i,s){var o=e._bin,u={};u.format=o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,u.firstCode=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2,u.glyphIdArray=[];for(var c=0;c<l;c++)u.glyphIdArray.push(o.readUshort(i,s)),s+=2;return u},e.cmap.parse12=function(i,s){var o=e._bin,u={};u.format=o.readUshort(i,s),s+=2,s+=2,o.readUint(i,s),s+=4,o.readUint(i,s),s+=4;var l=o.readUint(i,s);s+=4,u.groups=[];for(var c=0;c<l;c++){var h=s+12*c,d=o.readUint(i,h+0),p=o.readUint(i,h+4),v=o.readUint(i,h+8);u.groups.push([d,p,v])}return u},e.glyf={},e.glyf.parse=function(i,s,o,u){for(var l=[],c=0;c<u.maxp.numGlyphs;c++)l.push(null);return l},e.glyf._parseGlyf=function(i,s){var o=e._bin,u=i._data,l=e._tabOffset(u,"glyf",i._offset)+i.loca[s];if(i.loca[s]==i.loca[s+1])return null;var c={};if(c.noc=o.readShort(u,l),l+=2,c.xMin=o.readShort(u,l),l+=2,c.yMin=o.readShort(u,l),l+=2,c.xMax=o.readShort(u,l),l+=2,c.yMax=o.readShort(u,l),l+=2,c.xMin>=c.xMax||c.yMin>=c.yMax)return null;if(c.noc>0){c.endPts=[];for(var h=0;h<c.noc;h++)c.endPts.push(o.readUshort(u,l)),l+=2;var d=o.readUshort(u,l);if(l+=2,u.length-l<d)return null;c.instructions=o.readBytes(u,l,d),l+=d;var p=c.endPts[c.noc-1]+1;for(c.flags=[],h=0;h<p;h++){var v=u[l];if(l++,c.flags.push(v),(8&v)!=0){var S=u[l];l++;for(var w=0;w<S;w++)c.flags.push(v),h++}}for(c.xs=[],h=0;h<p;h++){var T=(2&c.flags[h])!=0,x=(16&c.flags[h])!=0;T?(c.xs.push(x?u[l]:-u[l]),l++):x?c.xs.push(0):(c.xs.push(o.readShort(u,l)),l+=2)}for(c.ys=[],h=0;h<p;h++)T=(4&c.flags[h])!=0,x=(32&c.flags[h])!=0,T?(c.ys.push(x?u[l]:-u[l]),l++):x?c.ys.push(0):(c.ys.push(o.readShort(u,l)),l+=2);var E=0,O=0;for(h=0;h<p;h++)E+=c.xs[h],O+=c.ys[h],c.xs[h]=E,c.ys[h]=O}else{var C;c.parts=[];do{C=o.readUshort(u,l),l+=2;var N={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(c.parts.push(N),N.glyphIndex=o.readUshort(u,l),l+=2,1&C){var $=o.readShort(u,l);l+=2;var M=o.readShort(u,l);l+=2}else $=o.readInt8(u,l),l++,M=o.readInt8(u,l),l++;2&C?(N.m.tx=$,N.m.ty=M):(N.p1=$,N.p2=M),8&C?(N.m.a=N.m.d=o.readF2dot14(u,l),l+=2):64&C?(N.m.a=o.readF2dot14(u,l),l+=2,N.m.d=o.readF2dot14(u,l),l+=2):128&C&&(N.m.a=o.readF2dot14(u,l),l+=2,N.m.b=o.readF2dot14(u,l),l+=2,N.m.c=o.readF2dot14(u,l),l+=2,N.m.d=o.readF2dot14(u,l),l+=2)}while(32&C);if(256&C){var L=o.readUshort(u,l);for(l+=2,c.instr=[],h=0;h<L;h++)c.instr.push(u[l]),l++}}return c},e.GPOS={},e.GPOS.parse=function(i,s,o,u){return e._lctf.parse(i,s,o,u,e.GPOS.subt)},e.GPOS.subt=function(i,s,o,u){var l=e._bin,c=o,h={};if(h.fmt=l.readUshort(i,o),o+=2,s==1||s==2||s==3||s==7||s==8&&h.fmt<=2){var d=l.readUshort(i,o);o+=2,h.coverage=e._lctf.readCoverage(i,d+c)}if(s==1&&h.fmt==1){var p=l.readUshort(i,o);o+=2;var v=e._lctf.numOfOnes(p);p!=0&&(h.pos=e.GPOS.readValueRecord(i,o,p))}else if(s==2&&h.fmt>=1&&h.fmt<=2){p=l.readUshort(i,o),o+=2;var S=l.readUshort(i,o);o+=2,v=e._lctf.numOfOnes(p);var w=e._lctf.numOfOnes(S);if(h.fmt==1){h.pairsets=[];var T=l.readUshort(i,o);o+=2;for(var x=0;x<T;x++){var E=c+l.readUshort(i,o);o+=2;var O=l.readUshort(i,E);E+=2;for(var C=[],N=0;N<O;N++){var $=l.readUshort(i,E);E+=2,p!=0&&(D=e.GPOS.readValueRecord(i,E,p),E+=2*v),S!=0&&(R=e.GPOS.readValueRecord(i,E,S),E+=2*w),C.push({gid2:$,val1:D,val2:R})}h.pairsets.push(C)}}if(h.fmt==2){var M=l.readUshort(i,o);o+=2;var L=l.readUshort(i,o);o+=2;var V=l.readUshort(i,o);o+=2;var Z=l.readUshort(i,o);for(o+=2,h.classDef1=e._lctf.readClassDef(i,c+M),h.classDef2=e._lctf.readClassDef(i,c+L),h.matrix=[],x=0;x<V;x++){var H=[];for(N=0;N<Z;N++){var D=null,R=null;p!=0&&(D=e.GPOS.readValueRecord(i,o,p),o+=2*v),S!=0&&(R=e.GPOS.readValueRecord(i,o,S),o+=2*w),H.push({val1:D,val2:R})}h.matrix.push(H)}}}else{if(s==9&&h.fmt==1){var P=l.readUshort(i,o);o+=2;var F=l.readUint(i,o);if(o+=4,u.ltype==9)u.ltype=P;else if(u.ltype!=P)throw"invalid extension substitution";return e.GPOS.subt(i,u.ltype,c+F)}console.debug("unsupported GPOS table LookupType",s,"format",h.fmt)}return h},e.GPOS.readValueRecord=function(i,s,o){var u=e._bin,l=[];return l.push(1&o?u.readShort(i,s):0),s+=1&o?2:0,l.push(2&o?u.readShort(i,s):0),s+=2&o?2:0,l.push(4&o?u.readShort(i,s):0),s+=4&o?2:0,l.push(8&o?u.readShort(i,s):0),s+=8&o?2:0,l},e.GSUB={},e.GSUB.parse=function(i,s,o,u){return e._lctf.parse(i,s,o,u,e.GSUB.subt)},e.GSUB.subt=function(i,s,o,u){var l=e._bin,c=o,h={};if(h.fmt=l.readUshort(i,o),o+=2,s!=1&&s!=4&&s!=5&&s!=6)return null;if(s==1||s==4||s==5&&h.fmt<=2||s==6&&h.fmt<=2){var d=l.readUshort(i,o);o+=2,h.coverage=e._lctf.readCoverage(i,c+d)}if(s==1&&h.fmt>=1&&h.fmt<=2){if(h.fmt==1)h.delta=l.readShort(i,o),o+=2;else if(h.fmt==2){var p=l.readUshort(i,o);o+=2,h.newg=l.readUshorts(i,o,p),o+=2*h.newg.length}}else if(s==4){h.vals=[],p=l.readUshort(i,o),o+=2;for(var v=0;v<p;v++){var S=l.readUshort(i,o);o+=2,h.vals.push(e.GSUB.readLigatureSet(i,c+S))}}else if(s==5&&h.fmt==2){if(h.fmt==2){var w=l.readUshort(i,o);o+=2,h.cDef=e._lctf.readClassDef(i,c+w),h.scset=[];var T=l.readUshort(i,o);for(o+=2,v=0;v<T;v++){var x=l.readUshort(i,o);o+=2,h.scset.push(x==0?null:e.GSUB.readSubClassSet(i,c+x))}}}else if(s==6&&h.fmt==3){if(h.fmt==3){for(v=0;v<3;v++){p=l.readUshort(i,o),o+=2;for(var E=[],O=0;O<p;O++)E.push(e._lctf.readCoverage(i,c+l.readUshort(i,o+2*O)));o+=2*p,v==0&&(h.backCvg=E),v==1&&(h.inptCvg=E),v==2&&(h.ahedCvg=E)}p=l.readUshort(i,o),o+=2,h.lookupRec=e.GSUB.readSubstLookupRecords(i,o,p)}}else{if(s==7&&h.fmt==1){var C=l.readUshort(i,o);o+=2;var N=l.readUint(i,o);if(o+=4,u.ltype==9)u.ltype=C;else if(u.ltype!=C)throw"invalid extension substitution";return e.GSUB.subt(i,u.ltype,c+N)}console.debug("unsupported GSUB table LookupType",s,"format",h.fmt)}return h},e.GSUB.readSubClassSet=function(i,s){var o=e._bin.readUshort,u=s,l=[],c=o(i,s);s+=2;for(var h=0;h<c;h++){var d=o(i,s);s+=2,l.push(e.GSUB.readSubClassRule(i,u+d))}return l},e.GSUB.readSubClassRule=function(i,s){var o=e._bin.readUshort,u={},l=o(i,s),c=o(i,s+=2);s+=2,u.input=[];for(var h=0;h<l-1;h++)u.input.push(o(i,s)),s+=2;return u.substLookupRecords=e.GSUB.readSubstLookupRecords(i,s,c),u},e.GSUB.readSubstLookupRecords=function(i,s,o){for(var u=e._bin.readUshort,l=[],c=0;c<o;c++)l.push(u(i,s),u(i,s+2)),s+=4;return l},e.GSUB.readChainSubClassSet=function(i,s){var o=e._bin,u=s,l=[],c=o.readUshort(i,s);s+=2;for(var h=0;h<c;h++){var d=o.readUshort(i,s);s+=2,l.push(e.GSUB.readChainSubClassRule(i,u+d))}return l},e.GSUB.readChainSubClassRule=function(i,s){for(var o=e._bin,u={},l=["backtrack","input","lookahead"],c=0;c<l.length;c++){var h=o.readUshort(i,s);s+=2,c==1&&h--,u[l[c]]=o.readUshorts(i,s,h),s+=2*u[l[c]].length}return h=o.readUshort(i,s),s+=2,u.subst=o.readUshorts(i,s,2*h),s+=2*u.subst.length,u},e.GSUB.readLigatureSet=function(i,s){var o=e._bin,u=s,l=[],c=o.readUshort(i,s);s+=2;for(var h=0;h<c;h++){var d=o.readUshort(i,s);s+=2,l.push(e.GSUB.readLigature(i,u+d))}return l},e.GSUB.readLigature=function(i,s){var o=e._bin,u={chain:[]};u.nglyph=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2;for(var c=0;c<l-1;c++)u.chain.push(o.readUshort(i,s)),s+=2;return u},e.head={},e.head.parse=function(i,s,o){var u=e._bin,l={};return u.readFixed(i,s),s+=4,l.fontRevision=u.readFixed(i,s),s+=4,u.readUint(i,s),s+=4,u.readUint(i,s),s+=4,l.flags=u.readUshort(i,s),s+=2,l.unitsPerEm=u.readUshort(i,s),s+=2,l.created=u.readUint64(i,s),s+=8,l.modified=u.readUint64(i,s),s+=8,l.xMin=u.readShort(i,s),s+=2,l.yMin=u.readShort(i,s),s+=2,l.xMax=u.readShort(i,s),s+=2,l.yMax=u.readShort(i,s),s+=2,l.macStyle=u.readUshort(i,s),s+=2,l.lowestRecPPEM=u.readUshort(i,s),s+=2,l.fontDirectionHint=u.readShort(i,s),s+=2,l.indexToLocFormat=u.readShort(i,s),s+=2,l.glyphDataFormat=u.readShort(i,s),s+=2,l},e.hhea={},e.hhea.parse=function(i,s,o){var u=e._bin,l={};return u.readFixed(i,s),s+=4,l.ascender=u.readShort(i,s),s+=2,l.descender=u.readShort(i,s),s+=2,l.lineGap=u.readShort(i,s),s+=2,l.advanceWidthMax=u.readUshort(i,s),s+=2,l.minLeftSideBearing=u.readShort(i,s),s+=2,l.minRightSideBearing=u.readShort(i,s),s+=2,l.xMaxExtent=u.readShort(i,s),s+=2,l.caretSlopeRise=u.readShort(i,s),s+=2,l.caretSlopeRun=u.readShort(i,s),s+=2,l.caretOffset=u.readShort(i,s),s+=2,s+=8,l.metricDataFormat=u.readShort(i,s),s+=2,l.numberOfHMetrics=u.readUshort(i,s),s+=2,l},e.hmtx={},e.hmtx.parse=function(i,s,o,u){for(var l=e._bin,c={aWidth:[],lsBearing:[]},h=0,d=0,p=0;p<u.maxp.numGlyphs;p++)p<u.hhea.numberOfHMetrics&&(h=l.readUshort(i,s),s+=2,d=l.readShort(i,s),s+=2),c.aWidth.push(h),c.lsBearing.push(d);return c},e.kern={},e.kern.parse=function(i,s,o,u){var l=e._bin,c=l.readUshort(i,s);if(s+=2,c==1)return e.kern.parseV1(i,s-2,o,u);var h=l.readUshort(i,s);s+=2;for(var d={glyph1:[],rval:[]},p=0;p<h;p++){s+=2,o=l.readUshort(i,s),s+=2;var v=l.readUshort(i,s);s+=2;var S=v>>>8;if((S&=15)!=0)throw"unknown kern table format: "+S;s=e.kern.readFormat0(i,s,d)}return d},e.kern.parseV1=function(i,s,o,u){var l=e._bin;l.readFixed(i,s),s+=4;var c=l.readUint(i,s);s+=4;for(var h={glyph1:[],rval:[]},d=0;d<c;d++){l.readUint(i,s),s+=4;var p=l.readUshort(i,s);s+=2,l.readUshort(i,s),s+=2;var v=p>>>8;if((v&=15)!=0)throw"unknown kern table format: "+v;s=e.kern.readFormat0(i,s,h)}return h},e.kern.readFormat0=function(i,s,o){var u=e._bin,l=-1,c=u.readUshort(i,s);s+=2,u.readUshort(i,s),s+=2,u.readUshort(i,s),s+=2,u.readUshort(i,s),s+=2;for(var h=0;h<c;h++){var d=u.readUshort(i,s);s+=2;var p=u.readUshort(i,s);s+=2;var v=u.readShort(i,s);s+=2,d!=l&&(o.glyph1.push(d),o.rval.push({glyph2:[],vals:[]}));var S=o.rval[o.rval.length-1];S.glyph2.push(p),S.vals.push(v),l=d}return s},e.loca={},e.loca.parse=function(i,s,o,u){var l=e._bin,c=[],h=u.head.indexToLocFormat,d=u.maxp.numGlyphs+1;if(h==0)for(var p=0;p<d;p++)c.push(l.readUshort(i,s+(p<<1))<<1);if(h==1)for(p=0;p<d;p++)c.push(l.readUint(i,s+(p<<2)));return c},e.maxp={},e.maxp.parse=function(i,s,o){var u=e._bin,l={},c=u.readUint(i,s);return s+=4,l.numGlyphs=u.readUshort(i,s),s+=2,c==65536&&(l.maxPoints=u.readUshort(i,s),s+=2,l.maxContours=u.readUshort(i,s),s+=2,l.maxCompositePoints=u.readUshort(i,s),s+=2,l.maxCompositeContours=u.readUshort(i,s),s+=2,l.maxZones=u.readUshort(i,s),s+=2,l.maxTwilightPoints=u.readUshort(i,s),s+=2,l.maxStorage=u.readUshort(i,s),s+=2,l.maxFunctionDefs=u.readUshort(i,s),s+=2,l.maxInstructionDefs=u.readUshort(i,s),s+=2,l.maxStackElements=u.readUshort(i,s),s+=2,l.maxSizeOfInstructions=u.readUshort(i,s),s+=2,l.maxComponentElements=u.readUshort(i,s),s+=2,l.maxComponentDepth=u.readUshort(i,s),s+=2),l},e.name={},e.name.parse=function(i,s,o){var u=e._bin,l={};u.readUshort(i,s),s+=2;var c=u.readUshort(i,s);s+=2,u.readUshort(i,s);for(var h,d=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],p=s+=2,v=0;v<c;v++){var S=u.readUshort(i,s);s+=2;var w=u.readUshort(i,s);s+=2;var T=u.readUshort(i,s);s+=2;var x=u.readUshort(i,s);s+=2;var E=u.readUshort(i,s);s+=2;var O=u.readUshort(i,s);s+=2;var C,N=d[x],$=p+12*c+O;if(S==0)C=u.readUnicode(i,$,E/2);else if(S==3&&w==0)C=u.readUnicode(i,$,E/2);else if(w==0)C=u.readASCII(i,$,E);else if(w==1)C=u.readUnicode(i,$,E/2);else if(w==3)C=u.readUnicode(i,$,E/2);else{if(S!=1)throw"unknown encoding "+w+", platformID: "+S;C=u.readASCII(i,$,E),console.debug("reading unknown MAC encoding "+w+" as ASCII")}var M="p"+S+","+T.toString(16);l[M]==null&&(l[M]={}),l[M][N!==void 0?N:x]=C,l[M]._lang=T}for(var L in l)if(l[L].postScriptName!=null&&l[L]._lang==1033)return l[L];for(var L in l)if(l[L].postScriptName!=null&&l[L]._lang==0)return l[L];for(var L in l)if(l[L].postScriptName!=null&&l[L]._lang==3084)return l[L];for(var L in l)if(l[L].postScriptName!=null)return l[L];for(var L in l){h=L;break}return console.debug("returning name table with languageID "+l[h]._lang),l[h]},e["OS/2"]={},e["OS/2"].parse=function(i,s,o){var u=e._bin.readUshort(i,s);s+=2;var l={};if(u==0)e["OS/2"].version0(i,s,l);else if(u==1)e["OS/2"].version1(i,s,l);else if(u==2||u==3||u==4)e["OS/2"].version2(i,s,l);else{if(u!=5)throw"unknown OS/2 table version: "+u;e["OS/2"].version5(i,s,l)}return l},e["OS/2"].version0=function(i,s,o){var u=e._bin;return o.xAvgCharWidth=u.readShort(i,s),s+=2,o.usWeightClass=u.readUshort(i,s),s+=2,o.usWidthClass=u.readUshort(i,s),s+=2,o.fsType=u.readUshort(i,s),s+=2,o.ySubscriptXSize=u.readShort(i,s),s+=2,o.ySubscriptYSize=u.readShort(i,s),s+=2,o.ySubscriptXOffset=u.readShort(i,s),s+=2,o.ySubscriptYOffset=u.readShort(i,s),s+=2,o.ySuperscriptXSize=u.readShort(i,s),s+=2,o.ySuperscriptYSize=u.readShort(i,s),s+=2,o.ySuperscriptXOffset=u.readShort(i,s),s+=2,o.ySuperscriptYOffset=u.readShort(i,s),s+=2,o.yStrikeoutSize=u.readShort(i,s),s+=2,o.yStrikeoutPosition=u.readShort(i,s),s+=2,o.sFamilyClass=u.readShort(i,s),s+=2,o.panose=u.readBytes(i,s,10),s+=10,o.ulUnicodeRange1=u.readUint(i,s),s+=4,o.ulUnicodeRange2=u.readUint(i,s),s+=4,o.ulUnicodeRange3=u.readUint(i,s),s+=4,o.ulUnicodeRange4=u.readUint(i,s),s+=4,o.achVendID=[u.readInt8(i,s),u.readInt8(i,s+1),u.readInt8(i,s+2),u.readInt8(i,s+3)],s+=4,o.fsSelection=u.readUshort(i,s),s+=2,o.usFirstCharIndex=u.readUshort(i,s),s+=2,o.usLastCharIndex=u.readUshort(i,s),s+=2,o.sTypoAscender=u.readShort(i,s),s+=2,o.sTypoDescender=u.readShort(i,s),s+=2,o.sTypoLineGap=u.readShort(i,s),s+=2,o.usWinAscent=u.readUshort(i,s),s+=2,o.usWinDescent=u.readUshort(i,s),s+=2},e["OS/2"].version1=function(i,s,o){var u=e._bin;return s=e["OS/2"].version0(i,s,o),o.ulCodePageRange1=u.readUint(i,s),s+=4,o.ulCodePageRange2=u.readUint(i,s),s+=4},e["OS/2"].version2=function(i,s,o){var u=e._bin;return s=e["OS/2"].version1(i,s,o),o.sxHeight=u.readShort(i,s),s+=2,o.sCapHeight=u.readShort(i,s),s+=2,o.usDefault=u.readUshort(i,s),s+=2,o.usBreak=u.readUshort(i,s),s+=2,o.usMaxContext=u.readUshort(i,s),s+=2},e["OS/2"].version5=function(i,s,o){var u=e._bin;return s=e["OS/2"].version2(i,s,o),o.usLowerOpticalPointSize=u.readUshort(i,s),s+=2,o.usUpperOpticalPointSize=u.readUshort(i,s),s+=2},e.post={},e.post.parse=function(i,s,o){var u=e._bin,l={};return l.version=u.readFixed(i,s),s+=4,l.italicAngle=u.readFixed(i,s),s+=4,l.underlinePosition=u.readShort(i,s),s+=2,l.underlineThickness=u.readShort(i,s),s+=2,l},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(i,s){var o=i.cmap,u=-1;if(o.p0e4!=null?u=o.p0e4:o.p3e1!=null?u=o.p3e1:o.p1e0!=null?u=o.p1e0:o.p0e3!=null&&(u=o.p0e3),u==-1)throw"no familiar platform and encoding!";var l=o.tables[u];if(l.format==0)return s>=l.map.length?0:l.map[s];if(l.format==4){for(var c=-1,h=0;h<l.endCount.length;h++)if(s<=l.endCount[h]){c=h;break}return c==-1||l.startCount[c]>s?0:65535&(l.idRangeOffset[c]!=0?l.glyphIdArray[s-l.startCount[c]+(l.idRangeOffset[c]>>1)-(l.idRangeOffset.length-c)]:s+l.idDelta[c])}if(l.format==12){if(s>l.groups[l.groups.length-1][1])return 0;for(h=0;h<l.groups.length;h++){var d=l.groups[h];if(d[0]<=s&&s<=d[1])return d[2]+(s-d[0])}return 0}throw"unknown cmap table format "+l.format},e.U.glyphToPath=function(i,s){var o={cmds:[],crds:[]};if(i.SVG&&i.SVG.entries[s]){var u=i.SVG.entries[s];return u==null?o:(typeof u=="string"&&(u=e.SVG.toPath(u),i.SVG.entries[s]=u),u)}if(i.CFF){var l={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:i.CFF.Private?i.CFF.Private.defaultWidthX:0,open:!1},c=i.CFF,h=i.CFF.Private;if(c.ROS){for(var d=0;c.FDSelect[d+2]<=s;)d+=2;h=c.FDArray[c.FDSelect[d+1]].Private}e.U._drawCFF(i.CFF.CharStrings[s],l,c,h,o)}else i.glyf&&e.U._drawGlyf(s,i,o);return o},e.U._drawGlyf=function(i,s,o){var u=s.glyf[i];u==null&&(u=s.glyf[i]=e.glyf._parseGlyf(s,i)),u!=null&&(u.noc>-1?e.U._simpleGlyph(u,o):e.U._compoGlyph(u,s,o))},e.U._simpleGlyph=function(i,s){for(var o=0;o<i.noc;o++){for(var u=o==0?0:i.endPts[o-1]+1,l=i.endPts[o],c=u;c<=l;c++){var h=c==u?l:c-1,d=c==l?u:c+1,p=1&i.flags[c],v=1&i.flags[h],S=1&i.flags[d],w=i.xs[c],T=i.ys[c];if(c==u)if(p){if(!v){e.U.P.moveTo(s,w,T);continue}e.U.P.moveTo(s,i.xs[h],i.ys[h])}else v?e.U.P.moveTo(s,i.xs[h],i.ys[h]):e.U.P.moveTo(s,(i.xs[h]+w)/2,(i.ys[h]+T)/2);p?v&&e.U.P.lineTo(s,w,T):S?e.U.P.qcurveTo(s,w,T,i.xs[d],i.ys[d]):e.U.P.qcurveTo(s,w,T,(w+i.xs[d])/2,(T+i.ys[d])/2)}e.U.P.closePath(s)}},e.U._compoGlyph=function(i,s,o){for(var u=0;u<i.parts.length;u++){var l={cmds:[],crds:[]},c=i.parts[u];e.U._drawGlyf(c.glyphIndex,s,l);for(var h=c.m,d=0;d<l.crds.length;d+=2){var p=l.crds[d],v=l.crds[d+1];o.crds.push(p*h.a+v*h.b+h.tx),o.crds.push(p*h.c+v*h.d+h.ty)}for(d=0;d<l.cmds.length;d++)o.cmds.push(l.cmds[d])}},e.U._getGlyphClass=function(i,s){var o=e._lctf.getInterval(s,i);return o==-1?0:s[o+2]},e.U.getPairAdjustment=function(i,s,o){var u=0;if(i.GPOS)for(var l=i.GPOS,c=l.lookupList,h=l.featureList,d=[],p=0;p<h.length;p++){var v=h[p];if(v.tag=="kern"){for(var S=0;S<v.tab.length;S++)if(!d[v.tab[S]]){d[v.tab[S]]=!0;for(var w=c[v.tab[S]],T=0;T<w.tabs.length;T++)if(w.tabs[T]!=null){var x,E=w.tabs[T];if((!E.coverage||(x=e._lctf.coverageIndex(E.coverage,s))!=-1)&&w.ltype!=1){if(w.ltype==2){var O;if(E.fmt==1){var C=E.pairsets[x];for(p=0;p<C.length;p++)C[p].gid2==o&&(O=C[p])}else if(E.fmt==2){var N=e.U._getGlyphClass(s,E.classDef1),$=e.U._getGlyphClass(o,E.classDef2);O=E.matrix[N][$]}O&&O.val1&&O.val1[2]&&(u+=O.val1[2]),O&&O.val2&&O.val2[0]&&(u+=O.val2[0])}}}}}}if(i.kern){var M=i.kern.glyph1.indexOf(s);if(M!=-1){var L=i.kern.rval[M].glyph2.indexOf(o);L!=-1&&(u+=i.kern.rval[M].vals[L])}}return u},e.U._applySubs=function(i,s,o,u){for(var l=i.length-s-1,c=0;c<o.tabs.length;c++)if(o.tabs[c]!=null){var h,d=o.tabs[c];if(!d.coverage||(h=e._lctf.coverageIndex(d.coverage,i[s]))!=-1){if(o.ltype==1)i[s],d.fmt==1?i[s]=i[s]+d.delta:i[s]=d.newg[h];else if(o.ltype==4)for(var p=d.vals[h],v=0;v<p.length;v++){var S=p[v],w=S.chain.length;if(!(w>l)){for(var T=!0,x=0,E=0;E<w;E++){for(;i[s+x+(1+E)]==-1;)x++;S.chain[E]!=i[s+x+(1+E)]&&(T=!1)}if(T){for(i[s]=S.nglyph,E=0;E<w+x;E++)i[s+E+1]=-1;break}}}else if(o.ltype==5&&d.fmt==2)for(var O=e._lctf.getInterval(d.cDef,i[s]),C=d.cDef[O+2],N=d.scset[C],$=0;$<N.length;$++){var M=N[$],L=M.input;if(!(L.length>l)){for(T=!0,E=0;E<L.length;E++){var V=e._lctf.getInterval(d.cDef,i[s+1+E]);if(O==-1&&d.cDef[V+2]!=L[E]){T=!1;break}}if(T){var Z=M.substLookupRecords;for(v=0;v<Z.length;v+=2)Z[v],Z[v+1]}}}else if(o.ltype==6&&d.fmt==3){if(!e.U._glsCovered(i,d.backCvg,s-d.backCvg.length)||!e.U._glsCovered(i,d.inptCvg,s)||!e.U._glsCovered(i,d.ahedCvg,s+d.inptCvg.length))continue;var H=d.lookupRec;for($=0;$<H.length;$+=2){O=H[$];var D=u[H[$+1]];e.U._applySubs(i,s+O,D,u)}}}}},e.U._glsCovered=function(i,s,o){for(var u=0;u<s.length;u++)if(e._lctf.coverageIndex(s[u],i[o+u])==-1)return!1;return!0},e.U.glyphsToPath=function(i,s,o){for(var u={cmds:[],crds:[]},l=0,c=0;c<s.length;c++){var h=s[c];if(h!=-1){for(var d=c<s.length-1&&s[c+1]!=-1?s[c+1]:0,p=e.U.glyphToPath(i,h),v=0;v<p.crds.length;v+=2)u.crds.push(p.crds[v]+l),u.crds.push(p.crds[v+1]);for(o&&u.cmds.push(o),v=0;v<p.cmds.length;v++)u.cmds.push(p.cmds[v]);o&&u.cmds.push("X"),l+=i.hmtx.aWidth[h],c<s.length-1&&(l+=e.U.getPairAdjustment(i,h,d))}}return u},e.U.P={},e.U.P.moveTo=function(i,s,o){i.cmds.push("M"),i.crds.push(s,o)},e.U.P.lineTo=function(i,s,o){i.cmds.push("L"),i.crds.push(s,o)},e.U.P.curveTo=function(i,s,o,u,l,c,h){i.cmds.push("C"),i.crds.push(s,o,u,l,c,h)},e.U.P.qcurveTo=function(i,s,o,u,l){i.cmds.push("Q"),i.crds.push(s,o,u,l)},e.U.P.closePath=function(i){i.cmds.push("Z")},e.U._drawCFF=function(i,s,o,u,l){for(var c=s.stack,h=s.nStems,d=s.haveWidth,p=s.width,v=s.open,S=0,w=s.x,T=s.y,x=0,E=0,O=0,C=0,N=0,$=0,M=0,L=0,V=0,Z=0,H={val:0,size:0};S<i.length;){e.CFF.getCharString(i,S,H);var D=H.val;if(S+=H.size,D=="o1"||D=="o18")c.length%2!=0&&!d&&(p=c.shift()+u.nominalWidthX),h+=c.length>>1,c.length=0,d=!0;else if(D=="o3"||D=="o23")c.length%2!=0&&!d&&(p=c.shift()+u.nominalWidthX),h+=c.length>>1,c.length=0,d=!0;else if(D=="o4")c.length>1&&!d&&(p=c.shift()+u.nominalWidthX,d=!0),v&&e.U.P.closePath(l),T+=c.pop(),e.U.P.moveTo(l,w,T),v=!0;else if(D=="o5")for(;c.length>0;)w+=c.shift(),T+=c.shift(),e.U.P.lineTo(l,w,T);else if(D=="o6"||D=="o7")for(var R=c.length,P=D=="o6",F=0;F<R;F++){var z=c.shift();P?w+=z:T+=z,P=!P,e.U.P.lineTo(l,w,T)}else if(D=="o8"||D=="o24"){R=c.length;for(var j=0;j+6<=R;)x=w+c.shift(),E=T+c.shift(),O=x+c.shift(),C=E+c.shift(),w=O+c.shift(),T=C+c.shift(),e.U.P.curveTo(l,x,E,O,C,w,T),j+=6;D=="o24"&&(w+=c.shift(),T+=c.shift(),e.U.P.lineTo(l,w,T))}else{if(D=="o11")break;if(D=="o1234"||D=="o1235"||D=="o1236"||D=="o1237")D=="o1234"&&(E=T,O=(x=w+c.shift())+c.shift(),Z=C=E+c.shift(),$=C,L=T,w=(M=(N=(V=O+c.shift())+c.shift())+c.shift())+c.shift(),e.U.P.curveTo(l,x,E,O,C,V,Z),e.U.P.curveTo(l,N,$,M,L,w,T)),D=="o1235"&&(x=w+c.shift(),E=T+c.shift(),O=x+c.shift(),C=E+c.shift(),V=O+c.shift(),Z=C+c.shift(),N=V+c.shift(),$=Z+c.shift(),M=N+c.shift(),L=$+c.shift(),w=M+c.shift(),T=L+c.shift(),c.shift(),e.U.P.curveTo(l,x,E,O,C,V,Z),e.U.P.curveTo(l,N,$,M,L,w,T)),D=="o1236"&&(x=w+c.shift(),E=T+c.shift(),O=x+c.shift(),Z=C=E+c.shift(),$=C,M=(N=(V=O+c.shift())+c.shift())+c.shift(),L=$+c.shift(),w=M+c.shift(),e.U.P.curveTo(l,x,E,O,C,V,Z),e.U.P.curveTo(l,N,$,M,L,w,T)),D=="o1237"&&(x=w+c.shift(),E=T+c.shift(),O=x+c.shift(),C=E+c.shift(),V=O+c.shift(),Z=C+c.shift(),N=V+c.shift(),$=Z+c.shift(),M=N+c.shift(),L=$+c.shift(),Math.abs(M-w)>Math.abs(L-T)?w=M+c.shift():T=L+c.shift(),e.U.P.curveTo(l,x,E,O,C,V,Z),e.U.P.curveTo(l,N,$,M,L,w,T));else if(D=="o14"){if(c.length>0&&!d&&(p=c.shift()+o.nominalWidthX,d=!0),c.length==4){var B=c.shift(),U=c.shift(),k=c.shift(),G=c.shift(),ne=e.CFF.glyphBySE(o,k),le=e.CFF.glyphBySE(o,G);e.U._drawCFF(o.CharStrings[ne],s,o,u,l),s.x=B,s.y=U,e.U._drawCFF(o.CharStrings[le],s,o,u,l)}v&&(e.U.P.closePath(l),v=!1)}else if(D=="o19"||D=="o20")c.length%2!=0&&!d&&(p=c.shift()+u.nominalWidthX),h+=c.length>>1,c.length=0,d=!0,S+=h+7>>3;else if(D=="o21")c.length>2&&!d&&(p=c.shift()+u.nominalWidthX,d=!0),T+=c.pop(),w+=c.pop(),v&&e.U.P.closePath(l),e.U.P.moveTo(l,w,T),v=!0;else if(D=="o22")c.length>1&&!d&&(p=c.shift()+u.nominalWidthX,d=!0),w+=c.pop(),v&&e.U.P.closePath(l),e.U.P.moveTo(l,w,T),v=!0;else if(D=="o25"){for(;c.length>6;)w+=c.shift(),T+=c.shift(),e.U.P.lineTo(l,w,T);x=w+c.shift(),E=T+c.shift(),O=x+c.shift(),C=E+c.shift(),w=O+c.shift(),T=C+c.shift(),e.U.P.curveTo(l,x,E,O,C,w,T)}else if(D=="o26")for(c.length%2&&(w+=c.shift());c.length>0;)x=w,E=T+c.shift(),w=O=x+c.shift(),T=(C=E+c.shift())+c.shift(),e.U.P.curveTo(l,x,E,O,C,w,T);else if(D=="o27")for(c.length%2&&(T+=c.shift());c.length>0;)E=T,O=(x=w+c.shift())+c.shift(),C=E+c.shift(),w=O+c.shift(),T=C,e.U.P.curveTo(l,x,E,O,C,w,T);else if(D=="o10"||D=="o29"){var ee=D=="o10"?u:o;if(c.length==0)console.debug("error: empty stack");else{var J=c.pop(),de=ee.Subrs[J+ee.Bias];s.x=w,s.y=T,s.nStems=h,s.haveWidth=d,s.width=p,s.open=v,e.U._drawCFF(de,s,o,u,l),w=s.x,T=s.y,h=s.nStems,d=s.haveWidth,p=s.width,v=s.open}}else if(D=="o30"||D=="o31"){var se=c.length,ue=(j=0,D=="o31");for(j+=se-(R=-3&se);j<R;)ue?(E=T,O=(x=w+c.shift())+c.shift(),T=(C=E+c.shift())+c.shift(),R-j==5?(w=O+c.shift(),j++):w=O,ue=!1):(x=w,E=T+c.shift(),O=x+c.shift(),C=E+c.shift(),w=O+c.shift(),R-j==5?(T=C+c.shift(),j++):T=C,ue=!0),e.U.P.curveTo(l,x,E,O,C,w,T),j+=4}else{if((D+"").charAt(0)=="o")throw console.debug("Unknown operation: "+D,i),D;c.push(D)}}}s.x=w,s.y=T,s.nStems=h,s.haveWidth=d,s.width=p,s.open=v};var t=e,r={Typr:t};return n.Typr=t,n.default=r,Object.defineProperty(n,"__esModule",{value:!0}),n}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function Roe(){return function(n){var e=Uint8Array,t=Uint16Array,r=Uint32Array,i=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),s=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),u=function(D,R){for(var P=new t(31),F=0;F<31;++F)P[F]=R+=1<<D[F-1];var z=new r(P[30]);for(F=1;F<30;++F)for(var j=P[F];j<P[F+1];++j)z[j]=j-P[F]<<5|F;return[P,z]},l=u(i,2),c=l[0],h=l[1];c[28]=258,h[258]=28;for(var d=u(s,0)[0],p=new t(32768),v=0;v<32768;++v){var S=(43690&v)>>>1|(21845&v)<<1;S=(61680&(S=(52428&S)>>>2|(13107&S)<<2))>>>4|(3855&S)<<4,p[v]=((65280&S)>>>8|(255&S)<<8)>>>1}var w=function(D,R,P){for(var F=D.length,z=0,j=new t(R);z<F;++z)++j[D[z]-1];var B,U=new t(R);for(z=0;z<R;++z)U[z]=U[z-1]+j[z-1]<<1;if(P){B=new t(1<<R);var k=15-R;for(z=0;z<F;++z)if(D[z])for(var G=z<<4|D[z],ne=R-D[z],le=U[D[z]-1]++<<ne,ee=le|(1<<ne)-1;le<=ee;++le)B[p[le]>>>k]=G}else for(B=new t(F),z=0;z<F;++z)D[z]&&(B[z]=p[U[D[z]-1]++]>>>15-D[z]);return B},T=new e(288);for(v=0;v<144;++v)T[v]=8;for(v=144;v<256;++v)T[v]=9;for(v=256;v<280;++v)T[v]=7;for(v=280;v<288;++v)T[v]=8;var x=new e(32);for(v=0;v<32;++v)x[v]=5;var E=w(T,9,1),O=w(x,5,1),C=function(D){for(var R=D[0],P=1;P<D.length;++P)D[P]>R&&(R=D[P]);return R},N=function(D,R,P){var F=R/8|0;return(D[F]|D[F+1]<<8)>>(7&R)&P},$=function(D,R){var P=R/8|0;return(D[P]|D[P+1]<<8|D[P+2]<<16)>>(7&R)},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],L=function(D,R,P){var F=new Error(R||M[D]);if(F.code=D,Error.captureStackTrace&&Error.captureStackTrace(F,L),!P)throw F;return F},V=function(D,R,P){var F=D.length;if(!F||P&&!P.l&&F<5)return R||new e(0);var z=!R||P,j=!P||P.i;P||(P={}),R||(R=new e(3*F));var B,U=function(Ze){var Ve=R.length;if(Ze>Ve){var ot=new e(Math.max(2*Ve,Ze));ot.set(R),R=ot}},k=P.f||0,G=P.p||0,ne=P.b||0,le=P.l,ee=P.d,J=P.m,de=P.n,se=8*F;do{if(!le){P.f=k=N(D,G,1);var ue=N(D,G+1,3);if(G+=3,!ue){var oe=D[(Se=((B=G)/8|0)+(7&B&&1)+4)-4]|D[Se-3]<<8,W=Se+oe;if(W>F){j&&L(0);break}z&&U(ne+oe),R.set(D.subarray(Se,W),ne),P.b=ne+=oe,P.p=G=8*W;continue}if(ue==1)le=E,ee=O,J=9,de=5;else if(ue==2){var ce=N(D,G,31)+257,ye=N(D,G+10,15)+4,Te=ce+N(D,G+5,31)+1;G+=14;for(var Pe=new e(Te),Je=new e(19),ie=0;ie<ye;++ie)Je[o[ie]]=N(D,G+3*ie,7);G+=3*ye;var K=C(Je),q=(1<<K)-1,he=w(Je,K,1);for(ie=0;ie<Te;){var Se,te=he[N(D,G,q)];if(G+=15&te,(Se=te>>>4)<16)Pe[ie++]=Se;else{var re=0,Me=0;for(Se==16?(Me=3+N(D,G,3),G+=2,re=Pe[ie-1]):Se==17?(Me=3+N(D,G,7),G+=3):Se==18&&(Me=11+N(D,G,127),G+=7);Me--;)Pe[ie++]=re}}var Ce=Pe.subarray(0,ce),Ae=Pe.subarray(ce);J=C(Ce),de=C(Ae),le=w(Ce,J,1),ee=w(Ae,de,1)}else L(1);if(G>se){j&&L(0);break}}z&&U(ne+131072);for(var Oe=(1<<J)-1,ge=(1<<de)-1,Ne=G;;Ne=G){var ze=(re=le[$(D,G)&Oe])>>>4;if((G+=15&re)>se){j&&L(0);break}if(re||L(2),ze<256)R[ne++]=ze;else{if(ze==256){Ne=G,le=null;break}var ae=ze-254;if(ze>264){var Ue=i[ie=ze-257];ae=N(D,G,(1<<Ue)-1)+c[ie],G+=Ue}var Ye=ee[$(D,G)&ge],He=Ye>>>4;if(Ye||L(3),G+=15&Ye,Ae=d[He],He>3&&(Ue=s[He],Ae+=$(D,G)&(1<<Ue)-1,G+=Ue),G>se){j&&L(0);break}z&&U(ne+131072);for(var Be=ne+ae;ne<Be;ne+=4)R[ne]=R[ne-Ae],R[ne+1]=R[ne+1-Ae],R[ne+2]=R[ne+2-Ae],R[ne+3]=R[ne+3-Ae];ne=Be}}P.l=le,P.p=Ne,P.b=ne,le&&(k=1,P.m=J,P.d=ee,P.n=de)}while(!k);return ne==R.length?R:function(Ze,Ve,ot){(Ve==null||Ve<0)&&(Ve=0),(ot==null||ot>Ze.length)&&(ot=Ze.length);var kt=new(Ze instanceof t?t:Ze instanceof r?r:e)(ot-Ve);return kt.set(Ze.subarray(Ve,ot)),kt}(R,0,ne)},Z=new e(0),H=typeof TextDecoder!="undefined"&&new TextDecoder;try{H.decode(Z,{stream:!0})}catch{}return n.convert_streams=function(D){var R=new DataView(D),P=0;function F(){var ce=R.getUint16(P);return P+=2,ce}function z(){var ce=R.getUint32(P);return P+=4,ce}function j(ce){oe.setUint16(W,ce),W+=2}function B(ce){oe.setUint32(W,ce),W+=4}for(var U={signature:z(),flavor:z(),length:z(),numTables:F(),reserved:F(),totalSfntSize:z(),majorVersion:F(),minorVersion:F(),metaOffset:z(),metaLength:z(),metaOrigLength:z(),privOffset:z(),privLength:z()},k=0;Math.pow(2,k)<=U.numTables;)k++;k--;for(var G=16*Math.pow(2,k),ne=16*U.numTables-G,le=12,ee=[],J=0;J<U.numTables;J++)ee.push({tag:z(),offset:z(),compLength:z(),origLength:z(),origChecksum:z()}),le+=16;var de,se=new Uint8Array(12+16*ee.length+ee.reduce(function(ce,ye){return ce+ye.origLength+4},0)),ue=se.buffer,oe=new DataView(ue),W=0;return B(U.flavor),j(U.numTables),j(G),j(k),j(ne),ee.forEach(function(ce){B(ce.tag),B(ce.origChecksum),B(le),B(ce.origLength),ce.outOffset=le,(le+=ce.origLength)%4!=0&&(le+=4-le%4)}),ee.forEach(function(ce){var ye,Te=D.slice(ce.offset,ce.offset+ce.compLength);if(ce.compLength!=ce.origLength){var Pe=new Uint8Array(ce.origLength);ye=new Uint8Array(Te,2),V(ye,Pe)}else Pe=new Uint8Array(Te);se.set(Pe,ce.outOffset);var Je=0;(le=ce.outOffset+ce.origLength)%4!=0&&(Je=4-le%4),se.set(new Uint8Array(Je).buffer,ce.outOffset+ce.origLength),de=le+Je}),ue.slice(0,de)},Object.defineProperty(n,"__esModule",{value:!0}),n}({}).convert_streams}function koe(n,e){const t={M:2,L:2,Q:4,C:6,Z:0},r={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},i=1,s=2,o=4,u=8,l=16,c=32;let h;function d(C){if(!h){const N={R:s,L:i,D:o,C:l,U:c,T:u};h=new Map;for(let $ in r){let M=0;r[$].split(",").forEach(L=>{let[V,Z]=L.split("+");V=parseInt(V,36),Z=Z?parseInt(Z,36):0,h.set(M+=V,N[$]);for(let H=Z;H--;)h.set(++M,N[$])})}}return h.get(C)||c}const p=1,v=2,S=3,w=4,T=[null,"isol","init","fina","medi"];function x(C){const N=new Uint8Array(C.length);let $=c,M=p,L=-1;for(let V=0;V<C.length;V++){const Z=C.codePointAt(V);let H=d(Z)|0,D=p;H&u||($&(i|o|l)?H&(s|o|l)?(D=S,(M===p||M===S)&&N[L]++):H&(i|c)&&(M===v||M===w)&&N[L]--:$&(s|c)&&(M===v||M===w)&&N[L]--,M=N[V]=D,$=H,L=V,Z>65535&&V++)}return N}function E(C,N){const $=[];for(let L=0;L<N.length;L++){const V=N.codePointAt(L);V>65535&&L++,$.push(n.U.codeToGlyph(C,V))}const M=C.GSUB;if(M){const{lookupList:L,featureList:V}=M;let Z;const H=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws)$/,D=[];V.forEach(R=>{if(H.test(R.tag))for(let P=0;P<R.tab.length;P++){if(D[R.tab[P]])continue;D[R.tab[P]]=!0;const F=L[R.tab[P]],z=/^(isol|init|fina|medi)$/.test(R.tag);z&&!Z&&(Z=x(N));for(let j=0;j<$.length;j++)(!Z||!z||T[Z[j]]===R.tag)&&n.U._applySubs($,j,F,L)}})}return $}function O(C){const N=Object.create(null),$={unitsPerEm:C.head.unitsPerEm,ascender:C.hhea.ascender,descender:C.hhea.descender,forEachGlyph(M,L,V,Z){let H=0;const D=1/$.unitsPerEm*L,R=E(C,M);let P=0,F=-1;return R.forEach((z,j)=>{if(z!==-1){let B=N[z];if(!B){const{cmds:U,crds:k}=n.U.glyphToPath(C,z);let G="",ne=0;for(let se=0,ue=U.length;se<ue;se++){const oe=t[U[se]];G+=U[se];for(let W=1;W<=oe;W++)G+=(W>1?",":"")+k[ne++]}let le,ee,J,de;if(k.length){le=ee=1/0,J=de=-1/0;for(let se=0,ue=k.length;se<ue;se+=2){let oe=k[se],W=k[se+1];oe<le&&(le=oe),W<ee&&(ee=W),oe>J&&(J=oe),W>de&&(de=W)}}else le=J=ee=de=0;B=N[z]={index:z,advanceWidth:C.hmtx.aWidth[z],xMin:le,yMin:ee,xMax:J,yMax:de,path:G,pathCommandCount:U.length}}F!==-1&&(H+=n.U.getPairAdjustment(C,F,z)*D),Z.call(null,B,H,P),B.advanceWidth&&(H+=B.advanceWidth*D),V&&(H+=V*L),F=z}P+=M.codePointAt(P)>65535?2:1}),H}};return $}return function(N){const $=new Uint8Array(N,0,4),M=n._bin.readASCII($,0,4);if(M==="wOFF")N=e(N);else if(M==="wOF2")throw new Error("woff2 fonts not supported");return O(n.parse(N)[0])}}const Ioe=Jp({name:"Typr Font Parser",dependencies:[Poe,Roe,koe],init(n,e,t){const r=n(),i=e();return t(r,i)}}),eh={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},Loe=new Pt;function Kp(){return(self.performance||Date).now()}const eB=Object.create(null);function Foe(n,e){n=Ooe({},n);const t=Kp();if(n.font=Noe(n.font||eh.defaultFontURL),n.text=""+n.text,n.sdfGlyphSize=n.sdfGlyphSize||eh.sdfGlyphSize,n.colorRanges!=null){let l={};for(let c in n.colorRanges)if(n.colorRanges.hasOwnProperty(c)){let h=n.colorRanges[c];typeof h!="number"&&(h=Loe.set(h).getHex()),l[c]=h}n.colorRanges=l}Object.freeze(n);const{textureWidth:r,sdfExponent:i}=eh,{sdfGlyphSize:s}=n;let o=`${n.font}@${s}`,u=eB[o];u||(u=eB[o]={count:0,glyphs:new Map,sdfTexture:new mc(new Uint8Array(s*r*4),r,s,Pr,void 0,void 0,void 0,void 0,hr,hr)},u.sdfTexture.font=n.font),zoe(n).then(l=>{const{glyphIds:c,glyphPositions:h,fontSize:d,unitsPerEm:p,timings:v}=l,S=[],w=new Float32Array(c.length*4),T=d/p;let x=0,E=0;const O=Kp();c.forEach((N,$)=>{let M=u.glyphs.get(N);if(!M){const{path:H,pathBounds:D}=l.glyphData[N],R=Math.max(D[2]-D[0],D[3]-D[1])/s*(eh.sdfMargin*s+.5),P=u.count++,F=[D[0]-R,D[1]-R,D[2]+R,D[3]+R];u.glyphs.set(N,M={path:H,atlasIndex:P,sdfViewBox:F}),S.push(M)}const{sdfViewBox:L}=M,V=h[E++],Z=h[E++];w[x++]=V+L[0]*T,w[x++]=Z+L[1]*T,w[x++]=V+L[2]*T,w[x++]=Z+L[3]*T,c[$]=M.atlasIndex}),v.quads=(v.quads||0)+(Kp()-O);const C=Kp();v.sdf={},Yp.all(S.map(({path:N,atlasIndex:$,sdfViewBox:M})=>{const L=Math.max(M[2]-M[0],M[3]-M[1]);return Boe(s,s,N,M,L,eh.sdfExponent).then(({textureData:V,timing:Z})=>(v.sdf[$]=Z,{atlasIndex:$,textureData:V,timing:Z}))})).then(N=>{N.length&&(N.forEach(({atlasIndex:$,textureData:M,timing:L})=>{const V=u.sdfTexture.image;for(;V.data.length<($+1)*s*s;){const R=new Uint8Array(V.data.length*2);R.set(V.data),V.data=R,V.height*=2}const Z=Math.floor($/4),H=V.width/s,D=Math.floor(Z/H)*V.width*s*4+Z%H*s*4+$%4;for(let R=0;R<s;R++){const P=R*s,F=D+R*V.width*4;for(let z=0;z<s;z++)V.data[F+z*4]=M[P+z]}}),u.sdfTexture.needsUpdate=!0),v.sdfTotal=Kp()-C,v.total=Kp()-t,e(Object.freeze({parameters:n,sdfTexture:u.sdfTexture,sdfGlyphSize:s,sdfExponent:i,glyphBounds:w,glyphAtlasIndices:c,glyphColors:l.glyphColors,caretPositions:l.caretPositions,caretHeight:l.caretHeight,chunkedBounds:l.chunkedBounds,ascender:l.ascender,descender:l.descender,lineHeight:l.lineHeight,topBaseline:l.topBaseline,blockBounds:l.blockBounds,visibleBounds:l.visibleBounds,timings:l.timings,get totalBounds(){return console.log("totalBounds deprecated, use blockBounds instead"),l.blockBounds},get totalBlockSize(){console.log("totalBlockSize deprecated, use blockBounds instead");const[$,M,L,V]=l.blockBounds;return[L-$,V-M]}}))})})}function Ooe(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}let k_;function Noe(n){return k_||(k_=typeof document=="undefined"?{}:document.createElement("a")),k_.href=n,k_.href}const Uoe=Jp({name:"Typesetter",dependencies:[eh,Ioe,Toe,xoe],init(n,e,t,r){const{defaultFontURL:i}=n;return t(e,r(),{defaultFontURL:i})}}),Boe=function(){const n=4,e=2e3,t={};let r=0;return function(...i){const s="TroikaTextSDFGenerator_"+r++%n;let o=t[s];return o||(o=t[s]={workerModule:Jp({name:s,workerId:s,dependencies:[eh,Coe,Aoe],init(u,l,c){const{sdfExponent:h,sdfMargin:d}=u;return c(l,{sdfExponent:h,sdfMargin:d})},getTransferables(u){return[u.textureData.buffer]}}),requests:0,idleTimer:null}),o.requests++,clearTimeout(o.idleTimer),o.workerModule(...i).then(u=>(--o.requests==0&&(o.idleTimer=setTimeout(()=>{voe(s)},e)),u))}}(),zoe=Jp({name:"Typesetter",dependencies:[Uoe,yoe],init(n,e){return function(t){const r=new e;return n.typeset(t,r.resolve),r}},getTransferables(n){const e=[n.glyphPositions.buffer,n.glyphIds.buffer];return n.caretPositions&&e.push(n.caretPositions.buffer),e}}),$oe=(()=>{const n={};function e(l){let c=n[l];return c||(c=n[l]=new ru(1,1,l,l).translate(.5,.5,0)),c}new be;const t="aTroikaGlyphBounds",r="aTroikaGlyphIndex",i="aTroikaGlyphColor";class s extends b_{constructor(){super();this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Ju,this.boundingBox=new Ls}computeBoundingSphere(){}computeBoundingBox(){}set detail(c){if(c!==this._detail){this._detail=c,(typeof c!="number"||c<1)&&(c=1);let h=e(c);["position","normal","uv"].forEach(d=>{this.attributes[d]=h.attributes[d].clone()}),this.setIndex(h.getIndex().clone())}}get detail(){return this._detail}set curveRadius(c){c!==this._curveRadius&&(this._curveRadius=c,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(c,h,d,p,v){o(this,t,c,4),o(this,r,h,1),o(this,i,v,3),this._blockBounds=d,this._chunkedBounds=p,u(this,h.length),this._updateBounds()}_updateBounds(){const c=this._blockBounds;if(c){const{curveRadius:h,boundingBox:d}=this;if(h){const{PI:p,floor:v,min:S,max:w,sin:T,cos:x}=Math,E=p/2,O=p*2,C=Math.abs(h),N=c[0]/C,$=c[2]/C,M=v((N+E)/O)!==v(($+E)/O)?-C:S(T(N)*C,T($)*C),L=v((N-E)/O)!==v(($-E)/O)?C:w(T(N)*C,T($)*C),V=v((N+p)/O)!==v(($+p)/O)?C*2:w(C-x(N)*C,C-x($)*C);d.min.set(M,c[1],h<0?-V:0),d.max.set(L,c[3],h<0?0:V)}else d.min.set(c[0],c[1],0),d.max.set(c[2],c[3],0);d.getBoundingSphere(this.boundingSphere)}}applyClipRect(c){let h=this.getAttribute(r).count,d=this._chunkedBounds;if(d)for(let p=d.length;p--;){h=d[p].end;let v=d[p].rect;if(v[1]<c.w&&v[3]>c.y&&v[0]<c.z&&v[2]>c.x)break}u(this,h)}}s.prototype.setAttribute||(s.prototype.setAttribute=function(l,c){return this.attributes[l]=c,this});function o(l,c,h,d){const p=l.getAttribute(c);h?p&&p.array.length===h.length?(p.array.set(h),p.needsUpdate=!0):(l.setAttribute(c,new vc(h,d)),delete l._maxInstanceCount,l.dispose()):p&&l.deleteAttribute(c)}function u(l,c){l[l.hasOwnProperty("instanceCount")?"instanceCount":"maxInstancedCount"]=c}return s})(),Goe=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaDistanceOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,Hoe=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,Voe=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaDistanceOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaOutlineOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of encoding in SDFGenerator.js
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,Woe=`
float aaDist = troikaGetAADist();
float distance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(distance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  distance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function joe(n){const e=PA(n,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new ft},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new On(0,0,0,0)},uTroikaClipRect:{value:new On(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new ft},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new Pt},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new zr},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:Goe,vertexTransform:Hoe,fragmentDefs:Voe,fragmentColorTransform:Woe,customRewriter({vertexShader:t,fragmentShader:r}){let i=/\buniform\s+vec3\s+diffuse\b/;return i.test(r)&&(r=r.replace(i,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),i.test(t)||(t=t.replace(YU,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:t,fragmentShader:r}}});return e.transparent=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const Mbe=(()=>{const n=new tu({color:16777215,side:Za,transparent:!0}),e=8421504,t=new Xt,r=new be,i=new be,s=[],o=new be,u="+x+y";function l(x){return Array.isArray(x)?x[0]:x}let c=()=>{const x=new mr(new ru(1,1),n);return c=()=>x,x},h=()=>{const x=new mr(new ru(1,1,32,1),n);return h=()=>x,x};const d={type:"syncstart"},p={type:"synccomplete"},v=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],S=v.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");class w extends mr{constructor(){const E=new $oe;super(E,null);this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.fontSize=.1,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=e,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=u,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.debugSDF=!1}sync(E){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(E):(this._isSyncing=!0,this.dispatchEvent(d),Foe({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize},O=>{this._isSyncing=!1,this._textRenderInfo=O,this.geometry.updateGlyphs(O.glyphBounds,O.glyphAtlasIndices,O.blockBounds,O.chunkedBounds,O.glyphColors);const C=this._queuedSyncs;C&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{C.forEach(N=>N&&N())})),this.dispatchEvent(p),E&&E()})))}onBeforeRender(E,O,C,N,$,M){this.sync(),$.isTroikaTextMaterial&&this._prepareForRender($)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let E=this._derivedMaterial;const O=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=n.clone());if((!E||E.baseMaterial!==O)&&(E=this._derivedMaterial=joe(O),O.addEventListener("dispose",function C(){O.removeEventListener("dispose",C),E.dispose()})),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let C=E._outlineMtl;return C||(C=E._outlineMtl=Object.create(E,{id:{value:E.id+.1}}),C.isTextOutlineMaterial=!0,C.depthWrite=!1,C.map=null,E.addEventListener("dispose",function N(){E.removeEventListener("dispose",N),C.dispose()})),[C,E]}else return E}set material(E){E&&E.isTroikaTextMaterial?(this._derivedMaterial=E,this._baseMaterial=E.baseMaterial):this._baseMaterial=E}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(E){this.geometry.detail=E}get curveRadius(){return this.geometry.curveRadius}set curveRadius(E){this.geometry.curveRadius=E}get customDepthMaterial(){return l(this.material).getDepthMaterial()}get customDistanceMaterial(){return l(this.material).getDistanceMaterial()}_prepareForRender(E){const O=E.isTextOutlineMaterial,C=E.uniforms,N=this.textRenderInfo;if(N){const{sdfTexture:L,blockBounds:V}=N;C.uTroikaSDFTexture.value=L,C.uTroikaSDFTextureSize.value.set(L.image.width,L.image.height),C.uTroikaSDFGlyphSize.value=N.sdfGlyphSize,C.uTroikaSDFExponent.value=N.sdfExponent,C.uTroikaTotalBounds.value.fromArray(V),C.uTroikaUseGlyphColors.value=!O&&!!N.glyphColors;let Z=0,H=0,D=0,R,P,F,z=0,j=0;if(O){let{outlineWidth:U,outlineOffsetX:k,outlineOffsetY:G,outlineBlur:ne,outlineOpacity:le}=this;Z=this._parsePercent(U)||0,H=Math.max(0,this._parsePercent(ne)||0),R=le,z=this._parsePercent(k)||0,j=this._parsePercent(G)||0}else D=Math.max(0,this._parsePercent(this.strokeWidth)||0),D&&(F=this.strokeColor,C.uTroikaStrokeColor.value.set(F==null?e:F),P=this.strokeOpacity,P==null&&(P=1)),R=this.fillOpacity;C.uTroikaDistanceOffset.value=Z,C.uTroikaPositionOffset.value.set(z,j),C.uTroikaBlurRadius.value=H,C.uTroikaStrokeWidth.value=D,C.uTroikaStrokeOpacity.value=P,C.uTroikaFillOpacity.value=R==null?1:R,C.uTroikaCurveRadius.value=this.curveRadius||0;let B=this.clipRect;if(B&&Array.isArray(B)&&B.length===4)C.uTroikaClipRect.value.fromArray(B);else{const U=(this.fontSize||.1)*100;C.uTroikaClipRect.value.set(V[0]-U,V[1]-U,V[2]+U,V[3]+U)}this.geometry.applyClipRect(C.uTroikaClipRect.value)}C.uTroikaSDFDebug.value=!!this.debugSDF,E.polygonOffset=!!this.depthOffset,E.polygonOffsetFactor=E.polygonOffsetUnits=this.depthOffset||0;const $=O?this.outlineColor||0:this.color;if($==null)delete E.color;else{const L=E.hasOwnProperty("color")?E.color:E.color=new Pt;($!==L._input||typeof $=="object")&&L.set(L._input=$)}let M=this.orientation||u;if(M!==E._orientation){let L=C.uTroikaOrient.value;M=M.replace(/[^-+xyz]/g,"");let V=M!==u&&M.match(/^([-+])([xyz])([-+])([xyz])$/);if(V){let[,Z,H,D,R]=V;r.set(0,0,0)[H]=Z==="-"?1:-1,i.set(0,0,0)[R]=D==="-"?-1:1,t.lookAt(o,r.cross(i),i),L.setFromMatrix4(t)}else L.identity();E._orientation=M}}_parsePercent(E){if(typeof E=="string"){let O=E.match(/^(-?[\d.]+)%$/),C=O?parseFloat(O[1]):NaN;E=(isNaN(C)?0:C/100)*this.fontSize}return E}localPositionToTextCoords(E,O=new ft){O.copy(E);const C=this.curveRadius;return C&&(O.x=Math.atan2(E.x,Math.abs(C)-Math.abs(E.z))*Math.abs(C)),O}worldPositionToTextCoords(E,O=new ft){return r.copy(E),this.localPositionToTextCoords(this.worldToLocal(r),O)}raycast(E,O){const{textRenderInfo:C,curveRadius:N}=this;if(C){const $=C.blockBounds,M=N?h():c(),L=M.geometry,{position:V,uv:Z}=L.attributes;for(let H=0;H<Z.count;H++){let D=$[0]+Z.getX(H)*($[2]-$[0]);const R=$[1]+Z.getY(H)*($[3]-$[1]);let P=0;N&&(P=N-Math.cos(D/N)*N,D=Math.sin(D/N)*N),V.setXYZ(H,D,R,P)}L.boundingSphere=this.geometry.boundingSphere,L.boundingBox=this.geometry.boundingBox,M.matrixWorld=this.matrixWorld,M.material.side=this.material.side,s.length=0,M.raycast(E,s);for(let H=0;H<s.length;H++)s[H].object=this,O.push(s[H])}}copy(E){const O=this.geometry;return super.copy(E),this.geometry=O,S.forEach(C=>{this[C]=E[C]}),this}clone(){return new this.constructor().copy(this)}}v.forEach(x=>{const E="_private_"+x;Object.defineProperty(w.prototype,x,{get(){return this[E]},set(O){O!==this[E]&&(this[E]=O,this._needsSync=!0)}})});let T=!1;return Object.defineProperty(w.prototype,"anchor",{get(){return this._deprecated_anchor},set(x){this._deprecated_anchor=x,T||(console.warn("TextMesh: `anchor` has been deprecated; use `anchorX` and `anchorY` instead."),T=!0),Array.isArray(x)?(this.anchorX=`${(+x[0]||0)*100}%`,this.anchorY=`${(+x[1]||0)*100}%`):this.anchorX=this.anchorY=0}}),w})();class $r{constructor(e=0,t=0,r=0,i=0,s=!1,o=void 0){this.oversized=!1,this._rot=!1,this._allowRotation=void 0,this._dirty=0,this._width=e,this._height=t,this._x=r,this._y=i,this._data={},this._rot=s,this._allowRotation=o}static Collide(e,t){return e.collide(t)}static Contain(e,t){return e.contain(t)}area(){return this.width*this.height}collide(e){return e.x<this.x+this.width&&e.x+e.width>this.x&&e.y<this.y+this.height&&e.y+e.height>this.y}contain(e){return e.x>=this.x&&e.y>=this.y&&e.x+e.width<=this.x+this.width&&e.y+e.height<=this.y+this.height}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this._dirty++)}get height(){return this._height}set height(e){e!==this._height&&(this._height=e,this._dirty++)}get x(){return this._x}set x(e){e!==this._x&&(this._x=e,this._dirty++)}get y(){return this._y}set y(e){e!==this._y&&(this._y=e,this._dirty++)}get rot(){return this._rot}set rot(e){if(this._allowRotation!==!1&&this._rot!==e){const t=this.width;this.width=this.height,this.height=t,this._rot=e,this._dirty++}}get allowRotation(){return this._allowRotation}set allowRotation(e){this._allowRotation!==e&&(this._allowRotation=e,this._dirty++)}get data(){return this._data}set data(e){e===null||e===this._data||(this._data=e,typeof e=="object"&&e.hasOwnProperty("allowRotation")&&(this._allowRotation=e.allowRotation),this._dirty++)}get dirty(){return this._dirty>0}setDirty(e=!0){this._dirty=e?this._dirty+1:0}}class tB{constructor(){this._dirty=0}get dirty(){return this._dirty>0||this.rects.some(e=>e.dirty)}setDirty(e=!0){if(this._dirty=e?this._dirty+1:0,!e)for(let t of this.rects)t.setDirty&&t.setDirty(!1)}}class Zp extends tB{constructor(e=I_,t=I_,r=0,i={}){super();this.maxWidth=e,this.maxHeight=t,this.padding=r,this.freeRects=[],this.rects=[],this.verticalExpand=!1,this.options={smart:!0,pot:!0,square:!0,allowRotation:!1,tag:!1,exclusiveTag:!0,border:0,logic:_c.MAX_EDGE},this.options=Object.assign(Object.assign({},this.options),i),this.width=this.options.smart?0:e,this.height=this.options.smart?0:t,this.border=this.options.border?this.options.border:0,this.freeRects.push(new $r(this.maxWidth+this.padding-this.border*2,this.maxHeight+this.padding-this.border*2,this.border,this.border)),this.stage=new $r(this.width,this.height)}add(...e){let t,r;if(e.length===1){if(typeof e[0]!="object")throw new Error("MacrectsBin.add(): Wrong parameters");r=e[0];let s=r.data&&r.data.tag?r.data.tag:r.tag?r.tag:void 0;if(this.options.tag&&this.options.exclusiveTag&&this.tag!==s)return}else{if(t=e.length>2?e[2]:null,this.options.tag&&this.options.exclusiveTag&&(t&&this.tag!==t.tag||!t&&this.tag))return;r=new $r(e[0],e[1]),r.data=t,r.setDirty(!1)}const i=this.place(r);return i&&this.rects.push(i),i}repack(){let e=[];this.reset(),this.rects.sort((t,r)=>{const i=Math.max(r.width,r.height)-Math.max(t.width,t.height);return i===0&&t.hash&&r.hash?t.hash>r.hash?-1:1:i});for(let t of this.rects)this.place(t)||e.push(t);for(let t of e)this.rects.splice(this.rects.indexOf(t),1);return e.length>0?e:void 0}reset(e=!1,t=!1){e&&(this.data&&delete this.data,this.tag&&delete this.tag,this.rects=[],t&&(this.options={smart:!0,pot:!0,square:!0,allowRotation:!1,tag:!1,border:0})),this.width=this.options.smart?0:this.maxWidth,this.height=this.options.smart?0:this.maxHeight,this.border=this.options.border?this.options.border:0,this.freeRects=[new $r(this.maxWidth+this.padding-this.border*2,this.maxHeight+this.padding-this.border*2,this.border,this.border)],this.stage=new $r(this.width,this.height),this._dirty=0}clone(){let e=new Zp(this.maxWidth,this.maxHeight,this.padding,this.options);for(let t of this.rects)e.add(t);return e}place(e){let t=e.data&&e.data.tag?e.data.tag:e.tag?e.tag:void 0;if(this.options.tag&&this.options.exclusiveTag&&this.tag!==t)return;let r,i;if(e.hasOwnProperty("_allowRotation")&&e.allowRotation!==void 0?i=e.allowRotation:i=this.options.allowRotation,r=this.findNode(e.width+this.padding,e.height+this.padding,i),r){this.updateBinSize(r);let s=this.freeRects.length,o=0;for(;o<s;)this.splitNode(this.freeRects[o],r)&&(this.freeRects.splice(o,1),s--,o--),o++;return this.pruneFreeList(),this.verticalExpand=this.width>this.height,e.x=r.x,e.y=r.y,e.rot===void 0&&(e.rot=!1),e.rot=r.rot?!e.rot:e.rot,this._dirty++,e}else if(this.verticalExpand){if(this.updateBinSize(new $r(e.width+this.padding,e.height+this.padding,this.border,this.height+this.padding-this.border))||this.updateBinSize(new $r(e.width+this.padding,e.height+this.padding,this.width+this.padding-this.border,this.border)))return this.place(e)}else if(this.updateBinSize(new $r(e.width+this.padding,e.height+this.padding,this.width+this.padding-this.border,this.border))||this.updateBinSize(new $r(e.width+this.padding,e.height+this.padding,this.border,this.height+this.padding-this.border)))return this.place(e)}findNode(e,t,r){let i=Number.MAX_VALUE,s,o,u;for(let l in this.freeRects)o=this.freeRects[l],o.width>=e&&o.height>=t&&(s=this.options.logic===_c.MAX_AREA?o.width*o.height-e*t:Math.min(o.width-e,o.height-t),s<i&&(u=new $r(e,t,o.x,o.y),i=s)),!!r&&o.width>=t&&o.height>=e&&(s=this.options.logic===_c.MAX_AREA?o.width*o.height-t*e:Math.min(o.height-e,o.width-t),s<i&&(u=new $r(t,e,o.x,o.y,!0),i=s));return u}splitNode(e,t){if(!e.collide(t))return!1;if(t.x<e.x+e.width&&t.x+t.width>e.x){if(t.y>e.y&&t.y<e.y+e.height){let r=new $r(e.width,t.y-e.y,e.x,e.y);this.freeRects.push(r)}if(t.y+t.height<e.y+e.height){let r=new $r(e.width,e.y+e.height-(t.y+t.height),e.x,t.y+t.height);this.freeRects.push(r)}}if(t.y<e.y+e.height&&t.y+t.height>e.y){if(t.x>e.x&&t.x<e.x+e.width){let r=new $r(t.x-e.x,e.height,e.x,e.y);this.freeRects.push(r)}if(t.x+t.width<e.x+e.width){let r=new $r(e.x+e.width-(t.x+t.width),e.height,t.x+t.width,e.y);this.freeRects.push(r)}}return!0}pruneFreeList(){let e=0,t=0,r=this.freeRects.length;for(;e<r;){t=e+1;let i=this.freeRects[e];for(;t<r;){let s=this.freeRects[t];if(s.contain(i)){this.freeRects.splice(e,1),e--,r--;break}i.contain(s)&&(this.freeRects.splice(t,1),t--,r--),t++}e++}}updateBinSize(e){if(!this.options.smart||this.stage.contain(e))return!1;let t=Math.max(this.width,e.x+e.width-this.padding+this.border),r=Math.max(this.height,e.y+e.height-this.padding+this.border);if(this.options.allowRotation){const i=Math.max(this.width,e.x+e.height-this.padding+this.border),s=Math.max(this.height,e.y+e.width-this.padding+this.border);i*s<t*r&&(t=i,r=s)}return this.options.pot&&(t=Math.pow(2,Math.ceil(Math.log(t)*Math.LOG2E)),r=Math.pow(2,Math.ceil(Math.log(r)*Math.LOG2E))),this.options.square&&(t=r=Math.max(t,r)),t>this.maxWidth+this.padding||r>this.maxHeight+this.padding?!1:(this.expandFreeRects(t+this.padding,r+this.padding),this.width=this.stage.width=t,this.height=this.stage.height=r,!0)}expandFreeRects(e,t){this.freeRects.forEach((r,i)=>{r.x+r.width>=Math.min(this.width+this.padding-this.border,e)&&(r.width=e-r.x-this.border),r.y+r.height>=Math.min(this.height+this.padding-this.border,t)&&(r.height=t-r.y-this.border)},this),this.freeRects.push(new $r(e-this.width-this.padding,t-this.border*2,this.width+this.padding-this.border,this.border)),this.freeRects.push(new $r(e-this.border*2,t-this.height-this.padding,this.border,this.height+this.padding-this.border)),this.freeRects=this.freeRects.filter(r=>!(r.width<=0||r.height<=0||r.x<this.border||r.y<this.border)),this.pruneFreeList()}}class kg extends tB{constructor(...e){super();if(this.rects=[],e.length===1){if(typeof e[0]!="object")throw new Error("OversizedElementBin: Wrong parameters");const t=e[0];this.rects=[t],this.width=t.width,this.height=t.height,this.data=t.data,t.oversized=!0}else{this.width=e[0],this.height=e[1],this.data=e.length>2?e[2]:null;const t=new $r(this.width,this.height);t.oversized=!0,t.data=this.data,this.rects.push(t)}this.freeRects=[],this.maxWidth=this.width,this.maxHeight=this.height,this.options={smart:!1,pot:!1,square:!1}}add(){}reset(e=!1){}repack(){}clone(){return new kg(this.rects[0])}}const I_=4096;var _c;(function(n){n[n.MAX_AREA=0]="MAX_AREA",n[n.MAX_EDGE=1]="MAX_EDGE"})(_c||(_c={}));class Dbe{constructor(e=I_,t=I_,r=0,i={}){this.width=e,this.height=t,this.padding=r,this.options={smart:!0,pot:!0,square:!1,allowRotation:!1,tag:!1,exclusiveTag:!0,border:0,logic:_c.MAX_EDGE},this._currentBinIndex=0,this.bins=[],this.options=Object.assign(Object.assign({},this.options),i)}add(...e){if(e.length===1){if(typeof e[0]!="object")throw new Error("MacrectsPacker.add(): Wrong parameters");const t=e[0];if(t.width>this.width||t.height>this.height)this.bins.push(new kg(t));else if(!this.bins.slice(this._currentBinIndex).find(i=>i.add(t)!==void 0)){let i=new Zp(this.width,this.height,this.padding,this.options),s=t.data&&t.data.tag?t.data.tag:t.tag?t.tag:void 0;this.options.tag&&s&&(i.tag=s),i.add(t),this.bins.push(i)}return t}else{const t=new $r(e[0],e[1]);if(e.length>2&&(t.data=e[2]),t.width>this.width||t.height>this.height)this.bins.push(new kg(t));else if(!this.bins.slice(this._currentBinIndex).find(i=>i.add(t)!==void 0)){let i=new Zp(this.width,this.height,this.padding,this.options);this.options.tag&&t.data.tag&&(i.tag=t.data.tag),i.add(t),this.bins.push(i)}return t}}addArray(e){if(!this.options.tag||this.options.exclusiveTag)this.sort(e,this.options.logic).forEach(t=>this.add(t));else{if(e.length===0)return;e.sort((s,o)=>{const u=s.data&&s.data.tag?s.data.tag:s.tag?s.tag:void 0,l=o.data&&o.data.tag?o.data.tag:o.tag?o.tag:void 0;return l===void 0?-1:u===void 0?1:l>u?-1:1});let t,r=0;if(!this.bins.slice(this._currentBinIndex).find(s=>{let o=s.clone();for(let u=r;u<e.length;u++){const l=e[u],c=l.data&&l.data.tag?l.data.tag:l.tag?l.tag:void 0;if(u===0&&(t=c),c!==t)return t=c,this.sort(e.slice(r,u),this.options.logic).forEach(h=>s.add(h)),r=u,this.addArray(e.slice(u)),!0;if(c===void 0)return this.sort(e.slice(u),this.options.logic).forEach(h=>this.add(h)),r=e.length,!0;if(o.add(l)===void 0)return!1}return this.sort(e.slice(r),this.options.logic).forEach(u=>s.add(u)),!0})){const s=e[r],o=new Zp(this.width,this.height,this.padding,this.options),u=s.data&&s.data.tag?s.data.tag:s.tag?s.tag:void 0;this.options.tag&&this.options.exclusiveTag&&u&&(o.tag=u),this.bins.push(o),this.addArray(e.slice(r))}}}reset(){this.bins=[],this._currentBinIndex=0}repack(e=!0){if(e){let r=[];for(let i of this.bins)if(i.dirty){let s=i.repack();s&&r.push(...s)}this.addArray(r);return}if(!this.dirty)return;const t=this.rects;this.reset(),this.addArray(t)}next(){return this._currentBinIndex=this.bins.length,this._currentBinIndex}load(e){e.forEach((t,r)=>{if(t.maxWidth>this.width||t.maxHeight>this.height)this.bins.push(new kg(t.width,t.height,{}));else{let i=new Zp(this.width,this.height,this.padding,t.options);i.freeRects.splice(0),t.freeRects.forEach((s,o)=>{i.freeRects.push(new $r(s.width,s.height,s.x,s.y))}),i.width=t.width,i.height=t.height,t.tag&&(i.tag=t.tag),this.bins[r]=i}},this)}save(){let e=[];return this.bins.forEach(t=>{let r={width:t.width,height:t.height,maxWidth:t.maxWidth,maxHeight:t.maxHeight,freeRects:[],rects:[],options:t.options};t.tag&&(r=Object.assign(Object.assign({},r),{tag:t.tag})),t.freeRects.forEach(i=>{r.freeRects.push({x:i.x,y:i.y,width:i.width,height:i.height})}),e.push(r)}),e}sort(e,t=_c.MAX_EDGE){return e.slice().sort((r,i)=>{const s=t===_c.MAX_EDGE?Math.max(i.width,i.height)-Math.max(r.width,r.height):i.width*i.height-r.width*r.height;return s===0&&r.hash&&i.hash?r.hash>i.hash?-1:1:s})}get currentBinIndex(){return this._currentBinIndex}get dirty(){return this.bins.some(e=>e.dirty)}get rects(){let e=[];for(let t of this.bins)e.push(...t.rects);return e}}var RA={},cu={};Object.defineProperty(cu,"__esModule",{value:!0});cu.makeEveryOtherGenerator=cu.makeGenerator=cu.visit=cu.evaluate=void 0;var qoe=function(n){return!!(n==null?void 0:n.type)},Xoe=function(n){return qoe(n)||Array.isArray(n)},Yoe=function(n,e){var t=function(r){var i=e[r.type];if(!i)throw new Error("No evaluate() visitor for "+r.type);return e[r.type](r,t)};return t(n)};cu.evaluate=Yoe;var Joe=function(n,e,t,r,i){return{node:n,parent:e,parentPath:t,key:r,index:i,skip:function(){this.skipped=!0},remove:function(){this.removed=!0},replaceWith:function(s){this.replaced=s},findParent:function(s){return t?s(t)?t:t.findParent(s):null}}},Koe=function(n,e){var t=function(r,i,s,o,u){var l,c=e[r.type],h=Joe(r,i,s,o,u);if(c==null?void 0:c.enter){if(c.enter(h),h.removed){if(!o||!i)throw new Error("Asked to remove "+r.id+" but no parent key was present in "+(i==null?void 0:i.id));return typeof u=="number"?i[o].splice(u,1):i[o]=null,h}if(h.replaced){if(!o||!i)throw new Error("Asked to remove "+r.id+" but no parent key was present in "+(i==null?void 0:i.id));typeof u=="number"?i[o].splice(u,1,h.replaced):i[o]=h.replaced}if(h.skipped)return h}Object.entries(r).filter(function(d){d[0];var p=d[1];return Xoe(p)}).forEach(function(d){var p=d[0],v=d[1];if(Array.isArray(v))for(var S=0,w=0;S-w<v.length;S++){var T=v[S-w],x=t(T,r,h,p,S-w);(x==null?void 0:x.removed)&&(w+=1)}else t(v,r,h,p,null)}),(l=c==null?void 0:c.exit)===null||l===void 0||l.call(c,h)};return t(n,null,null,null,null)};cu.visit=Koe;var Zoe=function(n){var e=function(t){return typeof t=="string"?t:t==null?"":Array.isArray(t)?t.map(e).join(""):t.type in n?n[t.type](t):"NO GENERATOR FOR "+t.type+t};return e};cu.makeGenerator=Zoe;var Qoe=function(n){var e=function(t,r){return t.reduce(function(i,s,o){return i+n(s)+(o===t.length-1?"":n(r[o]))},"")};return e};cu.makeEveryOtherGenerator=Qoe;Object.defineProperty(RA,"__esModule",{value:!0});var nB=cu,eae={program:function(n){return Xe(n.ws)+Xe(n.program)},preprocessor:function(n){return Xe(n.line)+Xe(n._)},keyword:function(n){return Xe(n.token)+Xe(n.whitespace)},precision:function(n){return Xe(n.prefix)+Xe(n.qualifier)+Xe(n.specifier)},expression_statement:function(n){return Xe(n.expression)+Xe(n.semi)},if_statement:function(n){return Xe(n.if)+Xe(n.lp)+Xe(n.condition)+Xe(n.rp)+Xe(n.body)+Xe(n.else)},switch_statement:function(n){return Xe(n.switch)+Xe(n.lp)+Xe(n.expression)+Xe(n.rp)+Xe(n.lb)+Xe(n.cases)+Xe(n.rb)},break_statement:function(n){return Xe(n.break)+Xe(n.semi)},do_statement:function(n){return Xe(n.do)+Xe(n.body)+Xe(n.while)+Xe(n.lp)+Xe(n.expression)+Xe(n.rp)+Xe(n.semi)},continue_statement:function(n){return Xe(n.continue)+Xe(n.semi)},return_statement:function(n){return Xe(n.return)+Xe(n.expression)+Xe(n.semi)},discard_statement:function(n){return Xe(n.discard)+Xe(n.semi)},while_statement:function(n){return Xe(n.while)+Xe(n.lp)+Xe(n.condition)+Xe(n.rp)+Xe(n.body)},for_statement:function(n){return Xe(n.for)+Xe(n.lp)+Xe(n.init)+Xe(n.initSemi)+Xe(n.condition)+Xe(n.conditionSemi)+Xe(n.operation)+Xe(n.rp)+Xe(n.body)},condition_expression:function(n){return Xe(n.specified_type)+Xe(n.identifier)+Xe(n.declarator)+Xe(n.op)+Xe(n.initializer)},declaration_statement:function(n){return Xe(n.declaration)+Xe(n.semi)},fully_specified_type:function(n){return Xe(n.qualifiers)+Xe(n.specifier)},layout_qualifier:function(n){return Xe(n.layout)+Xe(n.lp)+Qp(n.qualifiers,n.commas)+Xe(n.rp)},layout_qualifier_id:function(n){return Xe(n.identifier)+Xe(n.operator)+Xe(n.expression)},switch_case:function(n){return Xe(n.case)+Xe(n.test)+Xe(n.colon)+Xe(n.statements)},default_case:function(n){return Xe(n.default)+Xe(n.colon)+Xe(n.statements)},declaration:function(n){return Xe(n.specified_type)+Xe(n.identifier)+Xe(n.quantifier)+Xe(n.operator)+Xe(n.initializer)},declarator_list:function(n){return Xe(n.specified_type)+Qp(n.declarations,n.commas)},declarator:function(n){return Xe(n.specified_type)+Xe(n.identifier)+Xe(n.qualifiers)+Xe(n.quantifier)},type_specifier:function(n){return Xe(n.specifier)+Xe(n.quantifier)+Xe(n.declarations)},array_specifiers:function(n){return Xe(n.specifiers)},array_specifier:function(n){return Xe(n.lb)+Xe(n.expression)+Xe(n.rb)},identifier:function(n){return n.identifier+Xe(n.whitespace)},function:function(n){return Xe(n.prototype)+Xe(n.body)+Xe(n.rp)},function_header:function(n){return Xe(n.returnType)+Xe(n.name)+Xe(n.lp)},function_prototype:function(n){return Xe(n.header.returnType)+Xe(n.header.name)+Xe(n.header.lp)+(n.parameters?Qp(n.parameters,n.commas):"")+Xe(n.rp)},parameter_declaration:function(n){return Xe(n.qualifier)+Xe(n.declaration)},compound_statement:function(n){return Xe(n.lb)+Xe(n.statements)+Xe(n.rb)},function_call:function(n){return Xe(n.identifier)+Xe(n.lp)+Xe(n.args)+Xe(n.rp)},parameter_declarator:function(n){return Xe(n.qualifier)+Xe(n.specifier)+Xe(n.identifier)+Xe(n.quantifier)},postfix:function(n){return Xe(n.expr)+Xe(n.postfix)},quantifier:function(n){return Xe(n.lb)+Xe(n.expr)+Xe(n.rb)},quantified_identifier:function(n){return Xe(n.identifier)+Xe(n.quantifier)},field_selection:function(n){return Xe(n.dot)+Xe(n.selection)},subroutine_qualifier:function(n){return Xe(n.subroutine)+Xe(n.lp)+Xe(n.type_names)+Xe(n.commas)+Xe(n.rp)},assignment:function(n){return Xe(n.left)+Xe(n.operator)+Xe(n.right)},ternary:function(n){return Xe(n.expr)+Xe(n.question)+Xe(n.left)+Xe(n.colon)+Xe(n.right)},binary:function(n){return Xe(n.left)+Xe(n.operator)+Xe(n.right)},group:function(n){return Xe(n.lp)+Xe(n.expression)+Xe(n.rp)},unary:function(n){return Xe(n.operator)+Xe(n.expression)},float_constant:function(n){return Xe(n.token)+Xe(n.whitespace)},double_constant:function(n){return Xe(n.token)+Xe(n.whitespace)},int_constant:function(n){return Xe(n.token)+Xe(n.whitespace)},uint_constant:function(n){return Xe(n.token)+Xe(n.whitespace)},bool_constant:function(n){return Xe(n.token)+Xe(n.whitespace)},literal:function(n){return Xe(n.literal)+Xe(n.whitespace)},struct:function(n){return Xe(n.struct)+Xe(n.typeName)+Xe(n.lb)+Xe(n.declarations)+Xe(n.rb)},struct_declaration:function(n){return Xe(n.declaration)+Xe(n.semi)},interface_declarator:function(n){return Xe(n.qualifiers)+Xe(n.interface_type)+Xe(n.lp)+Xe(n.declarations)+Xe(n.rp)+Xe(n.identifier)},struct_declarator:function(n){return Xe(n.specified_type)+Qp(n.declarations,n.commas)},initializer_list:function(n){return Xe(n.lb)+Qp(n.initializers,n.commas)+Xe(n.rb)},qualifier_declarator:function(n){return Xe(n.qualifiers)+Qp(n.declarations,n.commas)}},Xe=(0,nB.makeGenerator)(eae),Qp=(0,nB.makeEveryOtherGenerator)(Xe);RA.default=Xe;function tae(n,e){function t(){this.constructor=n}t.prototype=e.prototype,n.prototype=new t}function th(n,e,t,r){var i=Error.call(this,n);return Object.setPrototypeOf&&Object.setPrototypeOf(i,th.prototype),i.expected=e,i.found=t,i.location=r,i.name="SyntaxError",i}tae(th,Error);function kA(n,e,t){return t=t||" ",n.length>e?n:(e-=n.length,t+=t.repeat(e),n+t.slice(0,e))}th.prototype.format=function(n){var e="Error: "+this.message;if(this.location){var t=null,r;for(r=0;r<n.length;r++)if(n[r].source===this.location.source){t=n[r].text.split(/\r\n|\n|\r/g);break}var i=this.location.start,s=this.location.source+":"+i.line+":"+i.column;if(t){var o=this.location.end,u=kA("",i.line.toString().length),l=t[i.line-1],c=i.line===o.line?o.column:l.length+1;e+=`
 --> `+s+`
`+u+` |
`+i.line+" | "+l+`
`+u+" | "+kA("",i.column-1)+kA("",c-i.column,"^")}else e+=`
 at `+s}return e};th.buildMessage=function(n,e){var t={literal:function(c){return'"'+i(c.text)+'"'},class:function(c){var h=c.parts.map(function(d){return Array.isArray(d)?s(d[0])+"-"+s(d[1]):s(d)});return"["+(c.inverted?"^":"")+h+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(c){return c.description}};function r(c){return c.charCodeAt(0).toString(16).toUpperCase()}function i(c){return c.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(h){return"\\x0"+r(h)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(h){return"\\x"+r(h)})}function s(c){return c.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(h){return"\\x0"+r(h)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(h){return"\\x"+r(h)})}function o(c){return t[c.type](c)}function u(c){var h=c.map(o),d,p;if(h.sort(),h.length>0){for(d=1,p=1;d<h.length;d++)h[d-1]!==h[d]&&(h[p]=h[d],p++);h.length=p}switch(h.length){case 1:return h[0];case 2:return h[0]+" or "+h[1];default:return h.slice(0,-1).join(", ")+", or "+h[h.length-1]}}function l(c){return c?'"'+i(c)+'"':"end of input"}return"Expected "+u(n)+" but "+l(e)+" found."};function nae(n,e){e=e!==void 0?e:{};var t={},r=e.grammarSource,i={start:eC},s=eC,o="attribute",u="varying",l="const",c="bool",h="float",d="double",p="int",v="uint",S="break",w="continue",T="do",x="else",E="for",O="if",C="discard",N="return",$="switch",M="case",L="default",V="subroutine",Z="bvec2",H="bvec3",D="bvec4",R="ivec2",P="ivec3",F="ivec4",z="uvec2",j="uvec3",B="uvec4",U="vec2",k="vec3",G="vec4",ne="mat2",le="mat3",ee="mat4",J="centroid",de="in",se="out",ue="inout",oe="uniform",W="patch",ce="sample",ye="buffer",Te="shared",Pe="coherent",Je="volatile",ie="restrict",K="readonly",q="writeonly",he="dvec2",Se="dvec3",te="dvec4",re="dmat2",Me="dmat3",Ce="dmat4",Ae="noperspective",Oe="flat",ge="smooth",Ne="layout",ze="mat2x2",ae="mat2x3",Ue="mat2x4",Ye="mat3x2",He="mat3x3",Be="mat3x4",Ze="mat4x2",Ve="mat4x3",ot="mat4x4",kt="dmat2x2",lt="dmat2x3",_t="dmat2x4",nn="dmat3x2",It="dmat3x3",Gt="dmat3x4",Ot="dmat4x2",mt="dmat4x3",gt="dmat4x4",Ct="atomic_uint",dt="sampler1D",Mt="sampler2D",Dt="sampler3D",yt="samplerCube",pt="sampler1DShadow",Nt="sampler2DShadow",pe="samplerCubeShadow",Re="sampler1DArray",We="sampler2DArray",ke="sampler1DArrayShadow",Le="sampler2DArrayshadow",At="isampler1D",rt="isampler2D",ht="isampler3D",it="isamplerCube",$t="isampler1Darray",zt="isampler2DArray",Wt="usampler1D",un="usampler2D",Jt="usampler3D",sn="usamplerCube",ct="usampler1DArray",xe="usampler2DArray",je="sampler2DRect",bt="sampler2DRectshadow",qt="isampler2DRect",ln="usampler2DRect",hn="samplerBuffer",xn="isamplerBuffer",Xn="usamplerBuffer",gn="samplerCubeArray",Oi="samplerCubeArrayShadow",Ni="isamplerCubeArray",Ra="usamplerCubeArray",Ws="sampler2DMS",ka="isampler2DMS",bs="usampler2DMS",ti="sampler2DMSArray",js="isampler2DMSArray",qs="usampler2DMSArray",An="image1D",Ui="iimage1D",vo="uimage1D",bl="image2D",os="iimage2D",Xs="uimage2D",as="image3D",Ss="iimage3D",Bi="uimage3D",Hr="image2DRect",ni="iimage2DRect",us="uimage2DRect",ku="imageCube",Ia="iimageCube",go="uimageCube",Ko="imageBuffer",Ys="iimageBuffer",Js="uimageBuffer",ls="image1DArray",Nr="iimage1DArray",Iu="uimage1DArray",zi="image2DArray",Zo="iimage2DArray",Ks="uimage2DArray",Qo="imageCubeArray",Zs="iimageCubeArray",Qs="uimageCubeArray",La="image2DMS",Yn="iimage2DMS",$i="uimage2DMS",yo="image2DMArray",xo="iimage2DMSArray",Jn="uimage2DMSArray",Gi="struct",_e="void",Ke="while",at="invariant",wt="precise",Wn="highp",or="mediump",Dr="lowp",Sn="precision",Fa="true",Ur="false",_o="<<",Fn=">>",wo="++",Hi="--",Vr="<=",Oa=">=",Sl="==",bo="!=",dr="&&",gi="||",ar="^^",ur="*=",Es="/=",Hh="+=",W0="%=",ea="<<=",ta=">>=",j0="&=",El="^=",q0="|=",X0="-=",Vh="(",Wh=")",U1="[",B1="]",z1="{",Y0="}",Bc=".",zc=",",jh=":",$1="=",qh=";",G1="!",$c="-",Ms="~",Gc="+",Ml="*",So="/",J0="%",Dl="<",H1=">",K0="|",lr="^",Xh="&",na="?",Na="0",eo="lf",Z0="LF",V1="#",Yh="//",Q0="/*",ra="*/",em=/^[A-Za-z_]/,Ua=/^[A-Za-z_0-9]/,tm=/^[uU]/,Hc=/^[1-9]/,cs=/^[0-7]/,Vc=/^[xX]/,cr=/^[0-9a-fA-F]/,ri=/^[0-9]/,Wr=/^[eE]/,Jh=/^[+\-]/,Wc=/^[fF]/,jr=/^[^\n]/,Kh=/^[ \t\n\r]/,nm=Fe("attribute",!1),Lu=Fe("varying",!1),Fu=Fe("const",!1),Eo=Fe("bool",!1),jc=Fe("float",!1),qc=Fe("double",!1),W1=Fe("int",!1),j1=Fe("uint",!1),q1=Fe("break",!1),Xc=Fe("continue",!1),Zh=Fe("do",!1),X1=Fe("else",!1),Qh=Fe("for",!1),rm=Fe("if",!1),im=Fe("discard",!1),Y1=Fe("return",!1),ed=Fe("switch",!1),J1=Fe("case",!1),K1=Fe("default",!1),Z1=Fe("subroutine",!1),sm=Fe("bvec2",!1),Q1=Fe("bvec3",!1),ey=Fe("bvec4",!1),o3=Fe("ivec2",!1),om=Fe("ivec3",!1),td=Fe("ivec4",!1),a3=Fe("uvec2",!1),u3=Fe("uvec3",!1),l3=Fe("uvec4",!1),c3=Fe("vec2",!1),to=Fe("vec3",!1),Vi=Fe("vec4",!1),ty=Fe("mat2",!1),ny=Fe("mat3",!1),ry=Fe("mat4",!1),am=Fe("centroid",!1),iy=Fe("in",!1),um=Fe("out",!1),sy=Fe("inout",!1),lm=Fe("uniform",!1),oy=Fe("patch",!1),nd=Fe("sample",!1),ay=Fe("buffer",!1),uy=Fe("shared",!1),ly=Fe("coherent",!1),cy=Fe("volatile",!1),fy=Fe("restrict",!1),cm=Fe("readonly",!1),hy=Fe("writeonly",!1),ia=Fe("dvec2",!1),Mo=Fe("dvec3",!1),Yc=Fe("dvec4",!1),Jc=Fe("dmat2",!1),rd=Fe("dmat3",!1),id=Fe("dmat4",!1),dy=Fe("noperspective",!1),Kc=Fe("flat",!1),f3=Fe("smooth",!1),h3=Fe("layout",!1),fm=Fe("mat2x2",!1),hm=Fe("mat2x3",!1),d3=Fe("mat2x4",!1),py=Fe("mat3x2",!1),my=Fe("mat3x3",!1),p3=Fe("mat3x4",!1),vy=Fe("mat4x2",!1),m3=Fe("mat4x3",!1),gy=Fe("mat4x4",!1),v3=Fe("dmat2x2",!1),yy=Fe("dmat2x3",!1),xy=Fe("dmat2x4",!1),_y=Fe("dmat3x2",!1),wy=Fe("dmat3x3",!1),by=Fe("dmat3x4",!1),Sy=Fe("dmat4x2",!1),dm=Fe("dmat4x3",!1),pm=Fe("dmat4x4",!1),Ey=Fe("atomic_uint",!1),mm=Fe("sampler1D",!1),My=Fe("sampler2D",!1),sd=Fe("sampler3D",!1),g3=Fe("samplerCube",!1),od=Fe("sampler1DShadow",!1),ad=Fe("sampler2DShadow",!1),ud=Fe("samplerCubeShadow",!1),ld=Fe("sampler1DArray",!1),cd=Fe("sampler2DArray",!1),Zc=Fe("sampler1DArrayShadow",!1),vm=Fe("sampler2DArrayshadow",!1),gm=Fe("isampler1D",!1),ym=Fe("isampler2D",!1),Dy=Fe("isampler3D",!1),xm=Fe("isamplerCube",!1),fd=Fe("isampler1Darray",!1),y3=Fe("isampler2DArray",!1),x3=Fe("usampler1D",!1),hd=Fe("usampler2D",!1),_m=Fe("usampler3D",!1),wm=Fe("usamplerCube",!1),tn=Fe("usampler1DArray",!1),yi=Fe("usampler2DArray",!1),Ar=Fe("sampler2DRect",!1),ii=Fe("sampler2DRectshadow",!1),Ou=Fe("isampler2DRect",!1),bm=Fe("usampler2DRect",!1),qr=Fe("samplerBuffer",!1),dd=Fe("isamplerBuffer",!1),Al=Fe("usamplerBuffer",!1),Qc=Fe("samplerCubeArray",!1),Tl=Fe("samplerCubeArrayShadow",!1),Sm=Fe("isamplerCubeArray",!1),Em=Fe("usamplerCubeArray",!1),Mm=Fe("sampler2DMS",!1),Dm=Fe("isampler2DMS",!1),Ba=Fe("usampler2DMS",!1),Ht=Fe("sampler2DMSArray",!1),pd=Fe("isampler2DMSArray",!1),Am=Fe("usampler2DMSArray",!1),Do=Fe("image1D",!1),za=Fe("iimage1D",!1),ef=Fe("uimage1D",!1),tf=Fe("image2D",!1),Tm=Fe("iimage2D",!1),Cm=Fe("uimage2D",!1),sa=Fe("image3D",!1),nf=Fe("iimage3D",!1),Pm=Fe("uimage3D",!1),md=Fe("image2DRect",!1),oa=Fe("iimage2DRect",!1),vd=Fe("uimage2DRect",!1),rf=Fe("imageCube",!1),sf=Fe("iimageCube",!1),Wi=Fe("uimageCube",!1),$a=Fe("imageBuffer",!1),aa=Fe("iimageBuffer",!1),gd=Fe("uimageBuffer",!1),fs=Fe("image1DArray",!1),Ay=Fe("iimage1DArray",!1),Cl=Fe("uimage1DArray",!1),Rm=Fe("image2DArray",!1),_3=Fe("iimage2DArray",!1),Ty=Fe("uimage2DArray",!1),Cy=Fe("imageCubeArray",!1),yd=Fe("iimageCubeArray",!1),km=Fe("uimageCubeArray",!1),Pl=Fe("image2DMS",!1),Py=Fe("iimage2DMS",!1),Ry=Fe("uimage2DMS",!1),of=Fe("image2DMArray",!1),w3=Fe("iimage2DMSArray",!1),b3=Fe("uimage2DMSArray",!1),ky=Fe("struct",!1),Iy=Fe("void",!1),Nu=Fe("while",!1),S3=Fe("invariant",!1),E3=Fe("precise",!1),ua=Fe("highp",!1),M3=Fe("mediump",!1),Ly=Fe("lowp",!1),D3=Fe("precision",!1),Fy=Fe("true",!1),Ga=Fe("false",!1),A3=tr("keyword"),T3=Fe("<<",!1),Oy=Fe(">>",!1),xd=Fe("++",!1),Im=Fe("--",!1),Ny=Fe("<=",!1),Lm=Fe(">=",!1),Uy=Fe("==",!1),_d=Fe("!=",!1),By=Fe("&&",!1),C3=Fe("||",!1),Ds=Fe("^^",!1),Fm=Fe("*=",!1),P3=Fe("/=",!1),Ha=Fe("+=",!1),wd=Fe("%=",!1),Rl=Fe("<<=",!1),Om=Fe(">>=",!1),Nm=Fe("&=",!1),Um=Fe("^=",!1),R3=Fe("|=",!1),zy=Fe("-=",!1),$y=Fe("(",!1),bd=Fe(")",!1),k3=Fe("[",!1),I3=Fe("]",!1),g=Fe("{",!1),y=Fe("}",!1),I=Fe(".",!1),X=Fe(",",!1),Q=Fe(":",!1),fe=Fe("=",!1),De=Fe(";",!1),Ge=Fe("!",!1),st=Fe("-",!1),Tt=Fe("~",!1),Zt=Fe("+",!1),on=Fe("*",!1),Ft=Fe("/",!1),Bn=Fe("%",!1),Kn=Fe("<",!1),As=Fe(">",!1),tt=Fe("|",!1),qe=Fe("^",!1),ut=Fe("&",!1),Lt=Fe("?",!1),Qt=no([["A","Z"],["a","z"],"_"],!1,!1),Nn=no([["A","Z"],["a","z"],"_",["0","9"]],!1,!1),an=no(["u","U"],!1,!1),In=no([["1","9"]],!1,!1),pr=Fe("0",!1),wn=no([["0","7"]],!1,!1),Va=no(["x","X"],!1,!1),Gy=no([["0","9"],["a","f"],["A","F"]],!1,!1),Eq=no([["0","9"]],!1,!1),Mq=tr("exponent"),Dq=no(["e","E"],!1,!1),Aq=no(["+","-"],!1,!1),Tq=no(["f","F"],!1,!1),Cq=Fe("lf",!1),Pq=Fe("LF",!1),Rq=tr("primary expression"),kq=tr("unary expression"),Iq=tr("equality expression"),Lq=tr("and expression"),Fq=tr("asignment"),Oq=tr("expression"),Nq=tr("precision statement"),Uq=tr("function prototype"),Bq=tr("function header"),zq=tr("function parameters"),$q=tr("parameter declaration"),Gq=tr("parameter declarator"),Hq=tr("single type qualifier"),Vq=tr("interpolation qualifier"),Wq=tr("storage qualifier"),V6=tr("type specifier"),jq=tr("array specifier"),qq=tr("precision qualifier"),Xq=tr("struct specifier"),Yq=tr("iteration statement"),Jq=tr("jump statement"),Kq=tr("prepocessor"),Zq=Fe("#",!1),Hy=no([`
`],!0,!1),Qq=tr("whitespace"),eX=Fe("//",!1),tX=Fe("/*",!1),L3=Fe("*/",!1),W6=yY(),j6=no([" ","	",`
`,"\r"],!1,!1),nX=function(a,m){return{type:"program",ws:a,program:m,scopes:yS}},Qe=function(a,m){return Yt("keyword",{token:a,whitespace:m})},rX=function(a,m){return Yt("float_constant",{token:a,whitespace:m})},iX=function(a,m){return Yt("double_constant",{token:a,whitespace:m})},sX=function(a,m){return Yt("int_constant",{token:a,whitespace:m})},oX=function(a,m){return Yt("uint_constant",{token:a,whitespace:m})},aX=function(a,m){return Yt("bool_constant",{token:a,whitespace:m})},fn=function(a,m){return Yt("literal",{literal:a,whitespace:m})},uX=function(a,m){return Yt("identifier",{identifier:a,whitespace:m})},lX=function(a){const{identifier:m}=a;let _;return(_=vS(jn,m))&&MJ(_,m,a),a},cX=function(a,m,_){return Yt("group",{lp:a,expression:m,rp:_})},fX=function(a){const{identifier:m}=a;return AJ(jn,m,a),a},hX=function(a){return a.flat().reduceRight((m,_)=>m?Yt("postfix",{expr:_,postfix:m}):_)},dX=function(a,m,_){return Yt("quantifier",{lb:a,expr:m,rb:_})},pX=function(a,m){return Yt("field_selection",{dot:a,selection:m})},mX=function(a,m,_){const A=a.identifier.type==="postfix"?a.identifier.expr.identifier.specifier.identifier:a.identifier.specifier.identifier,b=Yt("function_call",nr(vt({},a),{args:m,rp:_}));return A&&!DJ(jn,A)&&!LJ.has(A)&&(CJ(jn,A)||SJ(`Warning: Function "${A}" has not been declared`),TR(jn,A,b)),b},vX=function(a){return[a]},gX=function(a,m){return[a,...m.flat()]},q6=function(a,m,_){return{head:[a,m],lp:_}},yX=function(a){return{lp:a.lp,identifier:[a.head].flat().reduceRight((m,_)=>m?Yt("postfix",{expr:_,postfix:m}):_)}},xX=function(a,m,_,A){return Yt("function_call",{identifier:a,lp:m,args:_,rp:A})},_X=function(a,m){return Yt("unary",{operator:a,expression:m})},Ao=function(a,m){return kJ(a,m)},wX=function(a,m,_,A,b){return{question:m,left:_,right:b,colon:A}},bX=function(a,m){return m?Yt("ternary",vt({expr:a},m)):a},SX=function(a,m,_){return Yt("assignment",{left:a,operator:m,right:_})},EX=function(a){return Yt("declaration_statement",{declaration:a[0],semi:a[1]})},MX=function(a,m,_){return Yt("qualifier_declarator",{qualifiers:a,declarations:[m,..._.map(A=>A[1])],commas:_.map(A=>A[0])})},DX=function(a,m,_,A,b,me){const Ie=Yt("interface_declarator",{qualifiers:a,interface_type:m,lp:_,declarations:A,rp:b,identifier:me});return Wm(jn,[m.identifier,Ie]),Ie},AX=function(a,m,_){return Yt("precision",{prefix:a,qualifier:m,specifier:_})},TX=function(a,m,_){const A=((m==null?void 0:m.parameters)||[]).filter(b=>!!b.declaration.identifier).map(b=>[b.declaration.identifier.identifier,b]);return Wm(jn,...A),Yt("function_prototype",nr(vt({header:a},m),{rp:_}))},CX=function(a,m,_){const A=Yt("function_header",{returnType:a,name:m,lp:_});return TR(jn,m.identifier,A),jn=tx(Vm(m.identifier,jn)),A},PX=function(a,m){return{parameters:[a,...m.map(_=>_[1])],commas:m.map(_=>_[0])}},RX=function(a,m){return Yt("parameter_declaration",{qualifier:a,declaration:m})},kX=function(a,m,_){return Yt("parameter_declarator",{specifier:a,identifier:m,quantifier:_})},IX=function(a,m){const _=[a.declaration,...m.map(A=>A[1])].filter(A=>!!A.identifier);return Wm(jn,..._.map(A=>[A.identifier.identifier,A])),Yt("declarator_list",{specified_type:a.specified_type,declarations:_,commas:m.map(A=>A[0])})},LX=function(a,m,_){const[A,b]=_||[];return Yt("declaration",{identifier:a,quantifier:m,operator:A,initializer:b})},FX=function(a,m){const[_,A,b]=m||[],[me,Ie]=b||[];return{declaration:Yt("declaration",{identifier:_,quantifier:A,operator:me,initializer:Ie}),specified_type:a}},OX=function(a,m){return Yt("fully_specified_type",{qualifiers:a,specifier:m})},NX=function(a,m,_,A){return{qualifiers:[_,...A.map(b=>b[1])],commas:A.map(b=>b[0])}},UX=function(a,m,_,A){return Yt("layout_qualifier",nr(vt({layout:a,lp:m},_),{rp:A}))},BX=function(a,m){const[_,A]=m||[];return Yt("layout_qualifier_id",{identifier:a,operator:_,expression:A})},zX=function(a,m,_,A,b){return{lp:m,type_names:[_,...A.map(me=>me[1])],commas:A.map(me=>me[0]),rp:b}},$X=function(a,m){return Yt("subroutine_qualifier",vt({subroutine:a},m))},GX=function(a,m){return Yt("type_specifier",{specifier:a,quantifier:m})},X6=function(a,m,_){return Yt("array_specifier",{lb:a,expression:m,rb:_})},HX=function(a){return Yt("array_specifiers",{specifiers:a})},VX=function(a,m,_,A,b){const me=Yt("struct",{lb:_,declarations:A,rb:b,struct:a,typeName:m});return m&&EJ(jn,[m.identifier,me]),me},Y6=function(a,m){return Yt("struct_declaration",{declaration:a,semi:m})},WX=function(a,m,_){return Yt("struct_declarator",{specified_type:a,declarations:[m,..._.map(A=>A[1])],commas:_.map(A=>A[0])})},jX=function(a,m){return Yt("quantified_identifier",{identifier:a,quantifier:m})},qX=function(a,m,_,A,b){return Yt("initializer_list",{lb:a,initializers:[m,..._.map(me=>me[1])],commas:rx(_.map(me=>me[0]),A),rb:b})},XX=function(a){return jn=tx(Vm(bJ,jn)),a},YX=function(a,m,_){return jn=nx(jn),Yt("compound_statement",{lb:a,statements:(m||[]).flat(),rb:_})},JX=function(a,m,_){return Yt("compound_statement",{lb:a,statements:(m||[]).flat(),rb:_})},KX=function(a,m){return Yt("expression_statement",{expression:a,semi:m})},ZX=function(a,m,_,A,b){const[me,Ie]=b;return Yt("if_statement",vt({if:a,body:me,lp:m,condition:_,rp:A},Ie&&{else:Ie.flat()}))},QX=function(a,m,_,A,b,me,Ie){return Yt("switch_statement",{switch:a,lp:m,expression:_,rp:A,lb:b,cases:IJ(me),rb:Ie})},eY=function(a,m,_){return Yt("case_label",{case:a,test:m,colon:_})},tY=function(a,m){return Yt("default_label",{default:a,colon:m})},nY=function(a){return jn=tx(Vm("while",jn)),a},rY=function(a,m,_,A,b){return jn=nx(jn),Yt("while_statement",{while:a,lp:m,condition:_,rp:A,body:b})},iY=function(a,m,_,A,b,me,Ie){return Yt("do_statement",{do:a,body:m,while:_,lp:A,expression:b,rp:me,semi:Ie})},sY=function(a){return jn=tx(Vm("for",jn)),a},oY=function(a,m,_,A,b,me,Ie,nt){return jn=nx(jn),Yt("for_statement",{for:a,body:nt,lp:m,init:_.expression||_.declaration,initSemi:_.semi,condition:A,conditionSemi:b,operation:me,rp:Ie,body:nt})},aY=function(a,m,_,A){const b=Yt("condition_expression",{specified_type:a,identifier:m,op:_,initializer:A});return Wm(jn,[m.identifier,b]),b},uY=function(a,m){return Yt("continue_statement",{continue:a,semi:m})},lY=function(a,m){return Yt("break_statement",{break:a,semi:m})},cY=function(a,m,_){return Yt("return_statement",{return:a,expression:m,semi:_})},fY=function(a,m){return Yt("discard_statement",{discard:a,semi:m})},hY=function(a,m){return Yt("preprocessor",{line:a,_:m})},dY=function(a,m){const _=Yt("function",{prototype:a,body:m});return jn=nx(jn),_},pY=function(a,m){return RJ(a,m)},J6=function(a,m,_){return rx(m,_)},mY=function(a,m){return rx(a,m.flat())},K6=function(a){return a},vY=function(a){return a},f=0,we=0,Vy=[{line:1,column:1}],Wa=0,F3=[],ve=0,Y={},Wy;if("startRule"in e){if(!(e.startRule in i))throw new Error(`Can't start parsing from rule "`+e.startRule+'".');s=i[e.startRule]}function gY(){return n.substring(we,f)}function Fe(a,m){return{type:"literal",text:a,ignoreCase:m}}function no(a,m,_){return{type:"class",parts:a,inverted:m,ignoreCase:_}}function yY(){return{type:"any"}}function xY(){return{type:"end"}}function tr(a){return{type:"other",description:a}}function Z6(a){var m=Vy[a],_;if(m)return m;for(_=a-1;!Vy[_];)_--;for(m=Vy[_],m={line:m.line,column:m.column};_<a;)n.charCodeAt(_)===10?(m.line++,m.column=1):m.column++,_++;return Vy[a]=m,m}function Q6(a,m){var _=Z6(a),A=Z6(m);return{source:r,start:{offset:a,line:_.line,column:_.column},end:{offset:m,line:A.line,column:A.column}}}function Ee(a){f<Wa||(f>Wa&&(Wa=f,F3=[]),F3.push(a))}function _Y(a,m,_){return new th(th.buildMessage(a,m),a,m,_)}function eC(){var a,m,_,A=f*305+0,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,m=en(),_=yJ(),_!==t?(we=a,a=nX(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function tC(){var a,m,_,A=f*305+1,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,9)===o?(m=o,f+=9):(m=t,ve===0&&Ee(nm)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function nC(){var a,m,_,A=f*305+2,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,7)===u?(m=u,f+=7):(m=t,ve===0&&Ee(Lu)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function O3(){var a,m,_,A=f*305+3,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,5)===l?(m=l,f+=5):(m=t,ve===0&&Ee(Fu)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function rC(){var a,m,_,A=f*305+4,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,4)===c?(m=c,f+=4):(m=t,ve===0&&Ee(Eo)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function iC(){var a,m,_,A=f*305+5,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,5)===h?(m=h,f+=5):(m=t,ve===0&&Ee(jc)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function sC(){var a,m,_,A=f*305+6,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,6)===d?(m=d,f+=6):(m=t,ve===0&&Ee(qc)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function oC(){var a,m,_,A=f*305+7,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,3)===p?(m=p,f+=3):(m=t,ve===0&&Ee(W1)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function aC(){var a,m,_,A=f*305+8,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,4)===v?(m=v,f+=4):(m=t,ve===0&&Ee(j1)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function uC(){var a,m,_,A=f*305+9,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,5)===S?(m=S,f+=5):(m=t,ve===0&&Ee(q1)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function lC(){var a,m,_,A=f*305+10,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,8)===w?(m=w,f+=8):(m=t,ve===0&&Ee(Xc)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function cC(){var a,m,_,A=f*305+11,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,2)===T?(m=T,f+=2):(m=t,ve===0&&Ee(Zh)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function fC(){var a,m,_,A=f*305+12,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,4)===x?(m=x,f+=4):(m=t,ve===0&&Ee(X1)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function hC(){var a,m,_,A=f*305+13,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,3)===E?(m=E,f+=3):(m=t,ve===0&&Ee(Qh)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function dC(){var a,m,_,A=f*305+14,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,2)===O?(m=O,f+=2):(m=t,ve===0&&Ee(rm)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function pC(){var a,m,_,A=f*305+15,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,7)===C?(m=C,f+=7):(m=t,ve===0&&Ee(im)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function mC(){var a,m,_,A=f*305+16,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,6)===N?(m=N,f+=6):(m=t,ve===0&&Ee(Y1)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function vC(){var a,m,_,A=f*305+17,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,6)===$?(m=$,f+=6):(m=t,ve===0&&Ee(ed)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function gC(){var a,m,_,A=f*305+18,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,4)===M?(m=M,f+=4):(m=t,ve===0&&Ee(J1)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function yC(){var a,m,_,A=f*305+19,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,7)===L?(m=L,f+=7):(m=t,ve===0&&Ee(K1)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function xC(){var a,m,_,A=f*305+20,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,10)===V?(m=V,f+=10):(m=t,ve===0&&Ee(Z1)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function _C(){var a,m,_,A=f*305+21,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,5)===Z?(m=Z,f+=5):(m=t,ve===0&&Ee(sm)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function wC(){var a,m,_,A=f*305+22,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,5)===H?(m=H,f+=5):(m=t,ve===0&&Ee(Q1)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function bC(){var a,m,_,A=f*305+23,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,5)===D?(m=D,f+=5):(m=t,ve===0&&Ee(ey)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function SC(){var a,m,_,A=f*305+24,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,5)===R?(m=R,f+=5):(m=t,ve===0&&Ee(o3)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function EC(){var a,m,_,A=f*305+25,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,5)===P?(m=P,f+=5):(m=t,ve===0&&Ee(om)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function MC(){var a,m,_,A=f*305+26,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,5)===F?(m=F,f+=5):(m=t,ve===0&&Ee(td)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function DC(){var a,m,_,A=f*305+27,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,5)===z?(m=z,f+=5):(m=t,ve===0&&Ee(a3)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function AC(){var a,m,_,A=f*305+28,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,5)===j?(m=j,f+=5):(m=t,ve===0&&Ee(u3)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function TC(){var a,m,_,A=f*305+29,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,5)===B?(m=B,f+=5):(m=t,ve===0&&Ee(l3)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function CC(){var a,m,_,A=f*305+30,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,4)===U?(m=U,f+=4):(m=t,ve===0&&Ee(c3)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function PC(){var a,m,_,A=f*305+31,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,4)===k?(m=k,f+=4):(m=t,ve===0&&Ee(to)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function RC(){var a,m,_,A=f*305+32,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,4)===G?(m=G,f+=4):(m=t,ve===0&&Ee(Vi)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function kC(){var a,m,_,A=f*305+33,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,4)===ne?(m=ne,f+=4):(m=t,ve===0&&Ee(ty)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function IC(){var a,m,_,A=f*305+34,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,4)===le?(m=le,f+=4):(m=t,ve===0&&Ee(ny)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function LC(){var a,m,_,A=f*305+35,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,4)===ee?(m=ee,f+=4):(m=t,ve===0&&Ee(ry)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function FC(){var a,m,_,A=f*305+36,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,8)===J?(m=J,f+=8):(m=t,ve===0&&Ee(am)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function N3(){var a,m,_,A=f*305+37,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,2)===de?(m=de,f+=2):(m=t,ve===0&&Ee(iy)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function U3(){var a,m,_,A=f*305+38,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,3)===se?(m=se,f+=3):(m=t,ve===0&&Ee(um)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function B3(){var a,m,_,A=f*305+39,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,5)===ue?(m=ue,f+=5):(m=t,ve===0&&Ee(sy)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function OC(){var a,m,_,A=f*305+40,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,7)===oe?(m=oe,f+=7):(m=t,ve===0&&Ee(lm)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function NC(){var a,m,_,A=f*305+41,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,5)===W?(m=W,f+=5):(m=t,ve===0&&Ee(oy)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function UC(){var a,m,_,A=f*305+42,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,6)===ce?(m=ce,f+=6):(m=t,ve===0&&Ee(nd)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function BC(){var a,m,_,A=f*305+43,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,6)===ye?(m=ye,f+=6):(m=t,ve===0&&Ee(ay)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function z3(){var a,m,_,A=f*305+44,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,6)===Te?(m=Te,f+=6):(m=t,ve===0&&Ee(uy)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function $3(){var a,m,_,A=f*305+45,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,8)===Pe?(m=Pe,f+=8):(m=t,ve===0&&Ee(ly)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function G3(){var a,m,_,A=f*305+46,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,8)===Je?(m=Je,f+=8):(m=t,ve===0&&Ee(cy)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function H3(){var a,m,_,A=f*305+47,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,8)===ie?(m=ie,f+=8):(m=t,ve===0&&Ee(fy)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function V3(){var a,m,_,A=f*305+48,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,8)===K?(m=K,f+=8):(m=t,ve===0&&Ee(cm)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function W3(){var a,m,_,A=f*305+49,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,9)===q?(m=q,f+=9):(m=t,ve===0&&Ee(hy)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function zC(){var a,m,_,A=f*305+50,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,5)===he?(m=he,f+=5):(m=t,ve===0&&Ee(ia)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function $C(){var a,m,_,A=f*305+51,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,5)===Se?(m=Se,f+=5):(m=t,ve===0&&Ee(Mo)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function GC(){var a,m,_,A=f*305+52,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,5)===te?(m=te,f+=5):(m=t,ve===0&&Ee(Yc)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function HC(){var a,m,_,A=f*305+53,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,5)===re?(m=re,f+=5):(m=t,ve===0&&Ee(Jc)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function VC(){var a,m,_,A=f*305+54,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,5)===Me?(m=Me,f+=5):(m=t,ve===0&&Ee(rd)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function WC(){var a,m,_,A=f*305+55,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,5)===Ce?(m=Ce,f+=5):(m=t,ve===0&&Ee(id)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function jC(){var a,m,_,A=f*305+56,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,13)===Ae?(m=Ae,f+=13):(m=t,ve===0&&Ee(dy)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function qC(){var a,m,_,A=f*305+57,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,4)===Oe?(m=Oe,f+=4):(m=t,ve===0&&Ee(Kc)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function XC(){var a,m,_,A=f*305+58,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,6)===ge?(m=ge,f+=6):(m=t,ve===0&&Ee(f3)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function YC(){var a,m,_,A=f*305+59,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,6)===Ne?(m=Ne,f+=6):(m=t,ve===0&&Ee(h3)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function JC(){var a,m,_,A=f*305+60,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,6)===ze?(m=ze,f+=6):(m=t,ve===0&&Ee(fm)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function KC(){var a,m,_,A=f*305+61,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,6)===ae?(m=ae,f+=6):(m=t,ve===0&&Ee(hm)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function ZC(){var a,m,_,A=f*305+62,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,6)===Ue?(m=Ue,f+=6):(m=t,ve===0&&Ee(d3)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function QC(){var a,m,_,A=f*305+63,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,6)===Ye?(m=Ye,f+=6):(m=t,ve===0&&Ee(py)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function eP(){var a,m,_,A=f*305+64,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,6)===He?(m=He,f+=6):(m=t,ve===0&&Ee(my)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function tP(){var a,m,_,A=f*305+65,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,6)===Be?(m=Be,f+=6):(m=t,ve===0&&Ee(p3)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function nP(){var a,m,_,A=f*305+66,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,6)===Ze?(m=Ze,f+=6):(m=t,ve===0&&Ee(vy)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function rP(){var a,m,_,A=f*305+67,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,6)===Ve?(m=Ve,f+=6):(m=t,ve===0&&Ee(m3)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function iP(){var a,m,_,A=f*305+68,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,6)===ot?(m=ot,f+=6):(m=t,ve===0&&Ee(gy)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function sP(){var a,m,_,A=f*305+69,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,7)===kt?(m=kt,f+=7):(m=t,ve===0&&Ee(v3)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function oP(){var a,m,_,A=f*305+70,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,7)===lt?(m=lt,f+=7):(m=t,ve===0&&Ee(yy)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function aP(){var a,m,_,A=f*305+71,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,7)===_t?(m=_t,f+=7):(m=t,ve===0&&Ee(xy)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function uP(){var a,m,_,A=f*305+72,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,7)===nn?(m=nn,f+=7):(m=t,ve===0&&Ee(_y)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function lP(){var a,m,_,A=f*305+73,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,7)===It?(m=It,f+=7):(m=t,ve===0&&Ee(wy)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function cP(){var a,m,_,A=f*305+74,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,7)===Gt?(m=Gt,f+=7):(m=t,ve===0&&Ee(by)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function fP(){var a,m,_,A=f*305+75,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,7)===Ot?(m=Ot,f+=7):(m=t,ve===0&&Ee(Sy)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function hP(){var a,m,_,A=f*305+76,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,7)===mt?(m=mt,f+=7):(m=t,ve===0&&Ee(dm)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function dP(){var a,m,_,A=f*305+77,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,7)===gt?(m=gt,f+=7):(m=t,ve===0&&Ee(pm)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function pP(){var a,m,_,A=f*305+78,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,11)===Ct?(m=Ct,f+=11):(m=t,ve===0&&Ee(Ey)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function mP(){var a,m,_,A=f*305+79,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,9)===dt?(m=dt,f+=9):(m=t,ve===0&&Ee(mm)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function vP(){var a,m,_,A=f*305+80,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,9)===Mt?(m=Mt,f+=9):(m=t,ve===0&&Ee(My)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function gP(){var a,m,_,A=f*305+81,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,9)===Dt?(m=Dt,f+=9):(m=t,ve===0&&Ee(sd)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function yP(){var a,m,_,A=f*305+82,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,11)===yt?(m=yt,f+=11):(m=t,ve===0&&Ee(g3)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function xP(){var a,m,_,A=f*305+83,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,15)===pt?(m=pt,f+=15):(m=t,ve===0&&Ee(od)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function _P(){var a,m,_,A=f*305+84,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,15)===Nt?(m=Nt,f+=15):(m=t,ve===0&&Ee(ad)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function wP(){var a,m,_,A=f*305+85,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,17)===pe?(m=pe,f+=17):(m=t,ve===0&&Ee(ud)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function bP(){var a,m,_,A=f*305+86,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,14)===Re?(m=Re,f+=14):(m=t,ve===0&&Ee(ld)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function SP(){var a,m,_,A=f*305+87,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,14)===We?(m=We,f+=14):(m=t,ve===0&&Ee(cd)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function EP(){var a,m,_,A=f*305+88,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,20)===ke?(m=ke,f+=20):(m=t,ve===0&&Ee(Zc)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function MP(){var a,m,_,A=f*305+89,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,20)===Le?(m=Le,f+=20):(m=t,ve===0&&Ee(vm)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function DP(){var a,m,_,A=f*305+90,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,10)===At?(m=At,f+=10):(m=t,ve===0&&Ee(gm)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function AP(){var a,m,_,A=f*305+91,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,10)===rt?(m=rt,f+=10):(m=t,ve===0&&Ee(ym)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function TP(){var a,m,_,A=f*305+92,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,10)===ht?(m=ht,f+=10):(m=t,ve===0&&Ee(Dy)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function CP(){var a,m,_,A=f*305+93,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,12)===it?(m=it,f+=12):(m=t,ve===0&&Ee(xm)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function PP(){var a,m,_,A=f*305+94,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,15)===$t?(m=$t,f+=15):(m=t,ve===0&&Ee(fd)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function RP(){var a,m,_,A=f*305+95,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,15)===zt?(m=zt,f+=15):(m=t,ve===0&&Ee(y3)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function kP(){var a,m,_,A=f*305+96,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,10)===Wt?(m=Wt,f+=10):(m=t,ve===0&&Ee(x3)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function IP(){var a,m,_,A=f*305+97,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,10)===un?(m=un,f+=10):(m=t,ve===0&&Ee(hd)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function LP(){var a,m,_,A=f*305+98,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,10)===Jt?(m=Jt,f+=10):(m=t,ve===0&&Ee(_m)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function FP(){var a,m,_,A=f*305+99,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,12)===sn?(m=sn,f+=12):(m=t,ve===0&&Ee(wm)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function OP(){var a,m,_,A=f*305+100,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,15)===ct?(m=ct,f+=15):(m=t,ve===0&&Ee(tn)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function NP(){var a,m,_,A=f*305+101,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,15)===xe?(m=xe,f+=15):(m=t,ve===0&&Ee(yi)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function UP(){var a,m,_,A=f*305+102,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,13)===je?(m=je,f+=13):(m=t,ve===0&&Ee(Ar)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function BP(){var a,m,_,A=f*305+103,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,19)===bt?(m=bt,f+=19):(m=t,ve===0&&Ee(ii)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function zP(){var a,m,_,A=f*305+104,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,14)===qt?(m=qt,f+=14):(m=t,ve===0&&Ee(Ou)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function $P(){var a,m,_,A=f*305+105,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,14)===ln?(m=ln,f+=14):(m=t,ve===0&&Ee(bm)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function GP(){var a,m,_,A=f*305+106,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,13)===hn?(m=hn,f+=13):(m=t,ve===0&&Ee(qr)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function HP(){var a,m,_,A=f*305+107,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,14)===xn?(m=xn,f+=14):(m=t,ve===0&&Ee(dd)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function VP(){var a,m,_,A=f*305+108,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,14)===Xn?(m=Xn,f+=14):(m=t,ve===0&&Ee(Al)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function WP(){var a,m,_,A=f*305+109,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,16)===gn?(m=gn,f+=16):(m=t,ve===0&&Ee(Qc)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function jP(){var a,m,_,A=f*305+110,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,22)===Oi?(m=Oi,f+=22):(m=t,ve===0&&Ee(Tl)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function qP(){var a,m,_,A=f*305+111,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,17)===Ni?(m=Ni,f+=17):(m=t,ve===0&&Ee(Sm)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function XP(){var a,m,_,A=f*305+112,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,17)===Ra?(m=Ra,f+=17):(m=t,ve===0&&Ee(Em)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function YP(){var a,m,_,A=f*305+113,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,11)===Ws?(m=Ws,f+=11):(m=t,ve===0&&Ee(Mm)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function JP(){var a,m,_,A=f*305+114,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,12)===ka?(m=ka,f+=12):(m=t,ve===0&&Ee(Dm)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function KP(){var a,m,_,A=f*305+115,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,12)===bs?(m=bs,f+=12):(m=t,ve===0&&Ee(Ba)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function ZP(){var a,m,_,A=f*305+116,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,16)===ti?(m=ti,f+=16):(m=t,ve===0&&Ee(Ht)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function QP(){var a,m,_,A=f*305+117,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,17)===js?(m=js,f+=17):(m=t,ve===0&&Ee(pd)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function e8(){var a,m,_,A=f*305+118,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,17)===qs?(m=qs,f+=17):(m=t,ve===0&&Ee(Am)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function t8(){var a,m,_,A=f*305+119,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,7)===An?(m=An,f+=7):(m=t,ve===0&&Ee(Do)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function n8(){var a,m,_,A=f*305+120,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,8)===Ui?(m=Ui,f+=8):(m=t,ve===0&&Ee(za)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function r8(){var a,m,_,A=f*305+121,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,8)===vo?(m=vo,f+=8):(m=t,ve===0&&Ee(ef)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function i8(){var a,m,_,A=f*305+122,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,7)===bl?(m=bl,f+=7):(m=t,ve===0&&Ee(tf)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function s8(){var a,m,_,A=f*305+123,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,8)===os?(m=os,f+=8):(m=t,ve===0&&Ee(Tm)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function o8(){var a,m,_,A=f*305+124,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,8)===Xs?(m=Xs,f+=8):(m=t,ve===0&&Ee(Cm)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function a8(){var a,m,_,A=f*305+125,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,7)===as?(m=as,f+=7):(m=t,ve===0&&Ee(sa)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function u8(){var a,m,_,A=f*305+126,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,8)===Ss?(m=Ss,f+=8):(m=t,ve===0&&Ee(nf)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function l8(){var a,m,_,A=f*305+127,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,8)===Bi?(m=Bi,f+=8):(m=t,ve===0&&Ee(Pm)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function c8(){var a,m,_,A=f*305+128,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,11)===Hr?(m=Hr,f+=11):(m=t,ve===0&&Ee(md)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function f8(){var a,m,_,A=f*305+129,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,12)===ni?(m=ni,f+=12):(m=t,ve===0&&Ee(oa)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function h8(){var a,m,_,A=f*305+130,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,12)===us?(m=us,f+=12):(m=t,ve===0&&Ee(vd)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function d8(){var a,m,_,A=f*305+131,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,9)===ku?(m=ku,f+=9):(m=t,ve===0&&Ee(rf)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function p8(){var a,m,_,A=f*305+132,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,10)===Ia?(m=Ia,f+=10):(m=t,ve===0&&Ee(sf)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function m8(){var a,m,_,A=f*305+133,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,10)===go?(m=go,f+=10):(m=t,ve===0&&Ee(Wi)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function v8(){var a,m,_,A=f*305+134,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,11)===Ko?(m=Ko,f+=11):(m=t,ve===0&&Ee($a)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function g8(){var a,m,_,A=f*305+135,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,12)===Ys?(m=Ys,f+=12):(m=t,ve===0&&Ee(aa)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function y8(){var a,m,_,A=f*305+136,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,12)===Js?(m=Js,f+=12):(m=t,ve===0&&Ee(gd)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function x8(){var a,m,_,A=f*305+137,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,12)===ls?(m=ls,f+=12):(m=t,ve===0&&Ee(fs)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function _8(){var a,m,_,A=f*305+138,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,13)===Nr?(m=Nr,f+=13):(m=t,ve===0&&Ee(Ay)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function w8(){var a,m,_,A=f*305+139,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,13)===Iu?(m=Iu,f+=13):(m=t,ve===0&&Ee(Cl)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function b8(){var a,m,_,A=f*305+140,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,12)===zi?(m=zi,f+=12):(m=t,ve===0&&Ee(Rm)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function S8(){var a,m,_,A=f*305+141,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,13)===Zo?(m=Zo,f+=13):(m=t,ve===0&&Ee(_3)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function E8(){var a,m,_,A=f*305+142,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,13)===Ks?(m=Ks,f+=13):(m=t,ve===0&&Ee(Ty)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function M8(){var a,m,_,A=f*305+143,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,14)===Qo?(m=Qo,f+=14):(m=t,ve===0&&Ee(Cy)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function D8(){var a,m,_,A=f*305+144,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,15)===Zs?(m=Zs,f+=15):(m=t,ve===0&&Ee(yd)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function A8(){var a,m,_,A=f*305+145,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,15)===Qs?(m=Qs,f+=15):(m=t,ve===0&&Ee(km)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function T8(){var a,m,_,A=f*305+146,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,9)===La?(m=La,f+=9):(m=t,ve===0&&Ee(Pl)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function C8(){var a,m,_,A=f*305+147,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,10)===Yn?(m=Yn,f+=10):(m=t,ve===0&&Ee(Py)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function P8(){var a,m,_,A=f*305+148,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,10)===$i?(m=$i,f+=10):(m=t,ve===0&&Ee(Ry)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function R8(){var a,m,_,A=f*305+149,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,13)===yo?(m=yo,f+=13):(m=t,ve===0&&Ee(of)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function k8(){var a,m,_,A=f*305+150,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,15)===xo?(m=xo,f+=15):(m=t,ve===0&&Ee(w3)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function I8(){var a,m,_,A=f*305+151,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,15)===Jn?(m=Jn,f+=15):(m=t,ve===0&&Ee(b3)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function L8(){var a,m,_,A=f*305+152,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,6)===Gi?(m=Gi,f+=6):(m=t,ve===0&&Ee(ky)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function j3(){var a,m,_,A=f*305+153,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,4)===_e?(m=_e,f+=4):(m=t,ve===0&&Ee(Iy)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function q3(){var a,m,_,A=f*305+154,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,5)===Ke?(m=Ke,f+=5):(m=t,ve===0&&Ee(Nu)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function F8(){var a,m,_,A=f*305+155,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,9)===at?(m=at,f+=9):(m=t,ve===0&&Ee(S3)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function O8(){var a,m,_,A=f*305+156,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,7)===wt?(m=wt,f+=7):(m=t,ve===0&&Ee(E3)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function N8(){var a,m,_,A=f*305+157,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,5)===Wn?(m=Wn,f+=5):(m=t,ve===0&&Ee(ua)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function U8(){var a,m,_,A=f*305+158,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,7)===or?(m=or,f+=7):(m=t,ve===0&&Ee(M3)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function B8(){var a,m,_,A=f*305+159,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,4)===Dr?(m=Dr,f+=4):(m=t,ve===0&&Ee(Ly)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function z8(){var a,m,_,A=f*305+160,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,9)===Sn?(m=Sn,f+=9):(m=t,ve===0&&Ee(D3)),m!==t?(_=et(),_!==t?(we=a,a=Qe(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function wY(){var a,m,_,A=f*305+161,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,m=uR(),m!==t?(_=en(),we=a,a=rX(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function bY(){var a,m,_,A=f*305+162,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,m=uR(),m!==t?(_=en(),we=a,a=iX(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function SY(){var a,m,_,A=f*305+163,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,m=aR(),m!==t?(_=en(),we=a,a=sX(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function EY(){var a,m,_,A=f*305+164,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,m=aR(),m!==t?(_=en(),we=a,a=oX(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function MY(){var a,m,_,A=f*305+165,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,4)===Fa?(m=Fa,f+=4):(m=t,ve===0&&Ee(Fy)),m===t&&(n.substr(f,5)===Ur?(m=Ur,f+=5):(m=t,ve===0&&Ee(Ga))),m!==t?(_=en(),we=a,a=aX(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function $8(){var a,m=f*305+166,_=Y[m];return _?(f=_.nextPos,_.result):(ve++,a=tC(),a===t&&(a=nC(),a===t&&(a=O3(),a===t&&(a=rC(),a===t&&(a=iC(),a===t&&(a=sC(),a===t&&(a=oC(),a===t&&(a=aC(),a===t&&(a=uC(),a===t&&(a=lC(),a===t&&(a=cC(),a===t&&(a=fC(),a===t&&(a=hC(),a===t&&(a=dC(),a===t&&(a=pC(),a===t&&(a=mC(),a===t&&(a=vC(),a===t&&(a=gC(),a===t&&(a=yC(),a===t&&(a=xC(),a===t&&(a=_C(),a===t&&(a=wC(),a===t&&(a=bC(),a===t&&(a=SC(),a===t&&(a=EC(),a===t&&(a=MC(),a===t&&(a=DC(),a===t&&(a=AC(),a===t&&(a=TC(),a===t&&(a=CC(),a===t&&(a=PC(),a===t&&(a=RC(),a===t&&(a=kC(),a===t&&(a=IC(),a===t&&(a=LC(),a===t&&(a=FC(),a===t&&(a=N3(),a===t&&(a=U3(),a===t&&(a=B3(),a===t&&(a=OC(),a===t&&(a=NC(),a===t&&(a=UC(),a===t&&(a=BC(),a===t&&(a=z3(),a===t&&(a=$3(),a===t&&(a=G3(),a===t&&(a=H3(),a===t&&(a=V3(),a===t&&(a=W3(),a===t&&(a=zC(),a===t&&(a=$C(),a===t&&(a=GC(),a===t&&(a=HC(),a===t&&(a=VC(),a===t&&(a=WC(),a===t&&(a=jC(),a===t&&(a=qC(),a===t&&(a=XC(),a===t&&(a=YC(),a===t&&(a=JC(),a===t&&(a=KC(),a===t&&(a=ZC(),a===t&&(a=QC(),a===t&&(a=eP(),a===t&&(a=tP(),a===t&&(a=nP(),a===t&&(a=rP(),a===t&&(a=iP(),a===t&&(a=sP(),a===t&&(a=oP(),a===t&&(a=aP(),a===t&&(a=uP(),a===t&&(a=lP(),a===t&&(a=cP(),a===t&&(a=fP(),a===t&&(a=hP(),a===t&&(a=dP(),a===t&&(a=pP(),a===t&&(a=mP(),a===t&&(a=vP(),a===t&&(a=gP(),a===t&&(a=yP(),a===t&&(a=xP(),a===t&&(a=_P(),a===t&&(a=wP(),a===t&&(a=bP(),a===t&&(a=SP(),a===t&&(a=EP(),a===t&&(a=MP(),a===t&&(a=DP(),a===t&&(a=AP(),a===t&&(a=TP(),a===t&&(a=CP(),a===t&&(a=PP(),a===t&&(a=RP(),a===t&&(a=kP(),a===t&&(a=IP(),a===t&&(a=LP(),a===t&&(a=FP(),a===t&&(a=OP(),a===t&&(a=NP(),a===t&&(a=UP(),a===t&&(a=BP(),a===t&&(a=zP(),a===t&&(a=$P(),a===t&&(a=GP(),a===t&&(a=HP(),a===t&&(a=VP(),a===t&&(a=WP(),a===t&&(a=jP(),a===t&&(a=qP(),a===t&&(a=XP(),a===t&&(a=YP(),a===t&&(a=JP(),a===t&&(a=KP(),a===t&&(a=ZP(),a===t&&(a=QP(),a===t&&(a=e8(),a===t&&(a=t8(),a===t&&(a=n8(),a===t&&(a=r8(),a===t&&(a=i8(),a===t&&(a=s8(),a===t&&(a=o8(),a===t&&(a=a8(),a===t&&(a=u8(),a===t&&(a=l8(),a===t&&(a=c8(),a===t&&(a=f8(),a===t&&(a=h8(),a===t&&(a=d8(),a===t&&(a=p8(),a===t&&(a=m8(),a===t&&(a=v8(),a===t&&(a=g8(),a===t&&(a=y8(),a===t&&(a=x8(),a===t&&(a=_8(),a===t&&(a=w8(),a===t&&(a=b8(),a===t&&(a=S8(),a===t&&(a=E8(),a===t&&(a=M8(),a===t&&(a=D8(),a===t&&(a=A8(),a===t&&(a=T8(),a===t&&(a=C8(),a===t&&(a=P8(),a===t&&(a=R8(),a===t&&(a=k8(),a===t&&(a=I8(),a===t&&(a=L8(),a===t&&(a=j3(),a===t&&(a=q3(),a===t&&(a=F8(),a===t&&(a=O8(),a===t&&(a=N8(),a===t&&(a=U8(),a===t&&(a=B8(),a===t&&(a=z8()))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))),ve--,a===t&&ve===0&&Ee(A3),Y[m]={nextPos:f,result:a},a)}function G8(){var a,m,_,A=f*305+167,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,2)===_o?(m=_o,f+=2):(m=t,ve===0&&Ee(T3)),m!==t?(_=en(),we=a,a=fn(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function H8(){var a,m,_,A=f*305+168,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,2)===Fn?(m=Fn,f+=2):(m=t,ve===0&&Ee(Oy)),m!==t?(_=en(),we=a,a=fn(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function V8(){var a,m,_,A=f*305+169,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,2)===wo?(m=wo,f+=2):(m=t,ve===0&&Ee(xd)),m!==t?(_=en(),we=a,a=fn(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function W8(){var a,m,_,A=f*305+170,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,2)===Hi?(m=Hi,f+=2):(m=t,ve===0&&Ee(Im)),m!==t?(_=en(),we=a,a=fn(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function j8(){var a,m,_,A=f*305+171,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,2)===Vr?(m=Vr,f+=2):(m=t,ve===0&&Ee(Ny)),m!==t?(_=en(),we=a,a=fn(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function q8(){var a,m,_,A=f*305+172,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,2)===Oa?(m=Oa,f+=2):(m=t,ve===0&&Ee(Lm)),m!==t?(_=en(),we=a,a=fn(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function X8(){var a,m,_,A=f*305+173,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,2)===Sl?(m=Sl,f+=2):(m=t,ve===0&&Ee(Uy)),m!==t?(_=en(),we=a,a=fn(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function Y8(){var a,m,_,A=f*305+174,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,2)===bo?(m=bo,f+=2):(m=t,ve===0&&Ee(_d)),m!==t?(_=en(),we=a,a=fn(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function J8(){var a,m,_,A=f*305+175,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,2)===dr?(m=dr,f+=2):(m=t,ve===0&&Ee(By)),m!==t?(_=en(),we=a,a=fn(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function K8(){var a,m,_,A=f*305+176,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,2)===gi?(m=gi,f+=2):(m=t,ve===0&&Ee(C3)),m!==t?(_=en(),we=a,a=fn(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function Z8(){var a,m,_,A=f*305+177,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,2)===ar?(m=ar,f+=2):(m=t,ve===0&&Ee(Ds)),m!==t?(_=en(),we=a,a=fn(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function DY(){var a,m,_,A=f*305+178,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,2)===ur?(m=ur,f+=2):(m=t,ve===0&&Ee(Fm)),m!==t?(_=en(),we=a,a=fn(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function AY(){var a,m,_,A=f*305+179,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,2)===Es?(m=Es,f+=2):(m=t,ve===0&&Ee(P3)),m!==t?(_=en(),we=a,a=fn(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function TY(){var a,m,_,A=f*305+180,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,2)===Hh?(m=Hh,f+=2):(m=t,ve===0&&Ee(Ha)),m!==t?(_=en(),we=a,a=fn(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function CY(){var a,m,_,A=f*305+181,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,2)===W0?(m=W0,f+=2):(m=t,ve===0&&Ee(wd)),m!==t?(_=en(),we=a,a=fn(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function PY(){var a,m,_,A=f*305+182,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,3)===ea?(m=ea,f+=3):(m=t,ve===0&&Ee(Rl)),m!==t?(_=en(),we=a,a=fn(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function RY(){var a,m,_,A=f*305+183,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,3)===ta?(m=ta,f+=3):(m=t,ve===0&&Ee(Om)),m!==t?(_=en(),we=a,a=fn(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function kY(){var a,m,_,A=f*305+184,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,2)===j0?(m=j0,f+=2):(m=t,ve===0&&Ee(Nm)),m!==t?(_=en(),we=a,a=fn(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function IY(){var a,m,_,A=f*305+185,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,2)===El?(m=El,f+=2):(m=t,ve===0&&Ee(Um)),m!==t?(_=en(),we=a,a=fn(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function LY(){var a,m,_,A=f*305+186,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,2)===q0?(m=q0,f+=2):(m=t,ve===0&&Ee(R3)),m!==t?(_=en(),we=a,a=fn(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function FY(){var a,m,_,A=f*305+187,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.substr(f,2)===X0?(m=X0,f+=2):(m=t,ve===0&&Ee(zy)),m!==t?(_=en(),we=a,a=fn(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function To(){var a,m,_,A=f*305+188,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.charCodeAt(f)===40?(m=Vh,f++):(m=t,ve===0&&Ee($y)),m!==t?(_=en(),we=a,a=fn(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function la(){var a,m,_,A=f*305+189,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.charCodeAt(f)===41?(m=Wh,f++):(m=t,ve===0&&Ee(bd)),m!==t?(_=en(),we=a,a=fn(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function X3(){var a,m,_,A=f*305+190,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.charCodeAt(f)===91?(m=U1,f++):(m=t,ve===0&&Ee(k3)),m!==t?(_=en(),we=a,a=fn(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function Y3(){var a,m,_,A=f*305+191,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.charCodeAt(f)===93?(m=B1,f++):(m=t,ve===0&&Ee(I3)),m!==t?(_=en(),we=a,a=fn(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function Sd(){var a,m,_,A=f*305+192,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.charCodeAt(f)===123?(m=z1,f++):(m=t,ve===0&&Ee(g)),m!==t?(_=en(),we=a,a=fn(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function Ed(){var a,m,_,A=f*305+193,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.charCodeAt(f)===125?(m=Y0,f++):(m=t,ve===0&&Ee(y)),m!==t?(_=en(),we=a,a=fn(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function OY(){var a,m,_,A=f*305+194,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.charCodeAt(f)===46?(m=Bc,f++):(m=t,ve===0&&Ee(I)),m!==t?(_=en(),we=a,a=fn(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function Xr(){var a,m,_,A=f*305+195,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.charCodeAt(f)===44?(m=zc,f++):(m=t,ve===0&&Ee(X)),m!==t?(_=en(),we=a,a=fn(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function J3(){var a,m,_,A=f*305+196,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.charCodeAt(f)===58?(m=jh,f++):(m=t,ve===0&&Ee(Q)),m!==t?(_=en(),we=a,a=fn(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function Bm(){var a,m,_,A=f*305+197,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.charCodeAt(f)===61?(m=$1,f++):(m=t,ve===0&&Ee(fe)),m!==t?(_=en(),we=a,a=fn(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function Ts(){var a,m,_,A=f*305+198,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.charCodeAt(f)===59?(m=qh,f++):(m=t,ve===0&&Ee(De)),m!==t?(_=en(),we=a,a=fn(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function NY(){var a,m,_,A=f*305+199,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.charCodeAt(f)===33?(m=G1,f++):(m=t,ve===0&&Ee(Ge)),m!==t?(_=en(),we=a,a=fn(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function K3(){var a,m,_,A=f*305+200,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.charCodeAt(f)===45?(m=$c,f++):(m=t,ve===0&&Ee(st)),m!==t?(_=en(),we=a,a=fn(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function UY(){var a,m,_,A=f*305+201,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.charCodeAt(f)===126?(m=Ms,f++):(m=t,ve===0&&Ee(Tt)),m!==t?(_=en(),we=a,a=fn(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function Z3(){var a,m,_,A=f*305+202,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.charCodeAt(f)===43?(m=Gc,f++):(m=t,ve===0&&Ee(Zt)),m!==t?(_=en(),we=a,a=fn(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function Q8(){var a,m,_,A=f*305+203,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.charCodeAt(f)===42?(m=Ml,f++):(m=t,ve===0&&Ee(on)),m!==t?(_=en(),we=a,a=fn(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function eR(){var a,m,_,A=f*305+204,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.charCodeAt(f)===47?(m=So,f++):(m=t,ve===0&&Ee(Ft)),m!==t?(_=en(),we=a,a=fn(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function tR(){var a,m,_,A=f*305+205,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.charCodeAt(f)===37?(m=J0,f++):(m=t,ve===0&&Ee(Bn)),m!==t?(_=en(),we=a,a=fn(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function nR(){var a,m,_,A=f*305+206,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.charCodeAt(f)===60?(m=Dl,f++):(m=t,ve===0&&Ee(Kn)),m!==t?(_=en(),we=a,a=fn(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function rR(){var a,m,_,A=f*305+207,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.charCodeAt(f)===62?(m=H1,f++):(m=t,ve===0&&Ee(As)),m!==t?(_=en(),we=a,a=fn(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function iR(){var a,m,_,A=f*305+208,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.charCodeAt(f)===124?(m=K0,f++):(m=t,ve===0&&Ee(tt)),m!==t?(_=en(),we=a,a=fn(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function sR(){var a,m,_,A=f*305+209,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.charCodeAt(f)===94?(m=lr,f++):(m=t,ve===0&&Ee(qe)),m!==t?(_=en(),we=a,a=fn(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function oR(){var a,m,_,A=f*305+210,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.charCodeAt(f)===38?(m=Xh,f++):(m=t,ve===0&&Ee(ut)),m!==t?(_=en(),we=a,a=fn(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function BY(){var a,m,_,A=f*305+211,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,n.charCodeAt(f)===63?(m=na,f++):(m=t,ve===0&&Ee(Lt)),m!==t?(_=en(),we=a,a=fn(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function hs(){var a,m,_,A,b,me,Ie,nt=f*305+212,Kt=Y[nt];if(Kt)return f=Kt.nextPos,Kt.result;if(a=f,m=f,ve++,_=$8(),ve--,_===t?m=void 0:(f=m,m=t),m!==t){if(_=f,A=f,em.test(n.charAt(f))?(b=n.charAt(f),f++):(b=t,ve===0&&Ee(Qt)),b!==t){for(me=[],Ua.test(n.charAt(f))?(Ie=n.charAt(f),f++):(Ie=t,ve===0&&Ee(Nn));Ie!==t;)me.push(Ie),Ua.test(n.charAt(f))?(Ie=n.charAt(f),f++):(Ie=t,ve===0&&Ee(Nn));b=[b,me],A=b}else f=A,A=t;A!==t?_=n.substring(_,f):_=A,_!==t?(A=en(),we=a,a=uX(_,A)):(f=a,a=t)}else f=a,a=t;return Y[nt]={nextPos:f,result:a},a}function jy(){var a,m,_,A=f*305+213,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,m=f,ve++,_=$8(),ve--,_===t?m=void 0:(f=m,m=t),m!==t?(_=hs(),_!==t?(we=a,a=lX(_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function aR(){var a,m,_,A,b=f*305+214,me=Y[b];return me?(f=me.nextPos,me.result):(a=f,m=f,_=zY(),_!==t?(A=Q3(),A===t&&(A=null),_=[_,A],m=_):(f=m,m=t),m!==t?a=n.substring(a,f):a=m,a===t&&(a=f,m=f,_=$Y(),_!==t?(A=Q3(),A===t&&(A=null),_=[_,A],m=_):(f=m,m=t),m!==t?a=n.substring(a,f):a=m,a===t&&(a=f,m=f,_=GY(),_!==t?(A=Q3(),A===t&&(A=null),_=[_,A],m=_):(f=m,m=t),m!==t?a=n.substring(a,f):a=m)),Y[b]={nextPos:f,result:a},a)}function Q3(){var a,m=f*305+215,_=Y[m];return _?(f=_.nextPos,_.result):(tm.test(n.charAt(f))?(a=n.charAt(f),f++):(a=t,ve===0&&Ee(an)),Y[m]={nextPos:f,result:a},a)}function zY(){var a,m,_,A,b,me=f*305+216,Ie=Y[me];if(Ie)return f=Ie.nextPos,Ie.result;if(a=f,m=f,Hc.test(n.charAt(f))?(_=n.charAt(f),f++):(_=t,ve===0&&Ee(In)),_!==t){for(A=[],b=qy();b!==t;)A.push(b),b=qy();_=[_,A],m=_}else f=m,m=t;return m!==t?a=n.substring(a,f):a=m,Y[me]={nextPos:f,result:a},a}function $Y(){var a,m,_,A,b=f*305+217,me=Y[b];if(me)return f=me.nextPos,me.result;if(a=f,n.charCodeAt(f)===48?(m=Na,f++):(m=t,ve===0&&Ee(pr)),m!==t){for(_=[],cs.test(n.charAt(f))?(A=n.charAt(f),f++):(A=t,ve===0&&Ee(wn));A!==t;)_.push(A),cs.test(n.charAt(f))?(A=n.charAt(f),f++):(A=t,ve===0&&Ee(wn));m=[m,_],a=m}else f=a,a=t;return Y[b]={nextPos:f,result:a},a}function GY(){var a,m,_,A,b,me=f*305+218,Ie=Y[me];if(Ie)return f=Ie.nextPos,Ie.result;if(a=f,n.charCodeAt(f)===48?(m=Na,f++):(m=t,ve===0&&Ee(pr)),m!==t)if(Vc.test(n.charAt(f))?(_=n.charAt(f),f++):(_=t,ve===0&&Ee(Va)),_!==t){for(A=[],cr.test(n.charAt(f))?(b=n.charAt(f),f++):(b=t,ve===0&&Ee(Gy));b!==t;)A.push(b),cr.test(n.charAt(f))?(b=n.charAt(f),f++):(b=t,ve===0&&Ee(Gy));m=[m,_,A],a=m}else f=a,a=t;else f=a,a=t;return Y[me]={nextPos:f,result:a},a}function qy(){var a,m=f*305+219,_=Y[m];return _?(f=_.nextPos,_.result):(ri.test(n.charAt(f))?(a=n.charAt(f),f++):(a=t,ve===0&&Ee(Eq)),Y[m]={nextPos:f,result:a},a)}function uR(){var a,m,_,A,b,me=f*305+220,Ie=Y[me];return Ie?(f=Ie.nextPos,Ie.result):(a=f,m=f,_=HY(),_!==t?(A=lR(),A===t&&(A=null),b=cR(),b===t&&(b=null),_=[_,A,b],m=_):(f=m,m=t),m!==t?a=n.substring(a,f):a=m,a===t&&(a=f,m=f,_=Xy(),_!==t?(A=lR(),A!==t?(b=cR(),b===t&&(b=null),_=[_,A,b],m=_):(f=m,m=t)):(f=m,m=t),m!==t?a=n.substring(a,f):a=m),Y[me]={nextPos:f,result:a},a)}function HY(){var a,m,_,A,b,me=f*305+221,Ie=Y[me];return Ie?(f=Ie.nextPos,Ie.result):(a=f,m=f,_=Xy(),_===t&&(_=null),n.charCodeAt(f)===46?(A=Bc,f++):(A=t,ve===0&&Ee(I)),A!==t?(b=Xy(),b===t&&(b=null),_=[_,A,b],m=_):(f=m,m=t),m!==t?a=n.substring(a,f):a=m,Y[me]={nextPos:f,result:a},a)}function lR(){var a,m,_,A,b,me=f*305+222,Ie=Y[me];return Ie?(f=Ie.nextPos,Ie.result):(ve++,a=f,m=f,Wr.test(n.charAt(f))?(_=n.charAt(f),f++):(_=t,ve===0&&Ee(Dq)),_!==t?(Jh.test(n.charAt(f))?(A=n.charAt(f),f++):(A=t,ve===0&&Ee(Aq)),A===t&&(A=null),b=Xy(),b!==t?(_=[_,A,b],m=_):(f=m,m=t)):(f=m,m=t),m!==t?a=n.substring(a,f):a=m,ve--,a===t&&(m=t,ve===0&&Ee(Mq)),Y[me]={nextPos:f,result:a},a)}function Xy(){var a,m,_,A=f*305+223,b=Y[A];if(b)return f=b.nextPos,b.result;if(a=f,m=[],_=qy(),_!==t)for(;_!==t;)m.push(_),_=qy();else m=t;return m!==t?a=n.substring(a,f):a=m,Y[A]={nextPos:f,result:a},a}function cR(){var a,m=f*305+224,_=Y[m];return _?(f=_.nextPos,_.result):(Wc.test(n.charAt(f))?(a=n.charAt(f),f++):(a=t,ve===0&&Ee(Tq)),a===t&&(n.substr(f,2)===eo?(a=eo,f+=2):(a=t,ve===0&&Ee(Cq)),a===t&&(n.substr(f,2)===Z0?(a=Z0,f+=2):(a=t,ve===0&&Ee(Pq)))),Y[m]={nextPos:f,result:a},a)}function VY(){var a,m,_,A,b=f*305+225,me=Y[b];return me?(f=me.nextPos,me.result):(ve++,a=wY(),a===t&&(a=SY(),a===t&&(a=EY(),a===t&&(a=MY(),a===t&&(a=bY(),a===t&&(a=f,m=To(),m!==t?(_=ca(),_!==t?(A=la(),A!==t?(we=a,a=cX(m,_,A)):(f=a,a=t)):(f=a,a=t)):(f=a,a=t),a===t&&(a=f,m=hs(),m!==t&&(we=a,m=fX(m)),a=m)))))),ve--,a===t&&(m=t,ve===0&&Ee(Rq)),Y[b]={nextPos:f,result:a},a)}function WY(){var a,m,_,A,b,me=f*305+226,Ie=Y[me];if(Ie)return f=Ie.nextPos,Ie.result;if(a=f,m=f,_=jY(),_!==t){for(A=[],b=Yy();b!==t;)A.push(b),b=Yy();_=[_,A],m=_}else f=m,m=t;if(m===t)if(m=f,_=VY(),_!==t){for(A=[],b=Yy();b!==t;)A.push(b),b=Yy();_=[_,A],m=_}else f=m,m=t;return m!==t&&(we=a,m=hX(m)),a=m,Y[me]={nextPos:f,result:a},a}function Yy(){var a,m=f*305+227,_=Y[m];return _?(f=_.nextPos,_.result):(a=fR(),a===t&&(a=hR(),a===t&&(a=V8(),a===t&&(a=W8()))),Y[m]={nextPos:f,result:a},a)}function fR(){var a,m,_,A,b=f*305+228,me=Y[b];return me?(f=me.nextPos,me.result):(a=f,m=X3(),m!==t?(_=ca(),_!==t?(A=Y3(),A!==t?(we=a,a=dX(m,_,A)):(f=a,a=t)):(f=a,a=t)):(f=a,a=t),Y[b]={nextPos:f,result:a},a)}function hR(){var a,m,_,A=f*305+229,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,m=OY(),m!==t?(_=hs(),_!==t?(we=a,a=pX(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function jY(){var a,m,_,A,b=f*305+230,me=Y[b];return me?(f=me.nextPos,me.result):(a=f,m=qY(),m!==t?(_=dR(),_===t&&(_=null),A=la(),A!==t?(we=a,a=mX(m,_,A)):(f=a,a=t)):(f=a,a=t),Y[b]={nextPos:f,result:a},a)}function dR(){var a,m,_,A,b,me,Ie=f*305+231,nt=Y[Ie];if(nt)return f=nt.nextPos,nt.result;if(a=f,m=j3(),m!==t&&(we=a,m=vX(m)),a=m,a===t)if(a=f,m=Uu(),m!==t){for(_=[],A=f,b=Xr(),b!==t?(me=Uu(),me!==t?(b=[b,me],A=b):(f=A,A=t)):(f=A,A=t);A!==t;)_.push(A),A=f,b=Xr(),b!==t?(me=Uu(),me!==t?(b=[b,me],A=b):(f=A,A=t)):(f=A,A=t);we=a,a=gX(m,_)}else f=a,a=t;return Y[Ie]={nextPos:f,result:a},a}function qY(){var a,m,_,A,b,me=f*305+232,Ie=Y[me];return Ie?(f=Ie.nextPos,Ie.result):(a=f,m=f,_=XY(),_!==t?(A=pR(),A!==t?(b=To(),b!==t?(we=m,m=q6(_,A,b)):(f=m,m=t)):(f=m,m=t)):(f=m,m=t),m===t&&(m=f,_=Md(),_!==t?(A=pR(),A===t&&(A=null),b=To(),b!==t?(we=m,m=q6(_,A,b)):(f=m,m=t)):(f=m,m=t)),m!==t&&(we=a,m=yX(m)),a=m,Y[me]={nextPos:f,result:a},a)}function pR(){var a,m=f*305+233,_=Y[m];return _?(f=_.nextPos,_.result):(a=fR(),a===t&&(a=hR()),Y[m]={nextPos:f,result:a},a)}function XY(){var a,m,_,A,b,me=f*305+234,Ie=Y[me];return Ie?(f=Ie.nextPos,Ie.result):(a=f,m=Md(),m!==t?(_=To(),_!==t?(A=dR(),A===t&&(A=null),b=la(),b!==t?(we=a,a=xX(m,_,A,b)):(f=a,a=t)):(f=a,a=t)):(f=a,a=t),Y[me]={nextPos:f,result:a},a)}function zm(){var a,m,_,A=f*305+235,b=Y[A];return b?(f=b.nextPos,b.result):(ve++,a=WY(),a===t&&(a=f,m=V8(),m===t&&(m=W8(),m===t&&(m=Z3(),m===t&&(m=K3(),m===t&&(m=NY(),m===t&&(m=UY()))))),m!==t?(_=zm(),_!==t?(we=a,a=_X(m,_)):(f=a,a=t)):(f=a,a=t)),ve--,a===t&&(m=t,ve===0&&Ee(kq)),Y[A]={nextPos:f,result:a},a)}function eS(){var a,m,_,A,b,me,Ie=f*305+236,nt=Y[Ie];if(nt)return f=nt.nextPos,nt.result;if(a=f,m=zm(),m!==t){for(_=[],A=f,b=Q8(),b===t&&(b=eR(),b===t&&(b=tR())),b!==t?(me=zm(),me!==t?(b=[b,me],A=b):(f=A,A=t)):(f=A,A=t);A!==t;)_.push(A),A=f,b=Q8(),b===t&&(b=eR(),b===t&&(b=tR())),b!==t?(me=zm(),me!==t?(b=[b,me],A=b):(f=A,A=t)):(f=A,A=t);we=a,a=Ao(m,_)}else f=a,a=t;return Y[Ie]={nextPos:f,result:a},a}function tS(){var a,m,_,A,b,me,Ie=f*305+237,nt=Y[Ie];if(nt)return f=nt.nextPos,nt.result;if(a=f,m=eS(),m!==t){for(_=[],A=f,b=Z3(),b===t&&(b=K3()),b!==t?(me=eS(),me!==t?(b=[b,me],A=b):(f=A,A=t)):(f=A,A=t);A!==t;)_.push(A),A=f,b=Z3(),b===t&&(b=K3()),b!==t?(me=eS(),me!==t?(b=[b,me],A=b):(f=A,A=t)):(f=A,A=t);we=a,a=Ao(m,_)}else f=a,a=t;return Y[Ie]={nextPos:f,result:a},a}function nS(){var a,m,_,A,b,me,Ie=f*305+238,nt=Y[Ie];if(nt)return f=nt.nextPos,nt.result;if(a=f,m=tS(),m!==t){for(_=[],A=f,b=H8(),b===t&&(b=G8()),b!==t?(me=tS(),me!==t?(b=[b,me],A=b):(f=A,A=t)):(f=A,A=t);A!==t;)_.push(A),A=f,b=H8(),b===t&&(b=G8()),b!==t?(me=tS(),me!==t?(b=[b,me],A=b):(f=A,A=t)):(f=A,A=t);we=a,a=Ao(m,_)}else f=a,a=t;return Y[Ie]={nextPos:f,result:a},a}function rS(){var a,m,_,A,b,me,Ie=f*305+239,nt=Y[Ie];if(nt)return f=nt.nextPos,nt.result;if(a=f,m=nS(),m!==t){for(_=[],A=f,b=j8(),b===t&&(b=q8(),b===t&&(b=nR(),b===t&&(b=rR()))),b!==t?(me=nS(),me!==t?(b=[b,me],A=b):(f=A,A=t)):(f=A,A=t);A!==t;)_.push(A),A=f,b=j8(),b===t&&(b=q8(),b===t&&(b=nR(),b===t&&(b=rR()))),b!==t?(me=nS(),me!==t?(b=[b,me],A=b):(f=A,A=t)):(f=A,A=t);we=a,a=Ao(m,_)}else f=a,a=t;return Y[Ie]={nextPos:f,result:a},a}function iS(){var a,m,_,A,b,me,Ie=f*305+240,nt=Y[Ie];if(nt)return f=nt.nextPos,nt.result;if(ve++,a=f,m=rS(),m!==t){for(_=[],A=f,b=X8(),b===t&&(b=Y8()),b!==t?(me=rS(),me!==t?(b=[b,me],A=b):(f=A,A=t)):(f=A,A=t);A!==t;)_.push(A),A=f,b=X8(),b===t&&(b=Y8()),b!==t?(me=rS(),me!==t?(b=[b,me],A=b):(f=A,A=t)):(f=A,A=t);we=a,a=Ao(m,_)}else f=a,a=t;return ve--,a===t&&(m=t,ve===0&&Ee(Iq)),Y[Ie]={nextPos:f,result:a},a}function sS(){var a,m,_,A,b,me,Ie=f*305+241,nt=Y[Ie];if(nt)return f=nt.nextPos,nt.result;if(ve++,a=f,m=iS(),m!==t){for(_=[],A=f,b=oR(),b!==t?(me=iS(),me!==t?(b=[b,me],A=b):(f=A,A=t)):(f=A,A=t);A!==t;)_.push(A),A=f,b=oR(),b!==t?(me=iS(),me!==t?(b=[b,me],A=b):(f=A,A=t)):(f=A,A=t);we=a,a=Ao(m,_)}else f=a,a=t;return ve--,a===t&&(m=t,ve===0&&Ee(Lq)),Y[Ie]={nextPos:f,result:a},a}function oS(){var a,m,_,A,b,me,Ie=f*305+242,nt=Y[Ie];if(nt)return f=nt.nextPos,nt.result;if(a=f,m=sS(),m!==t){for(_=[],A=f,b=sR(),b!==t?(me=sS(),me!==t?(b=[b,me],A=b):(f=A,A=t)):(f=A,A=t);A!==t;)_.push(A),A=f,b=sR(),b!==t?(me=sS(),me!==t?(b=[b,me],A=b):(f=A,A=t)):(f=A,A=t);we=a,a=Ao(m,_)}else f=a,a=t;return Y[Ie]={nextPos:f,result:a},a}function aS(){var a,m,_,A,b,me,Ie=f*305+243,nt=Y[Ie];if(nt)return f=nt.nextPos,nt.result;if(a=f,m=oS(),m!==t){for(_=[],A=f,b=iR(),b!==t?(me=oS(),me!==t?(b=[b,me],A=b):(f=A,A=t)):(f=A,A=t);A!==t;)_.push(A),A=f,b=iR(),b!==t?(me=oS(),me!==t?(b=[b,me],A=b):(f=A,A=t)):(f=A,A=t);we=a,a=Ao(m,_)}else f=a,a=t;return Y[Ie]={nextPos:f,result:a},a}function uS(){var a,m,_,A,b,me,Ie=f*305+244,nt=Y[Ie];if(nt)return f=nt.nextPos,nt.result;if(a=f,m=aS(),m!==t){for(_=[],A=f,b=J8(),b!==t?(me=aS(),me!==t?(b=[b,me],A=b):(f=A,A=t)):(f=A,A=t);A!==t;)_.push(A),A=f,b=J8(),b!==t?(me=aS(),me!==t?(b=[b,me],A=b):(f=A,A=t)):(f=A,A=t);we=a,a=Ao(m,_)}else f=a,a=t;return Y[Ie]={nextPos:f,result:a},a}function lS(){var a,m,_,A,b,me,Ie=f*305+245,nt=Y[Ie];if(nt)return f=nt.nextPos,nt.result;if(a=f,m=uS(),m!==t){for(_=[],A=f,b=Z8(),b!==t?(me=uS(),me!==t?(b=[b,me],A=b):(f=A,A=t)):(f=A,A=t);A!==t;)_.push(A),A=f,b=Z8(),b!==t?(me=uS(),me!==t?(b=[b,me],A=b):(f=A,A=t)):(f=A,A=t);we=a,a=Ao(m,_)}else f=a,a=t;return Y[Ie]={nextPos:f,result:a},a}function YY(){var a,m,_,A,b,me,Ie=f*305+246,nt=Y[Ie];if(nt)return f=nt.nextPos,nt.result;if(a=f,m=lS(),m!==t){for(_=[],A=f,b=K8(),b!==t?(me=lS(),me!==t?(b=[b,me],A=b):(f=A,A=t)):(f=A,A=t);A!==t;)_.push(A),A=f,b=K8(),b!==t?(me=lS(),me!==t?(b=[b,me],A=b):(f=A,A=t)):(f=A,A=t);we=a,a=Ao(m,_)}else f=a,a=t;return Y[Ie]={nextPos:f,result:a},a}function Jy(){var a,m,_,A,b,me,Ie,nt=f*305+247,Kt=Y[nt];return Kt?(f=Kt.nextPos,Kt.result):(a=f,m=YY(),m!==t?(_=f,A=BY(),A!==t?(b=ca(),b!==t?(me=J3(),me!==t?(Ie=Uu(),Ie!==t?(we=_,_=wX(m,A,b,me,Ie)):(f=_,_=t)):(f=_,_=t)):(f=_,_=t)):(f=_,_=t),_===t&&(_=null),we=a,a=bX(m,_)):(f=a,a=t),Y[nt]={nextPos:f,result:a},a)}function Uu(){var a,m,_,A,b=f*305+248,me=Y[b];return me?(f=me.nextPos,me.result):(a=f,m=zm(),m!==t?(_=JY(),_!==t?(A=Uu(),A!==t?(we=a,a=SX(m,_,A)):(f=a,a=t)):(f=a,a=t)):(f=a,a=t),a===t&&(a=Jy()),Y[b]={nextPos:f,result:a},a)}function JY(){var a,m=f*305+249,_=Y[m];return _?(f=_.nextPos,_.result):(ve++,a=Bm(),a===t&&(a=DY(),a===t&&(a=AY(),a===t&&(a=CY(),a===t&&(a=TY(),a===t&&(a=FY(),a===t&&(a=PY(),a===t&&(a=RY(),a===t&&(a=kY(),a===t&&(a=IY(),a===t&&(a=LY())))))))))),ve--,a===t&&ve===0&&Ee(Fq),Y[m]={nextPos:f,result:a},a)}function ca(){var a,m,_,A,b,me,Ie=f*305+250,nt=Y[Ie];if(nt)return f=nt.nextPos,nt.result;if(ve++,a=f,m=Uu(),m!==t){for(_=[],A=f,b=Xr(),b!==t?(me=Uu(),me!==t?(b=[b,me],A=b):(f=A,A=t)):(f=A,A=t);A!==t;)_.push(A),A=f,b=Xr(),b!==t?(me=Uu(),me!==t?(b=[b,me],A=b):(f=A,A=t)):(f=A,A=t);we=a,a=Ao(m,_)}else f=a,a=t;return ve--,a===t&&(m=t,ve===0&&Ee(Oq)),Y[Ie]={nextPos:f,result:a},a}function cS(){var a,m,_=f*305+251,A=Y[_];return A?(f=A.nextPos,A.result):(a=f,m=KY(),m!==t&&(we=a,m=EX(m)),a=m,Y[_]={nextPos:f,result:a},a)}function KY(){var a,m,_,A=f*305+252,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,m=mR(),m!==t?(_=Ts(),_!==t?(m=[m,_],a=m):(f=a,a=t)):(f=a,a=t),a===t&&(a=f,m=eJ(),m!==t?(_=Ts(),_!==t?(m=[m,_],a=m):(f=a,a=t)):(f=a,a=t),a===t&&(a=f,m=QY(),m!==t?(_=Ts(),_!==t?(m=[m,_],a=m):(f=a,a=t)):(f=a,a=t),a===t&&(a=f,m=ZY(),m!==t?(_=Ts(),_!==t?(m=[m,_],a=m):(f=a,a=t)):(f=a,a=t),a===t&&(a=f,m=sJ(),m!==t?(_=Ts(),_!==t?(m=[m,_],a=m):(f=a,a=t)):(f=a,a=t))))),Y[A]={nextPos:f,result:a},a)}function ZY(){var a,m,_,A,b,me,Ie,nt=f*305+253,Kt=Y[nt];if(Kt)return f=Kt.nextPos,Kt.result;if(a=f,m=dS(),m!==t){for(_=hs(),_===t&&(_=null),A=[],b=f,me=Xr(),me!==t?(Ie=hs(),Ie!==t?(me=[me,Ie],b=me):(f=b,b=t)):(f=b,b=t);b!==t;)A.push(b),b=f,me=Xr(),me!==t?(Ie=hs(),Ie!==t?(me=[me,Ie],b=me):(f=b,b=t)):(f=b,b=t);we=a,a=MX(m,_,A)}else f=a,a=t;return Y[nt]={nextPos:f,result:a},a}function QY(){var a,m,_,A,b,me,Ie,nt=f*305+254,Kt=Y[nt];return Kt?(f=Kt.nextPos,Kt.result):(a=f,m=dS(),m!==t?(_=hs(),_!==t?(A=Sd(),A!==t?(b=xR(),b!==t?(me=Ed(),me!==t?(Ie=Zy(),Ie===t&&(Ie=null),we=a,a=DX(m,_,A,b,me,Ie)):(f=a,a=t)):(f=a,a=t)):(f=a,a=t)):(f=a,a=t)):(f=a,a=t),Y[nt]={nextPos:f,result:a},a)}function eJ(){var a,m,_,A,b=f*305+255,me=Y[b];return me?(f=me.nextPos,me.result):(ve++,a=f,m=z8(),m!==t?(_=pS(),_!==t?(A=Md(),A!==t?(we=a,a=AX(m,_,A)):(f=a,a=t)):(f=a,a=t)):(f=a,a=t),ve--,a===t&&(m=t,ve===0&&Ee(Nq)),Y[b]={nextPos:f,result:a},a)}function mR(){var a,m,_,A,b=f*305+256,me=Y[b];return me?(f=me.nextPos,me.result):(ve++,a=f,m=tJ(),m!==t?(_=nJ(),_===t&&(_=null),A=la(),A!==t?(we=a,a=TX(m,_,A)):(f=a,a=t)):(f=a,a=t),ve--,a===t&&(m=t,ve===0&&Ee(Uq)),Y[b]={nextPos:f,result:a},a)}function tJ(){var a,m,_,A,b=f*305+257,me=Y[b];return me?(f=me.nextPos,me.result):(ve++,a=f,m=Ky(),m!==t?(_=hs(),_!==t?(A=To(),A!==t?(we=a,a=CX(m,_,A)):(f=a,a=t)):(f=a,a=t)):(f=a,a=t),ve--,a===t&&(m=t,ve===0&&Ee(Bq)),Y[b]={nextPos:f,result:a},a)}function nJ(){var a,m,_,A,b,me,Ie=f*305+258,nt=Y[Ie];if(nt)return f=nt.nextPos,nt.result;if(ve++,a=f,m=fS(),m!==t){for(_=[],A=f,b=Xr(),b!==t?(me=fS(),me!==t?(b=[b,me],A=b):(f=A,A=t)):(f=A,A=t);A!==t;)_.push(A),A=f,b=Xr(),b!==t?(me=fS(),me!==t?(b=[b,me],A=b):(f=A,A=t)):(f=A,A=t);we=a,a=PX(m,_)}else f=a,a=t;return ve--,a===t&&(m=t,ve===0&&Ee(zq)),Y[Ie]={nextPos:f,result:a},a}function fS(){var a,m,_,A=f*305+259,b=Y[A];if(b)return f=b.nextPos,b.result;for(ve++,a=f,m=[],_=vR();_!==t;)m.push(_),_=vR();return _=rJ(),_===t&&(_=Md()),_!==t?(we=a,a=RX(m,_)):(f=a,a=t),ve--,a===t&&(m=t,ve===0&&Ee($q)),Y[A]={nextPos:f,result:a},a}function rJ(){var a,m,_,A,b=f*305+260,me=Y[b];return me?(f=me.nextPos,me.result):(ve++,a=f,m=Md(),m!==t?(_=hs(),_!==t?(A=$m(),A===t&&(A=null),we=a,a=kX(m,_,A)):(f=a,a=t)):(f=a,a=t),ve--,a===t&&(m=t,ve===0&&Ee(Gq)),Y[b]={nextPos:f,result:a},a)}function vR(){var a,m=f*305+261,_=Y[m];return _?(f=_.nextPos,_.result):(a=O3(),a===t&&(a=N3(),a===t&&(a=U3(),a===t&&(a=B3(),a===t&&(a=iJ(),a===t&&(a=pS()))))),Y[m]={nextPos:f,result:a},a)}function iJ(){var a,m=f*305+262,_=Y[m];return _?(f=_.nextPos,_.result):(a=$3(),a===t&&(a=G3(),a===t&&(a=H3(),a===t&&(a=V3(),a===t&&(a=W3())))),Y[m]={nextPos:f,result:a},a)}function sJ(){var a,m,_,A,b,me,Ie=f*305+263,nt=Y[Ie];if(nt)return f=nt.nextPos,nt.result;if(a=f,m=oJ(),m!==t){for(_=[],A=f,b=Xr(),b!==t?(me=gR(),me!==t?(b=[b,me],A=b):(f=A,A=t)):(f=A,A=t);A!==t;)_.push(A),A=f,b=Xr(),b!==t?(me=gR(),me!==t?(b=[b,me],A=b):(f=A,A=t)):(f=A,A=t);we=a,a=IX(m,_)}else f=a,a=t;return Y[Ie]={nextPos:f,result:a},a}function gR(){var a,m,_,A,b,me,Ie=f*305+264,nt=Y[Ie];return nt?(f=nt.nextPos,nt.result):(a=f,m=hs(),m!==t?(_=$m(),_===t&&(_=null),A=f,b=Bm(),b!==t?(me=Dd(),me!==t?(b=[b,me],A=b):(f=A,A=t)):(f=A,A=t),A===t&&(A=null),we=a,a=LX(m,_,A)):(f=a,a=t),Y[Ie]={nextPos:f,result:a},a)}function oJ(){var a,m,_,A,b,me,Ie,nt,Kt=f*305+265,Br=Y[Kt];return Br?(f=Br.nextPos,Br.result):(a=f,m=Ky(),m!==t?(_=f,A=hs(),A!==t?(b=$m(),b===t&&(b=null),me=f,Ie=Bm(),Ie!==t?(nt=Dd(),nt!==t?(Ie=[Ie,nt],me=Ie):(f=me,me=t)):(f=me,me=t),me===t&&(me=null),A=[A,b,me],_=A):(f=_,_=t),_===t&&(_=null),we=a,a=FX(m,_)):(f=a,a=t),Y[Kt]={nextPos:f,result:a},a)}function Ky(){var a,m,_,A=f*305+266,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,m=dS(),m===t&&(m=null),_=Md(),_!==t?(we=a,a=OX(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function aJ(){var a,m,_,A,b,me,Ie,nt,Kt,Br=f*305+267,Cs=Y[Br];if(Cs)return f=Cs.nextPos,Cs.result;if(a=f,m=YC(),m!==t)if(_=To(),_!==t){if(A=f,b=hS(),b!==t){for(me=[],Ie=f,nt=Xr(),nt!==t?(Kt=hS(),Kt!==t?(nt=[nt,Kt],Ie=nt):(f=Ie,Ie=t)):(f=Ie,Ie=t);Ie!==t;)me.push(Ie),Ie=f,nt=Xr(),nt!==t?(Kt=hS(),Kt!==t?(nt=[nt,Kt],Ie=nt):(f=Ie,Ie=t)):(f=Ie,Ie=t);we=A,A=NX(m,_,b,me)}else f=A,A=t;A!==t?(b=la(),b!==t?(we=a,a=UX(m,_,A,b)):(f=a,a=t)):(f=a,a=t)}else f=a,a=t;else f=a,a=t;return Y[Br]={nextPos:f,result:a},a}function hS(){var a,m,_,A,b,me=f*305+268,Ie=Y[me];return Ie?(f=Ie.nextPos,Ie.result):(a=f,m=hs(),m!==t?(_=f,A=Bm(),A!==t?(b=Jy(),b!==t?(A=[A,b],_=A):(f=_,_=t)):(f=_,_=t),_===t&&(_=null),we=a,a=BX(m,_)):(f=a,a=t),a===t&&(a=z3()),Y[me]={nextPos:f,result:a},a)}function dS(){var a,m,_=f*305+269,A=Y[_];if(A)return f=A.nextPos,A.result;if(a=[],m=yR(),m!==t)for(;m!==t;)a.push(m),m=yR();else a=t;return Y[_]={nextPos:f,result:a},a}function yR(){var a,m=f*305+270,_=Y[m];return _?(f=_.nextPos,_.result):(ve++,a=lJ(),a===t&&(a=aJ(),a===t&&(a=pS(),a===t&&(a=uJ(),a===t&&(a=F8(),a===t&&(a=O8()))))),ve--,a===t&&ve===0&&Ee(Hq),Y[m]={nextPos:f,result:a},a)}function uJ(){var a,m=f*305+271,_=Y[m];return _?(f=_.nextPos,_.result):(ve++,a=XC(),a===t&&(a=qC(),a===t&&(a=jC())),ve--,a===t&&ve===0&&Ee(Vq),Y[m]={nextPos:f,result:a},a)}function lJ(){var a,m,_,A,b,me,Ie,nt,Kt,Br=f*305+272,Cs=Y[Br];if(Cs)return f=Cs.nextPos,Cs.result;if(ve++,a=O3(),a===t&&(a=B3(),a===t&&(a=N3(),a===t&&(a=U3(),a===t&&(a=FC(),a===t&&(a=NC(),a===t&&(a=UC(),a===t&&(a=OC(),a===t&&(a=BC(),a===t&&(a=z3(),a===t&&(a=$3(),a===t&&(a=G3(),a===t&&(a=H3(),a===t&&(a=V3(),a===t&&(a=W3(),a===t&&(a=nC(),a===t&&(a=tC(),a===t)))))))))))))))))if(a=f,m=xC(),m!==t){if(_=f,A=To(),A!==t)if(b=jy(),b!==t){for(me=[],Ie=f,nt=Xr(),nt!==t?(Kt=jy(),Kt!==t?(nt=[nt,Kt],Ie=nt):(f=Ie,Ie=t)):(f=Ie,Ie=t);Ie!==t;)me.push(Ie),Ie=f,nt=Xr(),nt!==t?(Kt=jy(),Kt!==t?(nt=[nt,Kt],Ie=nt):(f=Ie,Ie=t)):(f=Ie,Ie=t);Ie=la(),Ie!==t?(we=_,_=zX(m,A,b,me,Ie)):(f=_,_=t)}else f=_,_=t;else f=_,_=t;_===t&&(_=null),we=a,a=$X(m,_)}else f=a,a=t;return ve--,a===t&&(m=t,ve===0&&Ee(Wq)),Y[Br]={nextPos:f,result:a},a}function Md(){var a,m,_,A=f*305+273,b=Y[A];return b?(f=b.nextPos,b.result):(ve++,a=f,m=cJ(),m!==t?(_=$m(),_===t&&(_=null),we=a,a=GX(m,_)):(f=a,a=t),ve--,a===t&&(m=t,ve===0&&Ee(V6)),Y[A]={nextPos:f,result:a},a)}function cJ(){var a,m=f*305+274,_=Y[m];return _?(f=_.nextPos,_.result):(ve++,a=j3(),a===t&&(a=iC(),a===t&&(a=sC(),a===t&&(a=oC(),a===t&&(a=aC(),a===t&&(a=rC(),a===t&&(a=CC(),a===t&&(a=PC(),a===t&&(a=RC(),a===t&&(a=zC(),a===t&&(a=$C(),a===t&&(a=GC(),a===t&&(a=_C(),a===t&&(a=wC(),a===t&&(a=bC(),a===t&&(a=SC(),a===t&&(a=EC(),a===t&&(a=MC(),a===t&&(a=DC(),a===t&&(a=AC(),a===t&&(a=TC(),a===t&&(a=kC(),a===t&&(a=IC(),a===t&&(a=LC(),a===t&&(a=JC(),a===t&&(a=KC(),a===t&&(a=ZC(),a===t&&(a=QC(),a===t&&(a=eP(),a===t&&(a=tP(),a===t&&(a=nP(),a===t&&(a=rP(),a===t&&(a=iP(),a===t&&(a=HC(),a===t&&(a=VC(),a===t&&(a=WC(),a===t&&(a=sP(),a===t&&(a=oP(),a===t&&(a=aP(),a===t&&(a=uP(),a===t&&(a=lP(),a===t&&(a=cP(),a===t&&(a=fP(),a===t&&(a=hP(),a===t&&(a=dP(),a===t&&(a=pP(),a===t&&(a=mP(),a===t&&(a=vP(),a===t&&(a=gP(),a===t&&(a=yP(),a===t&&(a=xP(),a===t&&(a=_P(),a===t&&(a=wP(),a===t&&(a=bP(),a===t&&(a=SP(),a===t&&(a=EP(),a===t&&(a=MP(),a===t&&(a=WP(),a===t&&(a=jP(),a===t&&(a=DP(),a===t&&(a=AP(),a===t&&(a=TP(),a===t&&(a=CP(),a===t&&(a=PP(),a===t&&(a=RP(),a===t&&(a=qP(),a===t&&(a=kP(),a===t&&(a=IP(),a===t&&(a=LP(),a===t&&(a=FP(),a===t&&(a=OP(),a===t&&(a=NP(),a===t&&(a=XP(),a===t&&(a=UP(),a===t&&(a=BP(),a===t&&(a=zP(),a===t&&(a=$P(),a===t&&(a=GP(),a===t&&(a=HP(),a===t&&(a=VP(),a===t&&(a=YP(),a===t&&(a=JP(),a===t&&(a=KP(),a===t&&(a=ZP(),a===t&&(a=QP(),a===t&&(a=e8(),a===t&&(a=t8(),a===t&&(a=n8(),a===t&&(a=r8(),a===t&&(a=i8(),a===t&&(a=s8(),a===t&&(a=o8(),a===t&&(a=a8(),a===t&&(a=u8(),a===t&&(a=l8(),a===t&&(a=c8(),a===t&&(a=f8(),a===t&&(a=h8(),a===t&&(a=d8(),a===t&&(a=p8(),a===t&&(a=m8(),a===t&&(a=v8(),a===t&&(a=g8(),a===t&&(a=y8(),a===t&&(a=x8(),a===t&&(a=_8(),a===t&&(a=w8(),a===t&&(a=b8(),a===t&&(a=S8(),a===t&&(a=E8(),a===t&&(a=M8(),a===t&&(a=D8(),a===t&&(a=A8(),a===t&&(a=T8(),a===t&&(a=C8(),a===t&&(a=P8(),a===t&&(a=R8(),a===t&&(a=k8(),a===t&&(a=I8(),a===t&&(a=fJ(),a===t&&(a=jy())))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))),ve--,a===t&&ve===0&&Ee(V6),Y[m]={nextPos:f,result:a},a)}function $m(){var a,m,_,A,b,me,Ie=f*305+275,nt=Y[Ie];if(nt)return f=nt.nextPos,nt.result;if(ve++,a=f,m=[],_=f,A=X3(),A!==t?(b=Jy(),b===t&&(b=null),me=Y3(),me!==t?(we=_,_=X6(A,b,me)):(f=_,_=t)):(f=_,_=t),_!==t)for(;_!==t;)m.push(_),_=f,A=X3(),A!==t?(b=Jy(),b===t&&(b=null),me=Y3(),me!==t?(we=_,_=X6(A,b,me)):(f=_,_=t)):(f=_,_=t);else m=t;return m!==t&&(we=a,m=HX(m)),a=m,ve--,a===t&&(m=t,ve===0&&Ee(jq)),Y[Ie]={nextPos:f,result:a},a}function pS(){var a,m=f*305+276,_=Y[m];return _?(f=_.nextPos,_.result):(ve++,a=N8(),a===t&&(a=U8(),a===t&&(a=B8())),ve--,a===t&&ve===0&&Ee(qq),Y[m]={nextPos:f,result:a},a)}function fJ(){var a,m,_,A,b,me,Ie=f*305+277,nt=Y[Ie];return nt?(f=nt.nextPos,nt.result):(ve++,a=f,m=L8(),m!==t?(_=hs(),_===t&&(_=null),A=Sd(),A!==t?(b=xR(),b!==t?(me=Ed(),me!==t?(we=a,a=VX(m,_,A,b,me)):(f=a,a=t)):(f=a,a=t)):(f=a,a=t)):(f=a,a=t),ve--,a===t&&(m=t,ve===0&&Ee(Xq)),Y[Ie]={nextPos:f,result:a},a)}function xR(){var a,m,_,A,b=f*305+278,me=Y[b];if(me)return f=me.nextPos,me.result;if(a=[],m=f,_=_R(),_!==t?(A=Ts(),A!==t?(we=m,m=Y6(_,A)):(f=m,m=t)):(f=m,m=t),m!==t)for(;m!==t;)a.push(m),m=f,_=_R(),_!==t?(A=Ts(),A!==t?(we=m,m=Y6(_,A)):(f=m,m=t)):(f=m,m=t);else a=t;return Y[b]={nextPos:f,result:a},a}function _R(){var a,m,_,A,b,me,Ie,nt=f*305+279,Kt=Y[nt];if(Kt)return f=Kt.nextPos,Kt.result;if(a=f,m=Ky(),m!==t)if(_=Zy(),_!==t){for(A=[],b=f,me=Xr(),me!==t?(Ie=Zy(),Ie!==t?(me=[me,Ie],b=me):(f=b,b=t)):(f=b,b=t);b!==t;)A.push(b),b=f,me=Xr(),me!==t?(Ie=Zy(),Ie!==t?(me=[me,Ie],b=me):(f=b,b=t)):(f=b,b=t);we=a,a=WX(m,_,A)}else f=a,a=t;else f=a,a=t;return Y[nt]={nextPos:f,result:a},a}function Zy(){var a,m,_,A=f*305+280,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,m=hs(),m!==t?(_=$m(),_===t&&(_=null),we=a,a=jX(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function Dd(){var a,m,_,A,b,me,Ie,nt=f*305+281,Kt=Y[nt];if(Kt)return f=Kt.nextPos,Kt.result;if(a=Uu(),a===t)if(a=f,m=Sd(),m!==t)if(_=Dd(),_!==t){for(A=[],b=f,me=Xr(),me!==t?(Ie=Dd(),Ie!==t?(me=[me,Ie],b=me):(f=b,b=t)):(f=b,b=t);b!==t;)A.push(b),b=f,me=Xr(),me!==t?(Ie=Dd(),Ie!==t?(me=[me,Ie],b=me):(f=b,b=t)):(f=b,b=t);b=Xr(),b===t&&(b=null),me=Ed(),me!==t?(we=a,a=qX(m,_,A,b,me)):(f=a,a=t)}else f=a,a=t;else f=a,a=t;return Y[nt]={nextPos:f,result:a},a}function Gm(){var a,m=f*305+282,_=Y[m];return _?(f=_.nextPos,_.result):(a=hJ(),a===t&&(a=wR()),Y[m]={nextPos:f,result:a},a)}function wR(){var a,m=f*305+283,_=Y[m];return _?(f=_.nextPos,_.result):(a=gJ(),a===t&&(a=cS(),a===t&&(a=ER(),a===t&&(a=dJ(),a===t&&(a=pJ(),a===t&&(a=mJ(),a===t&&(a=vJ())))))),Y[m]={nextPos:f,result:a},a)}function hJ(){var a,m,_,A,b=f*305+284,me=Y[b];return me?(f=me.nextPos,me.result):(a=f,m=f,_=Sd(),_!==t&&(we=m,_=XX(_)),m=_,m!==t?(_=mS(),_===t&&(_=null),A=Ed(),A!==t?(we=a,a=YX(m,_,A)):(f=a,a=t)):(f=a,a=t),Y[b]={nextPos:f,result:a},a)}function bR(){var a,m,_,A,b=f*305+285,me=Y[b];return me?(f=me.nextPos,me.result):(a=f,m=Sd(),m!==t?(_=mS(),_===t&&(_=null),A=Ed(),A!==t?(we=a,a=JX(m,_,A)):(f=a,a=t)):(f=a,a=t),Y[b]={nextPos:f,result:a},a)}function SR(){var a,m=f*305+286,_=Y[m];return _?(f=_.nextPos,_.result):(a=bR(),a===t&&(a=wR()),Y[m]={nextPos:f,result:a},a)}function mS(){var a,m,_=f*305+287,A=Y[_];if(A)return f=A.nextPos,A.result;if(a=[],m=Gm(),m===t&&(m=Qy()),m!==t)for(;m!==t;)a.push(m),m=Gm(),m===t&&(m=Qy());else a=t;return Y[_]={nextPos:f,result:a},a}function ER(){var a,m,_,A=f*305+288,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,m=ca(),m===t&&(m=null),_=Ts(),_!==t?(we=a,a=KX(m,_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function dJ(){var a,m,_,A,b,me,Ie,nt,Kt,Br,Cs=f*305+289,xS=Y[Cs];return xS?(f=xS.nextPos,xS.result):(a=f,m=dC(),m!==t?(_=To(),_!==t?(A=ca(),A!==t?(b=la(),b!==t?(me=f,Ie=Gm(),Ie!==t?(nt=f,Kt=fC(),Kt!==t?(Br=Gm(),Br!==t?(Kt=[Kt,Br],nt=Kt):(f=nt,nt=t)):(f=nt,nt=t),nt===t&&(nt=null),Ie=[Ie,nt],me=Ie):(f=me,me=t),me!==t?(we=a,a=ZX(m,_,A,b,me)):(f=a,a=t)):(f=a,a=t)):(f=a,a=t)):(f=a,a=t)):(f=a,a=t),Y[Cs]={nextPos:f,result:a},a)}function pJ(){var a,m,_,A,b,me,Ie,nt,Kt=f*305+290,Br=Y[Kt];return Br?(f=Br.nextPos,Br.result):(a=f,m=vC(),m!==t?(_=To(),_!==t?(A=ca(),A!==t?(b=la(),b!==t?(me=Sd(),me!==t?(Ie=mS(),Ie!==t?(nt=Ed(),nt!==t?(we=a,a=QX(m,_,A,b,me,Ie,nt)):(f=a,a=t)):(f=a,a=t)):(f=a,a=t)):(f=a,a=t)):(f=a,a=t)):(f=a,a=t)):(f=a,a=t),Y[Kt]={nextPos:f,result:a},a)}function mJ(){var a,m,_,A,b=f*305+291,me=Y[b];return me?(f=me.nextPos,me.result):(a=f,m=gC(),m!==t?(_=ca(),_!==t?(A=J3(),A!==t?(we=a,a=eY(m,_,A)):(f=a,a=t)):(f=a,a=t)):(f=a,a=t),a===t&&(a=f,m=yC(),m!==t?(_=J3(),_!==t?(we=a,a=tY(m,_)):(f=a,a=t)):(f=a,a=t)),Y[b]={nextPos:f,result:a},a)}function vJ(){var a,m,_,A,b,me,Ie,nt,Kt,Br=f*305+292,Cs=Y[Br];return Cs?(f=Cs.nextPos,Cs.result):(ve++,a=f,m=f,_=q3(),_!==t&&(we=m,_=nY(_)),m=_,m!==t?(_=To(),_!==t?(A=MR(),A!==t?(b=la(),b!==t?(me=SR(),me!==t?(we=a,a=rY(m,_,A,b,me)):(f=a,a=t)):(f=a,a=t)):(f=a,a=t)):(f=a,a=t)):(f=a,a=t),a===t&&(a=f,m=cC(),m!==t?(_=Gm(),_!==t?(A=q3(),A!==t?(b=To(),b!==t?(me=ca(),me!==t?(Ie=la(),Ie!==t?(nt=Ts(),nt!==t?(we=a,a=iY(m,_,A,b,me,Ie,nt)):(f=a,a=t)):(f=a,a=t)):(f=a,a=t)):(f=a,a=t)):(f=a,a=t)):(f=a,a=t)):(f=a,a=t),a===t&&(a=f,m=f,_=hC(),_!==t&&(we=m,_=sY(_)),m=_,m!==t?(_=To(),_!==t?(A=ER(),A===t&&(A=cS()),A===t&&(A=null),b=MR(),b===t&&(b=null),me=Ts(),me!==t?(Ie=ca(),Ie===t&&(Ie=null),nt=la(),nt!==t?(Kt=SR(),Kt!==t?(we=a,a=oY(m,_,A,b,me,Ie,nt,Kt)):(f=a,a=t)):(f=a,a=t)):(f=a,a=t)):(f=a,a=t)):(f=a,a=t))),ve--,a===t&&(m=t,ve===0&&Ee(Yq)),Y[Br]={nextPos:f,result:a},a)}function MR(){var a,m,_,A,b,me=f*305+293,Ie=Y[me];return Ie?(f=Ie.nextPos,Ie.result):(a=f,m=Ky(),m!==t?(_=hs(),_!==t?(A=Bm(),A!==t?(b=Dd(),b!==t?(we=a,a=aY(m,_,A,b)):(f=a,a=t)):(f=a,a=t)):(f=a,a=t)):(f=a,a=t),a===t&&(a=ca()),Y[me]={nextPos:f,result:a},a)}function gJ(){var a,m,_,A,b=f*305+294,me=Y[b];return me?(f=me.nextPos,me.result):(ve++,a=f,m=lC(),m!==t?(_=Ts(),_!==t?(we=a,a=uY(m,_)):(f=a,a=t)):(f=a,a=t),a===t&&(a=f,m=uC(),m!==t?(_=Ts(),_!==t?(we=a,a=lY(m,_)):(f=a,a=t)):(f=a,a=t),a===t&&(a=f,m=mC(),m!==t?(_=ca(),_===t&&(_=null),A=Ts(),A!==t?(we=a,a=cY(m,_,A)):(f=a,a=t)):(f=a,a=t),a===t&&(a=f,m=pC(),m!==t?(_=Ts(),_!==t?(we=a,a=fY(m,_)):(f=a,a=t)):(f=a,a=t)))),ve--,a===t&&(m=t,ve===0&&Ee(Jq)),Y[b]={nextPos:f,result:a},a)}function Qy(){var a,m,_,A,b,me,Ie=f*305+295,nt=Y[Ie];if(nt)return f=nt.nextPos,nt.result;if(ve++,a=f,m=f,_=f,n.charCodeAt(f)===35?(A=V1,f++):(A=t,ve===0&&Ee(Zq)),A!==t){for(b=[],jr.test(n.charAt(f))?(me=n.charAt(f),f++):(me=t,ve===0&&Ee(Hy));me!==t;)b.push(me),jr.test(n.charAt(f))?(me=n.charAt(f),f++):(me=t,ve===0&&Ee(Hy));A=[A,b],_=A}else f=_,_=t;return _!==t?m=n.substring(m,f):m=_,m!==t?(_=en(),we=a,a=hY(m,_)):(f=a,a=t),ve--,a===t&&(m=t,ve===0&&Ee(Kq)),Y[Ie]={nextPos:f,result:a},a}function yJ(){var a,m,_=f*305+296,A=Y[_];if(A)return f=A.nextPos,A.result;if(a=[],m=DR(),m===t&&(m=Qy()),m!==t)for(;m!==t;)a.push(m),m=DR(),m===t&&(m=Qy());else a=t;return Y[_]={nextPos:f,result:a},a}function DR(){var a,m=f*305+297,_=Y[m];return _?(f=_.nextPos,_.result):(a=xJ(),a===t&&(a=cS()),Y[m]={nextPos:f,result:a},a)}function xJ(){var a,m,_,A=f*305+298,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,m=mR(),m!==t?(_=bR(),_!==t?(we=a,a=dY(m,_)):(f=a,a=t)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}function en(){var a,m,_,A,b,me,Ie=f*305+299,nt=Y[Ie];if(nt)return f=nt.nextPos,nt.result;for(ve++,a=f,m=Hm(),m===t&&(m=null),_=[],A=f,b=ex(),b!==t?(me=Hm(),me===t&&(me=null),b=[b,me],A=b):(f=A,A=t);A!==t;)_.push(A),A=f,b=ex(),b!==t?(me=Hm(),me===t&&(me=null),b=[b,me],A=b):(f=A,A=t);return we=a,a=pY(m,_),ve--,m=t,ve===0&&Ee(Qq),Y[Ie]={nextPos:f,result:a},a}function ex(){var a,m,_,A,b,me,Ie=f*305+300,nt=Y[Ie];if(nt)return f=nt.nextPos,nt.result;if(a=_J(),a===t)if(a=f,m=wJ(),m!==t){for(_=[],A=f,b=Hm(),b!==t?(me=ex(),me!==t?(we=A,A=J6(m,b,me)):(f=A,A=t)):(f=A,A=t);A!==t;)_.push(A),A=f,b=Hm(),b!==t?(me=ex(),me!==t?(we=A,A=J6(m,b,me)):(f=A,A=t)):(f=A,A=t);we=a,a=mY(m,_)}else f=a,a=t;return Y[Ie]={nextPos:f,result:a},a}function _J(){var a,m,_,A,b,me=f*305+301,Ie=Y[me];if(Ie)return f=Ie.nextPos,Ie.result;if(a=f,m=f,n.substr(f,2)===Yh?(_=Yh,f+=2):(_=t,ve===0&&Ee(eX)),_!==t){for(A=[],jr.test(n.charAt(f))?(b=n.charAt(f),f++):(b=t,ve===0&&Ee(Hy));b!==t;)A.push(b),jr.test(n.charAt(f))?(b=n.charAt(f),f++):(b=t,ve===0&&Ee(Hy));_=[_,A],m=_}else f=m,m=t;return m!==t?a=n.substring(a,f):a=m,Y[me]={nextPos:f,result:a},a}function wJ(){var a,m,_,A,b,me,Ie,nt=f*305+302,Kt=Y[nt];if(Kt)return f=Kt.nextPos,Kt.result;if(a=f,m=f,n.substr(f,2)===Q0?(_=Q0,f+=2):(_=t,ve===0&&Ee(tX)),_!==t){for(A=[],b=f,me=f,ve++,n.substr(f,2)===ra?(Ie=ra,f+=2):(Ie=t,ve===0&&Ee(L3)),ve--,Ie===t?me=void 0:(f=me,me=t),me!==t?(n.length>f?(Ie=n.charAt(f),f++):(Ie=t,ve===0&&Ee(W6)),Ie!==t?(we=b,b=K6(Ie)):(f=b,b=t)):(f=b,b=t);b!==t;)A.push(b),b=f,me=f,ve++,n.substr(f,2)===ra?(Ie=ra,f+=2):(Ie=t,ve===0&&Ee(L3)),ve--,Ie===t?me=void 0:(f=me,me=t),me!==t?(n.length>f?(Ie=n.charAt(f),f++):(Ie=t,ve===0&&Ee(W6)),Ie!==t?(we=b,b=K6(Ie)):(f=b,b=t)):(f=b,b=t);n.substr(f,2)===ra?(b=ra,f+=2):(b=t,ve===0&&Ee(L3)),b!==t?(_=[_,A,b],m=_):(f=m,m=t)}else f=m,m=t;return m!==t?a=n.substring(a,f):a=m,Y[nt]={nextPos:f,result:a},a}function Hm(){var a,m,_,A=f*305+303,b=Y[A];if(b)return f=b.nextPos,b.result;if(a=f,m=[],Kh.test(n.charAt(f))?(_=n.charAt(f),f++):(_=t,ve===0&&Ee(j6)),_!==t)for(;_!==t;)m.push(_),Kh.test(n.charAt(f))?(_=n.charAt(f),f++):(_=t,ve===0&&Ee(j6));else m=t;return m!==t?a=n.substring(a,f):a=m,Y[A]={nextPos:f,result:a},a}function et(){var a,m,_,A=f*305+304,b=Y[A];return b?(f=b.nextPos,b.result):(a=f,m=f,ve++,Ua.test(n.charAt(f))?(_=n.charAt(f),f++):(_=t,ve===0&&Ee(Nn)),ve--,_===t?m=void 0:(f=m,m=t),m!==t?(_=en(),we=a,a=vY(_)):(f=a,a=t),Y[A]={nextPos:f,result:a},a)}const bJ=String.fromCharCode(123),Vm=(a,m)=>({name:a,parent:m,bindings:{},types:{},functions:{}}),tx=a=>(yS.push(a),a),nx=a=>{if(!a.parent)throw new Error("popped bad scope",a,"at",gY());return a.parent},SJ=(...a)=>!e.quiet&&console.warn(...a),EJ=(a,...m)=>{m.forEach(([_,A])=>{a.types[_]={references:[A]}})},MJ=(a,m,_)=>{a.types[m].references.push(_)},vS=(a,m)=>a?m in a.types?a:vS(a.parent,m):null,DJ=(a,m)=>vS(a,m)!==null,Wm=(a,...m)=>{m.forEach(([_,A])=>{const b=a.bindings[_]||{references:[]};b.initializer=A,b.references.unshift(A),a.bindings[_]=b})},AJ=(a,m,_)=>{const A=AR(a,m);A?A.bindings[m].references.push(_):Wm(a,[m,_])},AR=(a,m)=>a?m in a.bindings?a:AR(a.parent,m):null,TJ=(a,m,_)=>{a.functions[m]={references:[_]}},TR=(a,m,_)=>{const A=gS(a);m in A.functions?A.functions[m].references.push(_):TJ(a,m,_)},gS=a=>a.parent?gS(a.parent):a,CJ=(a,m)=>m in gS(a).functions;let yS=[Vm("global")],jn=yS[0];const Yt=(a,m)=>vt({type:a},m),rx=(...a)=>a.flat().filter(m=>m!=null&&m!==""&&m.length!==0),PJ=a=>a.length>1?a:a[0],RJ=(...a)=>PJ(rx(a)),kJ=(...a)=>a.flat().reduce((m,[_,A])=>({type:"binary",operator:_,left:m,right:A})),IJ=a=>a.reduce((m,_)=>{if(_.type==="case_label")return[...m,Yt("switch_case",{statements:[],case:_.case,test:_.test,colon:_.colon})];if(_.type==="default_label")return[...m,Yt("default_case",{statements:[],default:_.default,colon:_.colon})];if(m.length){const A=m.slice(-1)[0];return[...m.slice(0,-1),nr(vt({},A),{statements:[...A.statements,_]})]}else throw new Error("A switch statement body must start with a case or default label")},[]),LJ=new Set(["radians","degrees","sin","cos","tan","asin","acos","atan","pow","exp","log","exp2","log2","sqrt","inversesqrt","abs","sign","floor","ceil","fract","mod","min","max","clamp","mix","step","smoothstep","length","distance","dot","cross","normalize","faceforward","reflect","refract","matrixCompMult","lessThan","lessThanEqual","greaterThan","greaterThanEqual","equal","notEqual","any","all","not","texture2D","textureCube","texture"]);if(Wy=s(),Wy!==t&&f===n.length)return Wy;throw Wy!==t&&f<n.length&&Ee(xY()),_Y(F3,Wa<n.length?n.charAt(Wa):null,Wa<n.length?Q6(Wa,Wa+1):Q6(Wa,Wa))}var rae={SyntaxError:th,parse:nae},rB=$e&&$e.__importDefault||function(n){return n&&n.__esModule?n:{default:n}},iae=rB(RA),sae=rB(rae),Abe={generate:iae.default,parser:sae.default};function oae(n){let e;const t=new Set,r=(c,h)=>{const d=typeof c=="function"?c(e):c;if(d!==e){const p=e;e=h?d:Object.assign({},e,d),t.forEach(v=>v(e,p))}},i=()=>e,s=(c,h=i,d=Object.is)=>{let p=h(e);function v(){const S=h(e);if(!d(p,S)){const w=p;c(p=S,w)}}return t.add(v),()=>t.delete(v)},l={setState:r,getState:i,subscribe:(c,h,d)=>h||d?s(c,h,d):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(r,i,l),l}const aae=typeof window=="undefined"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),iB=aae?si.exports.useEffect:si.exports.useLayoutEffect;function uae(n){const e=typeof n=="function"?oae(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=si.exports.useReducer(w=>w+1,0),o=e.getState(),u=si.exports.useRef(o),l=si.exports.useRef(r),c=si.exports.useRef(i),h=si.exports.useRef(!1),d=si.exports.useRef();d.current===void 0&&(d.current=r(o));let p,v=!1;(u.current!==o||l.current!==r||c.current!==i||h.current)&&(p=r(o),v=!i(d.current,p)),iB(()=>{v&&(d.current=p),u.current=o,l.current=r,c.current=i,h.current=!1});const S=si.exports.useRef(o);return iB(()=>{const w=()=>{try{const x=e.getState(),E=l.current(x);c.current(d.current,E)||(u.current=x,d.current=E,s())}catch{h.current=!0,s()}},T=e.subscribe(w);return e.getState()!==S.current&&w(),T},[]),v?p:d.current};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}function lae(n,e){if(Object.is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n);if(t.length!==Object.keys(e).length)return!1;for(let r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(e,t[r])||!Object.is(n[t[r]],e[t[r]]))return!1;return!0}var sB={exports:{}},oB={exports:{}};/** @license React v0.26.2
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){n.exports=function(t){var r={},i=_S,s=si.exports,o=Cd.exports;function u(g){for(var y="https://reactjs.org/docs/error-decoder.html?invariant="+g,I=1;I<arguments.length;I++)y+="&args[]="+encodeURIComponent(arguments[I]);return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c=60103,h=60106,d=60107,p=60108,v=60114,S=60109,w=60110,T=60112,x=60113,E=60120,O=60115,C=60116,N=60121,$=60129,M=60130,L=60131;if(typeof Symbol=="function"&&Symbol.for){var V=Symbol.for;c=V("react.element"),h=V("react.portal"),d=V("react.fragment"),p=V("react.strict_mode"),v=V("react.profiler"),S=V("react.provider"),w=V("react.context"),T=V("react.forward_ref"),x=V("react.suspense"),E=V("react.suspense_list"),O=V("react.memo"),C=V("react.lazy"),N=V("react.block"),V("react.scope"),$=V("react.debug_trace_mode"),M=V("react.offscreen"),L=V("react.legacy_hidden")}var Z=typeof Symbol=="function"&&Symbol.iterator;function H(g){return g===null||typeof g!="object"?null:(g=Z&&g[Z]||g["@@iterator"],typeof g=="function"?g:null)}function D(g){if(g==null)return null;if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g;switch(g){case d:return"Fragment";case h:return"Portal";case v:return"Profiler";case p:return"StrictMode";case x:return"Suspense";case E:return"SuspenseList"}if(typeof g=="object")switch(g.$$typeof){case w:return(g.displayName||"Context")+".Consumer";case S:return(g._context.displayName||"Context")+".Provider";case T:var y=g.render;return y=y.displayName||y.name||"",g.displayName||(y!==""?"ForwardRef("+y+")":"ForwardRef");case O:return D(g.type);case N:return D(g._render);case C:y=g._payload,g=g._init;try{return D(g(y))}catch{}}return null}function R(g){var y=g,I=g;if(g.alternate)for(;y.return;)y=y.return;else{g=y;do y=g,(y.flags&1026)!=0&&(I=y.return),g=y.return;while(g)}return y.tag===3?I:null}function P(g){if(R(g)!==g)throw Error(u(188))}function F(g){var y=g.alternate;if(!y){if(y=R(g),y===null)throw Error(u(188));return y!==g?null:g}for(var I=g,X=y;;){var Q=I.return;if(Q===null)break;var fe=Q.alternate;if(fe===null){if(X=Q.return,X!==null){I=X;continue}break}if(Q.child===fe.child){for(fe=Q.child;fe;){if(fe===I)return P(Q),g;if(fe===X)return P(Q),y;fe=fe.sibling}throw Error(u(188))}if(I.return!==X.return)I=Q,X=fe;else{for(var De=!1,Ge=Q.child;Ge;){if(Ge===I){De=!0,I=Q,X=fe;break}if(Ge===X){De=!0,X=Q,I=fe;break}Ge=Ge.sibling}if(!De){for(Ge=fe.child;Ge;){if(Ge===I){De=!0,I=fe,X=Q;break}if(Ge===X){De=!0,X=fe,I=Q;break}Ge=Ge.sibling}if(!De)throw Error(u(189))}}if(I.alternate!==X)throw Error(u(190))}if(I.tag!==3)throw Error(u(188));return I.stateNode.current===I?g:y}function z(g){if(g=F(g),!g)return null;for(var y=g;;){if(y.tag===5||y.tag===6)return y;if(y.child)y.child.return=y,y=y.child;else{if(y===g)break;for(;!y.sibling;){if(!y.return||y.return===g)return null;y=y.return}y.sibling.return=y.return,y=y.sibling}}return null}function j(g){if(g=F(g),!g)return null;for(var y=g;;){if(y.tag===5||y.tag===6)return y;if(y.child&&y.tag!==4)y.child.return=y,y=y.child;else{if(y===g)break;for(;!y.sibling;){if(!y.return||y.return===g)return null;y=y.return}y.sibling.return=y.return,y=y.sibling}}return null}function B(g,y){for(var I=g.alternate;y!==null;){if(y===g||y===I)return!0;y=y.return}return!1}var U=t.getPublicInstance,k=t.getRootHostContext,G=t.getChildHostContext,ne=t.prepareForCommit,le=t.resetAfterCommit,ee=t.createInstance,J=t.appendInitialChild,de=t.finalizeInitialChildren,se=t.prepareUpdate,ue=t.shouldSetTextContent,oe=t.createTextInstance,W=t.scheduleTimeout,ce=t.cancelTimeout,ye=t.noTimeout,Te=t.isPrimaryRenderer,Pe=t.supportsMutation,Je=t.supportsPersistence,ie=t.supportsHydration,K=t.getInstanceFromNode,q=t.makeOpaqueHydratingObject,he=t.makeClientId,Se=t.beforeActiveInstanceBlur,te=t.afterActiveInstanceBlur,re=t.preparePortalMount,Me=t.supportsTestSelectors,Ce=t.findFiberRoot,Ae=t.getBoundingRect,Oe=t.getTextContent,ge=t.isHiddenSubtree,Ne=t.matchAccessibilityRole,ze=t.setFocusIfFocusable,ae=t.setupIntersectionObserver,Ue=t.appendChild,Ye=t.appendChildToContainer,He=t.commitTextUpdate,Be=t.commitMount,Ze=t.commitUpdate,Ve=t.insertBefore,ot=t.insertInContainerBefore,kt=t.removeChild,lt=t.removeChildFromContainer,_t=t.resetTextContent,nn=t.hideInstance,It=t.hideTextInstance,Gt=t.unhideInstance,Ot=t.unhideTextInstance,mt=t.clearContainer,gt=t.cloneInstance,Ct=t.createContainerChildSet,dt=t.appendChildToContainerChildSet,Mt=t.finalizeContainerChildren,Dt=t.replaceContainerChildren,yt=t.cloneHiddenInstance,pt=t.cloneHiddenTextInstance,Nt=t.canHydrateInstance,pe=t.canHydrateTextInstance,Re=t.isSuspenseInstancePending,We=t.isSuspenseInstanceFallback,ke=t.getNextHydratableSibling,Le=t.getFirstHydratableChild,At=t.hydrateInstance,rt=t.hydrateTextInstance,ht=t.getNextHydratableInstanceAfterSuspenseInstance,it=t.commitHydratedContainer,$t=t.commitHydratedSuspenseInstance,zt;function Wt(g){if(zt===void 0)try{throw Error()}catch(I){var y=I.stack.trim().match(/\n( *(at )?)/);zt=y&&y[1]||""}return`
`+zt+g}var un=!1;function Jt(g,y){if(!g||un)return"";un=!0;var I=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(y)if(y=function(){throw Error()},Object.defineProperty(y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(y,[])}catch(st){var X=st}Reflect.construct(g,[],y)}else{try{y.call()}catch(st){X=st}g.call(y.prototype)}else{try{throw Error()}catch(st){X=st}g()}}catch(st){if(st&&X&&typeof st.stack=="string"){for(var Q=st.stack.split(`
`),fe=X.stack.split(`
`),De=Q.length-1,Ge=fe.length-1;1<=De&&0<=Ge&&Q[De]!==fe[Ge];)Ge--;for(;1<=De&&0<=Ge;De--,Ge--)if(Q[De]!==fe[Ge]){if(De!==1||Ge!==1)do if(De--,Ge--,0>Ge||Q[De]!==fe[Ge])return`
`+Q[De].replace(" at new "," at ");while(1<=De&&0<=Ge);break}}}finally{un=!1,Error.prepareStackTrace=I}return(g=g?g.displayName||g.name:"")?Wt(g):""}var sn=[],ct=-1;function xe(g){return{current:g}}function je(g){0>ct||(g.current=sn[ct],sn[ct]=null,ct--)}function bt(g,y){ct++,sn[ct]=g.current,g.current=y}var qt={},ln=xe(qt),hn=xe(!1),xn=qt;function Xn(g,y){var I=g.type.contextTypes;if(!I)return qt;var X=g.stateNode;if(X&&X.__reactInternalMemoizedUnmaskedChildContext===y)return X.__reactInternalMemoizedMaskedChildContext;var Q={},fe;for(fe in I)Q[fe]=y[fe];return X&&(g=g.stateNode,g.__reactInternalMemoizedUnmaskedChildContext=y,g.__reactInternalMemoizedMaskedChildContext=Q),Q}function gn(g){return g=g.childContextTypes,g!=null}function Oi(){je(hn),je(ln)}function Ni(g,y,I){if(ln.current!==qt)throw Error(u(168));bt(ln,y),bt(hn,I)}function Ra(g,y,I){var X=g.stateNode;if(g=y.childContextTypes,typeof X.getChildContext!="function")return I;X=X.getChildContext();for(var Q in X)if(!(Q in g))throw Error(u(108,D(y)||"Unknown",Q));return i({},I,X)}function Ws(g){return g=(g=g.stateNode)&&g.__reactInternalMemoizedMergedChildContext||qt,xn=ln.current,bt(ln,g),bt(hn,hn.current),!0}function ka(g,y,I){var X=g.stateNode;if(!X)throw Error(u(169));I?(g=Ra(g,y,xn),X.__reactInternalMemoizedMergedChildContext=g,je(hn),je(ln),bt(ln,g)):je(hn),bt(hn,I)}var bs=null,ti=null,js=o.unstable_now;js();var qs=0,An=8;function Ui(g){if((1&g)!=0)return An=15,1;if((2&g)!=0)return An=14,2;if((4&g)!=0)return An=13,4;var y=24&g;return y!==0?(An=12,y):(g&32)!=0?(An=11,32):(y=192&g,y!==0?(An=10,y):(g&256)!=0?(An=9,256):(y=3584&g,y!==0?(An=8,y):(g&4096)!=0?(An=7,4096):(y=4186112&g,y!==0?(An=6,y):(y=62914560&g,y!==0?(An=5,y):g&67108864?(An=4,67108864):(g&134217728)!=0?(An=3,134217728):(y=805306368&g,y!==0?(An=2,y):(1073741824&g)!=0?(An=1,1073741824):(An=8,g))))))}function vo(g){switch(g){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function bl(g){switch(g){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(u(358,g))}}function os(g,y){var I=g.pendingLanes;if(I===0)return An=0;var X=0,Q=0,fe=g.expiredLanes,De=g.suspendedLanes,Ge=g.pingedLanes;if(fe!==0)X=fe,Q=An=15;else if(fe=I&134217727,fe!==0){var st=fe&~De;st!==0?(X=Ui(st),Q=An):(Ge&=fe,Ge!==0&&(X=Ui(Ge),Q=An))}else fe=I&~De,fe!==0?(X=Ui(fe),Q=An):Ge!==0&&(X=Ui(Ge),Q=An);if(X===0)return 0;if(X=31-ni(X),X=I&((0>X?0:1<<X)<<1)-1,y!==0&&y!==X&&(y&De)==0){if(Ui(y),Q<=An)return y;An=Q}if(y=g.entangledLanes,y!==0)for(g=g.entanglements,y&=X;0<y;)I=31-ni(y),Q=1<<I,X|=g[I],y&=~Q;return X}function Xs(g){return g=g.pendingLanes&-1073741825,g!==0?g:g&1073741824?1073741824:0}function as(g,y){switch(g){case 15:return 1;case 14:return 2;case 12:return g=Ss(24&~y),g===0?as(10,y):g;case 10:return g=Ss(192&~y),g===0?as(8,y):g;case 8:return g=Ss(3584&~y),g===0&&(g=Ss(4186112&~y),g===0&&(g=512)),g;case 2:return y=Ss(805306368&~y),y===0&&(y=268435456),y}throw Error(u(358,g))}function Ss(g){return g&-g}function Bi(g){for(var y=[],I=0;31>I;I++)y.push(g);return y}function Hr(g,y,I){g.pendingLanes|=y;var X=y-1;g.suspendedLanes&=X,g.pingedLanes&=X,g=g.eventTimes,y=31-ni(y),g[y]=I}var ni=Math.clz32?Math.clz32:Ia,us=Math.log,ku=Math.LN2;function Ia(g){return g===0?32:31-(us(g)/ku|0)|0}var go=o.unstable_runWithPriority,Ko=o.unstable_scheduleCallback,Ys=o.unstable_cancelCallback,Js=o.unstable_shouldYield,ls=o.unstable_requestPaint,Nr=o.unstable_now,Iu=o.unstable_getCurrentPriorityLevel,zi=o.unstable_ImmediatePriority,Zo=o.unstable_UserBlockingPriority,Ks=o.unstable_NormalPriority,Qo=o.unstable_LowPriority,Zs=o.unstable_IdlePriority,Qs={},La=ls!==void 0?ls:function(){},Yn=null,$i=null,yo=!1,xo=Nr(),Jn=1e4>xo?Nr:function(){return Nr()-xo};function Gi(){switch(Iu()){case zi:return 99;case Zo:return 98;case Ks:return 97;case Qo:return 96;case Zs:return 95;default:throw Error(u(332))}}function _e(g){switch(g){case 99:return zi;case 98:return Zo;case 97:return Ks;case 96:return Qo;case 95:return Zs;default:throw Error(u(332))}}function Ke(g,y){return g=_e(g),go(g,y)}function at(g,y,I){return g=_e(g),Ko(g,y,I)}function wt(){if($i!==null){var g=$i;$i=null,Ys(g)}Wn()}function Wn(){if(!yo&&Yn!==null){yo=!0;var g=0;try{var y=Yn;Ke(99,function(){for(;g<y.length;g++){var I=y[g];do I=I(!0);while(I!==null)}}),Yn=null}catch(I){throw Yn!==null&&(Yn=Yn.slice(g+1)),Ko(zi,wt),I}finally{yo=!1}}}var or=l.ReactCurrentBatchConfig;function Dr(g,y){return g===y&&(g!==0||1/g==1/y)||g!==g&&y!==y}var Sn=typeof Object.is=="function"?Object.is:Dr,Fa=Object.prototype.hasOwnProperty;function Ur(g,y){if(Sn(g,y))return!0;if(typeof g!="object"||g===null||typeof y!="object"||y===null)return!1;var I=Object.keys(g),X=Object.keys(y);if(I.length!==X.length)return!1;for(X=0;X<I.length;X++)if(!Fa.call(y,I[X])||!Sn(g[I[X]],y[I[X]]))return!1;return!0}function _o(g){switch(g.tag){case 5:return Wt(g.type);case 16:return Wt("Lazy");case 13:return Wt("Suspense");case 19:return Wt("SuspenseList");case 0:case 2:case 15:return g=Jt(g.type,!1),g;case 11:return g=Jt(g.type.render,!1),g;case 22:return g=Jt(g.type._render,!1),g;case 1:return g=Jt(g.type,!0),g;default:return""}}function Fn(g,y){if(g&&g.defaultProps){y=i({},y),g=g.defaultProps;for(var I in g)y[I]===void 0&&(y[I]=g[I]);return y}return y}var wo=xe(null),Hi=null,Vr=null,Oa=null;function Sl(){Oa=Vr=Hi=null}function bo(g,y){g=g.type._context,Te?(bt(wo,g._currentValue),g._currentValue=y):(bt(wo,g._currentValue2),g._currentValue2=y)}function dr(g){var y=wo.current;je(wo),g=g.type._context,Te?g._currentValue=y:g._currentValue2=y}function gi(g,y){for(;g!==null;){var I=g.alternate;if((g.childLanes&y)===y){if(I===null||(I.childLanes&y)===y)break;I.childLanes|=y}else g.childLanes|=y,I!==null&&(I.childLanes|=y);g=g.return}}function ar(g,y){Hi=g,Oa=Vr=null,g=g.dependencies,g!==null&&g.firstContext!==null&&((g.lanes&y)!=0&&(to=!0),g.firstContext=null)}function ur(g,y){if(Oa!==g&&y!==!1&&y!==0)if((typeof y!="number"||y===1073741823)&&(Oa=g,y=1073741823),y={context:g,observedBits:y,next:null},Vr===null){if(Hi===null)throw Error(u(308));Vr=y,Hi.dependencies={lanes:0,firstContext:y,responders:null}}else Vr=Vr.next=y;return Te?g._currentValue:g._currentValue2}var Es=!1;function Hh(g){g.updateQueue={baseState:g.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function W0(g,y){g=g.updateQueue,y.updateQueue===g&&(y.updateQueue={baseState:g.baseState,firstBaseUpdate:g.firstBaseUpdate,lastBaseUpdate:g.lastBaseUpdate,shared:g.shared,effects:g.effects})}function ea(g,y){return{eventTime:g,lane:y,tag:0,payload:null,callback:null,next:null}}function ta(g,y){if(g=g.updateQueue,g!==null){g=g.shared;var I=g.pending;I===null?y.next=y:(y.next=I.next,I.next=y),g.pending=y}}function j0(g,y){var I=g.updateQueue,X=g.alternate;if(X!==null&&(X=X.updateQueue,I===X)){var Q=null,fe=null;if(I=I.firstBaseUpdate,I!==null){do{var De={eventTime:I.eventTime,lane:I.lane,tag:I.tag,payload:I.payload,callback:I.callback,next:null};fe===null?Q=fe=De:fe=fe.next=De,I=I.next}while(I!==null);fe===null?Q=fe=y:fe=fe.next=y}else Q=fe=y;I={baseState:X.baseState,firstBaseUpdate:Q,lastBaseUpdate:fe,shared:X.shared,effects:X.effects},g.updateQueue=I;return}g=I.lastBaseUpdate,g===null?I.firstBaseUpdate=y:g.next=y,I.lastBaseUpdate=y}function El(g,y,I,X){var Q=g.updateQueue;Es=!1;var fe=Q.firstBaseUpdate,De=Q.lastBaseUpdate,Ge=Q.shared.pending;if(Ge!==null){Q.shared.pending=null;var st=Ge,Tt=st.next;st.next=null,De===null?fe=Tt:De.next=Tt,De=st;var Zt=g.alternate;if(Zt!==null){Zt=Zt.updateQueue;var on=Zt.lastBaseUpdate;on!==De&&(on===null?Zt.firstBaseUpdate=Tt:on.next=Tt,Zt.lastBaseUpdate=st)}}if(fe!==null){on=Q.baseState,De=0,Zt=Tt=st=null;do{Ge=fe.lane;var Ft=fe.eventTime;if((X&Ge)===Ge){Zt!==null&&(Zt=Zt.next={eventTime:Ft,lane:0,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null});e:{var Bn=g,Kn=fe;switch(Ge=y,Ft=I,Kn.tag){case 1:if(Bn=Kn.payload,typeof Bn=="function"){on=Bn.call(Ft,on,Ge);break e}on=Bn;break e;case 3:Bn.flags=Bn.flags&-4097|64;case 0:if(Bn=Kn.payload,Ge=typeof Bn=="function"?Bn.call(Ft,on,Ge):Bn,Ge==null)break e;on=i({},on,Ge);break e;case 2:Es=!0}}fe.callback!==null&&(g.flags|=32,Ge=Q.effects,Ge===null?Q.effects=[fe]:Ge.push(fe))}else Ft={eventTime:Ft,lane:Ge,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null},Zt===null?(Tt=Zt=Ft,st=on):Zt=Zt.next=Ft,De|=Ge;if(fe=fe.next,fe===null){if(Ge=Q.shared.pending,Ge===null)break;fe=Ge.next,Ge.next=null,Q.lastBaseUpdate=Ge,Q.shared.pending=null}}while(1);Zt===null&&(st=on),Q.baseState=st,Q.firstBaseUpdate=Tt,Q.lastBaseUpdate=Zt,Qc|=De,g.lanes=De,g.memoizedState=on}}function q0(g,y,I){if(g=y.effects,y.effects=null,g!==null)for(y=0;y<g.length;y++){var X=g[y],Q=X.callback;if(Q!==null){if(X.callback=null,X=I,typeof Q!="function")throw Error(u(191,Q));Q.call(X)}}}var X0=new s.Component().refs;function Vh(g,y,I,X){y=g.memoizedState,I=I(X,y),I=I==null?y:i({},y,I),g.memoizedState=I,g.lanes===0&&(g.updateQueue.baseState=I)}var Wh={isMounted:function(g){return(g=g._reactInternals)?R(g)===g:!1},enqueueSetState:function(g,y,I){g=g._reactInternals;var X=Wi(),Q=$a(g),fe=ea(X,Q);fe.payload=y,I!=null&&(fe.callback=I),ta(g,fe),aa(g,Q,X)},enqueueReplaceState:function(g,y,I){g=g._reactInternals;var X=Wi(),Q=$a(g),fe=ea(X,Q);fe.tag=1,fe.payload=y,I!=null&&(fe.callback=I),ta(g,fe),aa(g,Q,X)},enqueueForceUpdate:function(g,y){g=g._reactInternals;var I=Wi(),X=$a(g),Q=ea(I,X);Q.tag=2,y!=null&&(Q.callback=y),ta(g,Q),aa(g,X,I)}};function U1(g,y,I,X,Q,fe,De){return g=g.stateNode,typeof g.shouldComponentUpdate=="function"?g.shouldComponentUpdate(X,fe,De):y.prototype&&y.prototype.isPureReactComponent?!Ur(I,X)||!Ur(Q,fe):!0}function B1(g,y,I){var X=!1,Q=qt,fe=y.contextType;return typeof fe=="object"&&fe!==null?fe=ur(fe):(Q=gn(y)?xn:ln.current,X=y.contextTypes,fe=(X=X!=null)?Xn(g,Q):qt),y=new y(I,fe),g.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Wh,g.stateNode=y,y._reactInternals=g,X&&(g=g.stateNode,g.__reactInternalMemoizedUnmaskedChildContext=Q,g.__reactInternalMemoizedMaskedChildContext=fe),y}function z1(g,y,I,X){g=y.state,typeof y.componentWillReceiveProps=="function"&&y.componentWillReceiveProps(I,X),typeof y.UNSAFE_componentWillReceiveProps=="function"&&y.UNSAFE_componentWillReceiveProps(I,X),y.state!==g&&Wh.enqueueReplaceState(y,y.state,null)}function Y0(g,y,I,X){var Q=g.stateNode;Q.props=I,Q.state=g.memoizedState,Q.refs=X0,Hh(g);var fe=y.contextType;typeof fe=="object"&&fe!==null?Q.context=ur(fe):(fe=gn(y)?xn:ln.current,Q.context=Xn(g,fe)),El(g,I,Q,X),Q.state=g.memoizedState,fe=y.getDerivedStateFromProps,typeof fe=="function"&&(Vh(g,y,fe,I),Q.state=g.memoizedState),typeof y.getDerivedStateFromProps=="function"||typeof Q.getSnapshotBeforeUpdate=="function"||typeof Q.UNSAFE_componentWillMount!="function"&&typeof Q.componentWillMount!="function"||(y=Q.state,typeof Q.componentWillMount=="function"&&Q.componentWillMount(),typeof Q.UNSAFE_componentWillMount=="function"&&Q.UNSAFE_componentWillMount(),y!==Q.state&&Wh.enqueueReplaceState(Q,Q.state,null),El(g,I,Q,X),Q.state=g.memoizedState),typeof Q.componentDidMount=="function"&&(g.flags|=4)}var Bc=Array.isArray;function zc(g,y,I){if(g=I.ref,g!==null&&typeof g!="function"&&typeof g!="object"){if(I._owner){if(I=I._owner,I){if(I.tag!==1)throw Error(u(309));var X=I.stateNode}if(!X)throw Error(u(147,g));var Q=""+g;return y!==null&&y.ref!==null&&typeof y.ref=="function"&&y.ref._stringRef===Q?y.ref:(y=function(fe){var De=X.refs;De===X0&&(De=X.refs={}),fe===null?delete De[Q]:De[Q]=fe},y._stringRef=Q,y)}if(typeof g!="string")throw Error(u(284));if(!I._owner)throw Error(u(290,g))}return g}function jh(g,y){if(g.type!=="textarea")throw Error(u(31,Object.prototype.toString.call(y)==="[object Object]"?"object with keys {"+Object.keys(y).join(", ")+"}":y))}function $1(g){function y(tt,qe){if(g){var ut=tt.lastEffect;ut!==null?(ut.nextEffect=qe,tt.lastEffect=qe):tt.firstEffect=tt.lastEffect=qe,qe.nextEffect=null,qe.flags=8}}function I(tt,qe){if(!g)return null;for(;qe!==null;)y(tt,qe),qe=qe.sibling;return null}function X(tt,qe){for(tt=new Map;qe!==null;)qe.key!==null?tt.set(qe.key,qe):tt.set(qe.index,qe),qe=qe.sibling;return tt}function Q(tt,qe){return tt=Ha(tt,qe),tt.index=0,tt.sibling=null,tt}function fe(tt,qe,ut){return tt.index=ut,g?(ut=tt.alternate,ut!==null?(ut=ut.index,ut<qe?(tt.flags=2,qe):ut):(tt.flags=2,qe)):qe}function De(tt){return g&&tt.alternate===null&&(tt.flags=2),tt}function Ge(tt,qe,ut,Lt){return qe===null||qe.tag!==6?(qe=Nm(ut,tt.mode,Lt),qe.return=tt,qe):(qe=Q(qe,ut),qe.return=tt,qe)}function st(tt,qe,ut,Lt){return qe!==null&&qe.elementType===ut.type?(Lt=Q(qe,ut.props),Lt.ref=zc(tt,qe,ut),Lt.return=tt,Lt):(Lt=wd(ut.type,ut.key,ut.props,null,tt.mode,Lt),Lt.ref=zc(tt,qe,ut),Lt.return=tt,Lt)}function Tt(tt,qe,ut,Lt){return qe===null||qe.tag!==4||qe.stateNode.containerInfo!==ut.containerInfo||qe.stateNode.implementation!==ut.implementation?(qe=Um(ut,tt.mode,Lt),qe.return=tt,qe):(qe=Q(qe,ut.children||[]),qe.return=tt,qe)}function Zt(tt,qe,ut,Lt,Qt){return qe===null||qe.tag!==7?(qe=Rl(ut,tt.mode,Lt,Qt),qe.return=tt,qe):(qe=Q(qe,ut),qe.return=tt,qe)}function on(tt,qe,ut){if(typeof qe=="string"||typeof qe=="number")return qe=Nm(""+qe,tt.mode,ut),qe.return=tt,qe;if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case c:return ut=wd(qe.type,qe.key,qe.props,null,tt.mode,ut),ut.ref=zc(tt,null,qe),ut.return=tt,ut;case h:return qe=Um(qe,tt.mode,ut),qe.return=tt,qe}if(Bc(qe)||H(qe))return qe=Rl(qe,tt.mode,ut,null),qe.return=tt,qe;jh(tt,qe)}return null}function Ft(tt,qe,ut,Lt){var Qt=qe!==null?qe.key:null;if(typeof ut=="string"||typeof ut=="number")return Qt!==null?null:Ge(tt,qe,""+ut,Lt);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case c:return ut.key===Qt?ut.type===d?Zt(tt,qe,ut.props.children,Lt,Qt):st(tt,qe,ut,Lt):null;case h:return ut.key===Qt?Tt(tt,qe,ut,Lt):null}if(Bc(ut)||H(ut))return Qt!==null?null:Zt(tt,qe,ut,Lt,null);jh(tt,ut)}return null}function Bn(tt,qe,ut,Lt,Qt){if(typeof Lt=="string"||typeof Lt=="number")return tt=tt.get(ut)||null,Ge(qe,tt,""+Lt,Qt);if(typeof Lt=="object"&&Lt!==null){switch(Lt.$$typeof){case c:return tt=tt.get(Lt.key===null?ut:Lt.key)||null,Lt.type===d?Zt(qe,tt,Lt.props.children,Qt,Lt.key):st(qe,tt,Lt,Qt);case h:return tt=tt.get(Lt.key===null?ut:Lt.key)||null,Tt(qe,tt,Lt,Qt)}if(Bc(Lt)||H(Lt))return tt=tt.get(ut)||null,Zt(qe,tt,Lt,Qt,null);jh(qe,Lt)}return null}function Kn(tt,qe,ut,Lt){for(var Qt=null,Nn=null,an=qe,In=qe=0,pr=null;an!==null&&In<ut.length;In++){an.index>In?(pr=an,an=null):pr=an.sibling;var wn=Ft(tt,an,ut[In],Lt);if(wn===null){an===null&&(an=pr);break}g&&an&&wn.alternate===null&&y(tt,an),qe=fe(wn,qe,In),Nn===null?Qt=wn:Nn.sibling=wn,Nn=wn,an=pr}if(In===ut.length)return I(tt,an),Qt;if(an===null){for(;In<ut.length;In++)an=on(tt,ut[In],Lt),an!==null&&(qe=fe(an,qe,In),Nn===null?Qt=an:Nn.sibling=an,Nn=an);return Qt}for(an=X(tt,an);In<ut.length;In++)pr=Bn(an,tt,In,ut[In],Lt),pr!==null&&(g&&pr.alternate!==null&&an.delete(pr.key===null?In:pr.key),qe=fe(pr,qe,In),Nn===null?Qt=pr:Nn.sibling=pr,Nn=pr);return g&&an.forEach(function(Va){return y(tt,Va)}),Qt}function As(tt,qe,ut,Lt){var Qt=H(ut);if(typeof Qt!="function")throw Error(u(150));if(ut=Qt.call(ut),ut==null)throw Error(u(151));for(var Nn=Qt=null,an=qe,In=qe=0,pr=null,wn=ut.next();an!==null&&!wn.done;In++,wn=ut.next()){an.index>In?(pr=an,an=null):pr=an.sibling;var Va=Ft(tt,an,wn.value,Lt);if(Va===null){an===null&&(an=pr);break}g&&an&&Va.alternate===null&&y(tt,an),qe=fe(Va,qe,In),Nn===null?Qt=Va:Nn.sibling=Va,Nn=Va,an=pr}if(wn.done)return I(tt,an),Qt;if(an===null){for(;!wn.done;In++,wn=ut.next())wn=on(tt,wn.value,Lt),wn!==null&&(qe=fe(wn,qe,In),Nn===null?Qt=wn:Nn.sibling=wn,Nn=wn);return Qt}for(an=X(tt,an);!wn.done;In++,wn=ut.next())wn=Bn(an,tt,In,wn.value,Lt),wn!==null&&(g&&wn.alternate!==null&&an.delete(wn.key===null?In:wn.key),qe=fe(wn,qe,In),Nn===null?Qt=wn:Nn.sibling=wn,Nn=wn);return g&&an.forEach(function(Gy){return y(tt,Gy)}),Qt}return function(tt,qe,ut,Lt){var Qt=typeof ut=="object"&&ut!==null&&ut.type===d&&ut.key===null;Qt&&(ut=ut.props.children);var Nn=typeof ut=="object"&&ut!==null;if(Nn)switch(ut.$$typeof){case c:e:{for(Nn=ut.key,Qt=qe;Qt!==null;){if(Qt.key===Nn){switch(Qt.tag){case 7:if(ut.type===d){I(tt,Qt.sibling),qe=Q(Qt,ut.props.children),qe.return=tt,tt=qe;break e}break;default:if(Qt.elementType===ut.type){I(tt,Qt.sibling),qe=Q(Qt,ut.props),qe.ref=zc(tt,Qt,ut),qe.return=tt,tt=qe;break e}}I(tt,Qt);break}else y(tt,Qt);Qt=Qt.sibling}ut.type===d?(qe=Rl(ut.props.children,tt.mode,Lt,ut.key),qe.return=tt,tt=qe):(Lt=wd(ut.type,ut.key,ut.props,null,tt.mode,Lt),Lt.ref=zc(tt,qe,ut),Lt.return=tt,tt=Lt)}return De(tt);case h:e:{for(Qt=ut.key;qe!==null;){if(qe.key===Qt)if(qe.tag===4&&qe.stateNode.containerInfo===ut.containerInfo&&qe.stateNode.implementation===ut.implementation){I(tt,qe.sibling),qe=Q(qe,ut.children||[]),qe.return=tt,tt=qe;break e}else{I(tt,qe);break}else y(tt,qe);qe=qe.sibling}qe=Um(ut,tt.mode,Lt),qe.return=tt,tt=qe}return De(tt)}if(typeof ut=="string"||typeof ut=="number")return ut=""+ut,qe!==null&&qe.tag===6?(I(tt,qe.sibling),qe=Q(qe,ut),qe.return=tt,tt=qe):(I(tt,qe),qe=Nm(ut,tt.mode,Lt),qe.return=tt,tt=qe),De(tt);if(Bc(ut))return Kn(tt,qe,ut,Lt);if(H(ut))return As(tt,qe,ut,Lt);if(Nn&&jh(tt,ut),typeof ut=="undefined"&&!Qt)switch(tt.tag){case 1:case 22:case 0:case 11:case 15:throw Error(u(152,D(tt.type)||"Component"))}return I(tt,qe)}}var qh=$1(!0),G1=$1(!1),$c={},Ms=xe($c),Gc=xe($c),Ml=xe($c);function So(g){if(g===$c)throw Error(u(174));return g}function J0(g,y){bt(Ml,y),bt(Gc,g),bt(Ms,$c),g=k(y),je(Ms),bt(Ms,g)}function Dl(){je(Ms),je(Gc),je(Ml)}function H1(g){var y=So(Ml.current),I=So(Ms.current);y=G(I,g.type,y),I!==y&&(bt(Gc,g),bt(Ms,y))}function K0(g){Gc.current===g&&(je(Ms),je(Gc))}var lr=xe(0);function Xh(g){for(var y=g;y!==null;){if(y.tag===13){var I=y.memoizedState;if(I!==null&&(I=I.dehydrated,I===null||Re(I)||We(I)))return y}else if(y.tag===19&&y.memoizedProps.revealOrder!==void 0){if((y.flags&64)!=0)return y}else if(y.child!==null){y.child.return=y,y=y.child;continue}if(y===g)break;for(;y.sibling===null;){if(y.return===null||y.return===g)return null;y=y.return}y.sibling.return=y.return,y=y.sibling}return null}var na=null,Na=null,eo=!1;function Z0(g,y){var I=Ds(5,null,null,0);I.elementType="DELETED",I.type="DELETED",I.stateNode=y,I.return=g,I.flags=8,g.lastEffect!==null?(g.lastEffect.nextEffect=I,g.lastEffect=I):g.firstEffect=g.lastEffect=I}function V1(g,y){switch(g.tag){case 5:return y=Nt(y,g.type,g.pendingProps),y!==null?(g.stateNode=y,!0):!1;case 6:return y=pe(y,g.pendingProps),y!==null?(g.stateNode=y,!0):!1;case 13:return!1;default:return!1}}function Yh(g){if(eo){var y=Na;if(y){var I=y;if(!V1(g,y)){if(y=ke(I),!y||!V1(g,y)){g.flags=g.flags&-1025|2,eo=!1,na=g;return}Z0(na,I)}na=g,Na=Le(y)}else g.flags=g.flags&-1025|2,eo=!1,na=g}}function Q0(g){for(g=g.return;g!==null&&g.tag!==5&&g.tag!==3&&g.tag!==13;)g=g.return;na=g}function ra(g){if(!ie||g!==na)return!1;if(!eo)return Q0(g),eo=!0,!1;var y=g.type;if(g.tag!==5||y!=="head"&&y!=="body"&&!ue(y,g.memoizedProps))for(y=Na;y;)Z0(g,y),y=ke(y);if(Q0(g),g.tag===13){if(!ie)throw Error(u(316));if(g=g.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(u(317));Na=ht(g)}else Na=na?ke(g.stateNode):null;return!0}function em(){ie&&(Na=na=null,eo=!1)}var Ua=[];function tm(){for(var g=0;g<Ua.length;g++){var y=Ua[g];Te?y._workInProgressVersionPrimary=null:y._workInProgressVersionSecondary=null}Ua.length=0}var Hc=l.ReactCurrentDispatcher,cs=l.ReactCurrentBatchConfig,Vc=0,cr=null,ri=null,Wr=null,Jh=!1,Wc=!1;function jr(){throw Error(u(321))}function Kh(g,y){if(y===null)return!1;for(var I=0;I<y.length&&I<g.length;I++)if(!Sn(g[I],y[I]))return!1;return!0}function nm(g,y,I,X,Q,fe){if(Vc=fe,cr=y,y.memoizedState=null,y.updateQueue=null,y.lanes=0,Hc.current=g===null||g.memoizedState===null?a3:u3,g=I(X,Q),Wc){fe=0;do{if(Wc=!1,!(25>fe))throw Error(u(301));fe+=1,Wr=ri=null,y.updateQueue=null,Hc.current=l3,g=I(X,Q)}while(Wc)}if(Hc.current=td,y=ri!==null&&ri.next!==null,Vc=0,Wr=ri=cr=null,Jh=!1,y)throw Error(u(300));return g}function Lu(){var g={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wr===null?cr.memoizedState=Wr=g:Wr=Wr.next=g,Wr}function Fu(){if(ri===null){var g=cr.alternate;g=g!==null?g.memoizedState:null}else g=ri.next;var y=Wr===null?cr.memoizedState:Wr.next;if(y!==null)Wr=y,ri=g;else{if(g===null)throw Error(u(310));ri=g,g={memoizedState:ri.memoizedState,baseState:ri.baseState,baseQueue:ri.baseQueue,queue:ri.queue,next:null},Wr===null?cr.memoizedState=Wr=g:Wr=Wr.next=g}return Wr}function Eo(g,y){return typeof y=="function"?y(g):y}function jc(g){var y=Fu(),I=y.queue;if(I===null)throw Error(u(311));I.lastRenderedReducer=g;var X=ri,Q=X.baseQueue,fe=I.pending;if(fe!==null){if(Q!==null){var De=Q.next;Q.next=fe.next,fe.next=De}X.baseQueue=Q=fe,I.pending=null}if(Q!==null){Q=Q.next,X=X.baseState;var Ge=De=fe=null,st=Q;do{var Tt=st.lane;if((Vc&Tt)===Tt)Ge!==null&&(Ge=Ge.next={lane:0,action:st.action,eagerReducer:st.eagerReducer,eagerState:st.eagerState,next:null}),X=st.eagerReducer===g?st.eagerState:g(X,st.action);else{var Zt={lane:Tt,action:st.action,eagerReducer:st.eagerReducer,eagerState:st.eagerState,next:null};Ge===null?(De=Ge=Zt,fe=X):Ge=Ge.next=Zt,cr.lanes|=Tt,Qc|=Tt}st=st.next}while(st!==null&&st!==Q);Ge===null?fe=X:Ge.next=De,Sn(X,y.memoizedState)||(to=!0),y.memoizedState=X,y.baseState=fe,y.baseQueue=Ge,I.lastRenderedState=X}return[y.memoizedState,I.dispatch]}function qc(g){var y=Fu(),I=y.queue;if(I===null)throw Error(u(311));I.lastRenderedReducer=g;var X=I.dispatch,Q=I.pending,fe=y.memoizedState;if(Q!==null){I.pending=null;var De=Q=Q.next;do fe=g(fe,De.action),De=De.next;while(De!==Q);Sn(fe,y.memoizedState)||(to=!0),y.memoizedState=fe,y.baseQueue===null&&(y.baseState=fe),I.lastRenderedState=fe}return[fe,X]}function W1(g,y,I){var X=y._getVersion;X=X(y._source);var Q=Te?y._workInProgressVersionPrimary:y._workInProgressVersionSecondary;if(Q!==null?g=Q===X:(g=g.mutableReadLanes,(g=(Vc&g)===g)&&(Te?y._workInProgressVersionPrimary=X:y._workInProgressVersionSecondary=X,Ua.push(y))),g)return I(y._source);throw Ua.push(y),Error(u(350))}function j1(g,y,I,X){var Q=yi;if(Q===null)throw Error(u(349));var fe=y._getVersion,De=fe(y._source),Ge=Hc.current,st=Ge.useState(function(){return W1(Q,y,I)}),Tt=st[1],Zt=st[0];st=Wr;var on=g.memoizedState,Ft=on.refs,Bn=Ft.getSnapshot,Kn=on.source;on=on.subscribe;var As=cr;return g.memoizedState={refs:Ft,source:y,subscribe:X},Ge.useEffect(function(){Ft.getSnapshot=I,Ft.setSnapshot=Tt;var tt=fe(y._source);if(!Sn(De,tt)){tt=I(y._source),Sn(Zt,tt)||(Tt(tt),tt=$a(As),Q.mutableReadLanes|=tt&Q.pendingLanes),tt=Q.mutableReadLanes,Q.entangledLanes|=tt;for(var qe=Q.entanglements,ut=tt;0<ut;){var Lt=31-ni(ut),Qt=1<<Lt;qe[Lt]|=tt,ut&=~Qt}}},[I,y,X]),Ge.useEffect(function(){return X(y._source,function(){var tt=Ft.getSnapshot,qe=Ft.setSnapshot;try{qe(tt(y._source));var ut=$a(As);Q.mutableReadLanes|=ut&Q.pendingLanes}catch(Lt){qe(function(){throw Lt})}})},[y,X]),Sn(Bn,I)&&Sn(Kn,y)&&Sn(on,X)||(g={pending:null,dispatch:null,lastRenderedReducer:Eo,lastRenderedState:Zt},g.dispatch=Tt=om.bind(null,cr,g),st.queue=g,st.baseQueue=null,Zt=W1(Q,y,I),st.memoizedState=st.baseState=Zt),Zt}function q1(g,y,I){var X=Fu();return j1(X,g,y,I)}function Xc(g){var y=Lu();return typeof g=="function"&&(g=g()),y.memoizedState=y.baseState=g,g=y.queue={pending:null,dispatch:null,lastRenderedReducer:Eo,lastRenderedState:g},g=g.dispatch=om.bind(null,cr,g),[y.memoizedState,g]}function Zh(g,y,I,X){return g={tag:g,create:y,destroy:I,deps:X,next:null},y=cr.updateQueue,y===null?(y={lastEffect:null},cr.updateQueue=y,y.lastEffect=g.next=g):(I=y.lastEffect,I===null?y.lastEffect=g.next=g:(X=I.next,I.next=g,g.next=X,y.lastEffect=g)),g}function X1(g){var y=Lu();return g={current:g},y.memoizedState=g}function Qh(){return Fu().memoizedState}function rm(g,y,I,X){var Q=Lu();cr.flags|=g,Q.memoizedState=Zh(1|y,I,void 0,X===void 0?null:X)}function im(g,y,I,X){var Q=Fu();X=X===void 0?null:X;var fe=void 0;if(ri!==null){var De=ri.memoizedState;if(fe=De.destroy,X!==null&&Kh(X,De.deps)){Zh(y,I,fe,X);return}}cr.flags|=g,Q.memoizedState=Zh(1|y,I,fe,X)}function Y1(g,y){return rm(516,4,g,y)}function ed(g,y){return im(516,4,g,y)}function J1(g,y){return im(4,2,g,y)}function K1(g,y){if(typeof y=="function")return g=g(),y(g),function(){y(null)};if(y!=null)return g=g(),y.current=g,function(){y.current=null}}function Z1(g,y,I){return I=I!=null?I.concat([g]):null,im(4,2,K1.bind(null,y,g),I)}function sm(){}function Q1(g,y){var I=Fu();y=y===void 0?null:y;var X=I.memoizedState;return X!==null&&y!==null&&Kh(y,X[1])?X[0]:(I.memoizedState=[g,y],g)}function ey(g,y){var I=Fu();y=y===void 0?null:y;var X=I.memoizedState;return X!==null&&y!==null&&Kh(y,X[1])?X[0]:(g=g(),I.memoizedState=[g,y],g)}function o3(g,y){var I=Gi();Ke(98>I?98:I,function(){g(!0)}),Ke(97<I?97:I,function(){var X=cs.transition;cs.transition=1;try{g(!1),y()}finally{cs.transition=X}})}function om(g,y,I){var X=Wi(),Q=$a(g),fe={lane:Q,action:I,eagerReducer:null,eagerState:null,next:null},De=y.pending;if(De===null?fe.next=fe:(fe.next=De.next,De.next=fe),y.pending=fe,De=g.alternate,g===cr||De!==null&&De===cr)Wc=Jh=!0;else{if(g.lanes===0&&(De===null||De.lanes===0)&&(De=y.lastRenderedReducer,De!==null))try{var Ge=y.lastRenderedState,st=De(Ge,I);if(fe.eagerReducer=De,fe.eagerState=st,Sn(st,Ge))return}catch{}finally{}aa(g,Q,X)}}var td={readContext:ur,useCallback:jr,useContext:jr,useEffect:jr,useImperativeHandle:jr,useLayoutEffect:jr,useMemo:jr,useReducer:jr,useRef:jr,useState:jr,useDebugValue:jr,useDeferredValue:jr,useTransition:jr,useMutableSource:jr,useOpaqueIdentifier:jr,unstable_isNewReconciler:!1},a3={readContext:ur,useCallback:function(g,y){return Lu().memoizedState=[g,y===void 0?null:y],g},useContext:ur,useEffect:Y1,useImperativeHandle:function(g,y,I){return I=I!=null?I.concat([g]):null,rm(4,2,K1.bind(null,y,g),I)},useLayoutEffect:function(g,y){return rm(4,2,g,y)},useMemo:function(g,y){var I=Lu();return y=y===void 0?null:y,g=g(),I.memoizedState=[g,y],g},useReducer:function(g,y,I){var X=Lu();return y=I!==void 0?I(y):y,X.memoizedState=X.baseState=y,g=X.queue={pending:null,dispatch:null,lastRenderedReducer:g,lastRenderedState:y},g=g.dispatch=om.bind(null,cr,g),[X.memoizedState,g]},useRef:X1,useState:Xc,useDebugValue:sm,useDeferredValue:function(g){var y=Xc(g),I=y[0],X=y[1];return Y1(function(){var Q=cs.transition;cs.transition=1;try{X(g)}finally{cs.transition=Q}},[g]),I},useTransition:function(){var g=Xc(!1),y=g[0];return g=o3.bind(null,g[1]),X1(g),[g,y]},useMutableSource:function(g,y,I){var X=Lu();return X.memoizedState={refs:{getSnapshot:y,setSnapshot:null},source:g,subscribe:I},j1(X,g,y,I)},useOpaqueIdentifier:function(){if(eo){var g=!1,y=q(function(){throw g||(g=!0,I(he())),Error(u(355))}),I=Xc(y)[1];return(cr.mode&2)==0&&(cr.flags|=516,Zh(5,function(){I(he())},void 0,null)),y}return y=he(),Xc(y),y},unstable_isNewReconciler:!1},u3={readContext:ur,useCallback:Q1,useContext:ur,useEffect:ed,useImperativeHandle:Z1,useLayoutEffect:J1,useMemo:ey,useReducer:jc,useRef:Qh,useState:function(){return jc(Eo)},useDebugValue:sm,useDeferredValue:function(g){var y=jc(Eo),I=y[0],X=y[1];return ed(function(){var Q=cs.transition;cs.transition=1;try{X(g)}finally{cs.transition=Q}},[g]),I},useTransition:function(){var g=jc(Eo)[0];return[Qh().current,g]},useMutableSource:q1,useOpaqueIdentifier:function(){return jc(Eo)[0]},unstable_isNewReconciler:!1},l3={readContext:ur,useCallback:Q1,useContext:ur,useEffect:ed,useImperativeHandle:Z1,useLayoutEffect:J1,useMemo:ey,useReducer:qc,useRef:Qh,useState:function(){return qc(Eo)},useDebugValue:sm,useDeferredValue:function(g){var y=qc(Eo),I=y[0],X=y[1];return ed(function(){var Q=cs.transition;cs.transition=1;try{X(g)}finally{cs.transition=Q}},[g]),I},useTransition:function(){var g=qc(Eo)[0];return[Qh().current,g]},useMutableSource:q1,useOpaqueIdentifier:function(){return qc(Eo)[0]},unstable_isNewReconciler:!1},c3=l.ReactCurrentOwner,to=!1;function Vi(g,y,I,X){y.child=g===null?G1(y,null,I,X):qh(y,g.child,I,X)}function ty(g,y,I,X,Q){I=I.render;var fe=y.ref;return ar(y,Q),X=nm(g,y,I,X,fe,Q),g!==null&&!to?(y.updateQueue=g.updateQueue,y.flags&=-517,g.lanes&=~Q,ia(g,y,Q)):(y.flags|=1,Vi(g,y,X,Q),y.child)}function ny(g,y,I,X,Q,fe){if(g===null){var De=I.type;return typeof De=="function"&&!Fm(De)&&De.defaultProps===void 0&&I.compare===null&&I.defaultProps===void 0?(y.tag=15,y.type=De,ry(g,y,De,X,Q,fe)):(g=wd(I.type,null,X,y,y.mode,fe),g.ref=y.ref,g.return=y,y.child=g)}return De=g.child,(Q&fe)==0&&(Q=De.memoizedProps,I=I.compare,I=I!==null?I:Ur,I(Q,X)&&g.ref===y.ref)?ia(g,y,fe):(y.flags|=1,g=Ha(De,X),g.ref=y.ref,g.return=y,y.child=g)}function ry(g,y,I,X,Q,fe){if(g!==null&&Ur(g.memoizedProps,X)&&g.ref===y.ref)if(to=!1,(fe&Q)!=0)(g.flags&16384)!=0&&(to=!0);else return y.lanes=g.lanes,ia(g,y,fe);return um(g,y,I,X,fe)}function am(g,y,I){var X=y.pendingProps,Q=X.children,fe=g!==null?g.memoizedState:null;if(X.mode==="hidden"||X.mode==="unstable-defer-without-hiding")if((y.mode&4)==0)y.memoizedState={baseLanes:0},yd(y,I);else if((I&1073741824)!=0)y.memoizedState={baseLanes:0},yd(y,fe!==null?fe.baseLanes:I);else return g=fe!==null?fe.baseLanes|I:I,y.lanes=y.childLanes=1073741824,y.memoizedState={baseLanes:g},yd(y,g),null;else fe!==null?(X=fe.baseLanes|I,y.memoizedState=null):X=I,yd(y,X);return Vi(g,y,Q,I),y.child}function iy(g,y){var I=y.ref;(g===null&&I!==null||g!==null&&g.ref!==I)&&(y.flags|=128)}function um(g,y,I,X,Q){var fe=gn(I)?xn:ln.current;return fe=Xn(y,fe),ar(y,Q),I=nm(g,y,I,X,fe,Q),g!==null&&!to?(y.updateQueue=g.updateQueue,y.flags&=-517,g.lanes&=~Q,ia(g,y,Q)):(y.flags|=1,Vi(g,y,I,Q),y.child)}function sy(g,y,I,X,Q){if(gn(I)){var fe=!0;Ws(y)}else fe=!1;if(ar(y,Q),y.stateNode===null)g!==null&&(g.alternate=null,y.alternate=null,y.flags|=2),B1(y,I,X),Y0(y,I,X,Q),X=!0;else if(g===null){var De=y.stateNode,Ge=y.memoizedProps;De.props=Ge;var st=De.context,Tt=I.contextType;typeof Tt=="object"&&Tt!==null?Tt=ur(Tt):(Tt=gn(I)?xn:ln.current,Tt=Xn(y,Tt));var Zt=I.getDerivedStateFromProps,on=typeof Zt=="function"||typeof De.getSnapshotBeforeUpdate=="function";on||typeof De.UNSAFE_componentWillReceiveProps!="function"&&typeof De.componentWillReceiveProps!="function"||(Ge!==X||st!==Tt)&&z1(y,De,X,Tt),Es=!1;var Ft=y.memoizedState;De.state=Ft,El(y,X,De,Q),st=y.memoizedState,Ge!==X||Ft!==st||hn.current||Es?(typeof Zt=="function"&&(Vh(y,I,Zt,X),st=y.memoizedState),(Ge=Es||U1(y,I,Ge,X,Ft,st,Tt))?(on||typeof De.UNSAFE_componentWillMount!="function"&&typeof De.componentWillMount!="function"||(typeof De.componentWillMount=="function"&&De.componentWillMount(),typeof De.UNSAFE_componentWillMount=="function"&&De.UNSAFE_componentWillMount()),typeof De.componentDidMount=="function"&&(y.flags|=4)):(typeof De.componentDidMount=="function"&&(y.flags|=4),y.memoizedProps=X,y.memoizedState=st),De.props=X,De.state=st,De.context=Tt,X=Ge):(typeof De.componentDidMount=="function"&&(y.flags|=4),X=!1)}else{De=y.stateNode,W0(g,y),Ge=y.memoizedProps,Tt=y.type===y.elementType?Ge:Fn(y.type,Ge),De.props=Tt,on=y.pendingProps,Ft=De.context,st=I.contextType,typeof st=="object"&&st!==null?st=ur(st):(st=gn(I)?xn:ln.current,st=Xn(y,st));var Bn=I.getDerivedStateFromProps;(Zt=typeof Bn=="function"||typeof De.getSnapshotBeforeUpdate=="function")||typeof De.UNSAFE_componentWillReceiveProps!="function"&&typeof De.componentWillReceiveProps!="function"||(Ge!==on||Ft!==st)&&z1(y,De,X,st),Es=!1,Ft=y.memoizedState,De.state=Ft,El(y,X,De,Q);var Kn=y.memoizedState;Ge!==on||Ft!==Kn||hn.current||Es?(typeof Bn=="function"&&(Vh(y,I,Bn,X),Kn=y.memoizedState),(Tt=Es||U1(y,I,Tt,X,Ft,Kn,st))?(Zt||typeof De.UNSAFE_componentWillUpdate!="function"&&typeof De.componentWillUpdate!="function"||(typeof De.componentWillUpdate=="function"&&De.componentWillUpdate(X,Kn,st),typeof De.UNSAFE_componentWillUpdate=="function"&&De.UNSAFE_componentWillUpdate(X,Kn,st)),typeof De.componentDidUpdate=="function"&&(y.flags|=4),typeof De.getSnapshotBeforeUpdate=="function"&&(y.flags|=256)):(typeof De.componentDidUpdate!="function"||Ge===g.memoizedProps&&Ft===g.memoizedState||(y.flags|=4),typeof De.getSnapshotBeforeUpdate!="function"||Ge===g.memoizedProps&&Ft===g.memoizedState||(y.flags|=256),y.memoizedProps=X,y.memoizedState=Kn),De.props=X,De.state=Kn,De.context=st,X=Tt):(typeof De.componentDidUpdate!="function"||Ge===g.memoizedProps&&Ft===g.memoizedState||(y.flags|=4),typeof De.getSnapshotBeforeUpdate!="function"||Ge===g.memoizedProps&&Ft===g.memoizedState||(y.flags|=256),X=!1)}return lm(g,y,I,X,fe,Q)}function lm(g,y,I,X,Q,fe){iy(g,y);var De=(y.flags&64)!=0;if(!X&&!De)return Q&&ka(y,I,!1),ia(g,y,fe);X=y.stateNode,c3.current=y;var Ge=De&&typeof I.getDerivedStateFromError!="function"?null:X.render();return y.flags|=1,g!==null&&De?(y.child=qh(y,g.child,null,fe),y.child=qh(y,null,Ge,fe)):Vi(g,y,Ge,fe),y.memoizedState=X.state,Q&&ka(y,I,!0),y.child}function oy(g){var y=g.stateNode;y.pendingContext?Ni(g,y.pendingContext,y.pendingContext!==y.context):y.context&&Ni(g,y.context,!1),J0(g,y.containerInfo)}var nd={dehydrated:null,retryLane:0};function ay(g,y,I){var X=y.pendingProps,Q=lr.current,fe=!1,De;return(De=(y.flags&64)!=0)||(De=g!==null&&g.memoizedState===null?!1:(Q&2)!=0),De?(fe=!0,y.flags&=-65):g!==null&&g.memoizedState===null||X.fallback===void 0||X.unstable_avoidThisFallback===!0||(Q|=1),bt(lr,Q&1),g===null?(X.fallback!==void 0&&Yh(y),g=X.children,Q=X.fallback,fe?(g=uy(y,g,Q,I),y.child.memoizedState={baseLanes:I},y.memoizedState=nd,g):typeof X.unstable_expectedLoadTime=="number"?(g=uy(y,g,Q,I),y.child.memoizedState={baseLanes:I},y.memoizedState=nd,y.lanes=33554432,g):(I=Om({mode:"visible",children:g},y.mode,I,null),I.return=y,y.child=I)):g.memoizedState!==null?fe?(X=cy(g,y,X.children,X.fallback,I),fe=y.child,Q=g.child.memoizedState,fe.memoizedState=Q===null?{baseLanes:I}:{baseLanes:Q.baseLanes|I},fe.childLanes=g.childLanes&~I,y.memoizedState=nd,X):(I=ly(g,y,X.children,I),y.memoizedState=null,I):fe?(X=cy(g,y,X.children,X.fallback,I),fe=y.child,Q=g.child.memoizedState,fe.memoizedState=Q===null?{baseLanes:I}:{baseLanes:Q.baseLanes|I},fe.childLanes=g.childLanes&~I,y.memoizedState=nd,X):(I=ly(g,y,X.children,I),y.memoizedState=null,I)}function uy(g,y,I,X){var Q=g.mode,fe=g.child;return y={mode:"hidden",children:y},(Q&2)==0&&fe!==null?(fe.childLanes=0,fe.pendingProps=y):fe=Om(y,Q,0,null),I=Rl(I,Q,X,null),fe.return=g,I.return=g,fe.sibling=I,g.child=fe,I}function ly(g,y,I,X){var Q=g.child;return g=Q.sibling,I=Ha(Q,{mode:"visible",children:I}),(y.mode&2)==0&&(I.lanes=X),I.return=y,I.sibling=null,g!==null&&(g.nextEffect=null,g.flags=8,y.firstEffect=y.lastEffect=g),y.child=I}function cy(g,y,I,X,Q){var fe=y.mode,De=g.child;g=De.sibling;var Ge={mode:"hidden",children:I};return(fe&2)==0&&y.child!==De?(I=y.child,I.childLanes=0,I.pendingProps=Ge,De=I.lastEffect,De!==null?(y.firstEffect=I.firstEffect,y.lastEffect=De,De.nextEffect=null):y.firstEffect=y.lastEffect=null):I=Ha(De,Ge),g!==null?X=Ha(g,X):(X=Rl(X,fe,Q,null),X.flags|=2),X.return=y,I.return=y,I.sibling=X,y.child=I,X}function fy(g,y){g.lanes|=y;var I=g.alternate;I!==null&&(I.lanes|=y),gi(g.return,y)}function cm(g,y,I,X,Q,fe){var De=g.memoizedState;De===null?g.memoizedState={isBackwards:y,rendering:null,renderingStartTime:0,last:X,tail:I,tailMode:Q,lastEffect:fe}:(De.isBackwards=y,De.rendering=null,De.renderingStartTime=0,De.last=X,De.tail=I,De.tailMode=Q,De.lastEffect=fe)}function hy(g,y,I){var X=y.pendingProps,Q=X.revealOrder,fe=X.tail;if(Vi(g,y,X.children,I),X=lr.current,(X&2)!=0)X=X&1|2,y.flags|=64;else{if(g!==null&&(g.flags&64)!=0)e:for(g=y.child;g!==null;){if(g.tag===13)g.memoizedState!==null&&fy(g,I);else if(g.tag===19)fy(g,I);else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===y)break e;for(;g.sibling===null;){if(g.return===null||g.return===y)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}X&=1}if(bt(lr,X),(y.mode&2)==0)y.memoizedState=null;else switch(Q){case"forwards":for(I=y.child,Q=null;I!==null;)g=I.alternate,g!==null&&Xh(g)===null&&(Q=I),I=I.sibling;I=Q,I===null?(Q=y.child,y.child=null):(Q=I.sibling,I.sibling=null),cm(y,!1,Q,I,fe,y.lastEffect);break;case"backwards":for(I=null,Q=y.child,y.child=null;Q!==null;){if(g=Q.alternate,g!==null&&Xh(g)===null){y.child=Q;break}g=Q.sibling,Q.sibling=I,I=Q,Q=g}cm(y,!0,I,null,fe,y.lastEffect);break;case"together":cm(y,!1,null,null,void 0,y.lastEffect);break;default:y.memoizedState=null}return y.child}function ia(g,y,I){if(g!==null&&(y.dependencies=g.dependencies),Qc|=y.lanes,(I&y.childLanes)!=0){if(g!==null&&y.child!==g.child)throw Error(u(153));if(y.child!==null){for(g=y.child,I=Ha(g,g.pendingProps),y.child=I,I.return=y;g.sibling!==null;)g=g.sibling,I=I.sibling=Ha(g,g.pendingProps),I.return=y;I.sibling=null}return y.child}return null}function Mo(g){g.flags|=4}var Yc,Jc,rd,id;if(Pe)Yc=function(g,y){for(var I=y.child;I!==null;){if(I.tag===5||I.tag===6)J(g,I.stateNode);else if(I.tag!==4&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===y)break;for(;I.sibling===null;){if(I.return===null||I.return===y)return;I=I.return}I.sibling.return=I.return,I=I.sibling}},Jc=function(){},rd=function(g,y,I,X,Q){if(g=g.memoizedProps,g!==X){var fe=y.stateNode,De=So(Ms.current);I=se(fe,I,g,X,Q,De),(y.updateQueue=I)&&Mo(y)}},id=function(g,y,I,X){I!==X&&Mo(y)};else if(Je){Yc=function(g,y,I,X){for(var Q=y.child;Q!==null;){if(Q.tag===5){var fe=Q.stateNode;I&&X&&(fe=yt(fe,Q.type,Q.memoizedProps,Q)),J(g,fe)}else if(Q.tag===6)fe=Q.stateNode,I&&X&&(fe=pt(fe,Q.memoizedProps,Q)),J(g,fe);else if(Q.tag!==4){if(Q.tag===13&&(Q.flags&4)!=0&&(fe=Q.memoizedState!==null)){var De=Q.child;if(De!==null&&(De.child!==null&&(De.child.return=De,Yc(g,De,!0,fe)),fe=De.sibling,fe!==null)){fe.return=Q,Q=fe;continue}}if(Q.child!==null){Q.child.return=Q,Q=Q.child;continue}}if(Q===y)break;for(;Q.sibling===null;){if(Q.return===null||Q.return===y)return;Q=Q.return}Q.sibling.return=Q.return,Q=Q.sibling}};var dy=function(g,y,I,X){for(var Q=y.child;Q!==null;){if(Q.tag===5){var fe=Q.stateNode;I&&X&&(fe=yt(fe,Q.type,Q.memoizedProps,Q)),dt(g,fe)}else if(Q.tag===6)fe=Q.stateNode,I&&X&&(fe=pt(fe,Q.memoizedProps,Q)),dt(g,fe);else if(Q.tag!==4){if(Q.tag===13&&(Q.flags&4)!=0&&(fe=Q.memoizedState!==null)){var De=Q.child;if(De!==null&&(De.child!==null&&(De.child.return=De,dy(g,De,!0,fe)),fe=De.sibling,fe!==null)){fe.return=Q,Q=fe;continue}}if(Q.child!==null){Q.child.return=Q,Q=Q.child;continue}}if(Q===y)break;for(;Q.sibling===null;){if(Q.return===null||Q.return===y)return;Q=Q.return}Q.sibling.return=Q.return,Q=Q.sibling}};Jc=function(g){var y=g.stateNode;if(g.firstEffect!==null){var I=y.containerInfo,X=Ct(I);dy(X,g,!1,!1),y.pendingChildren=X,Mo(g),Mt(I,X)}},rd=function(g,y,I,X,Q){var fe=g.stateNode,De=g.memoizedProps;if((g=y.firstEffect===null)&&De===X)y.stateNode=fe;else{var Ge=y.stateNode,st=So(Ms.current),Tt=null;De!==X&&(Tt=se(Ge,I,De,X,Q,st)),g&&Tt===null?y.stateNode=fe:(fe=gt(fe,Tt,I,De,X,y,g,Ge),de(fe,I,X,Q,st)&&Mo(y),y.stateNode=fe,g?Mo(y):Yc(fe,y,!1,!1))}},id=function(g,y,I,X){I!==X?(g=So(Ml.current),I=So(Ms.current),y.stateNode=oe(X,g,I,y),Mo(y)):y.stateNode=g.stateNode}}else Jc=function(){},rd=function(){},id=function(){};function Kc(g,y){if(!eo)switch(g.tailMode){case"hidden":y=g.tail;for(var I=null;y!==null;)y.alternate!==null&&(I=y),y=y.sibling;I===null?g.tail=null:I.sibling=null;break;case"collapsed":I=g.tail;for(var X=null;I!==null;)I.alternate!==null&&(X=I),I=I.sibling;X===null?y||g.tail===null?g.tail=null:g.tail.sibling=null:X.sibling=null}}function f3(g,y,I){var X=y.pendingProps;switch(y.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return gn(y.type)&&Oi(),null;case 3:return Dl(),je(hn),je(ln),tm(),X=y.stateNode,X.pendingContext&&(X.context=X.pendingContext,X.pendingContext=null),(g===null||g.child===null)&&(ra(y)?Mo(y):X.hydrate||(y.flags|=256)),Jc(y),null;case 5:K0(y);var Q=So(Ml.current);if(I=y.type,g!==null&&y.stateNode!=null)rd(g,y,I,X,Q),g.ref!==y.ref&&(y.flags|=128);else{if(!X){if(y.stateNode===null)throw Error(u(166));return null}if(g=So(Ms.current),ra(y)){if(!ie)throw Error(u(175));g=At(y.stateNode,y.type,y.memoizedProps,Q,g,y),y.updateQueue=g,g!==null&&Mo(y)}else{var fe=ee(I,X,Q,g,y);Yc(fe,y,!1,!1),y.stateNode=fe,de(fe,I,X,Q,g)&&Mo(y)}y.ref!==null&&(y.flags|=128)}return null;case 6:if(g&&y.stateNode!=null)id(g,y,g.memoizedProps,X);else{if(typeof X!="string"&&y.stateNode===null)throw Error(u(166));if(g=So(Ml.current),Q=So(Ms.current),ra(y)){if(!ie)throw Error(u(176));rt(y.stateNode,y.memoizedProps,y)&&Mo(y)}else y.stateNode=oe(X,g,Q,y)}return null;case 13:return je(lr),X=y.memoizedState,(y.flags&64)!=0?(y.lanes=I,y):(X=X!==null,Q=!1,g===null?y.memoizedProps.fallback!==void 0&&ra(y):Q=g.memoizedState!==null,X&&!Q&&(y.mode&2)!=0&&(g===null&&y.memoizedProps.unstable_avoidThisFallback!==!0||(lr.current&1)!=0?qr===0&&(qr=3):((qr===0||qr===3)&&(qr=4),yi===null||(Qc&134217727)==0&&(Tl&134217727)==0||Cl(yi,ii))),Je&&X&&(y.flags|=4),Pe&&(X||Q)&&(y.flags|=4),null);case 4:return Dl(),Jc(y),g===null&&re(y.stateNode.containerInfo),null;case 10:return dr(y),null;case 17:return gn(y.type)&&Oi(),null;case 19:if(je(lr),X=y.memoizedState,X===null)return null;if(Q=(y.flags&64)!=0,fe=X.rendering,fe===null)if(Q)Kc(X,!1);else{if(qr!==0||g!==null&&(g.flags&64)!=0)for(g=y.child;g!==null;){if(fe=Xh(g),fe!==null){for(y.flags|=64,Kc(X,!1),g=fe.updateQueue,g!==null&&(y.updateQueue=g,y.flags|=4),X.lastEffect===null&&(y.firstEffect=null),y.lastEffect=X.lastEffect,g=I,X=y.child;X!==null;)Q=X,I=g,Q.flags&=2,Q.nextEffect=null,Q.firstEffect=null,Q.lastEffect=null,fe=Q.alternate,fe===null?(Q.childLanes=0,Q.lanes=I,Q.child=null,Q.memoizedProps=null,Q.memoizedState=null,Q.updateQueue=null,Q.dependencies=null,Q.stateNode=null):(Q.childLanes=fe.childLanes,Q.lanes=fe.lanes,Q.child=fe.child,Q.memoizedProps=fe.memoizedProps,Q.memoizedState=fe.memoizedState,Q.updateQueue=fe.updateQueue,Q.type=fe.type,I=fe.dependencies,Q.dependencies=I===null?null:{lanes:I.lanes,firstContext:I.firstContext}),X=X.sibling;return bt(lr,lr.current&1|2),y.child}g=g.sibling}X.tail!==null&&Jn()>Dm&&(y.flags|=64,Q=!0,Kc(X,!1),y.lanes=33554432)}else{if(!Q)if(g=Xh(fe),g!==null){if(y.flags|=64,Q=!0,g=g.updateQueue,g!==null&&(y.updateQueue=g,y.flags|=4),Kc(X,!0),X.tail===null&&X.tailMode==="hidden"&&!fe.alternate&&!eo)return y=y.lastEffect=X.lastEffect,y!==null&&(y.nextEffect=null),null}else 2*Jn()-X.renderingStartTime>Dm&&I!==1073741824&&(y.flags|=64,Q=!0,Kc(X,!1),y.lanes=33554432);X.isBackwards?(fe.sibling=y.child,y.child=fe):(g=X.last,g!==null?g.sibling=fe:y.child=fe,X.last=fe)}return X.tail!==null?(g=X.tail,X.rendering=g,X.tail=g.sibling,X.lastEffect=y.lastEffect,X.renderingStartTime=Jn(),g.sibling=null,y=lr.current,bt(lr,Q?y&1|2:y&1),g):null;case 23:case 24:return km(),g!==null&&g.memoizedState!==null!=(y.memoizedState!==null)&&X.mode!=="unstable-defer-without-hiding"&&(y.flags|=4),null}throw Error(u(156,y.tag))}function h3(g){switch(g.tag){case 1:gn(g.type)&&Oi();var y=g.flags;return y&4096?(g.flags=y&-4097|64,g):null;case 3:if(Dl(),je(hn),je(ln),tm(),y=g.flags,(y&64)!=0)throw Error(u(285));return g.flags=y&-4097|64,g;case 5:return K0(g),null;case 13:return je(lr),y=g.flags,y&4096?(g.flags=y&-4097|64,g):null;case 19:return je(lr),null;case 4:return Dl(),null;case 10:return dr(g),null;case 23:case 24:return km(),null;default:return null}}function fm(g,y){try{var I="",X=y;do I+=_o(X),X=X.return;while(X);var Q=I}catch(fe){Q=`
Error generating stack: `+fe.message+`
`+fe.stack}return{value:g,source:y,stack:Q}}function hm(g,y){try{console.error(y.value)}catch(I){setTimeout(function(){throw I})}}var d3=typeof WeakMap=="function"?WeakMap:Map;function py(g,y,I){I=ea(-1,I),I.tag=3,I.payload={element:null};var X=y.value;return I.callback=function(){pd||(pd=!0,Am=X),hm(g,y)},I}function my(g,y,I){I=ea(-1,I),I.tag=3;var X=g.type.getDerivedStateFromError;if(typeof X=="function"){var Q=y.value;I.payload=function(){return hm(g,y),X(Q)}}var fe=g.stateNode;return fe!==null&&typeof fe.componentDidCatch=="function"&&(I.callback=function(){typeof X!="function"&&(Do===null?Do=new Set([this]):Do.add(this),hm(g,y));var De=y.stack;this.componentDidCatch(y.value,{componentStack:De!==null?De:""})}),I}var p3=typeof WeakSet=="function"?WeakSet:Set;function vy(g){var y=g.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(I){Ga(g,I)}else y.current=null}function m3(g,y){switch(y.tag){case 0:case 11:case 15:case 22:return;case 1:if(y.flags&256&&g!==null){var I=g.memoizedProps,X=g.memoizedState;g=y.stateNode,y=g.getSnapshotBeforeUpdate(y.elementType===y.type?I:Fn(y.type,I),X),g.__reactInternalSnapshotBeforeUpdate=y}return;case 3:Pe&&y.flags&256&&mt(y.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(u(163))}function gy(g,y){if(y=y.updateQueue,y=y!==null?y.lastEffect:null,y!==null){var I=y=y.next;do{if((I.tag&g)===g){var X=I.destroy;I.destroy=void 0,X!==void 0&&X()}I=I.next}while(I!==y)}}function v3(g,y,I){switch(I.tag){case 0:case 11:case 15:case 22:if(y=I.updateQueue,y=y!==null?y.lastEffect:null,y!==null){g=y=y.next;do{if((g.tag&3)==3){var X=g.create;g.destroy=X()}g=g.next}while(g!==y)}if(y=I.updateQueue,y=y!==null?y.lastEffect:null,y!==null){g=y=y.next;do{var Q=g;X=Q.next,Q=Q.tag,(Q&4)!=0&&(Q&1)!=0&&(Ly(I,g),M3(I,g)),g=X}while(g!==y)}return;case 1:g=I.stateNode,I.flags&4&&(y===null?g.componentDidMount():(X=I.elementType===I.type?y.memoizedProps:Fn(I.type,y.memoizedProps),g.componentDidUpdate(X,y.memoizedState,g.__reactInternalSnapshotBeforeUpdate))),y=I.updateQueue,y!==null&&q0(I,y,g);return;case 3:if(y=I.updateQueue,y!==null){if(g=null,I.child!==null)switch(I.child.tag){case 5:g=U(I.child.stateNode);break;case 1:g=I.child.stateNode}q0(I,y,g)}return;case 5:g=I.stateNode,y===null&&I.flags&4&&Be(g,I.type,I.memoizedProps,I);return;case 6:return;case 4:return;case 12:return;case 13:ie&&I.memoizedState===null&&(I=I.alternate,I!==null&&(I=I.memoizedState,I!==null&&(I=I.dehydrated,I!==null&&$t(I))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(u(163))}function yy(g,y){if(Pe)for(var I=g;;){if(I.tag===5){var X=I.stateNode;y?nn(X):Gt(I.stateNode,I.memoizedProps)}else if(I.tag===6)X=I.stateNode,y?It(X):Ot(X,I.memoizedProps);else if((I.tag!==23&&I.tag!==24||I.memoizedState===null||I===g)&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===g)break;for(;I.sibling===null;){if(I.return===null||I.return===g)return;I=I.return}I.sibling.return=I.return,I=I.sibling}}function xy(g,y){if(ti&&typeof ti.onCommitFiberUnmount=="function")try{ti.onCommitFiberUnmount(bs,y)}catch{}switch(y.tag){case 0:case 11:case 14:case 15:case 22:if(g=y.updateQueue,g!==null&&(g=g.lastEffect,g!==null)){var I=g=g.next;do{var X=I,Q=X.destroy;if(X=X.tag,Q!==void 0)if((X&4)!=0)Ly(y,I);else{X=y;try{Q()}catch(fe){Ga(X,fe)}}I=I.next}while(I!==g)}break;case 1:if(vy(y),g=y.stateNode,typeof g.componentWillUnmount=="function")try{g.props=y.memoizedProps,g.state=y.memoizedState,g.componentWillUnmount()}catch(fe){Ga(y,fe)}break;case 5:vy(y);break;case 4:Pe?Ey(g,y):Je&&Je&&(y=y.stateNode.containerInfo,g=Ct(y),Dt(y,g))}}function _y(g,y){for(var I=y;;)if(xy(g,I),I.child===null||Pe&&I.tag===4){if(I===y)break;for(;I.sibling===null;){if(I.return===null||I.return===y)return;I=I.return}I.sibling.return=I.return,I=I.sibling}else I.child.return=I,I=I.child}function wy(g){g.alternate=null,g.child=null,g.dependencies=null,g.firstEffect=null,g.lastEffect=null,g.memoizedProps=null,g.memoizedState=null,g.pendingProps=null,g.return=null,g.updateQueue=null}function by(g){return g.tag===5||g.tag===3||g.tag===4}function Sy(g){if(Pe){e:{for(var y=g.return;y!==null;){if(by(y))break e;y=y.return}throw Error(u(160))}var I=y;switch(y=I.stateNode,I.tag){case 5:var X=!1;break;case 3:y=y.containerInfo,X=!0;break;case 4:y=y.containerInfo,X=!0;break;default:throw Error(u(161))}I.flags&16&&(_t(y),I.flags&=-17);e:t:for(I=g;;){for(;I.sibling===null;){if(I.return===null||by(I.return)){I=null;break e}I=I.return}for(I.sibling.return=I.return,I=I.sibling;I.tag!==5&&I.tag!==6&&I.tag!==18;){if(I.flags&2||I.child===null||I.tag===4)continue t;I.child.return=I,I=I.child}if(!(I.flags&2)){I=I.stateNode;break e}}X?dm(g,I,y):pm(g,I,y)}}function dm(g,y,I){var X=g.tag,Q=X===5||X===6;if(Q)g=Q?g.stateNode:g.stateNode.instance,y?ot(I,g,y):Ye(I,g);else if(X!==4&&(g=g.child,g!==null))for(dm(g,y,I),g=g.sibling;g!==null;)dm(g,y,I),g=g.sibling}function pm(g,y,I){var X=g.tag,Q=X===5||X===6;if(Q)g=Q?g.stateNode:g.stateNode.instance,y?Ve(I,g,y):Ue(I,g);else if(X!==4&&(g=g.child,g!==null))for(pm(g,y,I),g=g.sibling;g!==null;)pm(g,y,I),g=g.sibling}function Ey(g,y){for(var I=y,X=!1,Q,fe;;){if(!X){X=I.return;e:for(;;){if(X===null)throw Error(u(160));switch(Q=X.stateNode,X.tag){case 5:fe=!1;break e;case 3:Q=Q.containerInfo,fe=!0;break e;case 4:Q=Q.containerInfo,fe=!0;break e}X=X.return}X=!0}if(I.tag===5||I.tag===6)_y(g,I),fe?lt(Q,I.stateNode):kt(Q,I.stateNode);else if(I.tag===4){if(I.child!==null){Q=I.stateNode.containerInfo,fe=!0,I.child.return=I,I=I.child;continue}}else if(xy(g,I),I.child!==null){I.child.return=I,I=I.child;continue}if(I===y)break;for(;I.sibling===null;){if(I.return===null||I.return===y)return;I=I.return,I.tag===4&&(X=!1)}I.sibling.return=I.return,I=I.sibling}}function mm(g,y){if(Pe){switch(y.tag){case 0:case 11:case 14:case 15:case 22:gy(3,y);return;case 1:return;case 5:var I=y.stateNode;if(I!=null){var X=y.memoizedProps;g=g!==null?g.memoizedProps:X;var Q=y.type,fe=y.updateQueue;y.updateQueue=null,fe!==null&&Ze(I,fe,Q,g,X,y)}return;case 6:if(y.stateNode===null)throw Error(u(162));I=y.memoizedProps,He(y.stateNode,g!==null?g.memoizedProps:I,I);return;case 3:ie&&(y=y.stateNode,y.hydrate&&(y.hydrate=!1,it(y.containerInfo)));return;case 12:return;case 13:My(y),sd(y);return;case 19:sd(y);return;case 17:return;case 23:case 24:yy(y,y.memoizedState!==null);return}throw Error(u(163))}switch(y.tag){case 0:case 11:case 14:case 15:case 22:gy(3,y);return;case 12:return;case 13:My(y),sd(y);return;case 19:sd(y);return;case 3:ie&&(I=y.stateNode,I.hydrate&&(I.hydrate=!1,it(I.containerInfo)));break;case 23:case 24:return}e:if(Je){switch(y.tag){case 1:case 5:case 6:case 20:break e;case 3:case 4:y=y.stateNode,Dt(y.containerInfo,y.pendingChildren);break e}throw Error(u(163))}}function My(g){g.memoizedState!==null&&(Mm=Jn(),Pe&&yy(g.child,!0))}function sd(g){var y=g.updateQueue;if(y!==null){g.updateQueue=null;var I=g.stateNode;I===null&&(I=g.stateNode=new p3),y.forEach(function(X){var Q=T3.bind(null,g,X);I.has(X)||(I.add(X),X.then(Q,Q))})}}function g3(g,y){return g!==null&&(g=g.memoizedState,g===null||g.dehydrated!==null)?(y=y.memoizedState,y!==null&&y.dehydrated===null):!1}var od=0,ad=1,ud=2,ld=3,cd=4;if(typeof Symbol=="function"&&Symbol.for){var Zc=Symbol.for;od=Zc("selector.component"),ad=Zc("selector.has_pseudo_class"),ud=Zc("selector.role"),ld=Zc("selector.test_id"),cd=Zc("selector.text")}function vm(g){var y=K(g);if(y!=null){if(typeof y.memoizedProps["data-testname"]!="string")throw Error(u(364));return y}if(g=Ce(g),g===null)throw Error(u(362));return g.stateNode.current}function gm(g,y){switch(y.$$typeof){case od:if(g.type===y.value)return!0;break;case ad:e:{y=y.value,g=[g,0];for(var I=0;I<g.length;){var X=g[I++],Q=g[I++],fe=y[Q];if(X.tag!==5||!ge(X)){for(;fe!=null&&gm(X,fe);)Q++,fe=y[Q];if(Q===y.length){y=!0;break e}else for(X=X.child;X!==null;)g.push(X,Q),X=X.sibling}}y=!1}return y;case ud:if(g.tag===5&&Ne(g.stateNode,y.value))return!0;break;case cd:if((g.tag===5||g.tag===6)&&(g=Oe(g),g!==null&&0<=g.indexOf(y.value)))return!0;break;case ld:if(g.tag===5&&(g=g.memoizedProps["data-testname"],typeof g=="string"&&g.toLowerCase()===y.value.toLowerCase()))return!0;break;default:throw Error(u(365,y))}return!1}function ym(g){switch(g.$$typeof){case od:return"<"+(D(g.value)||"Unknown")+">";case ad:return":has("+(ym(g)||"")+")";case ud:return'[role="'+g.value+'"]';case cd:return'"'+g.value+'"';case ld:return'[data-testname="'+g.value+'"]';default:throw Error(u(365,g))}}function Dy(g,y){var I=[];g=[g,0];for(var X=0;X<g.length;){var Q=g[X++],fe=g[X++],De=y[fe];if(Q.tag!==5||!ge(Q)){for(;De!=null&&gm(Q,De);)fe++,De=y[fe];if(fe===y.length)I.push(Q);else for(Q=Q.child;Q!==null;)g.push(Q,fe),Q=Q.sibling}}return I}function xm(g,y){if(!Me)throw Error(u(363));g=vm(g),g=Dy(g,y),y=[],g=Array.from(g);for(var I=0;I<g.length;){var X=g[I++];if(X.tag===5)ge(X)||y.push(X.stateNode);else for(X=X.child;X!==null;)g.push(X),X=X.sibling}return y}var fd=null;function y3(g){if(fd===null)try{var y=("require"+Math.random()).slice(0,7);fd=(n&&n[y]).call(n,"timers").setImmediate}catch{fd=function(X){var Q=new MessageChannel;Q.port1.onmessage=X,Q.port2.postMessage(void 0)}}return fd(g)}var x3=Math.ceil,hd=l.ReactCurrentDispatcher,_m=l.ReactCurrentOwner,wm=l.IsSomeRendererActing,tn=0,yi=null,Ar=null,ii=0,Ou=0,bm=xe(0),qr=0,dd=null,Al=0,Qc=0,Tl=0,Sm=0,Em=null,Mm=0,Dm=1/0;function Ba(){Dm=Jn()+500}var Ht=null,pd=!1,Am=null,Do=null,za=!1,ef=null,tf=90,Tm=[],Cm=[],sa=null,nf=0,Pm=null,md=-1,oa=0,vd=0,rf=null,sf=!1;function Wi(){return(tn&48)!=0?Jn():md!==-1?md:md=Jn()}function $a(g){if(g=g.mode,(g&2)==0)return 1;if((g&4)==0)return Gi()===99?1:2;if(oa===0&&(oa=Al),or.transition!==0){vd!==0&&(vd=Em!==null?Em.pendingLanes:0),g=oa;var y=4186112&~vd;return y&=-y,y===0&&(g=4186112&~g,y=g&-g,y===0&&(y=8192)),y}return g=Gi(),(tn&4)!=0&&g===98?g=as(12,oa):(g=vo(g),g=as(g,oa)),g}function aa(g,y,I){if(50<nf)throw nf=0,Pm=null,Error(u(185));if(g=gd(g,y),g===null)return null;Hr(g,y,I),g===yi&&(Tl|=y,qr===4&&Cl(g,ii));var X=Gi();y===1?(tn&8)!=0&&(tn&48)==0?Rm(g):(fs(g,I),tn===0&&(Ba(),wt())):((tn&4)==0||X!==98&&X!==99||(sa===null?sa=new Set([g]):sa.add(g)),fs(g,I)),Em=g}function gd(g,y){g.lanes|=y;var I=g.alternate;for(I!==null&&(I.lanes|=y),I=g,g=g.return;g!==null;)g.childLanes|=y,I=g.alternate,I!==null&&(I.childLanes|=y),I=g,g=g.return;return I.tag===3?I.stateNode:null}function fs(g,y){for(var I=g.callbackNode,X=g.suspendedLanes,Q=g.pingedLanes,fe=g.expirationTimes,De=g.pendingLanes;0<De;){var Ge=31-ni(De),st=1<<Ge,Tt=fe[Ge];if(Tt===-1){if((st&X)==0||(st&Q)!=0){Tt=y,Ui(st);var Zt=An;fe[Ge]=10<=Zt?Tt+250:6<=Zt?Tt+5e3:-1}}else Tt<=y&&(g.expiredLanes|=st);De&=~st}if(X=os(g,g===yi?ii:0),y=An,X===0)I!==null&&(I!==Qs&&Ys(I),g.callbackNode=null,g.callbackPriority=0);else{if(I!==null){if(g.callbackPriority===y)return;I!==Qs&&Ys(I)}y===15?(I=Rm.bind(null,g),Yn===null?(Yn=[I],$i=Ko(zi,Wn)):Yn.push(I),I=Qs):y===14?I=at(99,Rm.bind(null,g)):(I=bl(y),I=at(I,Ay.bind(null,g))),g.callbackPriority=y,g.callbackNode=I}}function Ay(g){if(md=-1,vd=oa=0,(tn&48)!=0)throw Error(u(327));var y=g.callbackNode;if(ua()&&g.callbackNode!==y)return null;var I=os(g,g===yi?ii:0);if(I===0)return null;var X=I,Q=tn;tn|=16;var fe=Ry();(yi!==g||ii!==X)&&(Ba(),Pl(g,X));do try{b3();break}catch(Ge){Py(g,Ge)}while(1);if(Sl(),hd.current=fe,tn=Q,Ar!==null?X=0:(yi=null,ii=0,X=qr),(Al&Tl)!=0)Pl(g,0);else if(X!==0){if(X===2&&(tn|=64,g.hydrate&&(g.hydrate=!1,mt(g.containerInfo)),I=Xs(g),I!==0&&(X=of(g,I))),X===1)throw y=dd,Pl(g,0),Cl(g,I),fs(g,Jn()),y;switch(g.finishedWork=g.current.alternate,g.finishedLanes=I,X){case 0:case 1:throw Error(u(345));case 2:Nu(g);break;case 3:if(Cl(g,I),(I&62914560)===I&&(X=Mm+500-Jn(),10<X)){if(os(g,0)!==0)break;if(Q=g.suspendedLanes,(Q&I)!==I){Wi(),g.pingedLanes|=g.suspendedLanes&Q;break}g.timeoutHandle=W(Nu.bind(null,g),X);break}Nu(g);break;case 4:if(Cl(g,I),(I&4186112)===I)break;for(X=g.eventTimes,Q=-1;0<I;){var De=31-ni(I);fe=1<<De,De=X[De],De>Q&&(Q=De),I&=~fe}if(I=Q,I=Jn()-I,I=(120>I?120:480>I?480:1080>I?1080:1920>I?1920:3e3>I?3e3:4320>I?4320:1960*x3(I/1960))-I,10<I){g.timeoutHandle=W(Nu.bind(null,g),I);break}Nu(g);break;case 5:Nu(g);break;default:throw Error(u(329))}}return fs(g,Jn()),g.callbackNode===y?Ay.bind(null,g):null}function Cl(g,y){for(y&=~Sm,y&=~Tl,g.suspendedLanes|=y,g.pingedLanes&=~y,g=g.expirationTimes;0<y;){var I=31-ni(y),X=1<<I;g[I]=-1,y&=~X}}function Rm(g){if((tn&48)!=0)throw Error(u(327));if(ua(),g===yi&&(g.expiredLanes&ii)!=0){var y=ii,I=of(g,y);(Al&Tl)!=0&&(y=os(g,y),I=of(g,y))}else y=os(g,0),I=of(g,y);if(g.tag!==0&&I===2&&(tn|=64,g.hydrate&&(g.hydrate=!1,mt(g.containerInfo)),y=Xs(g),y!==0&&(I=of(g,y))),I===1)throw I=dd,Pl(g,0),Cl(g,y),fs(g,Jn()),I;return g.finishedWork=g.current.alternate,g.finishedLanes=y,Nu(g),fs(g,Jn()),null}function _3(){if(sa!==null){var g=sa;sa=null,g.forEach(function(y){y.expiredLanes|=24&y.pendingLanes,fs(y,Jn())})}wt()}function Ty(g,y){var I=tn;tn|=1;try{return g(y)}finally{tn=I,tn===0&&(Ba(),wt())}}function Cy(g,y){var I=tn;if((I&48)!=0)return g(y);tn|=1;try{if(g)return Ke(99,g.bind(null,y))}finally{tn=I,wt()}}function yd(g,y){bt(bm,Ou),Ou|=y,Al|=y}function km(){Ou=bm.current,je(bm)}function Pl(g,y){g.finishedWork=null,g.finishedLanes=0;var I=g.timeoutHandle;if(I!==ye&&(g.timeoutHandle=ye,ce(I)),Ar!==null)for(I=Ar.return;I!==null;){var X=I;switch(X.tag){case 1:X=X.type.childContextTypes,X!=null&&Oi();break;case 3:Dl(),je(hn),je(ln),tm();break;case 5:K0(X);break;case 4:Dl();break;case 13:je(lr);break;case 19:je(lr);break;case 10:dr(X);break;case 23:case 24:km()}I=I.return}yi=g,Ar=Ha(g.current,null),ii=Ou=Al=y,qr=0,dd=null,Sm=Tl=Qc=0}function Py(g,y){do{var I=Ar;try{if(Sl(),Hc.current=td,Jh){for(var X=cr.memoizedState;X!==null;){var Q=X.queue;Q!==null&&(Q.pending=null),X=X.next}Jh=!1}if(Vc=0,Wr=ri=cr=null,Wc=!1,_m.current=null,I===null||I.return===null){qr=1,dd=y,Ar=null;break}e:{var fe=g,De=I.return,Ge=I,st=y;if(y=ii,Ge.flags|=2048,Ge.firstEffect=Ge.lastEffect=null,st!==null&&typeof st=="object"&&typeof st.then=="function"){var Tt=st;if((Ge.mode&2)==0){var Zt=Ge.alternate;Zt?(Ge.updateQueue=Zt.updateQueue,Ge.memoizedState=Zt.memoizedState,Ge.lanes=Zt.lanes):(Ge.updateQueue=null,Ge.memoizedState=null)}var on=(lr.current&1)!=0,Ft=De;do{var Bn;if(Bn=Ft.tag===13){var Kn=Ft.memoizedState;if(Kn!==null)Bn=Kn.dehydrated!==null;else{var As=Ft.memoizedProps;Bn=As.fallback===void 0?!1:As.unstable_avoidThisFallback!==!0?!0:!on}}if(Bn){var tt=Ft.updateQueue;if(tt===null){var qe=new Set;qe.add(Tt),Ft.updateQueue=qe}else tt.add(Tt);if((Ft.mode&2)==0){if(Ft.flags|=64,Ge.flags|=16384,Ge.flags&=-2981,Ge.tag===1)if(Ge.alternate===null)Ge.tag=17;else{var ut=ea(-1,1);ut.tag=2,ta(Ge,ut)}Ge.lanes|=1;break e}st=void 0,Ge=y;var Lt=fe.pingCache;if(Lt===null?(Lt=fe.pingCache=new d3,st=new Set,Lt.set(Tt,st)):(st=Lt.get(Tt),st===void 0&&(st=new Set,Lt.set(Tt,st))),!st.has(Ge)){st.add(Ge);var Qt=A3.bind(null,fe,Tt,Ge);Tt.then(Qt,Qt)}Ft.flags|=4096,Ft.lanes=y;break e}Ft=Ft.return}while(Ft!==null);st=Error((D(Ge.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}qr!==5&&(qr=2),st=fm(st,Ge),Ft=De;do{switch(Ft.tag){case 3:fe=st,Ft.flags|=4096,y&=-y,Ft.lanes|=y;var Nn=py(Ft,fe,y);j0(Ft,Nn);break e;case 1:fe=st;var an=Ft.type,In=Ft.stateNode;if((Ft.flags&64)==0&&(typeof an.getDerivedStateFromError=="function"||In!==null&&typeof In.componentDidCatch=="function"&&(Do===null||!Do.has(In)))){Ft.flags|=4096,y&=-y,Ft.lanes|=y;var pr=my(Ft,fe,y);j0(Ft,pr);break e}}Ft=Ft.return}while(Ft!==null)}Iy(I)}catch(wn){y=wn,Ar===I&&I!==null&&(Ar=I=I.return);continue}break}while(1)}function Ry(){var g=hd.current;return hd.current=td,g===null?td:g}function of(g,y){var I=tn;tn|=16;var X=Ry();yi===g&&ii===y||Pl(g,y);do try{w3();break}catch(Q){Py(g,Q)}while(1);if(Sl(),tn=I,hd.current=X,Ar!==null)throw Error(u(261));return yi=null,ii=0,qr}function w3(){for(;Ar!==null;)ky(Ar)}function b3(){for(;Ar!==null&&!Js();)ky(Ar)}function ky(g){var y=Oy(g.alternate,g,Ou);g.memoizedProps=g.pendingProps,y===null?Iy(g):Ar=y,_m.current=null}function Iy(g){var y=g;do{var I=y.alternate;if(g=y.return,(y.flags&2048)==0){if(I=f3(I,y,Ou),I!==null){Ar=I;return}if(I=y,I.tag!==24&&I.tag!==23||I.memoizedState===null||(Ou&1073741824)!=0||(I.mode&4)==0){for(var X=0,Q=I.child;Q!==null;)X|=Q.lanes|Q.childLanes,Q=Q.sibling;I.childLanes=X}g!==null&&(g.flags&2048)==0&&(g.firstEffect===null&&(g.firstEffect=y.firstEffect),y.lastEffect!==null&&(g.lastEffect!==null&&(g.lastEffect.nextEffect=y.firstEffect),g.lastEffect=y.lastEffect),1<y.flags&&(g.lastEffect!==null?g.lastEffect.nextEffect=y:g.firstEffect=y,g.lastEffect=y))}else{if(I=h3(y),I!==null){I.flags&=2047,Ar=I;return}g!==null&&(g.firstEffect=g.lastEffect=null,g.flags|=2048)}if(y=y.sibling,y!==null){Ar=y;return}Ar=y=g}while(y!==null);qr===0&&(qr=5)}function Nu(g){var y=Gi();return Ke(99,S3.bind(null,g,y)),null}function S3(g,y){do ua();while(ef!==null);if((tn&48)!=0)throw Error(u(327));var I=g.finishedWork;if(I===null)return null;if(g.finishedWork=null,g.finishedLanes=0,I===g.current)throw Error(u(177));g.callbackNode=null;var X=I.lanes|I.childLanes,Q=X,fe=g.pendingLanes&~Q;g.pendingLanes=Q,g.suspendedLanes=0,g.pingedLanes=0,g.expiredLanes&=Q,g.mutableReadLanes&=Q,g.entangledLanes&=Q,Q=g.entanglements;for(var De=g.eventTimes,Ge=g.expirationTimes;0<fe;){var st=31-ni(fe),Tt=1<<st;Q[st]=0,De[st]=-1,Ge[st]=-1,fe&=~Tt}if(sa!==null&&(X&24)==0&&sa.has(g)&&sa.delete(g),g===yi&&(Ar=yi=null,ii=0),1<I.flags?I.lastEffect!==null?(I.lastEffect.nextEffect=I,X=I.firstEffect):X=I:X=I.firstEffect,X!==null){Q=tn,tn|=32,_m.current=null,rf=ne(g.containerInfo),sf=!1,Ht=X;do try{E3()}catch(qe){if(Ht===null)throw Error(u(330));Ga(Ht,qe),Ht=Ht.nextEffect}while(Ht!==null);rf=null,Ht=X;do try{for(De=g;Ht!==null;){var Zt=Ht.flags;if(Zt&16&&Pe&&_t(Ht.stateNode),Zt&128){var on=Ht.alternate;if(on!==null){var Ft=on.ref;Ft!==null&&(typeof Ft=="function"?Ft(null):Ft.current=null)}}switch(Zt&1038){case 2:Sy(Ht),Ht.flags&=-3;break;case 6:Sy(Ht),Ht.flags&=-3,mm(Ht.alternate,Ht);break;case 1024:Ht.flags&=-1025;break;case 1028:Ht.flags&=-1025,mm(Ht.alternate,Ht);break;case 4:mm(Ht.alternate,Ht);break;case 8:Ge=De,fe=Ht,Pe?Ey(Ge,fe):_y(Ge,fe);var Bn=fe.alternate;wy(fe),Bn!==null&&wy(Bn)}Ht=Ht.nextEffect}}catch(qe){if(Ht===null)throw Error(u(330));Ga(Ht,qe),Ht=Ht.nextEffect}while(Ht!==null);sf&&te(),le(g.containerInfo),g.current=I,Ht=X;do try{for(Zt=g;Ht!==null;){var Kn=Ht.flags;if(Kn&36&&v3(Zt,Ht.alternate,Ht),Kn&128){on=void 0;var As=Ht.ref;if(As!==null){var tt=Ht.stateNode;switch(Ht.tag){case 5:on=U(tt);break;default:on=tt}typeof As=="function"?As(on):As.current=on}}Ht=Ht.nextEffect}}catch(qe){if(Ht===null)throw Error(u(330));Ga(Ht,qe),Ht=Ht.nextEffect}while(Ht!==null);Ht=null,La(),tn=Q}else g.current=I;if(za)za=!1,ef=g,tf=y;else for(Ht=X;Ht!==null;)y=Ht.nextEffect,Ht.nextEffect=null,Ht.flags&8&&(Kn=Ht,Kn.sibling=null,Kn.stateNode=null),Ht=y;if(X=g.pendingLanes,X===0&&(Do=null),X===1?g===Pm?nf++:(nf=0,Pm=g):nf=0,I=I.stateNode,ti&&typeof ti.onCommitFiberRoot=="function")try{ti.onCommitFiberRoot(bs,I,void 0,(I.current.flags&64)==64)}catch{}if(fs(g,Jn()),pd)throw pd=!1,g=Am,Am=null,g;return(tn&8)!=0||wt(),null}function E3(){for(;Ht!==null;){var g=Ht.alternate;sf||rf===null||((Ht.flags&8)!=0?B(Ht,rf)&&(sf=!0,Se()):Ht.tag===13&&g3(g,Ht)&&B(Ht,rf)&&(sf=!0,Se()));var y=Ht.flags;(y&256)!=0&&m3(g,Ht),(y&512)==0||za||(za=!0,at(97,function(){return ua(),null})),Ht=Ht.nextEffect}}function ua(){if(tf!==90){var g=97<tf?97:tf;return tf=90,Ke(g,D3)}return!1}function M3(g,y){Tm.push(y,g),za||(za=!0,at(97,function(){return ua(),null}))}function Ly(g,y){Cm.push(y,g),za||(za=!0,at(97,function(){return ua(),null}))}function D3(){if(ef===null)return!1;var g=ef;if(ef=null,(tn&48)!=0)throw Error(u(331));var y=tn;tn|=32;var I=Cm;Cm=[];for(var X=0;X<I.length;X+=2){var Q=I[X],fe=I[X+1],De=Q.destroy;if(Q.destroy=void 0,typeof De=="function")try{De()}catch(st){if(fe===null)throw Error(u(330));Ga(fe,st)}}for(I=Tm,Tm=[],X=0;X<I.length;X+=2){Q=I[X],fe=I[X+1];try{var Ge=Q.create;Q.destroy=Ge()}catch(st){if(fe===null)throw Error(u(330));Ga(fe,st)}}for(Ge=g.current.firstEffect;Ge!==null;)g=Ge.nextEffect,Ge.nextEffect=null,Ge.flags&8&&(Ge.sibling=null,Ge.stateNode=null),Ge=g;return tn=y,wt(),!0}function Fy(g,y,I){y=fm(I,y),y=py(g,y,1),ta(g,y),y=Wi(),g=gd(g,1),g!==null&&(Hr(g,1,y),fs(g,y))}function Ga(g,y){if(g.tag===3)Fy(g,g,y);else for(var I=g.return;I!==null;){if(I.tag===3){Fy(I,g,y);break}else if(I.tag===1){var X=I.stateNode;if(typeof I.type.getDerivedStateFromError=="function"||typeof X.componentDidCatch=="function"&&(Do===null||!Do.has(X))){g=fm(y,g);var Q=my(I,g,1);if(ta(I,Q),Q=Wi(),I=gd(I,1),I!==null)Hr(I,1,Q),fs(I,Q);else if(typeof X.componentDidCatch=="function"&&(Do===null||!Do.has(X)))try{X.componentDidCatch(y,g)}catch{}break}}I=I.return}}function A3(g,y,I){var X=g.pingCache;X!==null&&X.delete(y),y=Wi(),g.pingedLanes|=g.suspendedLanes&I,yi===g&&(ii&I)===I&&(qr===4||qr===3&&(ii&62914560)===ii&&500>Jn()-Mm?Pl(g,0):Sm|=I),fs(g,y)}function T3(g,y){var I=g.stateNode;I!==null&&I.delete(y),y=0,y===0&&(y=g.mode,(y&2)==0?y=1:(y&4)==0?y=Gi()===99?1:2:(oa===0&&(oa=Al),y=Ss(62914560&~oa),y===0&&(y=4194304))),I=Wi(),g=gd(g,y),g!==null&&(Hr(g,y,I),fs(g,I))}var Oy;Oy=function(g,y,I){var X=y.lanes;if(g!==null)if(g.memoizedProps!==y.pendingProps||hn.current)to=!0;else if((I&X)!=0)to=(g.flags&16384)!=0;else{switch(to=!1,y.tag){case 3:oy(y),em();break;case 5:H1(y);break;case 1:gn(y.type)&&Ws(y);break;case 4:J0(y,y.stateNode.containerInfo);break;case 10:bo(y,y.memoizedProps.value);break;case 13:if(y.memoizedState!==null)return(I&y.child.childLanes)!=0?ay(g,y,I):(bt(lr,lr.current&1),y=ia(g,y,I),y!==null?y.sibling:null);bt(lr,lr.current&1);break;case 19:if(X=(I&y.childLanes)!=0,(g.flags&64)!=0){if(X)return hy(g,y,I);y.flags|=64}var Q=y.memoizedState;if(Q!==null&&(Q.rendering=null,Q.tail=null,Q.lastEffect=null),bt(lr,lr.current),X)break;return null;case 23:case 24:return y.lanes=0,am(g,y,I)}return ia(g,y,I)}else to=!1;switch(y.lanes=0,y.tag){case 2:if(X=y.type,g!==null&&(g.alternate=null,y.alternate=null,y.flags|=2),g=y.pendingProps,Q=Xn(y,ln.current),ar(y,I),Q=nm(null,y,X,g,Q,I),y.flags|=1,typeof Q=="object"&&Q!==null&&typeof Q.render=="function"&&Q.$$typeof===void 0){if(y.tag=1,y.memoizedState=null,y.updateQueue=null,gn(X)){var fe=!0;Ws(y)}else fe=!1;y.memoizedState=Q.state!==null&&Q.state!==void 0?Q.state:null,Hh(y);var De=X.getDerivedStateFromProps;typeof De=="function"&&Vh(y,X,De,g),Q.updater=Wh,y.stateNode=Q,Q._reactInternals=y,Y0(y,X,g,I),y=lm(null,y,X,!0,fe,I)}else y.tag=0,Vi(null,y,Q,I),y=y.child;return y;case 16:Q=y.elementType;e:{switch(g!==null&&(g.alternate=null,y.alternate=null,y.flags|=2),g=y.pendingProps,fe=Q._init,Q=fe(Q._payload),y.type=Q,fe=y.tag=P3(Q),g=Fn(Q,g),fe){case 0:y=um(null,y,Q,g,I);break e;case 1:y=sy(null,y,Q,g,I);break e;case 11:y=ty(null,y,Q,g,I);break e;case 14:y=ny(null,y,Q,Fn(Q.type,g),X,I);break e}throw Error(u(306,Q,""))}return y;case 0:return X=y.type,Q=y.pendingProps,Q=y.elementType===X?Q:Fn(X,Q),um(g,y,X,Q,I);case 1:return X=y.type,Q=y.pendingProps,Q=y.elementType===X?Q:Fn(X,Q),sy(g,y,X,Q,I);case 3:if(oy(y),X=y.updateQueue,g===null||X===null)throw Error(u(282));if(X=y.pendingProps,Q=y.memoizedState,Q=Q!==null?Q.element:null,W0(g,y),El(y,X,null,I),X=y.memoizedState.element,X===Q)em(),y=ia(g,y,I);else{if(Q=y.stateNode,(fe=Q.hydrate)&&(ie?(Na=Le(y.stateNode.containerInfo),na=y,fe=eo=!0):fe=!1),fe){if(ie&&(g=Q.mutableSourceEagerHydrationData,g!=null))for(Q=0;Q<g.length;Q+=2)fe=g[Q],De=g[Q+1],Te?fe._workInProgressVersionPrimary=De:fe._workInProgressVersionSecondary=De,Ua.push(fe);for(I=G1(y,null,X,I),y.child=I;I;)I.flags=I.flags&-3|1024,I=I.sibling}else Vi(g,y,X,I),em();y=y.child}return y;case 5:return H1(y),g===null&&Yh(y),X=y.type,Q=y.pendingProps,fe=g!==null?g.memoizedProps:null,De=Q.children,ue(X,Q)?De=null:fe!==null&&ue(X,fe)&&(y.flags|=16),iy(g,y),Vi(g,y,De,I),y.child;case 6:return g===null&&Yh(y),null;case 13:return ay(g,y,I);case 4:return J0(y,y.stateNode.containerInfo),X=y.pendingProps,g===null?y.child=qh(y,null,X,I):Vi(g,y,X,I),y.child;case 11:return X=y.type,Q=y.pendingProps,Q=y.elementType===X?Q:Fn(X,Q),ty(g,y,X,Q,I);case 7:return Vi(g,y,y.pendingProps,I),y.child;case 8:return Vi(g,y,y.pendingProps.children,I),y.child;case 12:return Vi(g,y,y.pendingProps.children,I),y.child;case 10:e:{if(X=y.type._context,Q=y.pendingProps,De=y.memoizedProps,fe=Q.value,bo(y,fe),De!==null){var Ge=De.value;if(fe=Sn(Ge,fe)?0:(typeof X._calculateChangedBits=="function"?X._calculateChangedBits(Ge,fe):1073741823)|0,fe===0){if(De.children===Q.children&&!hn.current){y=ia(g,y,I);break e}}else for(Ge=y.child,Ge!==null&&(Ge.return=y);Ge!==null;){var st=Ge.dependencies;if(st!==null){De=Ge.child;for(var Tt=st.firstContext;Tt!==null;){if(Tt.context===X&&(Tt.observedBits&fe)!=0){Ge.tag===1&&(Tt=ea(-1,I&-I),Tt.tag=2,ta(Ge,Tt)),Ge.lanes|=I,Tt=Ge.alternate,Tt!==null&&(Tt.lanes|=I),gi(Ge.return,I),st.lanes|=I;break}Tt=Tt.next}}else De=Ge.tag===10&&Ge.type===y.type?null:Ge.child;if(De!==null)De.return=Ge;else for(De=Ge;De!==null;){if(De===y){De=null;break}if(Ge=De.sibling,Ge!==null){Ge.return=De.return,De=Ge;break}De=De.return}Ge=De}}Vi(g,y,Q.children,I),y=y.child}return y;case 9:return Q=y.type,fe=y.pendingProps,X=fe.children,ar(y,I),Q=ur(Q,fe.unstable_observedBits),X=X(Q),y.flags|=1,Vi(g,y,X,I),y.child;case 14:return Q=y.type,fe=Fn(Q,y.pendingProps),fe=Fn(Q.type,fe),ny(g,y,Q,fe,X,I);case 15:return ry(g,y,y.type,y.pendingProps,X,I);case 17:return X=y.type,Q=y.pendingProps,Q=y.elementType===X?Q:Fn(X,Q),g!==null&&(g.alternate=null,y.alternate=null,y.flags|=2),y.tag=1,gn(X)?(g=!0,Ws(y)):g=!1,ar(y,I),B1(y,X,Q),Y0(y,X,Q,I),lm(null,y,X,!0,g,I);case 19:return hy(g,y,I);case 23:return am(g,y,I);case 24:return am(g,y,I)}throw Error(u(156,y.tag))};var xd={current:!1},Im=o.unstable_flushAllWithoutAsserting,Ny=typeof Im=="function";function Lm(){if(Im!==void 0)return Im();for(var g=!1;ua();)g=!0;return g}function Uy(g){try{Lm(),y3(function(){Lm()?Uy(g):g()})}catch(y){g(y)}}var _d=0,By=!1;function C3(g,y,I,X){this.tag=g,this.key=I,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=y,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=X,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ds(g,y,I,X){return new C3(g,y,I,X)}function Fm(g){return g=g.prototype,!(!g||!g.isReactComponent)}function P3(g){if(typeof g=="function")return Fm(g)?1:0;if(g!=null){if(g=g.$$typeof,g===T)return 11;if(g===O)return 14}return 2}function Ha(g,y){var I=g.alternate;return I===null?(I=Ds(g.tag,y,g.key,g.mode),I.elementType=g.elementType,I.type=g.type,I.stateNode=g.stateNode,I.alternate=g,g.alternate=I):(I.pendingProps=y,I.type=g.type,I.flags=0,I.nextEffect=null,I.firstEffect=null,I.lastEffect=null),I.childLanes=g.childLanes,I.lanes=g.lanes,I.child=g.child,I.memoizedProps=g.memoizedProps,I.memoizedState=g.memoizedState,I.updateQueue=g.updateQueue,y=g.dependencies,I.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext},I.sibling=g.sibling,I.index=g.index,I.ref=g.ref,I}function wd(g,y,I,X,Q,fe){var De=2;if(X=g,typeof g=="function")Fm(g)&&(De=1);else if(typeof g=="string")De=5;else e:switch(g){case d:return Rl(I.children,Q,fe,y);case $:De=8,Q|=16;break;case p:De=8,Q|=1;break;case v:return g=Ds(12,I,y,Q|8),g.elementType=v,g.type=v,g.lanes=fe,g;case x:return g=Ds(13,I,y,Q),g.type=x,g.elementType=x,g.lanes=fe,g;case E:return g=Ds(19,I,y,Q),g.elementType=E,g.lanes=fe,g;case M:return Om(I,Q,fe,y);case L:return g=Ds(24,I,y,Q),g.elementType=L,g.lanes=fe,g;default:if(typeof g=="object"&&g!==null)switch(g.$$typeof){case S:De=10;break e;case w:De=9;break e;case T:De=11;break e;case O:De=14;break e;case C:De=16,X=null;break e;case N:De=22;break e}throw Error(u(130,g==null?g:typeof g,""))}return y=Ds(De,I,y,Q),y.elementType=g,y.type=X,y.lanes=fe,y}function Rl(g,y,I,X){return g=Ds(7,g,X,y),g.lanes=I,g}function Om(g,y,I,X){return g=Ds(23,g,X,y),g.elementType=M,g.lanes=I,g}function Nm(g,y,I){return g=Ds(6,g,null,y),g.lanes=I,g}function Um(g,y,I){return y=Ds(4,g.children!==null?g.children:[],g.key,y),y.lanes=I,y.stateNode={containerInfo:g.containerInfo,pendingChildren:null,implementation:g.implementation},y}function R3(g,y,I){this.tag=y,this.containerInfo=g,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ye,this.pendingContext=this.context=null,this.hydrate=I,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bi(0),this.expirationTimes=Bi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bi(0),ie&&(this.mutableSourceEagerHydrationData=null)}function zy(g){var y=g._reactInternals;if(y===void 0)throw typeof g.render=="function"?Error(u(188)):Error(u(268,Object.keys(g)));return g=z(y),g===null?null:g.stateNode}function $y(g,y){if(g=g.memoizedState,g!==null&&g.dehydrated!==null){var I=g.retryLane;g.retryLane=I!==0&&I<y?I:y}}function bd(g,y){$y(g,y),(g=g.alternate)&&$y(g,y)}function k3(g){return g=z(g),g===null?null:g.stateNode}function I3(){return null}return r.IsThisRendererActing=xd,r.act=function(g){function y(){_d--,wm.current=I,xd.current=X}By===!1&&(By=!0,console.error("act(...) is not supported in production builds of React, and might not behave as expected.")),_d++;var I=wm.current,X=xd.current;wm.current=!0,xd.current=!0;try{var Q=Ty(g)}catch(fe){throw y(),fe}if(Q!==null&&typeof Q=="object"&&typeof Q.then=="function")return{then:function(fe,De){Q.then(function(){1<_d||Ny===!0&&I===!0?(y(),fe()):Uy(function(Ge){y(),Ge?De(Ge):fe()})},function(Ge){y(),De(Ge)})}};try{_d!==1||Ny!==!1&&I!==!1||Lm(),y()}catch(fe){throw y(),fe}return{then:function(fe){fe()}}},r.attemptContinuousHydration=function(g){if(g.tag===13){var y=Wi();aa(g,67108864,y),bd(g,67108864)}},r.attemptHydrationAtCurrentPriority=function(g){if(g.tag===13){var y=Wi(),I=$a(g);aa(g,I,y),bd(g,I)}},r.attemptSynchronousHydration=function(g){switch(g.tag){case 3:var y=g.stateNode;if(y.hydrate){var I=Ui(y.pendingLanes);y.expiredLanes|=I&y.pendingLanes,fs(y,Jn()),(tn&48)==0&&(Ba(),wt())}break;case 13:var X=Wi();Cy(function(){return aa(g,1,X)}),bd(g,4)}},r.attemptUserBlockingHydration=function(g){if(g.tag===13){var y=Wi();aa(g,4,y),bd(g,4)}},r.batchedEventUpdates=function(g,y){var I=tn;tn|=2;try{return g(y)}finally{tn=I,tn===0&&(Ba(),wt())}},r.batchedUpdates=Ty,r.createComponentSelector=function(g){return{$$typeof:od,value:g}},r.createContainer=function(g,y,I){return g=new R3(g,y,I),y=Ds(3,null,null,y===2?7:y===1?3:0),g.current=y,y.stateNode=g,Hh(y),g},r.createHasPsuedoClassSelector=function(g){return{$$typeof:ad,value:g}},r.createPortal=function(g,y,I){var X=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:X==null?null:""+X,children:g,containerInfo:y,implementation:I}},r.createRoleSelector=function(g){return{$$typeof:ud,value:g}},r.createTestNameSelector=function(g){return{$$typeof:ld,value:g}},r.createTextSelector=function(g){return{$$typeof:cd,value:g}},r.deferredUpdates=function(g){return Ke(97,g)},r.discreteUpdates=function(g,y,I,X,Q){var fe=tn;tn|=4;try{return Ke(98,g.bind(null,y,I,X,Q))}finally{tn=fe,tn===0&&(Ba(),wt())}},r.findAllNodes=xm,r.findBoundingRects=function(g,y){if(!Me)throw Error(u(363));y=xm(g,y),g=[];for(var I=0;I<y.length;I++)g.push(Ae(y[I]));for(y=g.length-1;0<y;y--){I=g[y];for(var X=I.x,Q=X+I.width,fe=I.y,De=fe+I.height,Ge=y-1;0<=Ge;Ge--)if(y!==Ge){var st=g[Ge],Tt=st.x,Zt=Tt+st.width,on=st.y,Ft=on+st.height;if(X>=Tt&&fe>=on&&Q<=Zt&&De<=Ft){g.splice(y,1);break}else if(X!==Tt||I.width!==st.width||Ft<fe||on>De){if(!(fe!==on||I.height!==st.height||Zt<X||Tt>Q)){Tt>X&&(st.width+=Tt-X,st.x=X),Zt<Q&&(st.width=Q-Tt),g.splice(y,1);break}}else{on>fe&&(st.height+=on-fe,st.y=fe),Ft<De&&(st.height=De-on),g.splice(y,1);break}}}return g},r.findHostInstance=zy,r.findHostInstanceWithNoPortals=function(g){return g=j(g),g===null?null:g.tag===20?g.stateNode.instance:g.stateNode},r.findHostInstanceWithWarning=function(g){return zy(g)},r.flushControlled=function(g){var y=tn;tn|=1;try{Ke(99,g)}finally{tn=y,tn===0&&(Ba(),wt())}},r.flushDiscreteUpdates=function(){(tn&49)==0&&(_3(),ua())},r.flushPassiveEffects=ua,r.flushSync=Cy,r.focusWithin=function(g,y){if(!Me)throw Error(u(363));for(g=vm(g),y=Dy(g,y),y=Array.from(y),g=0;g<y.length;){var I=y[g++];if(!ge(I)){if(I.tag===5&&ze(I.stateNode))return!0;for(I=I.child;I!==null;)y.push(I),I=I.sibling}}return!1},r.getCurrentUpdateLanePriority=function(){return qs},r.getFindAllNodesFailureDescription=function(g,y){if(!Me)throw Error(u(363));var I=0,X=[];g=[vm(g),0];for(var Q=0;Q<g.length;){var fe=g[Q++],De=g[Q++],Ge=y[De];if((fe.tag!==5||!ge(fe))&&(gm(fe,Ge)&&(X.push(ym(Ge)),De++,De>I&&(I=De)),De<y.length))for(fe=fe.child;fe!==null;)g.push(fe,De),fe=fe.sibling}if(I<y.length){for(g=[];I<y.length;I++)g.push(ym(y[I]));return`findAllNodes was able to match part of the selector:
  `+(X.join(" > ")+`

No matching component was found for:
  `)+g.join(" > ")}return null},r.getPublicRootInstance=function(g){if(g=g.current,!g.child)return null;switch(g.child.tag){case 5:return U(g.child.stateNode);default:return g.child.stateNode}},r.injectIntoDevTools=function(g){if(g={bundleType:g.bundleType,version:g.version,rendererPackageName:g.rendererPackageName,rendererConfig:g.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:l.ReactCurrentDispatcher,findHostInstanceByFiber:k3,findFiberByHostInstance:g.findFiberByHostInstance||I3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined")g=!1;else{var y=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!y.isDisabled&&y.supportsFiber)try{bs=y.inject(g),ti=y}catch{}g=!0}return g},r.observeVisibleRects=function(g,y,I,X){if(!Me)throw Error(u(363));g=xm(g,y);var Q=ae(g,I,X).disconnect;return{disconnect:function(){Q()}}},r.registerMutableSourceForHydration=function(g,y){var I=y._getVersion;I=I(y._source),g.mutableSourceEagerHydrationData==null?g.mutableSourceEagerHydrationData=[y,I]:g.mutableSourceEagerHydrationData.push(y,I)},r.runWithPriority=function(g,y){var I=qs;try{return qs=g,y()}finally{qs=I}},r.shouldSuspend=function(){return!1},r.unbatchedUpdates=function(g,y){var I=tn;tn&=-2,tn|=8;try{return g(y)}finally{tn=I,tn===0&&(Ba(),wt())}},r.updateContainer=function(g,y,I,X){var Q=y.current,fe=Wi(),De=$a(Q);e:if(I){I=I._reactInternals;t:{if(R(I)!==I||I.tag!==1)throw Error(u(170));var Ge=I;do{switch(Ge.tag){case 3:Ge=Ge.stateNode.context;break t;case 1:if(gn(Ge.type)){Ge=Ge.stateNode.__reactInternalMemoizedMergedChildContext;break t}}Ge=Ge.return}while(Ge!==null);throw Error(u(171))}if(I.tag===1){var st=I.type;if(gn(st)){I=Ra(I,st,Ge);break e}}I=Ge}else I=qt;return y.context===null?y.context=I:y.pendingContext=I,y=ea(fe,De),y.payload={element:g},X=X===void 0?null:X,X!==null&&(y.callback=X),ta(Q,y),aa(Q,De,fe),De},r}})(oB);sB.exports=oB.exports;var cae=sB.exports;const qn={obj:n=>n===Object(n)&&!qn.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e){if(typeof n!=typeof e||!!n!=!!e)return!1;if(qn.str(n)||qn.num(n)||qn.obj(n))return n===e;if(qn.arr(n)&&n==e)return!0;let t;for(t in n)if(!(t in e))return!1;for(t in e)if(n[t]!==e[t])return!1;return qn.und(t)?n===e:!0}};function fae(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)})}const hae=n=>n&&!!n.memoized&&!!n.changes,L_=n=>n&&!!n.getState,IA=(n,e)=>{var t,r;return{root:L_(n)?n:(t=(r=n.__r3f)==null?void 0:r.root)!=null?t:e.__r3f.root,container:L_(n)?n.getState().scene:n}},aB="__default",dae={};let pae={};function mae(n,e){return!!(qn.arr(n)&&qn.equ(n,e)||n===e)}function e0(n,e){const t=n;return(e!=null&&e.primitive||!t.__r3f)&&(t.__r3f=vt({root:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null},e)),n}function vae(n){function e(p,$,L={},N=!1){var M=$,{children:v,key:S,ref:w}=M,T=kl(M,["children","key","ref"]);var V=L,{children:x,key:E,ref:O}=V,C=kl(V,["children","key","ref"]);var Z;const H=(Z=p==null?void 0:p.__r3f)!=null?Z:{},D=Object.entries(T),R=[];if(N){const F=Object.keys(C);for(let z=0;z<F.length;z++)T.hasOwnProperty(F[z])||D.unshift([F[z],aB+"remove"])}D.forEach(([F,z])=>{var j;if((j=p.__r3f)!=null&&j.primitive&&F==="object"||mae(z,C[F]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(F))return R.push([F,z,!0,[]]);let B=[];F.includes("-")&&(B=F.split("-")),R.push([F,z,!1,B])});const P=vt({},T);return H.memoizedProps&&H.memoizedProps.args&&(P.args=H.memoizedProps.args),H.memoizedProps&&H.memoizedProps.attach&&(P.attach=H.memoizedProps.attach),{accumulative:N,memoized:P,changes:R}}function t(p,v){var S,w,T;const x=(S=p==null?void 0:p.__r3f)!=null?S:{},E=x.root,O=(w=E==null||E.getState==null?void 0:E.getState())!=null?w:{},{memoized:C,changes:N}=hae(v)?v:e(p,v),$=x.eventCount;if(p.__r3f&&(p.__r3f.memoizedProps=C),N.forEach(([M,L,V,Z])=>{let H=p,D=H[M];if(Z.length&&(D=Z.reduce((R,P)=>R[P],p),!(D&&D.set))){const[R,...P]=Z.reverse();H=P.reverse().reduce((F,z)=>F[z],p),M=R}if(L===aB+"remove")if(D&&D.constructor)L=new D.constructor(C.args);else if(H.constructor){const R=new H.constructor(H.__r3f.memoizedProps.args);L=R[D],R.dispose&&R.dispose()}else L=0;if(V)L?x.handlers[M]=L:delete x.handlers[M],x.eventCount=Object.keys(x.handlers).length;else if(D&&D.set&&(D.copy||D instanceof Ff)){if(Array.isArray(L))D.fromArray?D.fromArray(L):D.set(...L);else if(D.copy&&L&&L.constructor&&D.constructor.name===L.constructor.name)D.copy(L);else if(L!==void 0){const R=D instanceof Pt;!R&&D.setScalar?D.setScalar(L):D instanceof Ff&&L instanceof Ff?D.mask=L.mask:D.set(L),!O.linear&&R&&D.convertSRGBToLinear()}}else H[M]=L,!O.linear&&H[M]instanceof Rr&&(H[M].encoding=Xu);r(p)}),O.internal&&p.raycast&&$!==x.eventCount){const M=O.internal.interaction.indexOf(p);M>-1&&O.internal.interaction.splice(M,1),x.eventCount&&O.internal.interaction.push(p)}return N.length&&(T=p.__r3f)!=null&&T.parent&&i(p),p}function r(p){var v,S;const w=(v=p.__r3f)==null||(S=v.root)==null||S.getState==null?void 0:S.getState();w&&w.internal.frames===0&&w.invalidate()}function i(p){p.onUpdate==null||p.onUpdate(p)}function s(p,E,w,T,x){var O=E,{args:v=[]}=O,S=kl(O,["args"]);let C=`${p[0].toUpperCase()}${p.slice(1)}`,N;if(!L_(w)&&x){const $=M=>M.return?$(M.return):M.stateNode&&M.stateNode.containerInfo;w=$(x)}if(!w||!L_(w))throw`No valid root for ${C}!`;if(p==="primitive"){if(S.object===void 0)throw"Primitives without 'object' are invalid!";const $=S.object;N=e0($,{root:w,primitive:!0})}else{const $=pae[C]||foe[C];if(!$)throw`${C} is not part of the THREE namespace! Did you forget to extend? See: https://github.com/pmndrs/react-three-fiber/blob/master/markdown/api.md#using-3rd-party-objects-declaratively`;N=e0(new $(...v),{root:w,memoizedProps:{args:v.length===0?null:v}})}return"attachFns"in S||(C.endsWith("Geometry")?S=vt({attach:"geometry"},S):C.endsWith("Material")&&(S=vt({attach:"material"},S))),t(N,S),N}function o(p,v){let S=!1;if(v){if(v.attachArray)qn.arr(p[v.attachArray])||(p[v.attachArray]=[]),p[v.attachArray].push(v);else if(v.attachObject)qn.obj(p[v.attachObject[0]])||(p[v.attachObject[0]]={}),p[v.attachObject[0]][v.attachObject[1]]=v;else if(v.attach&&!qn.fun(v.attach))p[v.attach]=v;else if(qn.arr(v.attachFns)){const[w]=v.attachFns;qn.str(w)&&qn.fun(p[w])?p[w](v):qn.fun(w)&&w(v,p)}else v.isObject3D&&p.isObject3D&&(p.add(v),S=!0);S||p.__r3f.objects.push(v),v.__r3f||e0(v,{}),v.__r3f.parent=p,i(v),r(v)}}function u(p,v,S){let w=!1;if(v){if(v.attachArray){const T=p[v.attachArray];qn.arr(T)||(p[v.attachArray]=[]),T.splice(T.indexOf(S),0,v)}else{if(v.attachObject||v.attach&&!qn.fun(v.attach))return o(p,v);if(v.isObject3D&&p.isObject3D){v.parent=p,v.dispatchEvent({type:"added"});const T=p.children.filter(E=>E!==v),x=T.indexOf(S);p.children=[...T.slice(0,x),v,...T.slice(x)],w=!0}}w||p.__r3f.objects.push(v),v.__r3f||e0(v,{}),v.__r3f.parent=p,i(v),r(v)}}function l(p,v,S=!1){p&&[...p].forEach(w=>c(v,w,S))}function c(p,v,S){if(v){var w,T;if(v.__r3f&&(v.__r3f.parent=null),(w=p.__r3f)!=null&&w.objects&&(p.__r3f.objects=p.__r3f.objects.filter(N=>N!==v)),v.attachArray)p[v.attachArray]=p[v.attachArray].filter(N=>N!==v);else if(v.attachObject)delete p[v.attachObject[0]][v.attachObject[1]];else if(v.attach&&!qn.fun(v.attach))p[v.attach]=null;else if(qn.arr(v.attachFns)){const[,N]=v.attachFns;qn.str(N)&&qn.fun(p[N])?p[N](v):qn.fun(N)&&N(v,p)}else if(v.isObject3D){var x;p.remove(v),(x=v.__r3f)!=null&&x.root&&fae(v.__r3f.root,v)}const O=(T=v.__r3f)==null?void 0:T.primitive,C=S===void 0?v.dispose!==null&&!O:S;if(!O){var E;l((E=v.__r3f)==null?void 0:E.objects,v,C),l(v.children,v,C)}v.__r3f&&(delete v.__r3f.root,delete v.__r3f.objects,delete v.__r3f.handlers,delete v.__r3f.memoizedProps,O||delete v.__r3f),C&&v.dispose&&v.type!=="Scene"&&Cd.exports.unstable_runWithPriority(Cd.exports.unstable_IdlePriority,()=>{try{v.dispose()}catch{}}),r(p)}}function h(p,v,S,w){var T;const x=(T=p.__r3f)==null?void 0:T.parent;if(!x)return;const E=s(v,S,p.__r3f.root);v!=="primitive"&&p.children&&(p.children.forEach(O=>o(E,O)),p.children=[]),p.__r3f.objects.forEach(O=>o(E,O)),p.__r3f.objects=[],c(x,p),o(x,E),[w,w.alternate].forEach(O=>{O!==null&&(O.stateNode=E,O.ref&&(typeof O.ref=="function"?O.ref(E):O.ref.current=E))})}return{reconciler:cae({now:Cd.exports.unstable_now,createInstance:s,removeChild:c,appendChild:o,appendInitialChild:o,insertBefore:u,warnsIfNotActing:!0,supportsMutation:!0,isPrimaryRenderer:!1,scheduleTimeout:qn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:qn.fun(clearTimeout)?clearTimeout:void 0,setTimeout:qn.fun(setTimeout)?setTimeout:void 0,clearTimeout:qn.fun(clearTimeout)?clearTimeout:void 0,noTimeout:-1,appendChildToContainer:(p,v)=>{const{container:S,root:w}=IA(p,v);S.__r3f.root=w,o(S,v)},removeChildFromContainer:(p,v)=>c(IA(p,v).container,v),insertInContainerBefore:(p,v,S)=>u(IA(p,v).container,v,S),prepareUpdate(p,v,S,w){if(p.__r3f.primitive&&w.object&&w.object!==p)return[!0];{const T=w,{args:E=[],children:O}=T,C=kl(T,["args","children"]),x=S,{args:N=[],children:$}=x,M=kl(x,["args","children"]);if(E.some((V,Z)=>V!==N[Z]))return[!0];const L=e(p,C,M,!0);return L.changes.length?[!1,L]:null}},commitUpdate(p,[v,S],w,T,x,E){v?h(p,w,x,E):t(p,S)},hideInstance(p){p.isObject3D&&(p.visible=!1,r(p))},unhideInstance(p,v){(p.isObject3D&&v.visible==null||v.visible)&&(p.visible=!0,r(p))},hideTextInstance(){throw new Error("Text is not allowed in the R3F tree.")},getPublicInstance(p){return p},getRootHostContext(p){return dae},getChildHostContext(p){return p},createTextInstance(){},finalizeInitialChildren(){return!1},commitMount(){},shouldDeprioritizeSubtree(){return!1},prepareForCommit(){return null},preparePortalMount(p){e0(p)},resetAfterCommit(){},shouldSetTextContent(){return!1},clearContainer(){return!1}}),applyProps:t}}const gae=n=>!!(n!=null&&n.render),uB=n=>n&&n.isOrthographicCamera;function LA(n){return Array.isArray(n)?Math.min(Math.max(n[0],window.devicePixelRatio),n[1]):n}const yae=si.exports.createContext(null),xae=(n,e,t,r)=>{const{gl:i,size:s,shadows:o=!1,linear:u=!1,flat:l=!1,vr:c=!1,orthographic:h=!1,frameloop:d="always",dpr:p=1,performance:v,clock:S=new xA,raycaster:w,camera:T,onPointerMissed:x}=r;o&&(i.shadowMap.enabled=!0,typeof o=="object"?Object.assign(i.shadowMap,o):i.shadowMap.type=CM),u||(i.outputEncoding=Xu),l||(i.toneMapping=UM),d==="never"&&(S.stop(),S.elapsedTime=0);const E=uae((C,N)=>{const $=new TU,B=w||{},{params:M}=B,L=kl(B,["params"]);n($,nr(vt({enabled:!0},L),{params:vt(vt({},$.params),M)}));const V=T instanceof Of,Z=V?T:h?new Dp(0,0,0,0,.1,1e3):new Jr(75,0,.1,1e3);V||(Z.position.z=5,T&&n(Z,T),T!=null&&T.rotation||Z.lookAt(0,0,0));const H=LA(p),D=new be,R=new be,P=new be;function F(U=N().camera,k=R,G=N().size){const{width:ne,height:le}=G,ee=ne/le;k instanceof be?P.copy(k):P.set(...k);const J=U.getWorldPosition(D).distanceTo(P);if(uB(U))return{width:ne/U.zoom,height:le/U.zoom,factor:1,distance:J,aspect:ee};{const de=U.fov*Math.PI/180,se=2*Math.tan(de/2)*J,ue=se*(ne/le);return{width:ue,height:se,factor:ne/ue,distance:J,aspect:ee}}}let z;const j=U=>C(k=>({performance:nr(vt({},k.performance),{current:U})}));return{gl:i,set:C,get:N,invalidate:()=>e(N()),advance:(U,k)=>t(U,k,N()),linear:u,flat:l,scene:e0(new cg),camera:Z,controls:null,raycaster:$,clock:S,mouse:new ft,vr:c,frameloop:d,onPointerMissed:x,performance:nr(vt({current:1,min:.5,max:1,debounce:200},v),{regress:()=>{const U=N();z&&clearTimeout(z),U.performance.current!==U.performance.min&&j(U.performance.min),z=setTimeout(()=>j(N().performance.max),U.performance.debounce)}}),size:{width:0,height:0},viewport:{initialDpr:H,dpr:H,width:0,height:0,aspect:0,distance:0,factor:0,getCurrentViewport:F},setSize:(U,k)=>{const G={width:U,height:k};C(ne=>({size:G,viewport:vt(vt({},ne.viewport),F(Z,R,G))}))},setDpr:U=>C(k=>({viewport:nr(vt({},k.viewport),{dpr:LA(U)})})),events:{connected:!1},internal:{active:!1,priority:0,frames:0,lastProps:r,interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(U,k=0)=>(C(({internal:G})=>({internal:nr(vt({},G),{priority:G.priority+(k>0?1:0),subscribers:[...G.subscribers,{ref:U,priority:k}].sort((ne,le)=>ne.priority-le.priority)})})),()=>{C(({internal:G})=>({internal:nr(vt({},G),{priority:G.priority-(k>0?1:0),subscribers:G.subscribers.filter(ne=>ne.ref!==U)})}))})}}});E.subscribe(()=>{const{camera:C,size:N,viewport:$,internal:M}=E.getState();M.lastProps.camera instanceof Of||(uB(C)?(C.left=N.width/-2,C.right=N.width/2,C.top=N.height/2,C.bottom=N.height/-2):C.aspect=N.width/N.height,C.updateProjectionMatrix(),C.updateMatrixWorld()),i.setPixelRatio($.dpr),i.setSize(N.width,N.height)},C=>[C.viewport.dpr,C.size],lae);const O=E.getState();return s&&O.setSize(s.width,s.height),E.subscribe(C=>e(C)),E};let wc,lB=[],cB=[],_ae=[];function Ig(n,e){for(wc=0;wc<n.length;wc++)n[wc](e)}function FA(n,e){let t=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(t=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),wc=0;wc<e.internal.subscribers.length;wc++)e.internal.subscribers[wc].ref.current(e,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function wae(n){let e=!1,t;function r(o){if(e=!0,t=0,Ig(lB,o),n.forEach(u=>{const l=u.store.getState();l.internal.active&&(l.frameloop==="always"||l.internal.frames>0)&&(t+=FA(o,l))}),Ig(cB,o),t>0)return requestAnimationFrame(r);Ig(_ae,o),e=!1}function i(o){if(!o)return n.forEach(u=>i(u.store.getState()));o.vr||!o.internal.active||o.frameloop==="never"||(o.internal.frames=Math.min(60,o.internal.frames+1),e||(e=!0,requestAnimationFrame(r)))}function s(o,u=!0,l){u&&Ig(lB,o),l?FA(o,l):n.forEach(c=>FA(o,c.store.getState())),u&&Ig(cB,o)}return{loop:r,invalidate:i,advance:s}}class bae extends si.exports.Component{constructor(...e){super(...e);this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}bae.getDerivedStateFromError=()=>({error:!0});const Lg=new Map,fB=["legacy","blocking","concurrent"],{invalidate:Sae,advance:hB}=wae(Lg),{reconciler:Fg,applyProps:dB}=vae(),Eae=(n,e)=>{const t=typeof n=="function"?n(e):n;if(gae(t))return t;const r=new Un(vt({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0},n));return n&&dB(r,n),r};function Tbe(n,e,l={}){var c=l,{gl:t,size:r,mode:i=fB[1],events:s,onCreated:o}=c,u=kl(c,["gl","size","mode","events","onCreated"]);var h;if(!r){var d,p,v,S;r={width:(d=(p=e.parentElement)==null?void 0:p.clientWidth)!=null?d:0,height:(v=(S=e.parentElement)==null?void 0:S.clientHeight)!=null?v:0}}let w=Lg.get(e),T=w==null?void 0:w.fiber,x=w==null?void 0:w.store,E=(h=x)==null?void 0:h.getState();if(T&&E&&(u.dpr!==void 0&&!qn.equ(E.viewport.dpr,LA(u.dpr))&&E.setDpr(u.dpr),(E.size.width!==r.width||E.size.height!==r.height)&&E.setSize(r.width,r.height),u.linear!==E.internal.lastProps.linear&&(Dae(e),T=void 0)),!T){const O=Eae(t,e);u.vr&&(O.xr.enabled=!0,O.setAnimationLoop(N=>hB(N,!0))),x=xae(dB,Sae,hB,vt({gl:O,size:r},u));const C=x.getState();T=Fg.createContainer(x,fB.indexOf(i),!1,null),Lg.set(e,{fiber:T,store:x}),s&&C.set({events:s(x)})}if(x&&T)return Fg.updateContainer(si.exports.createElement(Mae,{store:x,element:n,onCreated:o,target:e}),T,null,()=>{}),x;throw"Error creating root!"}function Mae({store:n,element:e,onCreated:t,target:r}){return si.exports.useEffect(()=>{const i=n.getState();i.set(s=>({internal:nr(vt({},s.internal),{active:!0})})),i.events.connect==null||i.events.connect(r),t&&t(i)},[]),si.exports.createElement(yae.Provider,{value:n},e)}function Dae(n,e){const t=Lg.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),Fg.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{var s,o,u;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(u=i.gl)==null||u.forceContextLoss==null||u.forceContextLoss(),Aae(i),Lg.delete(n),e&&e(n)},500)})}}function Aae(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const r in n){var e,t;(e=(t=r).dispose)==null||e.call(t),delete n[r]}}Fg.act;Fg.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:"17.0.2"});function Tae(n,e){return e={exports:{}},n(e,e.exports),e.exports}var Cae=Tae(function(n,e){const t="1.1.1",r=-1,i=0,s=1,o=2,u=3,l=4,c=5,h=6,d=7,p=8,v=9,S=10,w=11,T=13,x=0,E=1,O=2,C=3,N=5,$=6,M=7,L=8,V=9,Z=10,H=11,D=12,R=13,P=14,F=15,z=16,j=17,B=18,U=19,k=20,G=21,ne=22,le=23,ee=24,J=25,de=26,se=27,ue=28,oe=29,W=30,ce=31,ye=0,Te=1,Pe=3,Je=4,ie=[];function K(){return ie.pop()||{context:ye,elements:null,element_array:null}}function q(Ae){ie.push(Ae)}const he=[];function Se(){let Ae=he.pop();return Ae?Ae.n=0:Ae={buf:null,n:0},Ae}function te(Ae){he.push(Ae)}const re=e;re.escape=function(Ae){let Oe="";if(!Ae)return Ae;for(let ge=0;ge<Ae.length;ge++){const Ne=Ae[ge];(Ne=='"'||Ne=="\\"||Ne=="`"||Ne=="'")&&(Oe+="\\"),Oe+=Ne}return Oe},re.begin=function(Ae,Oe){const ge={name:null,value_type:i,string:"",contains:null},Ne={line:1,col:1};let ze=0,ae=x,Ue=!0,Ye=!1,He=null,Be,Ze=[],Ve=ye,ot=0,kt=!1,lt=!1,_t=!1,nn=!1,It=!1,Gt=null,Ot=!1,mt=!1,gt=!1,Ct=!1,dt=!1,Mt=!1,Dt=!1,yt=0,pt=0,Nt=!1;const pe={first:null,last:null,saved:null,push(ke){let Le=this.saved;Le?(this.saved=Le.next,Le.node=ke,Le.next=null,Le.prior=this.last):Le={node:ke,next:null,prior:this.last},this.last||(this.first=Le),this.last=Le},pop(){const ke=this.last;return(this.last=ke.prior)||(this.first=null),ke.next=this.saved,this.saved=ke,ke.node}},Re={first:null,last:null,saved:null,push(ke){let Le=this.saved;Le?(this.saved=Le.next,Le.node=ke,Le.next=null,Le.prior=this.last):Le={node:ke,next:null,prior:this.last},this.last?this.last.next=Le:this.first=Le,this.last=Le},shift(){const ke=this.first;return ke?(this.first=ke.next,this.first||(this.last=null),ke.next=this.saved,this.saved=ke,ke.node):null},unshift(ke){const Le=this.saved;this.saved=Le.next,Le.node=ke,Le.next=this.first,Le.prior=null,this.first||(this.last=Le),this.first=Le}};function We(ke){throw new Error(`${ke} at ${ze} [${Ne.line}:${Ne.col}]`)}return{finalError(){if(ot!==0)switch(ot){case 1:return We("Comment began at end of document");case 2:console.log("Warning: '//' comment without end of line ended document");break;case 3:return We("Open comment '/*' is missing close at end of document");case 4:return We("Incomplete '/* *' close at end of document")}Ot&&We("Incomplete string")},value(){this.finalError();const ke=He;return He=void 0,ke},reset(){ae=x,Ue=!0,Re.last&&(Re.last.next=Re.save),Re.save=Re.first,Re.first=Re.last=null,pe.last&&(pe.last.next=pe.save),pe.save=Re.first,pe.first=pe.last=null,Ze=null,Be=void 0,Ve=ye,ge.value_type=i,ge.name=null,ge.string="",Ne.line=1,Ne.col=1,Ye=!1,ot=0,Nt=!1,Ot=!1,gt=!1,Ct=!1},write(ke){let Le;if(ke!==void 0&&typeof ke!="string"&&(ke=String(ke)),!Ue)throw new Error("Parser is in an error state, please reset.");for(Le=this._write(ke,!1);Le>0&&(this.finalError(),typeof Oe=="function"&&function At(rt,ht){const it=rt[ht];if(it&&typeof it=="object"){for(const $t in it)if(Object.prototype.hasOwnProperty.call(it,$t)){const zt=At(it,$t);zt!==void 0?it[$t]=zt:delete it[$t]}}return Oe.call(rt,ht,it)}({"":He},""),Ae(He),He=void 0,!(Le<2));Le=this._write());Le&&this.finalError()},_write(ke,Le){let At,rt,ht=0;function it(sn,ct){throw new Error(`${sn} '${String.fromCodePoint(ct)}' unexpected at ${ze} (near '${rt.substr(ze>4?ze-4:0,ze>4?3:ze-1)}[${String.fromCodePoint(ct)}]${rt.substr(ze,10)}') [${Ne.line}:${Ne.col}]`)}function $t(){ge.value_type=i,ge.string=""}function zt(){switch(ge.value_type){case c:Ze.push((Ye?-1:1)*Number(ge.string));break;case l:Ze.push(ge.string);break;case o:Ze.push(!0);break;case u:Ze.push(!1);break;case p:Ze.push(NaN);break;case v:Ze.push(NaN);break;case S:Ze.push(-1/0);break;case w:Ze.push(1/0);break;case s:Ze.push(null);break;case r:Ze.push(void 0);break;case T:Ze.push(void 0),delete Ze[Ze.length-1];break;case h:Ze.push(ge.contains);break;case d:Ze.push(ge.contains);break}}function Wt(){switch(ge.value_type){case c:Be[ge.name]=(Ye?-1:1)*Number(ge.string);break;case l:Be[ge.name]=ge.string;break;case o:Be[ge.name]=!0;break;case u:Be[ge.name]=!1;break;case p:Be[ge.name]=NaN;break;case v:Be[ge.name]=NaN;break;case S:Be[ge.name]=-1/0;break;case w:Be[ge.name]=1/0;break;case s:Be[ge.name]=null;break;case r:Be[ge.name]=void 0;break;case h:Be[ge.name]=ge.contains;break;case d:Be[ge.name]=ge.contains;break}}function un(sn){let ct=0;for(;ct==0&&ze<rt.length;){let xe=rt.charAt(ze);const je=rt.codePointAt(ze++);if(je>=65536&&(xe+=rt.charAt(ze),ze++),Ne.col++,je==sn)gt?(Dt?it("Incomplete hexidecimal sequence",je):dt?it("Incomplete long unicode sequence",je):Mt&&it("Incomplete unicode sequence",je),Ct?(Ct=!1,ct=1):ge.string+=xe,gt=!1):ct=1;else if(gt){if(dt){if(je==125){ge.string+=String.fromCodePoint(yt),dt=!1,Mt=!1,gt=!1;continue}yt*=16,je>=48&&je<=57?yt+=je-48:je>=65&&je<=70?yt+=je-65+10:je>=97&&je<=102?yt+=je-97+10:it("(escaped character, parsing hex of \\u)",je);continue}else if(Dt||Mt){if(pt===0&&je===123){dt=!0;continue}yt*=16,je>=48&&je<=57?yt+=je-48:je>=65&&je<=70?yt+=je-65+10:je>=97&&je<=102?yt+=je-97+10:it(Mt?"(escaped character, parsing hex of \\u)":"(escaped character, parsing hex of \\x)",je),pt++,Mt?pt==4&&(ge.string+=String.fromCodePoint(yt),Mt=!1,gt=!1):pt==2&&(ge.string+=String.fromCodePoint(yt),Dt=!1,gt=!1);continue}switch(je){case 13:Ct=!0,Ne.col=1;continue;case 8232:case 8233:Ne.col=1;case 10:Ct?Ct=!1:Ne.col=1,Ne.line++;break;case 116:ge.string+="	";break;case 98:ge.string+="\b";break;case 48:ge.string+="\0";break;case 110:ge.string+=`
`;break;case 114:ge.string+="\r";break;case 102:ge.string+="\f";break;case 118:ge.string+="\v";break;case 120:Dt=!0,pt=0,yt=0;continue;case 117:Mt=!0,pt=0,yt=0;continue;default:ge.string+=xe;break}gt=!1}else je===92?gt=!0:(Ct&&(Ct=!1,Ne.line++,Ne.col=2),ge.string+=xe)}return ct}function Jt(){let sn;for(;(sn=ze)<rt.length;){const ct=rt.charAt(sn),xe=rt.codePointAt(ze++);if(xe>=65536&&it("fault while parsing number;",xe),xe!=95)if(Ne.col++,xe>=48&&xe<=57)_t&&(It=!0),ge.string+=ct;else if(xe==45||xe==43)ge.string.length==0||_t&&!nn&&!It?(ge.string+=ct,nn=!0):(Ue=!1,it("fault while parsing number;",xe));else if(xe==46)!lt&&!kt&&!_t?(ge.string+=ct,lt=!0):(Ue=!1,it("fault while parsing number;",xe));else if(kt&&(xe>=95&&xe<=102||xe>=65&&xe<=70))ge.string+=ct;else if(xe==120||xe==98||xe==111||xe==88||xe==66||xe==79)!kt&&ge.string=="0"?(kt=!0,ge.string+=ct):(Ue=!1,it("fault while parsing number;",xe));else if(xe==101||xe==69)_t?(Ue=!1,it("fault while parsing number;",xe)):(ge.string+=ct,_t=!0);else{if(xe==32||xe==160||xe==13||xe==10||xe==9||xe==65279||xe==44||xe==125||xe==93||xe==58)break;Le&&(Ue=!1,it("fault while parsing number;",xe));break}}ze=sn,!Le&&ze==rt.length?mt=!0:(mt=!1,ge.value_type=c,Ve==ye&&(Nt=!0))}if(!Ue)return-1;if(ke&&ke.length)At=Se(),At.buf=ke,Re.push(At);else if(mt){if(mt=!1,ge.value_type=c,Ve==ye)Nt=!0;else throw new Error("context stack is not empty at flush");ht=1}for(;Ue&&(At=Re.shift());){for(ze=At.n,rt=At.buf,Ot&&un(Gt)>0&&(Ot=!1,ge.value_type=l),mt&&Jt();!Nt&&Ue&&ze<rt.length;){let sn=rt.charAt(ze);const ct=rt.codePointAt(ze++);if(ct>=65536&&(sn+=rt.charAt(ze),ze++),Ne.col++,ot){ot==1?ct==42?ot=3:ct!=47?it("fault while parsing;",ct):ot=2:ot==2?(ct==10||ct==13)&&(ot=0):ot==3?ct==42&&(ot=4):ct==47?ot=0:ot=3;continue}switch(ct){case 47:ot=1;break;case 123:(ae==oe||ae==W||Ve==Pe&&ae==x)&&it("fault while parsing; getting field name unexpected ",ct);{const xe=K();ge.value_type=h;const je={};Ve==ye&&(He=Be=je),xe.context=Ve,xe.elements=Be,xe.element_array=Ze,xe.name=ge.name,Be=je,pe.push(xe),$t(),Ve=Pe}break;case 91:if((Ve==Pe||ae==oe||ae==W)&&it("Fault while parsing; while getting field name unexpected",ct),ge.value_type==i||ge.value_type==r){const xe=K();ge.value_type=d;const je=[];Ve==ye?He=Ze=je:Ve==Je&&(Be[ge.name]=je),xe.context=Ve,xe.elements=Be,xe.element_array=Ze,xe.name=ge.name,Ze=je,pe.push(xe),$t(),Ve=Te}else it("Unexpected array open after previous value",ct);break;case 58:Ve==Pe?(ae=x,ge.name=ge.string,ge.string="",Ve=Je,ge.value_type=i):Ve==Te?it("(in array, got colon out of string):parsing fault;",ct):it("(outside any object, got colon out of string):parsing fault;",ct);break;case 125:if(ae==ce&&(ae=x),Ve==Pe){ge.value_type=h,ge.contains=Be;const xe=pe.pop();ge.name=xe.name,Ve=xe.context,Be=xe.elements,Ze=xe.element_array,q(xe),Ve==ye&&(Nt=!0)}else if(Ve==Je){ge.value_type!=i?Wt():it("Fault while parsing field value, close with no value",ct),ge.value_type=h,ge.contains=Be;const xe=pe.pop();ge.name=xe.name,Ve=xe.context,Be=xe.elements,Ze=xe.element_array,q(xe),Ve==ye&&(Nt=!0)}else it("Fault while parsing; unexpected",ct);Ye=!1;break;case 93:if(ae==ce&&(ae=x),Ve==Te){ge.value_type!=i&&zt(),ge.value_type=d,ge.contains=Ze;{const xe=pe.pop();ge.name=xe.name,Ve=xe.context,Be=xe.elements,Ze=xe.element_array,q(xe)}Ve==ye&&(Nt=!0)}else it(`bad context ${Ve}; fault while parsing`,ct);Ye=!1;break;case 44:ae==ce&&(ae=x),Ve==Te?(ge.value_type==i&&(ge.value_type=T),zt(),$t()):Ve==Je?(Ve=Pe,ge.value_type!=i?(Wt(),$t()):it("Unexpected comma after object field name",ct)):(Ue=!1,it("bad context; excessive commas while parsing;",ct)),Ye=!1;break;default:if(Ve==Pe)switch(ct){case 96:case 34:case 39:ae==x?(ge.value_type!=i&&it("String begin after previous value",ct),un(ct)?ge.value_type=l:(Gt=ct,Ot=!0)):it("fault while parsing; quote not at start of field name",ct);break;case 10:Ne.line++,Ne.col=1;case 13:case 32:case 160:case 9:case 65279:ae==ce?ae=x:ae==oe&&(ae=W);break;default:ae==W&&(Ue=!1,it("fault while parsing; character unexpected",ct)),ae==x&&(ae=oe),ge.string+=sn;break}else switch(ct){case 96:case 34:case 39:{ge.value_type===i?un(ct)?(ge.value_type=l,ae=ce):(Gt=ct,Ot=!0):it("String unexpected",ct);break}case 10:Ne.line++,Ne.col=1;case 32:case 160:case 9:case 13:case 65279:if(ae==ce){ae=x,Ve==ye&&(Nt=!0);break}ae!==x&&(Ue=!1,it("fault parsing whitespace",ct));break;case 116:ae==x?ae=E:ae==se?ae=ue:(Ue=!1,it("fault parsing",ct));break;case 114:ae==E?ae=O:(Ue=!1,it("fault parsing",ct));break;case 117:ae==O?ae=C:ae==V?ae=Z:ae==x?ae=D:(Ue=!1,it("fault parsing",ct));break;case 101:ae==C?(ge.value_type=o,ae=ce):ae==L?(ge.value_type=u,ae=ce):ae==P?ae=F:ae==B?ae=U:(Ue=!1,it("fault parsing",ct));break;case 110:ae==x?ae=V:ae==D?ae=R:ae==j?ae=B:ae==ne?ae=le:ae==J?ae=de:(Ue=!1,it("fault parsing",ct));break;case 100:ae==R?ae=P:ae==U?(ge.value_type=r,ae=ce):(Ue=!1,it("fault parsing",ct));break;case 105:ae==z?ae=j:ae==ee?ae=J:ae==de?ae=se:(Ue=!1,it("fault parsing",ct));break;case 108:ae==Z?ae=H:ae==H?(ge.value_type=s,ae=ce):ae==$?ae=M:(Ue=!1,it("fault parsing",ct));break;case 102:ae==x?ae=N:ae==F?ae=z:ae==le?ae=ee:(Ue=!1,it("fault parsing",ct));break;case 97:ae==N?ae=$:ae==k?ae=G:(Ue=!1,it("fault parsing",ct));break;case 115:ae==M?ae=L:(Ue=!1,it("fault parsing",ct));break;case 73:ae==x?ae=ne:(Ue=!1,it("fault parsing",ct));break;case 78:ae==x?ae=k:ae==G?(ge.value_type=Ye?p:v,Ye=!1,ae=ce):(Ue=!1,it("fault parsing",ct));break;case 121:ae==ue?(ge.value_type=Ye?S:w,Ye=!1,ae=ce):(Ue=!1,it("fault parsing",ct));break;case 45:ae==x?Ye=!Ye:(Ue=!1,it("fault parsing",ct));break;case 43:ae!==x&&(Ue=!1,it("fault parsing",ct));break;default:ct>=48&&ct<=57||ct==43||ct==46||ct==45?(kt=!1,_t=!1,nn=!1,It=!1,lt=!1,ge.string=sn,At.n=ze,Jt()):(Ue=!1,it("fault parsing",ct));break}break}if(Nt){ae==ce&&(ae=x);break}}if(ze==rt.length?(te(At),Ot||mt||Ve==Pe?ht=0:Ve==ye&&(ge.value_type!=i||He)&&(Nt=!0,ht=1)):(At.n=ze,Re.unshift(At),ht=2),Nt)break}if(Nt&&ge.value_type!=i){switch(ge.value_type){case c:He=(Ye?-1:1)*Number(ge.string);break;case l:He=ge.string;break;case o:He=!0;break;case u:He=!1;break;case s:He=null;break;case r:He=void 0;break;case v:He=NaN;break;case p:He=NaN;break;case w:He=1/0;break;case S:He=-1/0;break;case h:He=ge.contains;break;case d:He=ge.contains;break}Ye=!1,ge.string="",ge.value_type=i}return Nt=!1,ht}}};const Me=[Object.freeze(re.begin())];let Ce=0;re.parse=function(Ae,Oe){const ge=Ce++;Me.length<=ge&&Me.push(Object.freeze(re.begin()));const Ne=Me[ge];if(typeof Ae!="string"&&(Ae=String(Ae)),Ne.reset(),Ne._write(Ae,!0)>0){const ze=Ne.value();return typeof Oe=="function"&&function ae(Ue,Ye){const He=Ue[Ye];if(He&&typeof He=="object"){for(const Be in He)if(Object.prototype.hasOwnProperty.call(He,Be)){const Ze=ae(He,Be);Ze!==void 0?He[Be]=Ze:delete He[Be]}}return Oe.call(Ue,Ye,He)}({"":ze},""),Ce--,ze}else Ne.finalError()},re.stringify=JSON.stringify,re.stringifierActive=null,re.stringifier=function(){const Ae={true:!0,false:!1,null:null,NaN:NaN,Infinity:1/0,undefined:void 0};let Oe='"',ge=!1;return{stringify(ae,Ue,Ye,He){return ze(this,ae,Ue,Ye,He)},setQuote(ae){Oe=ae},get ignoreNonEnumerable(){return ge},set ignoreNonEnumerable(ae){ge=ae}};function Ne(ae){return typeof ae=="number"&&!isNaN(ae)?["'",ae.toString(),"'"].join():ae.length?ae in Ae||/([0-9-])/.test(ae[0])||/((\n|\r|\t)|[ #{}()<>!+\-*/.:,])/.test(ae)?Oe+re.escape(ae)+Oe:ae:Oe+Oe}function ze(ae,Ue,Ye,He,Be){if(Ue===void 0)return"undefined";if(Ue===null)return"null";let Ze,Ve,ot;const kt=typeof He,lt=typeof Ye;Ze="",Ve="";const _t=re.stringifierActive;if(re.stringifierActive=ae,Be||(Be=""),kt==="number")for(ot=0;ot<He;ot+=1)Ve+=" ";else kt==="string"&&(Ve=He);const nn=Ye;if(Ye&&lt!=="function"&&(lt!=="object"||typeof Ye.length!="number"))throw new Error("JSON6.stringify unknown replacer type.");const It=Gt(Be,{[Be]:Ue});return re.stringifierActive=_t,It;function Gt(Ot,mt){let gt,Ct,dt,Mt;const Dt=Ze;let yt,pt=mt[Ot];switch(typeof pt=="string"&&(pt=Ne(pt)),pt!=null&&typeof pt=="object"&&typeof toJSOX=="function"&&(Ze+=Ve,Ze=Dt),typeof nn=="function"&&(pt=nn.call(mt,Ot,pt)),typeof pt){case"string":return pt;case"number":return""+pt;case"boolean":return String(pt);case"object":if(!pt)return"null";if(Ze+=Ve,yt=[],nn&&typeof nn=="object")for(Mt=nn.length,gt=0;gt<Mt;gt+=1)typeof nn[gt]=="string"&&(Ct=nn[gt],dt=Gt(Ct,pt),dt&&yt.push(Ne(Ct)+(Ze?": ":":")+dt));else{const Nt=[];for(Ct in pt)if(!(ge&&!Object.prototype.propertyIsEnumerable.call(pt,Ct))&&Object.prototype.hasOwnProperty.call(pt,Ct)){let pe;for(pe=0;pe<Nt.length;pe++)if(Nt[pe]>Ct){Nt.splice(pe,0,Ct);break}pe===Nt.length&&Nt.push(Ct)}for(let pe=0;pe<Nt.length;pe++)Ct=Nt[pe],Object.prototype.hasOwnProperty.call(pt,Ct)&&(dt=Gt(Ct,pt),dt&&yt.push(Ne(Ct)+(Ze?": ":":")+dt))}return dt=""+(yt.length===0?"{}":Ze?`{
`+Ze+yt.join(`,
`+Ze)+`
`+Dt+"}":"{"+yt.join(",")+"}"),Ze=Dt,dt}}}},re.stringify=function(Ae,Oe,ge){return re.stringifier().stringify(Ae,Oe,ge)},re.version=t}),Cbe=Cae,Pae={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.checkText=n.emojiMap=void 0;var e={"o/":"\u{1F44B}","</3":"\u{1F494}","<3":"\u{1F497}","8-D":"\u{1F601}","8D":"\u{1F601}",":-D":"\u{1F601}",":-3":"\u{1F601}",":3":"\u{1F601}",":D":"\u{1F601}","B^D":"\u{1F601}","X-D":"\u{1F601}",XD:"\u{1F601}","x-D":"\u{1F601}",xD:"\u{1F601}",":')":"\u{1F602}",":'-)":"\u{1F602}",":-))":"\u{1F603}","8)":"\u{1F604}",":)":"\u{1F60A}",":-)":"\u{1F604}",":]":"\u{1F604}",":^)":"\u{1F604}",":c)":"\u{1F604}",":o)":"\u{1F604}",":}":"\u{1F604}",":\u3063)":"\u{1F604}","0:)":"\u{1F607}","0:-)":"\u{1F607}","0:-3":"\u{1F607}","0:3":"\u{1F607}","0;^)":"\u{1F607}","O:-)":"\u{1F607}","3:)":"\u{1F608}","3:-)":"\u{1F608}","}:)":"\u{1F608}","}:-)":"\u{1F608}","*)":"\u{1F609}","*-)":"\u{1F609}",":-,":"\u{1F609}",";)":"\u{1F609}",";-)":"\u{1F609}",";-]":"\u{1F609}",";D":"\u{1F609}",";]":"\u{1F609}",";^)":"\u{1F609}",":-|":"\u{1F610}",":|":"\u{1F610}",":(":"\u{1F61E}",":-(":"\u{1F612}",":-<":"\u{1F612}",":-[":"\u{1F612}",":-c":"\u{1F612}",":<":"\u{1F612}",":[":"\u{1F612}",":c":"\u{1F612}",":{":"\u{1F612}",":\u3063C":"\u{1F612}","%)":"\u{1F616}","%-)":"\u{1F616}",":-P":"\u{1F61C}",":-b":"\u{1F61C}",":-p":"\u{1F61C}",":-\xDE":"\u{1F61C}",":-\xFE":"\u{1F61C}",":P":"\u{1F61C}",":b":"\u{1F61C}",":p":"\u{1F61C}",":\xDE":"\u{1F61C}",":\xFE":"\u{1F61C}",";(":"\u{1F61C}","X-P":"\u{1F61C}",XP:"\u{1F61C}","d:":"\u{1F61C}","x-p":"\u{1F61C}",xp:"\u{1F61C}",":-||":"\u{1F620}",":@":"\u{1F620}",":-.":"\u{1F621}",":-/":"\u{1F621}",":/":"\u{1F610}",":L":"\u{1F621}",":S":"\u{1F621}",":\\":"\u{1F621}",":'(":"\u{1F622}",":'-(":"\u{1F622}","^5":"\u{1F624}","^<_<":"\u{1F624}","o/\\o":"\u{1F624}","|-O":"\u{1F62B}","|;-)":"\u{1F62B}",":###..":"\u{1F630}",":#":"\u{1F605}",":-###..":"\u{1F630}","D-':":"\u{1F631}",D8:"\u{1F631}","D:":"\u{1F631}","D:<":"\u{1F631}","D;":"\u{1F631}",DX:"\u{1F631}","v.v":"\u{1F631}","8-0":"\u{1F632}",":-O":"\u{1F632}",":-o":"\u{1F632}",":O":"\u{1F632}",":o":"\u{1F632}","O-O":"\u{1F632}",O_O:"\u{1F632}",O_o:"\u{1F632}","o-o":"\u{1F632}",o_O:"\u{1F632}",o_o:"\u{1F632}",":$":"\u{1F633}","#-)":"\u{1F635}",":&":"\u{1F636}",":-#":"\u{1F636}",":-&":"\u{1F636}",":-X":"\u{1F636}",":X":"\u{1F636}",":-J":"\u{1F63C}",":*":"\u{1F618}",":^*":"\u{1F63D}",\u0CA0_\u0CA0:"\u{1F645}","*\\0/*":"\u{1F646}","\\o/":"\u{1F646}",":>":"\u{1F604}",">.<":"\u{1F621}",">:(":"\u{1F620}",">:)":"\u{1F608}",">:-)":"\u{1F608}",">:/":"\u{1F621}",">:O":"\u{1F632}",">:P":"\u{1F61C}",">:[":"\u{1F612}",">:\\":"\u{1F621}",">;)":"\u{1F608}",">_>^":"\u{1F624}","^^":"\u{1F60A}",":sweat":"\u{1F605}",":smile:":"\u{1F604}",":laughing:":"\u{1F606}",":blush:":"\u{1F60A}",":smiley:":"\u{1F603}",":relaxed:":"\u263A\uFE0F",":smirk:":"\u{1F60F}",":heart_eyes:":"\u{1F60D}",":kissing_heart:":"\u{1F618}",":kissing_closed_eyes:":"\u{1F61A}",":flushed:":"\u{1F633}",":relieved:":"\u{1F60C}",":satisfied:":"\u{1F606}",":grin:":"\u{1F601}",":wink:":"\u{1F609}",":stuck_out_tongue_winking_eye:":"\u{1F61C}",":stuck_out_tongue_closed_eyes:":"\u{1F61D}",":grinning:":"\u{1F600}",":kissing:":"\u{1F617}",":kissing_smiling_eyes:":"\u{1F619}",":stuck_out_tongue:":"\u{1F61B}",":sleeping:":"\u{1F634}",":worried:":"\u{1F61F}",":frowning:":"\u{1F626}",":anguished:":"\u{1F627}",":open_mouth:":"\u{1F62E}",":grimacing:":"\u{1F62C}",":confused:":"\u{1F615}",":hushed:":"\u{1F62F}",":expressionless:":"\u{1F611}",":unamused:":"\u{1F612}",":sweat_smile:":"\u{1F605}",":sweat:":"\u{1F613}",":disappointed_relieved:":"\u{1F625}",":weary:":"\u{1F629}",":pensive:":"\u{1F614}",":disappointed:":"\u{1F61E}",":confounded:":"\u{1F616}",":fearful:":"\u{1F628}",":cold_sweat:":"\u{1F630}",":persevere:":"\u{1F623}",":cry:":"\u{1F622}",":sob:":"\u{1F62D}",":joy:":"\u{1F602}",":astonished:":"\u{1F632}",":scream:":"\u{1F631}",":tired_face:":"\u{1F62B}",":angry:":"\u{1F620}",":rage:":"\u{1F621}",":triumph:":"\u{1F624}",":sleepy:":"\u{1F62A}",":yum:":"\u{1F60B}",":mask:":"\u{1F637}",":sunglasses:":"\u{1F60E}",":dizzy_face:":"\u{1F635}",":imp:":"\u{1F47F}",":smiling_imp:":"\u{1F608}",":neutral_face:":"\u{1F610}",":no_mouth:":"\u{1F636}",":innocent:":"\u{1F607}",":alien:":"\u{1F47D}",":yellow_heart:":"\u{1F49B}",":blue_heart:":"\u{1F499}",":purple_heart:":"\u{1F49C}",":heart:":"\u2764\uFE0F",":green_heart:":"\u{1F49A}",":broken_heart:":"\u{1F494}",":heartbeat:":"\u{1F493}",":heartpulse:":"\u{1F497}",":two_hearts:":"\u{1F495}",":revolving_hearts:":"\u{1F49E}",":cupid:":"\u{1F498}",":sparkling_heart:":"\u{1F496}",":sparkles:":"\u2728",":star:":"\u2B50",":star2:":"\u{1F31F}",":dizzy:":"\u{1F4AB}",":boom:":"\u{1F4A5}",":collision:":"\u{1F4A5}",":anger:":"\u{1F4A2}",":exclamation:":"\u2757",":question:":"\u2753",":grey_exclamation:":"\u2755",":grey_question:":"\u2754",":zzz:":"\u{1F4A4}",":dash:":"\u{1F4A8}",":sweat_drops:":"\u{1F4A6}",":notes:":"\u{1F3B6}",":musical_note:":"\u{1F3B5}",":fire:":"\u{1F525}",":hankey:":"\u{1F4A9}",":poop:":"\u{1F4A9}",":shit:":"\u{1F4A9}",":+1:":"\u{1F44D}",":thumbsup:":"\u{1F44D}",":-1:":"\u{1F44E}",":thumbsdown:":"\u{1F44E}",":ok_hand:":"\u{1F44C}",":punch:":"\u{1F44A}",":facepunch:":"\u{1F44A}",":fist:":"\u270A",":v:":"\u270C\uFE0F",":wave:":"\u{1F44B}",":hand:":"\u270B",":raised_hand:":"\u270B",":open_hands:":"\u{1F450}",":point_up:":"\u261D\uFE0F",":point_down:":"\u{1F447}",":point_left:":"\u{1F448}",":point_right:":"\u{1F449}",":raised_hands:":"\u{1F64C}",":pray:":"\u{1F64F}",":point_up_2:":"\u{1F446}",":clap:":"\u{1F44F}",":muscle:":"\u{1F4AA}",":metal:":"\u{1F918}",":fu:":"\u{1F595}",":walking:":"\u{1F6B6}",":runner:":"\u{1F3C3}",":running:":"\u{1F3C3}",":couple:":"\u{1F46B}",":family:":"\u{1F46A}",":two_men_holding_hands:":"\u{1F46C}",":two_women_holding_hands:":"\u{1F46D}",":dancer:":"\u{1F483}",":dancers:":"\u{1F46F}",":no_good:":"\u{1F645}",":information_desk_person:":"\u{1F481}",":raising_hand:":"\u{1F64B}",":bride_with_veil:":"\u{1F470}",":bow:":"\u{1F647}",":couplekiss:":"\u{1F48F}",":couple_with_heart:":"\u{1F491}",":massage:":"\u{1F486}",":haircut:":"\u{1F487}",":nail_care:":"\u{1F485}",":boy:":"\u{1F466}",":girl:":"\u{1F467}",":woman:":"\u{1F469}",":man:":"\u{1F468}",":baby:":"\u{1F476}",":older_woman:":"\u{1F475}",":older_man:":"\u{1F474}",":man_with_gua_pi_mao:":"\u{1F472}",":construction_worker:":"\u{1F477}",":cop:":"\u{1F46E}",":angel:":"\u{1F47C}",":princess:":"\u{1F478}",":smiley_cat:":"\u{1F63A}",":smile_cat:":"\u{1F638}",":heart_eyes_cat:":"\u{1F63B}",":kissing_cat:":"\u{1F63D}",":smirk_cat:":"\u{1F63C}",":scream_cat:":"\u{1F640}",":crying_cat_face:":"\u{1F63F}",":joy_cat:":"\u{1F639}",":pouting_cat:":"\u{1F63E}",":japanese_ogre:":"\u{1F479}",":japanese_goblin:":"\u{1F47A}",":see_no_evil:":"\u{1F648}",":hear_no_evil:":"\u{1F649}",":speak_no_evil:":"\u{1F64A}",":skull:":"\u{1F480}",":feet:":"\u{1F43E}",":lips:":"\u{1F444}",":kiss:":"\u{1F48B}",":droplet:":"\u{1F4A7}",":ear:":"\u{1F442}",":eyes:":"\u{1F440}",":nose:":"\u{1F443}",":tongue:":"\u{1F445}",":love_letter:":"\u{1F48C}",":bust_in_silhouette:":"\u{1F464}",":busts_in_silhouette:":"\u{1F465}",":speech_balloon:":"\u{1F4AC}",":thought_balloon:":"\u{1F4AD}",":sunny:":"\u2600\uFE0F",":umbrella:":"\u2614",":cloud:":"\u2601\uFE0F",":snowflake:":"\u2744\uFE0F",":snowman:":"\u26C4",":zap:":"\u26A1",":cyclone:":"\u{1F300}",":foggy:":"\u{1F301}",":ocean:":"\u{1F30A}",":cat:":"\u{1F431}",":dog:":"\u{1F436}",":mouse:":"\u{1F42D}",":hamster:":"\u{1F439}",":rabbit:":"\u{1F430}",":wolf:":"\u{1F43A}",":frog:":"\u{1F438}",":tiger:":"\u{1F42F}",":koala:":"\u{1F428}",":bear:":"\u{1F43B}",":pig:":"\u{1F437}",":pig_nose:":"\u{1F43D}",":cow:":"\u{1F42E}",":boar:":"\u{1F417}",":monkey_face:":"\u{1F435}",":monkey:":"\u{1F412}",":horse:":"\u{1F434}",":racehorse:":"\u{1F40E}",":camel:":"\u{1F42B}",":sheep:":"\u{1F411}",":elephant:":"\u{1F418}",":panda_face:":"\u{1F43C}",":snake:":"\u{1F40D}",":bird:":"\u{1F426}",":baby_chick:":"\u{1F424}",":hatched_chick:":"\u{1F425}",":hatching_chick:":"\u{1F423}",":chicken:":"\u{1F414}",":penguin:":"\u{1F427}",":turtle:":"\u{1F422}",":bug:":"\u{1F41B}",":honeybee:":"\u{1F41D}",":ant:":"\u{1F41C}",":beetle:":"\u{1F41E}",":snail:":"\u{1F40C}",":octopus:":"\u{1F419}",":tropical_fish:":"\u{1F420}",":fish:":"\u{1F41F}",":whale:":"\u{1F433}",":whale2:":"\u{1F40B}",":dolphin:":"\u{1F42C}",":cow2:":"\u{1F404}",":ram:":"\u{1F40F}",":rat:":"\u{1F400}",":water_buffalo:":"\u{1F403}",":tiger2:":"\u{1F405}",":rabbit2:":"\u{1F407}",":dragon:":"\u{1F409}",":goat:":"\u{1F410}",":rooster:":"\u{1F413}",":dog2:":"\u{1F415}",":pig2:":"\u{1F416}",":mouse2:":"\u{1F401}",":ox:":"\u{1F402}",":dragon_face:":"\u{1F432}",":blowfish:":"\u{1F421}",":crocodile:":"\u{1F40A}",":dromedary_camel:":"\u{1F42A}",":leopard:":"\u{1F406}",":cat2:":"\u{1F408}",":poodle:":"\u{1F429}",":paw_prints:":"\u{1F43E}",":bouquet:":"\u{1F490}",":cherry_blossom:":"\u{1F338}",":tulip:":"\u{1F337}",":four_leaf_clover:":"\u{1F340}",":rose:":"\u{1F339}",":sunflower:":"\u{1F33B}",":hibiscus:":"\u{1F33A}",":maple_leaf:":"\u{1F341}",":leaves:":"\u{1F343}",":fallen_leaf:":"\u{1F342}",":herb:":"\u{1F33F}",":mushroom:":"\u{1F344}",":cactus:":"\u{1F335}",":palm_tree:":"\u{1F334}",":evergreen_tree:":"\u{1F332}",":deciduous_tree:":"\u{1F333}",":chestnut:":"\u{1F330}",":seedling:":"\u{1F331}",":blossom:":"\u{1F33C}",":ear_of_rice:":"\u{1F33E}",":shell:":"\u{1F41A}",":globe_with_meridians:":"\u{1F310}",":sun_with_face:":"\u{1F31E}",":full_moon_with_face:":"\u{1F31D}",":new_moon_with_face:":"\u{1F31A}",":new_moon:":"\u{1F311}",":waxing_crescent_moon:":"\u{1F312}",":first_quarter_moon:":"\u{1F313}",":waxing_gibbous_moon:":"\u{1F314}",":full_moon:":"\u{1F315}",":waning_gibbous_moon:":"\u{1F316}",":last_quarter_moon:":"\u{1F317}",":waning_crescent_moon:":"\u{1F318}",":last_quarter_moon_with_face:":"\u{1F31C}",":first_quarter_moon_with_face:":"\u{1F31B}",":moon:":"\u{1F314}",":earth_africa:":"\u{1F30D}",":earth_americas:":"\u{1F30E}",":earth_asia:":"\u{1F30F}",":volcano:":"\u{1F30B}",":milky_way:":"\u{1F30C}",":partly_sunny:":"\u26C5",":bamboo:":"\u{1F38D}",":gift_heart:":"\u{1F49D}",":dolls:":"\u{1F38E}",":school_satchel:":"\u{1F392}",":mortar_board:":"\u{1F393}",":flags:":"\u{1F38F}",":fireworks:":"\u{1F386}",":sparkler:":"\u{1F387}",":wind_chime:":"\u{1F390}",":rice_scene:":"\u{1F391}",":jack_o_lantern:":"\u{1F383}",":ghost:":"\u{1F47B}",":santa:":"\u{1F385}",":christmas_tree:":"\u{1F384}",":gift:":"\u{1F381}",":bell:":"\u{1F514}",":no_bell:":"\u{1F515}",":tanabata_tree:":"\u{1F38B}",":tada:":"\u{1F389}",":confetti_ball:":"\u{1F38A}",":balloon:":"\u{1F388}",":crystal_ball:":"\u{1F52E}",":cd:":"\u{1F4BF}",":dvd:":"\u{1F4C0}",":floppy_disk:":"\u{1F4BE}",":camera:":"\u{1F4F7}",":video_camera:":"\u{1F4F9}",":movie_camera:":"\u{1F3A5}",":computer:":"\u{1F4BB}",":tv:":"\u{1F4FA}",":iphone:":"\u{1F4F1}",":phone:":"\u260E\uFE0F",":telephone:":"\u260E\uFE0F",":telephone_receiver:":"\u{1F4DE}",":pager:":"\u{1F4DF}",":fax:":"\u{1F4E0}",":minidisc:":"\u{1F4BD}",":vhs:":"\u{1F4FC}",":sound:":"\u{1F509}",":speaker:":"\u{1F508}",":mute:":"\u{1F507}",":loudspeaker:":"\u{1F4E2}",":mega:":"\u{1F4E3}",":hourglass:":"\u231B",":hourglass_flowing_sand:":"\u23F3",":alarm_clock:":"\u23F0",":watch:":"\u231A",":radio:":"\u{1F4FB}",":satellite:":"\u{1F4E1}",":loop:":"\u27BF",":mag:":"\u{1F50D}",":mag_right:":"\u{1F50E}",":unlock:":"\u{1F513}",":lock:":"\u{1F512}",":lock_with_ink_pen:":"\u{1F50F}",":closed_lock_with_key:":"\u{1F510}",":key:":"\u{1F511}",":bulb:":"\u{1F4A1}",":flashlight:":"\u{1F526}",":high_brightness:":"\u{1F506}",":low_brightness:":"\u{1F505}",":electric_plug:":"\u{1F50C}",":battery:":"\u{1F50B}",":calling:":"\u{1F4F2}",":email:":"\u2709\uFE0F",":mailbox:":"\u{1F4EB}",":postbox:":"\u{1F4EE}",":bath:":"\u{1F6C0}",":bathtub:":"\u{1F6C1}",":shower:":"\u{1F6BF}",":toilet:":"\u{1F6BD}",":wrench:":"\u{1F527}",":nut_and_bolt:":"\u{1F529}",":hammer:":"\u{1F528}",":seat:":"\u{1F4BA}",":moneybag:":"\u{1F4B0}",":yen:":"\u{1F4B4}",":dollar:":"\u{1F4B5}",":pound:":"\u{1F4B7}",":euro:":"\u{1F4B6}",":credit_card:":"\u{1F4B3}",":money_with_wings:":"\u{1F4B8}",":e-mail:":"\u{1F4E7}",":inbox_tray:":"\u{1F4E5}",":outbox_tray:":"\u{1F4E4}",":envelope:":"\u2709\uFE0F",":incoming_envelope:":"\u{1F4E8}",":postal_horn:":"\u{1F4EF}",":mailbox_closed:":"\u{1F4EA}",":mailbox_with_mail:":"\u{1F4EC}",":mailbox_with_no_mail:":"\u{1F4ED}",":package:":"\u{1F4E6}",":door:":"\u{1F6AA}",":smoking:":"\u{1F6AC}",":bomb:":"\u{1F4A3}",":gun:":"\u{1F52B}",":hocho:":"\u{1F52A}",":pill:":"\u{1F48A}",":syringe:":"\u{1F489}",":page_facing_up:":"\u{1F4C4}",":page_with_curl:":"\u{1F4C3}",":bookmark_tabs:":"\u{1F4D1}",":bar_chart:":"\u{1F4CA}",":chart_with_upwards_trend:":"\u{1F4C8}",":chart_with_downwards_trend:":"\u{1F4C9}",":scroll:":"\u{1F4DC}",":clipboard:":"\u{1F4CB}",":calendar:":"\u{1F4C6}",":date:":"\u{1F4C5}",":card_index:":"\u{1F4C7}",":file_folder:":"\u{1F4C1}",":open_file_folder:":"\u{1F4C2}",":scissors:":"\u2702\uFE0F",":pushpin:":"\u{1F4CC}",":paperclip:":"\u{1F4CE}",":black_nib:":"\u2712\uFE0F",":pencil2:":"\u270F\uFE0F",":straight_ruler:":"\u{1F4CF}",":triangular_ruler:":"\u{1F4D0}",":closed_book:":"\u{1F4D5}",":green_book:":"\u{1F4D7}",":blue_book:":"\u{1F4D8}",":orange_book:":"\u{1F4D9}",":notebook:":"\u{1F4D3}",":notebook_with_decorative_cover:":"\u{1F4D4}",":ledger:":"\u{1F4D2}",":books:":"\u{1F4DA}",":bookmark:":"\u{1F516}",":name_badge:":"\u{1F4DB}",":microscope:":"\u{1F52C}",":telescope:":"\u{1F52D}",":newspaper:":"\u{1F4F0}",":football:":"\u{1F3C8}",":basketball:":"\u{1F3C0}",":soccer:":"\u26BD",":baseball:":"\u26BE",":tennis:":"\u{1F3BE}",":8ball:":"\u{1F3B1}",":rugby_football:":"\u{1F3C9}",":bowling:":"\u{1F3B3}",":golf:":"\u26F3",":mountain_bicyclist:":"\u{1F6B5}",":bicyclist:":"\u{1F6B4}",":horse_racing:":"\u{1F3C7}",":snowboarder:":"\u{1F3C2}",":swimmer:":"\u{1F3CA}",":surfer:":"\u{1F3C4}",":ski:":"\u{1F3BF}",":spades:":"\u2660\uFE0F",":hearts:":"\u2665\uFE0F",":clubs:":"\u2663\uFE0F",":diamonds:":"\u2666\uFE0F",":gem:":"\u{1F48E}",":ring:":"\u{1F48D}",":trophy:":"\u{1F3C6}",":musical_score:":"\u{1F3BC}",":musical_keyboard:":"\u{1F3B9}",":violin:":"\u{1F3BB}",":space_invader:":"\u{1F47E}",":video_game:":"\u{1F3AE}",":black_joker:":"\u{1F0CF}",":flower_playing_cards:":"\u{1F3B4}",":game_die:":"\u{1F3B2}",":dart:":"\u{1F3AF}",":mahjong:":"\u{1F004}",":clapper:":"\u{1F3AC}",":memo:":"\u{1F4DD}",":pencil:":"\u{1F4DD}",":book:":"\u{1F4D6}",":art:":"\u{1F3A8}",":microphone:":"\u{1F3A4}",":headphones:":"\u{1F3A7}",":trumpet:":"\u{1F3BA}",":saxophone:":"\u{1F3B7}",":guitar:":"\u{1F3B8}",":shoe:":"\u{1F45E}",":sandal:":"\u{1F461}",":high_heel:":"\u{1F460}",":lipstick:":"\u{1F484}",":boot:":"\u{1F462}",":shirt:":"\u{1F455}",":tshirt:":"\u{1F455}",":necktie:":"\u{1F454}",":womans_clothes:":"\u{1F45A}",":dress:":"\u{1F457}",":running_shirt_with_sash:":"\u{1F3BD}",":jeans:":"\u{1F456}",":kimono:":"\u{1F458}",":bikini:":"\u{1F459}",":ribbon:":"\u{1F380}",":tophat:":"\u{1F3A9}",":crown:":"\u{1F451}",":womans_hat:":"\u{1F452}",":mans_shoe:":"\u{1F45E}",":closed_umbrella:":"\u{1F302}",":briefcase:":"\u{1F4BC}",":handbag:":"\u{1F45C}",":pouch:":"\u{1F45D}",":purse:":"\u{1F45B}",":eyeglasses:":"\u{1F453}",":fishing_pole_and_fish:":"\u{1F3A3}",":coffee:":"\u2615",":tea:":"\u{1F375}",":sake:":"\u{1F376}",":baby_bottle:":"\u{1F37C}",":beer:":"\u{1F37A}",":beers:":"\u{1F37B}",":cocktail:":"\u{1F378}",":tropical_drink:":"\u{1F379}",":wine_glass:":"\u{1F377}",":fork_and_knife:":"\u{1F374}",":pizza:":"\u{1F355}",":hamburger:":"\u{1F354}",":fries:":"\u{1F35F}",":poultry_leg:":"\u{1F357}",":meat_on_bone:":"\u{1F356}",":spaghetti:":"\u{1F35D}",":curry:":"\u{1F35B}",":fried_shrimp:":"\u{1F364}",":bento:":"\u{1F371}",":sushi:":"\u{1F363}",":fish_cake:":"\u{1F365}",":rice_ball:":"\u{1F359}",":rice_cracker:":"\u{1F358}",":rice:":"\u{1F35A}",":ramen:":"\u{1F35C}",":stew:":"\u{1F372}",":oden:":"\u{1F362}",":dango:":"\u{1F361}",":egg:":"\u{1F95A}",":bread:":"\u{1F35E}",":doughnut:":"\u{1F369}",":custard:":"\u{1F36E}",":icecream:":"\u{1F366}",":ice_cream:":"\u{1F368}",":shaved_ice:":"\u{1F367}",":birthday:":"\u{1F382}",":cake:":"\u{1F370}",":cookie:":"\u{1F36A}",":chocolate_bar:":"\u{1F36B}",":candy:":"\u{1F36C}",":lollipop:":"\u{1F36D}",":honey_pot:":"\u{1F36F}",":apple:":"\u{1F34E}",":green_apple:":"\u{1F34F}",":tangerine:":"\u{1F34A}",":lemon:":"\u{1F34B}",":cherries:":"\u{1F352}",":grapes:":"\u{1F347}",":watermelon:":"\u{1F349}",":strawberry:":"\u{1F353}",":peach:":"\u{1F351}",":melon:":"\u{1F348}",":banana:":"\u{1F34C}",":pear:":"\u{1F350}",":pineapple:":"\u{1F34D}",":sweet_potato:":"\u{1F360}",":eggplant:":"\u{1F346}",":tomato:":"\u{1F345}",":corn:":"\u{1F33D}",":house:":"\u{1F3E0}",":house_with_garden:":"\u{1F3E1}",":school:":"\u{1F3EB}",":office:":"\u{1F3E2}",":post_office:":"\u{1F3E3}",":hospital:":"\u{1F3E5}",":bank:":"\u{1F3E6}",":convenience_store:":"\u{1F3EA}",":love_hotel:":"\u{1F3E9}",":hotel:":"\u{1F3E8}",":wedding:":"\u{1F492}",":church:":"\u26EA",":department_store:":"\u{1F3EC}",":european_post_office:":"\u{1F3E4}",":city_sunrise:":"\u{1F307}",":city_sunset:":"\u{1F306}",":japanese_castle:":"\u{1F3EF}",":european_castle:":"\u{1F3F0}",":tent:":"\u26FA",":factory:":"\u{1F3ED}",":tokyo_tower:":"\u{1F5FC}",":japan:":"\u{1F5FE}",":mount_fuji:":"\u{1F5FB}",":sunrise_over_mountains:":"\u{1F304}",":sunrise:":"\u{1F305}",":stars:":"\u{1F320}",":statue_of_liberty:":"\u{1F5FD}",":bridge_at_night:":"\u{1F309}",":carousel_horse:":"\u{1F3A0}",":rainbow:":"\u{1F308}",":ferris_wheel:":"\u{1F3A1}",":fountain:":"\u26F2",":roller_coaster:":"\u{1F3A2}",":ship:":"\u{1F6A2}",":speedboat:":"\u{1F6A4}",":boat:":"\u26F5",":sailboat:":"\u26F5",":rowboat:":"\u{1F6A3}",":anchor:":"\u2693",":rocket:":"\u{1F680}",":airplane:":"\u2708\uFE0F",":helicopter:":"\u{1F681}",":steam_locomotive:":"\u{1F682}",":tram:":"\u{1F68A}",":mountain_railway:":"\u{1F69E}",":bike:":"\u{1F6B2}",":aerial_tramway:":"\u{1F6A1}",":suspension_railway:":"\u{1F69F}",":mountain_cableway:":"\u{1F6A0}",":tractor:":"\u{1F69C}",":blue_car:":"\u{1F699}",":oncoming_automobile:":"\u{1F698}",":car:":"\u{1F697}",":red_car:":"\u{1F697}",":taxi:":"\u{1F695}",":oncoming_taxi:":"\u{1F696}",":articulated_lorry:":"\u{1F69B}",":bus:":"\u{1F68C}",":oncoming_bus:":"\u{1F68D}",":rotating_light:":"\u{1F6A8}",":police_car:":"\u{1F693}",":oncoming_police_car:":"\u{1F694}",":fire_engine:":"\u{1F692}",":ambulance:":"\u{1F691}",":minibus:":"\u{1F690}",":truck:":"\u{1F69A}",":train:":"\u{1F68B}",":station:":"\u{1F689}",":train2:":"\u{1F686}",":bullettrain_front:":"\u{1F685}",":bullettrain_side:":"\u{1F684}",":light_rail:":"\u{1F688}",":monorail:":"\u{1F69D}",":railway_car:":"\u{1F683}",":trolleybus:":"\u{1F68E}",":ticket:":"\u{1F3AB}",":fuelpump:":"\u26FD",":vertical_traffic_light:":"\u{1F6A6}",":traffic_light:":"\u{1F6A5}",":warning:":"\u26A0\uFE0F",":construction:":"\u{1F6A7}",":beginner:":"\u{1F530}",":atm:":"\u{1F3E7}",":slot_machine:":"\u{1F3B0}",":busstop:":"\u{1F68F}",":barber:":"\u{1F488}",":hotsprings:":"\u2668\uFE0F",":checkered_flag:":"\u{1F3C1}",":crossed_flags:":"\u{1F38C}",":izakaya_lantern:":"\u{1F3EE}",":moyai:":"\u{1F5FF}",":circus_tent:":"\u{1F3AA}",":performing_arts:":"\u{1F3AD}",":round_pushpin:":"\u{1F4CD}",":triangular_flag_on_post:":"\u{1F6A9}",":jp:":"\u{1F1EF}\u{1F1F5}",":kr:":"\u{1F1F0}\u{1F1F7}",":cn:":"\u{1F1E8}\u{1F1F3}",":us:":"\u{1F1FA}\u{1F1F8}",":fr:":"\u{1F1EB}\u{1F1F7}",":es:":"\u{1F1EA}\u{1F1F8}",":it:":"\u{1F1EE}\u{1F1F9}",":ru:":"\u{1F1F7}\u{1F1FA}",":gb:":"\u{1F1EC}\u{1F1E7}",":uk:":"\u{1F1EC}\u{1F1E7}",":de:":"\u{1F1E9}\u{1F1EA}",":one:":"1\uFE0F\u20E3",":two:":"2\uFE0F\u20E3",":three:":"3\uFE0F\u20E3",":four:":"4\uFE0F\u20E3",":five:":"5\uFE0F\u20E3",":six:":"6\uFE0F\u20E3",":seven:":"7\uFE0F\u20E3",":eight:":"8\uFE0F\u20E3",":nine:":"9\uFE0F\u20E3",":keycap_ten:":"\u{1F51F}",":1234:":"\u{1F522}",":zero:":"0\uFE0F\u20E3",":hash:":"#\uFE0F\u20E3",":symbols:":"\u{1F523}",":arrow_backward:":"\u25C0\uFE0F",":arrow_down:":"\u2B07\uFE0F",":arrow_forward:":"\u25B6\uFE0F",":arrow_left:":"\u2B05\uFE0F",":capital_abcd:":"\u{1F520}",":abcd:":"\u{1F521}",":abc:":"\u{1F524}",":arrow_lower_left:":"\u2199\uFE0F",":arrow_lower_right:":"\u2198\uFE0F",":arrow_right:":"\u27A1\uFE0F",":arrow_up:":"\u2B06\uFE0F",":arrow_upper_left:":"\u2196\uFE0F",":arrow_upper_right:":"\u2197\uFE0F",":arrow_double_down:":"\u23EC",":arrow_double_up:":"\u23EB",":arrow_down_small:":"\u{1F53D}",":arrow_heading_down:":"\u2935\uFE0F",":arrow_heading_up:":"\u2934\uFE0F",":leftwards_arrow_with_hook:":"\u21A9\uFE0F",":arrow_right_hook:":"\u21AA\uFE0F",":left_right_arrow:":"\u2194\uFE0F",":arrow_up_down:":"\u2195\uFE0F",":arrow_up_small:":"\u{1F53C}",":arrows_clockwise:":"\u{1F503}",":arrows_counterclockwise:":"\u{1F504}",":rewind:":"\u23EA",":fast_forward:":"\u23E9",":information_source:":"\u2139\uFE0F",":ok:":"\u{1F197}",":twisted_rightwards_arrows:":"\u{1F500}",":repeat:":"\u{1F501}",":repeat_one:":"\u{1F502}",":new:":"\u{1F195}",":top:":"\u{1F51D}",":up:":"\u{1F199}",":cool:":"\u{1F192}",":free:":"\u{1F193}",":ng:":"\u{1F196}",":cinema:":"\u{1F3A6}",":koko:":"\u{1F201}",":signal_strength:":"\u{1F4F6}",":u5272:":"\u{1F239}",":u5408:":"\u{1F234}",":u55b6:":"\u{1F23A}",":u6307:":"\u{1F22F}",":u6708:":"\u{1F237}\uFE0F",":u6709:":"\u{1F236}",":u6e80:":"\u{1F235}",":u7121:":"\u{1F21A}",":u7533:":"\u{1F238}",":u7a7a:":"\u{1F233}",":u7981:":"\u{1F232}",":sa:":"\u{1F202}\uFE0F",":restroom:":"\u{1F6BB}",":mens:":"\u{1F6B9}",":womens:":"\u{1F6BA}",":baby_symbol:":"\u{1F6BC}",":no_smoking:":"\u{1F6AD}",":parking:":"\u{1F17F}\uFE0F",":wheelchair:":"\u267F",":metro:":"\u{1F687}",":baggage_claim:":"\u{1F6C4}",":accept:":"\u{1F251}",":wc:":"\u{1F6BE}",":potable_water:":"\u{1F6B0}",":put_litter_in_its_place:":"\u{1F6AE}",":secret:":"\u3299\uFE0F",":congratulations:":"\u3297\uFE0F",":m:":"\u24C2\uFE0F",":passport_control:":"\u{1F6C2}",":left_luggage:":"\u{1F6C5}",":customs:":"\u{1F6C3}",":ideograph_advantage:":"\u{1F250}",":cl:":"\u{1F191}",":sos:":"\u{1F198}",":id:":"\u{1F194}",":no_entry_sign:":"\u{1F6AB}",":underage:":"\u{1F51E}",":no_mobile_phones:":"\u{1F4F5}",":do_not_litter:":"\u{1F6AF}",":non-potable_water:":"\u{1F6B1}",":no_bicycles:":"\u{1F6B3}",":no_pedestrians:":"\u{1F6B7}",":children_crossing:":"\u{1F6B8}",":no_entry:":"\u26D4",":eight_spoked_asterisk:":"\u2733\uFE0F",":sparkle:":"\u2747\uFE0F",":eight_pointed_black_star:":"\u2734\uFE0F",":heart_decoration:":"\u{1F49F}",":vs:":"\u{1F19A}",":vibration_mode:":"\u{1F4F3}",":mobile_phone_off:":"\u{1F4F4}",":chart:":"\u{1F4B9}",":currency_exchange:":"\u{1F4B1}",":aries:":"\u2648",":taurus:":"\u2649",":gemini:":"\u264A",":cancer:":"\u264B",":leo:":"\u264C",":virgo:":"\u264D",":libra:":"\u264E",":scorpius:":"\u264F",":sagittarius:":"\u2650",":capricorn:":"\u2651",":aquarius:":"\u2652",":pisces:":"\u2653",":ophiuchus:":"\u26CE",":six_pointed_star:":"\u{1F52F}",":negative_squared_cross_mark:":"\u274E",":a:":"\u{1F170}\uFE0F",":b:":"\u{1F171}\uFE0F",":ab:":"\u{1F18E}",":o2:":"\u{1F17E}\uFE0F",":diamond_shape_with_a_dot_inside:":"\u{1F4A0}",":recycle:":"\u267B\uFE0F",":end:":"\u{1F51A}",":back:":"\u{1F519}",":on:":"\u{1F51B}",":soon:":"\u{1F51C}",":clock1:":"\u{1F550}",":clock130:":"\u{1F55C}",":clock10:":"\u{1F559}",":clock1030:":"\u{1F565}",":clock11:":"\u{1F55A}",":clock1130:":"\u{1F566}",":clock12:":"\u{1F55B}",":clock1230:":"\u{1F567}",":clock2:":"\u{1F551}",":clock230:":"\u{1F55D}",":clock3:":"\u{1F552}",":clock330:":"\u{1F55E}",":clock4:":"\u{1F553}",":clock430:":"\u{1F55F}",":clock5:":"\u{1F554}",":clock530:":"\u{1F560}",":clock6:":"\u{1F555}",":clock630:":"\u{1F561}",":clock7:":"\u{1F556}",":clock730:":"\u{1F562}",":clock8:":"\u{1F557}",":clock830:":"\u{1F563}",":clock9:":"\u{1F558}",":clock930:":"\u{1F564}",":heavy_dollar_sign:":"\u{1F4B2}",":copyright:":"\xA9\uFE0F",":registered:":"\xAE\uFE0F",":tm:":"\u2122\uFE0F",":x:":"\u274C",":heavy_exclamation_mark:":"\u2757",":bangbang:":"\u203C\uFE0F",":interrobang:":"\u2049\uFE0F",":o:":"\u2B55",":heavy_multiplication_x:":"\u2716\uFE0F",":heavy_plus_sign:":"\u2795",":heavy_minus_sign:":"\u2796",":heavy_division_sign:":"\u2797",":white_flower:":"\u{1F4AE}",":100:":"\u{1F4AF}",":heavy_check_mark:":"\u2714\uFE0F",":ballot_box_with_check:":"\u2611\uFE0F",":radio_button:":"\u{1F518}",":link:":"\u{1F517}",":curly_loop:":"\u27B0",":wavy_dash:":"\u3030\uFE0F",":part_alternation_mark:":"\u303D\uFE0F"};n.emojiMap=e;var t=function(r){var i=r&&r.split(" "),s=[];return i&&i.forEach(function(o){var u=o;o in e&&(u=e[o]),s.push(u)}),s.join(" ")};n.checkText=t})(Pae);var Rae={},pB={};Object.defineProperty(pB,"__esModule",{value:!0});var F_={};function kae(n,e){try{var t=n()}catch(r){return e(r)}return t&&t.then?t.then(void 0,e):t}function mB(){const n=new Map;return function(e,t){try{let i=function(o){if(r)return o;const u=n.get(e.didUrl);return u!==void 0?u:Promise.resolve(t()).then(function(l){var c;return((c=l.didResolutionMetadata)==null?void 0:c.error)!=="notFound"&&n.set(e.didUrl,l),l})},r;const s=function(){if(e.params&&e.params["no-cache"]==="true")return r=1,Promise.resolve(t())}();return Promise.resolve(s&&s.then?s.then(i):i(s))}catch(r){return Promise.reject(r)}}}function vB(n,e){return e()}const gB="[a-zA-Z0-9_.%-]",Iae="([a-zA-Z0-9_]+)",Lae=`(${gB}+(:${gB}+)*)`,yB="[a-zA-Z0-9_.:%-]",Fae=`;${yB}+=${yB}*`,Oae=`((${Fae})*)`,Nae="(/[^#?]*)?",Uae="([?][^#]*)?",Bae="(#.*)?",zae=new RegExp(`^did:${Iae}:${Lae}${Oae}${Nae}${Uae}${Bae}$`);function xB(n){if(n===""||!n)return null;const e=n.match(zae);if(e){const t={did:`did:${e[1]}:${e[2]}`,method:e[1],id:e[2],didUrl:n};if(e[4]){const r=e[4].slice(1).split(";");t.params={};for(const i of r){const s=i.split("=");t.params[s[0]]=s[1]}}return e[6]&&(t.path=e[6]),e[7]&&(t.query=e[7].slice(1)),e[8]&&(t.fragment=e[8].slice(1)),t}return null}const O_={didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};function _B(n){return function(e,t,r){try{return Promise.resolve(kae(function(){return Promise.resolve(n(e,t,r)).then(function(i){return nr(vt({},O_),{didResolutionMetadata:{contentType:"application/did+ld+json"},didDocument:i})})},function(i){return nr(vt({},O_),{didResolutionMetadata:{error:"notFound",message:i.toString()}})}))}catch(i){return Promise.reject(i)}}}class $ae{constructor(e={},t={}){this.registry=void 0,this.cache=void 0,this.registry=e,this.cache=t.cache===!0?mB():t.cache||vB,t.legacyResolvers&&Object.keys(t.legacyResolvers).map(r=>{this.registry[r]||(this.registry[r]=_B(t.legacyResolvers[r]))})}resolve(e,t={}){try{const r=this,i=xB(e);if(i===null)return Promise.resolve(nr(vt({},O_),{didResolutionMetadata:{error:"invalidDid"}}));const s=r.registry[i.method];return s?Promise.resolve(r.cache(i,()=>s(i.did,i,r,t))):Promise.resolve(nr(vt({},O_),{didResolutionMetadata:{error:"unsupportedDidMethod"}}))}catch(r){return Promise.reject(r)}}}var Gae=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Resolver:$ae,inMemoryCache:mB,noCache:vB,parse:xB,wrapLegacyResolver:_B}),Hae=yr(Gae);function N_(n,e){e||(e=n.reduce((i,s)=>i+s.length,0));const t=new Uint8Array(e);let r=0;for(const i of n)t.set(i,r),r+=i.length;return t}function Vae(n,e){if(n.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var i=0;i<n.length;i++){var s=n.charAt(i),o=s.charCodeAt(0);if(t[o]!==255)throw new TypeError(s+" is ambiguous");t[o]=i}var u=n.length,l=n.charAt(0),c=Math.log(u)/Math.log(256),h=Math.log(256)/Math.log(u);function d(S){if(S instanceof Uint8Array||(ArrayBuffer.isView(S)?S=new Uint8Array(S.buffer,S.byteOffset,S.byteLength):Array.isArray(S)&&(S=Uint8Array.from(S))),!(S instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(S.length===0)return"";for(var w=0,T=0,x=0,E=S.length;x!==E&&S[x]===0;)x++,w++;for(var O=(E-x)*h+1>>>0,C=new Uint8Array(O);x!==E;){for(var N=S[x],$=0,M=O-1;(N!==0||$<T)&&M!==-1;M--,$++)N+=256*C[M]>>>0,C[M]=N%u>>>0,N=N/u>>>0;if(N!==0)throw new Error("Non-zero carry");T=$,x++}for(var L=O-T;L!==O&&C[L]===0;)L++;for(var V=l.repeat(w);L<O;++L)V+=n.charAt(C[L]);return V}function p(S){if(typeof S!="string")throw new TypeError("Expected String");if(S.length===0)return new Uint8Array;var w=0;if(S[w]!==" "){for(var T=0,x=0;S[w]===l;)T++,w++;for(var E=(S.length-w)*c+1>>>0,O=new Uint8Array(E);S[w];){var C=t[S.charCodeAt(w)];if(C===255)return;for(var N=0,$=E-1;(C!==0||N<x)&&$!==-1;$--,N++)C+=u*O[$]>>>0,O[$]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");x=N,w++}if(S[w]!==" "){for(var M=E-x;M!==E&&O[M]===0;)M++;for(var L=new Uint8Array(T+(E-M)),V=T;M!==E;)L[V++]=O[M++];return L}}}function v(S){var w=p(S);if(w)return w;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:p,decode:v}}var Wae=Vae,jae=Wae;const wB=new Uint8Array(0),qae=n=>n.reduce((e,t)=>e+t.toString(16).padStart(2,"0"),""),Xae=n=>{const e=n.match(/../g);return e?new Uint8Array(e.map(t=>parseInt(t,16))):wB},bB=(n,e)=>{if(n===e)return!0;if(n.byteLength!==e.byteLength)return!1;for(let t=0;t<n.byteLength;t++)if(n[t]!==e[t])return!1;return!0},nh=n=>{if(n instanceof Uint8Array&&n.constructor.name==="Uint8Array")return n;if(n instanceof ArrayBuffer)return new Uint8Array(n);if(ArrayBuffer.isView(n))return new Uint8Array(n.buffer,n.byteOffset,n.byteLength);throw new Error("Unknown type, must be binary type")},Yae=n=>n instanceof ArrayBuffer||ArrayBuffer.isView(n),SB=n=>new TextEncoder().encode(n),EB=n=>new TextDecoder().decode(n);var Jae=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",equals:bB,coerce:nh,isBinary:Yae,fromHex:Xae,toHex:qae,fromString:SB,toString:EB,empty:wB});class Kae{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Zae{constructor(e,t,r){this.name=e,this.prefix=t,this.baseDecode=r}decode(e){if(typeof e=="string")switch(e[0]){case this.prefix:return this.baseDecode(e.slice(1));default:throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)}else throw Error("Can only multibase decode strings")}or(e){const t=vt({[this.prefix]:this},e.decoders||{[e.prefix]:e});return new OA(t)}}class OA{constructor(e){this.decoders=e}or(e){const t=e.decoders||{[e.prefix]:e};return new OA(vt(vt({},this.decoders),t))}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}class Qae{constructor(e,t,r,i){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=i,this.encoder=new Kae(e,t,r),this.decoder=new Zae(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const NA=({name:n,prefix:e,encode:t,decode:r})=>new Qae(n,e,t,r),Og=({prefix:n,name:e,alphabet:t})=>{const{encode:r,decode:i}=jae(t,e);return NA({prefix:n,name:e,encode:r,decode:s=>nh(i(s))})},eue=(n,e,t,r)=>{const i={};for(let h=0;h<e.length;++h)i[e[h]]=h;let s=n.length;for(;n[s-1]==="=";)--s;const o=new Uint8Array(s*t/8|0);let u=0,l=0,c=0;for(let h=0;h<s;++h){const d=i[n[h]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);l=l<<t|d,u+=t,u>=8&&(u-=8,o[c++]=255&l>>u)}if(u>=t||255&l<<8-u)throw new SyntaxError("Unexpected end of data");return o},tue=(n,e,t)=>{const r=e[e.length-1]==="=",i=(1<<t)-1;let s="",o=0,u=0;for(let l=0;l<n.length;++l)for(u=u<<8|n[l],o+=8;o>t;)o-=t,s+=e[i&u>>o];if(o&&(s+=e[i&u<<t-o]),r)for(;s.length*t&7;)s+="=";return s},Ai=({name:n,prefix:e,bitsPerChar:t,alphabet:r})=>NA({prefix:e,name:n,encode(i){return tue(i,r,t)},decode(i){return eue(i,r,t,n)}}),nue=NA({prefix:"\0",name:"identity",encode:n=>EB(n),decode:n=>SB(n)});var rue=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",identity:nue});const iue=Ai({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var sue=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",base2:iue});const oue=Ai({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var aue=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",base8:oue});const uue=Og({prefix:"9",name:"base10",alphabet:"0123456789"});var lue=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",base10:uue});const cue=Ai({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),fue=Ai({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var hue=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",base16:cue,base16upper:fue});const Ng=Ai({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),due=Ai({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),pue=Ai({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),mue=Ai({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),vue=Ai({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),gue=Ai({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),yue=Ai({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),xue=Ai({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),_ue=Ai({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var wue=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",base32:Ng,base32upper:due,base32pad:pue,base32padupper:mue,base32hex:vue,base32hexupper:gue,base32hexpad:yue,base32hexpadupper:xue,base32z:_ue});const bue=Og({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Sue=Og({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Eue=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",base36:bue,base36upper:Sue});const ol=Og({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Mue=Og({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Due=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",base58btc:ol,base58flickr:Mue});const Aue=Ai({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Tue=Ai({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Cue=Ai({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Pue=Ai({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Rue=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",base64:Aue,base64pad:Tue,base64url:Cue,base64urlpad:Pue}),kue=DB,MB=128,Iue=127,Lue=~Iue,Fue=Math.pow(2,31);function DB(n,e,t){e=e||[],t=t||0;for(var r=t;n>=Fue;)e[t++]=n&255|MB,n/=128;for(;n&Lue;)e[t++]=n&255|MB,n>>>=7;return e[t]=n|0,DB.bytes=t-r+1,e}var Oue=UA,Nue=128,AB=127;function UA(n,e){var t=0,e=e||0,r=0,i=e,s,o=n.length;do{if(i>=o)throw UA.bytes=0,new RangeError("Could not decode varint");s=n[i++],t+=r<28?(s&AB)<<r:(s&AB)*Math.pow(2,r),r+=7}while(s>=Nue);return UA.bytes=i-e,t}var Uue=Math.pow(2,7),Bue=Math.pow(2,14),zue=Math.pow(2,21),$ue=Math.pow(2,28),Gue=Math.pow(2,35),Hue=Math.pow(2,42),Vue=Math.pow(2,49),Wue=Math.pow(2,56),jue=Math.pow(2,63),que=function(n){return n<Uue?1:n<Bue?2:n<zue?3:n<$ue?4:n<Gue?5:n<Hue?6:n<Vue?7:n<Wue?8:n<jue?9:10},Xue={encode:kue,decode:Oue,encodingLength:que},U_=Xue;const B_=n=>[U_.decode(n),U_.decode.bytes],Ug=(n,e,t=0)=>(U_.encode(n,e,t),e),Bg=n=>U_.encodingLength(n);var Yue=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",decode:B_,encodeTo:Ug,encodingLength:Bg});const BA=(n,e)=>{const t=e.byteLength,r=Bg(n),i=r+Bg(t),s=new Uint8Array(i+t);return Ug(n,s,0),Ug(t,s,r),s.set(e,i),new z_(n,t,e,s)},TB=n=>{const e=nh(n),[t,r]=B_(e),[i,s]=B_(e.subarray(r)),o=e.subarray(r+s);if(o.byteLength!==i)throw new Error("Incorrect length");return new z_(t,i,o,e)},CB=(n,e)=>n===e?!0:n.code===e.code&&n.size===e.size&&bB(n.bytes,e.bytes);class z_{constructor(e,t,r,i){this.code=e,this.size=t,this.digest=r,this.bytes=i}}var Jue=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",create:BA,decode:TB,equals:CB,Digest:z_});const $_=({name:n,code:e,encode:t})=>new PB(n,e,t);class PB{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}async digest(e){if(e instanceof Uint8Array){const t=await this.encode(e);return BA(this.code,t)}else throw Error("Unknown type, must be binary type")}}var Kue=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",from:$_,Hasher:PB});const RB=n=>async e=>new Uint8Array(await crypto.subtle.digest(n,e)),Zue=$_({name:"sha2-256",code:18,encode:RB("SHA-256")}),Que=$_({name:"sha2-512",code:19,encode:RB("SHA-512")});var ele=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",sha256:Zue,sha512:Que});const tle=$_({name:"identity",code:0,encode:n=>nh(n)});var nle=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",identity:tle});const rle="raw",ile=85,sle=n=>nh(n),ole=n=>nh(n);var ale=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",name:rle,code:ile,encode:sle,decode:ole});const ule=new TextEncoder,lle=new TextDecoder,cle="json",fle=512,hle=n=>ule.encode(JSON.stringify(n)),dle=n=>JSON.parse(lle.decode(n));var ple=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",name:cle,code:fle,encode:hle,decode:dle});class Zi{constructor(e,t,r,i){this.code=t,this.version=e,this.multihash=r,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:H_,byteLength:H_,code:G_,version:G_,multihash:G_,bytes:G_,_baseCache:H_,asCID:H_})}toV0(){switch(this.version){case 0:return this;default:{const{code:e,multihash:t}=this;if(e!==zg)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==yle)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Zi.createV0(t)}}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,r=BA(e,t);return Zi.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&CB(this.multihash,e.multihash)}toString(e){const{bytes:t,version:r,_baseCache:i}=this;switch(r){case 0:return vle(t,i,e||ol.encoder);default:return gle(t,i,e||Ng.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return _le(/^0\.0/,wle),!!(e&&(e[IB]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof Zi)return e;if(e!=null&&e.asCID===e){const{version:t,code:r,multihash:i,bytes:s}=e;return new Zi(t,r,i,s||kB(t,r,i.bytes))}else if(e!=null&&e[IB]===!0){const{version:t,multihash:r,code:i}=e,s=TB(r);return Zi.create(t,i,s)}else return null}static create(e,t,r){if(typeof t!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(t!==zg)throw new Error(`Version 0 CID must use dag-pb (code: ${zg}) block encoding`);return new Zi(e,t,r,r.bytes)}case 1:{const i=kB(e,t,r.bytes);return new Zi(e,t,r,i)}default:throw new Error("Invalid version")}}static createV0(e){return Zi.create(0,zg,e)}static createV1(e,t){return Zi.create(1,e,t)}static decode(e){const[t,r]=Zi.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=Zi.inspectBytes(e),r=t.size-t.multihashSize,i=nh(e.subarray(r,r+t.multihashSize));if(i.byteLength!==t.multihashSize)throw new Error("Incorrect length");const s=i.subarray(t.multihashSize-t.digestSize),o=new z_(t.multihashCode,t.digestSize,s,i);return[t.version===0?Zi.createV0(o):Zi.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0;const r=()=>{const[d,p]=B_(e.subarray(t));return t+=p,d};let i=r(),s=zg;if(i===18?(i=0,t=0):i===1&&(s=r()),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);const o=t,u=r(),l=r(),c=t+l,h=c-o;return{version:i,codec:s,multihashCode:u,digestSize:l,multihashSize:h,size:c}}static parse(e,t){const[r,i]=mle(e,t),s=Zi.decode(i);return s._baseCache.set(r,e),s}}const mle=(n,e)=>{switch(n[0]){case"Q":{const t=e||ol;return[ol.prefix,t.decode(`${ol.prefix}${n}`)]}case ol.prefix:{const t=e||ol;return[ol.prefix,t.decode(n)]}case Ng.prefix:{const t=e||Ng;return[Ng.prefix,t.decode(n)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[n[0],e.decode(n)]}}},vle=(n,e,t)=>{const{prefix:r}=t;if(r!==ol.prefix)throw Error(`Cannot string encode V0 in ${t.name} encoding`);const i=e.get(r);if(i==null){const s=t.encode(n).slice(1);return e.set(r,s),s}else return i},gle=(n,e,t)=>{const{prefix:r}=t,i=e.get(r);if(i==null){const s=t.encode(n);return e.set(r,s),s}else return i},zg=112,yle=18,kB=(n,e,t)=>{const r=Bg(n),i=r+Bg(e),s=new Uint8Array(i+t.byteLength);return Ug(n,s,0),Ug(e,s,r),s.set(t,i),s},IB=Symbol.for("@ipld/js-cid/CID"),G_={writable:!1,configurable:!1,enumerable:!0},H_={writable:!1,enumerable:!1,configurable:!1},xle="0.0.0-dev",_le=(n,e)=>{if(n.test(xle))console.warn(e);else throw new Error(e)},wle=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`,No=vt(vt(vt(vt(vt(vt(vt(vt(vt({},rue),sue),aue),lue),hue),wue),Eue),Due),Rue),ble=vt(vt({},ele),nle),Sle={raw:ale,json:ple};var Ele=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",CID:Zi,hasher:Kue,digest:Jue,varint:Yue,bytes:Jae,hashes:ble,bases:No,codecs:Sle});function LB(n,e,t,r){return{name:n,prefix:e,encoder:{name:n,prefix:e,encode:t},decoder:{decode:r}}}const FB=LB("utf8","u",n=>{const e=new TextDecoder("utf8");return"u"+e.decode(n)},n=>new TextEncoder().encode(n.substring(1))),zA=LB("ascii","a",n=>{let e="a";for(let t=0;t<n.length;t++)e+=String.fromCharCode(n[t]);return e},n=>{n=n.substring(1);const e=new Uint8Array(n.length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return e}),OB=vt({utf8:FB,"utf-8":FB,hex:No.base16,latin1:zA,ascii:zA,binary:zA},No);function _a(n,e="utf8"){const t=OB[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return t.decoder.decode(`${t.prefix}${n}`)}function V_(n,e="utf8"){const t=OB[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return t.encoder.encode(n).substring(1)}var bc={},dn={},NB={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(u,l){var c=u>>>16&65535,h=u&65535,d=l>>>16&65535,p=l&65535;return h*p+(c*p+h*d<<16>>>0)|0}n.mul=Math.imul||e;function t(u,l){return u+l|0}n.add=t;function r(u,l){return u-l|0}n.sub=r;function i(u,l){return u<<l|u>>>32-l}n.rotl=i;function s(u,l){return u<<32-l|u>>>l}n.rotr=s;function o(u){return typeof u=="number"&&isFinite(u)&&Math.floor(u)===u}n.isInteger=Number.isInteger||o,n.MAX_SAFE_INTEGER=9007199254740991,n.isSafeInteger=function(u){return n.isInteger(u)&&u>=-n.MAX_SAFE_INTEGER&&u<=n.MAX_SAFE_INTEGER}})(NB);Object.defineProperty(dn,"__esModule",{value:!0});var UB=NB;function Mle(n,e){return e===void 0&&(e=0),(n[e+0]<<8|n[e+1])<<16>>16}dn.readInt16BE=Mle;function Dle(n,e){return e===void 0&&(e=0),(n[e+0]<<8|n[e+1])>>>0}dn.readUint16BE=Dle;function Ale(n,e){return e===void 0&&(e=0),(n[e+1]<<8|n[e])<<16>>16}dn.readInt16LE=Ale;function Tle(n,e){return e===void 0&&(e=0),(n[e+1]<<8|n[e])>>>0}dn.readUint16LE=Tle;function BB(n,e,t){return e===void 0&&(e=new Uint8Array(2)),t===void 0&&(t=0),e[t+0]=n>>>8,e[t+1]=n>>>0,e}dn.writeUint16BE=BB;dn.writeInt16BE=BB;function zB(n,e,t){return e===void 0&&(e=new Uint8Array(2)),t===void 0&&(t=0),e[t+0]=n>>>0,e[t+1]=n>>>8,e}dn.writeUint16LE=zB;dn.writeInt16LE=zB;function $A(n,e){return e===void 0&&(e=0),n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3]}dn.readInt32BE=$A;function GA(n,e){return e===void 0&&(e=0),(n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3])>>>0}dn.readUint32BE=GA;function HA(n,e){return e===void 0&&(e=0),n[e+3]<<24|n[e+2]<<16|n[e+1]<<8|n[e]}dn.readInt32LE=HA;function VA(n,e){return e===void 0&&(e=0),(n[e+3]<<24|n[e+2]<<16|n[e+1]<<8|n[e])>>>0}dn.readUint32LE=VA;function W_(n,e,t){return e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0),e[t+0]=n>>>24,e[t+1]=n>>>16,e[t+2]=n>>>8,e[t+3]=n>>>0,e}dn.writeUint32BE=W_;dn.writeInt32BE=W_;function j_(n,e,t){return e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0),e[t+0]=n>>>0,e[t+1]=n>>>8,e[t+2]=n>>>16,e[t+3]=n>>>24,e}dn.writeUint32LE=j_;dn.writeInt32LE=j_;function Cle(n,e){e===void 0&&(e=0);var t=$A(n,e),r=$A(n,e+4);return t*4294967296+r-(r>>31)*4294967296}dn.readInt64BE=Cle;function Ple(n,e){e===void 0&&(e=0);var t=GA(n,e),r=GA(n,e+4);return t*4294967296+r}dn.readUint64BE=Ple;function Rle(n,e){e===void 0&&(e=0);var t=HA(n,e),r=HA(n,e+4);return r*4294967296+t-(t>>31)*4294967296}dn.readInt64LE=Rle;function kle(n,e){e===void 0&&(e=0);var t=VA(n,e),r=VA(n,e+4);return r*4294967296+t}dn.readUint64LE=kle;function $B(n,e,t){return e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0),W_(n/4294967296>>>0,e,t),W_(n>>>0,e,t+4),e}dn.writeUint64BE=$B;dn.writeInt64BE=$B;function GB(n,e,t){return e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0),j_(n>>>0,e,t),j_(n/4294967296>>>0,e,t+4),e}dn.writeUint64LE=GB;dn.writeInt64LE=GB;function Ile(n,e,t){if(t===void 0&&(t=0),n%8!=0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(n/8>e.length-t)throw new Error("readUintBE: array is too short for the given bitLength");for(var r=0,i=1,s=n/8+t-1;s>=t;s--)r+=e[s]*i,i*=256;return r}dn.readUintBE=Ile;function Lle(n,e,t){if(t===void 0&&(t=0),n%8!=0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(n/8>e.length-t)throw new Error("readUintLE: array is too short for the given bitLength");for(var r=0,i=1,s=t;s<t+n/8;s++)r+=e[s]*i,i*=256;return r}dn.readUintLE=Lle;function Fle(n,e,t,r){if(t===void 0&&(t=new Uint8Array(n/8)),r===void 0&&(r=0),n%8!=0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!UB.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var i=1,s=n/8+r-1;s>=r;s--)t[s]=e/i&255,i*=256;return t}dn.writeUintBE=Fle;function Ole(n,e,t,r){if(t===void 0&&(t=new Uint8Array(n/8)),r===void 0&&(r=0),n%8!=0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!UB.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var i=1,s=r;s<r+n/8;s++)t[s]=e/i&255,i*=256;return t}dn.writeUintLE=Ole;function Nle(n,e){e===void 0&&(e=0);var t=new DataView(n.buffer,n.byteOffset,n.byteLength);return t.getFloat32(e)}dn.readFloat32BE=Nle;function Ule(n,e){e===void 0&&(e=0);var t=new DataView(n.buffer,n.byteOffset,n.byteLength);return t.getFloat32(e,!0)}dn.readFloat32LE=Ule;function Ble(n,e){e===void 0&&(e=0);var t=new DataView(n.buffer,n.byteOffset,n.byteLength);return t.getFloat64(e)}dn.readFloat64BE=Ble;function zle(n,e){e===void 0&&(e=0);var t=new DataView(n.buffer,n.byteOffset,n.byteLength);return t.getFloat64(e,!0)}dn.readFloat64LE=zle;function $le(n,e,t){e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.setFloat32(t,n),e}dn.writeFloat32BE=$le;function Gle(n,e,t){e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.setFloat32(t,n,!0),e}dn.writeFloat32LE=Gle;function Hle(n,e,t){e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.setFloat64(t,n),e}dn.writeFloat64BE=Hle;function Vle(n,e,t){e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.setFloat64(t,n,!0),e}dn.writeFloat64LE=Vle;var co={};Object.defineProperty(co,"__esModule",{value:!0});function Wle(n){for(var e=0;e<n.length;e++)n[e]=0;return n}co.wipe=Wle;(function(n){Object.defineProperty(n,"__esModule",{value:!0});var e=dn,t=co;n.DIGEST_LENGTH=32,n.BLOCK_SIZE=64;var r=function(){function u(){this.digestLength=n.DIGEST_LENGTH,this.blockSize=n.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return u.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},u.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},u.prototype.clean=function(){t.wipe(this._buffer),t.wipe(this._temp),this.reset()},u.prototype.update=function(l,c){if(c===void 0&&(c=l.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var h=0;if(this._bytesHashed+=c,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&c>0;)this._buffer[this._bufferLength++]=l[h++],c--;this._bufferLength===this.blockSize&&(s(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(c>=this.blockSize&&(h=s(this._temp,this._state,l,h,c),c%=this.blockSize);c>0;)this._buffer[this._bufferLength++]=l[h++],c--;return this},u.prototype.finish=function(l){if(!this._finished){var c=this._bytesHashed,h=this._bufferLength,d=c/536870912|0,p=c<<3,v=c%64<56?64:128;this._buffer[h]=128;for(var S=h+1;S<v-8;S++)this._buffer[S]=0;e.writeUint32BE(d,this._buffer,v-8),e.writeUint32BE(p,this._buffer,v-4),s(this._temp,this._state,this._buffer,0,v),this._finished=!0}for(var S=0;S<this.digestLength/4;S++)e.writeUint32BE(this._state[S],l,S*4);return this},u.prototype.digest=function(){var l=new Uint8Array(this.digestLength);return this.finish(l),l},u.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},u.prototype.restoreState=function(l){return this._state.set(l.state),this._bufferLength=l.bufferLength,l.buffer&&this._buffer.set(l.buffer),this._bytesHashed=l.bytesHashed,this._finished=!1,this},u.prototype.cleanSavedState=function(l){t.wipe(l.state),l.buffer&&t.wipe(l.buffer),l.bufferLength=0,l.bytesHashed=0},u}();n.SHA256=r;var i=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function s(u,l,c,h,d){for(;d>=64;){for(var p=l[0],v=l[1],S=l[2],w=l[3],T=l[4],x=l[5],E=l[6],O=l[7],C=0;C<16;C++){var N=h+C*4;u[C]=e.readUint32BE(c,N)}for(var C=16;C<64;C++){var $=u[C-2],M=($>>>17|$<<32-17)^($>>>19|$<<32-19)^$>>>10;$=u[C-15];var L=($>>>7|$<<32-7)^($>>>18|$<<32-18)^$>>>3;u[C]=(M+u[C-7]|0)+(L+u[C-16]|0)}for(var C=0;C<64;C++){var M=(((T>>>6|T<<32-6)^(T>>>11|T<<32-11)^(T>>>25|T<<32-25))+(T&x^~T&E)|0)+(O+(i[C]+u[C]|0)|0)|0,L=((p>>>2|p<<32-2)^(p>>>13|p<<32-13)^(p>>>22|p<<32-22))+(p&v^p&S^v&S)|0;O=E,E=x,x=T,T=w+M|0,w=S,S=v,v=p,p=M+L|0}l[0]+=p,l[1]+=v,l[2]+=S,l[3]+=w,l[4]+=T,l[5]+=x,l[6]+=E,l[7]+=O,h+=64,d-=64}return h}function o(u){var l=new r;l.update(u);var c=l.digest();return l.clean(),c}n.hash=o})(bc);var WA={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(n){(function(){var e="input is invalid type",t="finalize already called",r=typeof window=="object",i=r?window:{};i.JS_SHA3_NO_WINDOW&&(r=!1);var s=!r&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?i=$e:s&&(i=self);var u=!i.JS_SHA3_NO_COMMON_JS&&!0&&n.exports,l=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer!="undefined",c="0123456789abcdef".split(""),h=[31,7936,2031616,520093696],d=[4,1024,262144,67108864],p=[1,256,65536,16777216],v=[6,1536,393216,100663296],S=[0,8,16,24],w=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],T=[224,256,384,512],x=[128,256],E=["hex","buffer","arrayBuffer","array","digest"],O={"128":168,"256":136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(J){return Object.prototype.toString.call(J)==="[object Array]"}),l&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(J){return typeof J=="object"&&J.buffer&&J.buffer.constructor===ArrayBuffer});for(var C=function(J,de,se){return function(ue){return new ne(J,de,J).update(ue)[se]()}},N=function(J,de,se){return function(ue,oe){return new ne(J,de,oe).update(ue)[se]()}},$=function(J,de,se){return function(ue,oe,W,ce){return P["cshake"+J].update(ue,oe,W,ce)[se]()}},M=function(J,de,se){return function(ue,oe,W,ce){return P["kmac"+J].update(ue,oe,W,ce)[se]()}},L=function(J,de,se,ue){for(var oe=0;oe<E.length;++oe){var W=E[oe];J[W]=de(se,ue,W)}return J},V=function(J,de){var se=C(J,de,"hex");return se.create=function(){return new ne(J,de,J)},se.update=function(ue){return se.create().update(ue)},L(se,C,J,de)},Z=function(J,de){var se=N(J,de,"hex");return se.create=function(ue){return new ne(J,de,ue)},se.update=function(ue,oe){return se.create(oe).update(ue)},L(se,N,J,de)},H=function(J,de){var se=O[J],ue=$(J,de,"hex");return ue.create=function(oe,W,ce){return!W&&!ce?P["shake"+J].create(oe):new ne(J,de,oe).bytepad([W,ce],se)},ue.update=function(oe,W,ce,ye){return ue.create(W,ce,ye).update(oe)},L(ue,$,J,de)},D=function(J,de){var se=O[J],ue=M(J,de,"hex");return ue.create=function(oe,W,ce){return new le(J,de,W).bytepad(["KMAC",ce],se).bytepad([oe],se)},ue.update=function(oe,W,ce,ye){return ue.create(oe,ce,ye).update(W)},L(ue,M,J,de)},R=[{name:"keccak",padding:p,bits:T,createMethod:V},{name:"sha3",padding:v,bits:T,createMethod:V},{name:"shake",padding:h,bits:x,createMethod:Z},{name:"cshake",padding:d,bits:x,createMethod:H},{name:"kmac",padding:d,bits:x,createMethod:D}],P={},F=[],z=0;z<R.length;++z)for(var j=R[z],B=j.bits,U=0;U<B.length;++U){var k=j.name+"_"+B[U];if(F.push(k),P[k]=j.createMethod(B[U],j.padding),j.name!=="sha3"){var G=j.name+B[U];F.push(G),P[G]=P[k]}}function ne(J,de,se){this.blocks=[],this.s=[],this.padding=de,this.outputBits=se,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(J<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=se>>5,this.extraBytes=(se&31)>>3;for(var ue=0;ue<50;++ue)this.s[ue]=0}ne.prototype.update=function(J){if(this.finalized)throw new Error(t);var de,se=typeof J;if(se!=="string"){if(se==="object"){if(J===null)throw new Error(e);if(l&&J.constructor===ArrayBuffer)J=new Uint8Array(J);else if(!Array.isArray(J)&&(!l||!ArrayBuffer.isView(J)))throw new Error(e)}else throw new Error(e);de=!0}for(var ue=this.blocks,oe=this.byteCount,W=J.length,ce=this.blockCount,ye=0,Te=this.s,Pe,Je;ye<W;){if(this.reset)for(this.reset=!1,ue[0]=this.block,Pe=1;Pe<ce+1;++Pe)ue[Pe]=0;if(de)for(Pe=this.start;ye<W&&Pe<oe;++ye)ue[Pe>>2]|=J[ye]<<S[Pe++&3];else for(Pe=this.start;ye<W&&Pe<oe;++ye)Je=J.charCodeAt(ye),Je<128?ue[Pe>>2]|=Je<<S[Pe++&3]:Je<2048?(ue[Pe>>2]|=(192|Je>>6)<<S[Pe++&3],ue[Pe>>2]|=(128|Je&63)<<S[Pe++&3]):Je<55296||Je>=57344?(ue[Pe>>2]|=(224|Je>>12)<<S[Pe++&3],ue[Pe>>2]|=(128|Je>>6&63)<<S[Pe++&3],ue[Pe>>2]|=(128|Je&63)<<S[Pe++&3]):(Je=65536+((Je&1023)<<10|J.charCodeAt(++ye)&1023),ue[Pe>>2]|=(240|Je>>18)<<S[Pe++&3],ue[Pe>>2]|=(128|Je>>12&63)<<S[Pe++&3],ue[Pe>>2]|=(128|Je>>6&63)<<S[Pe++&3],ue[Pe>>2]|=(128|Je&63)<<S[Pe++&3]);if(this.lastByteIndex=Pe,Pe>=oe){for(this.start=Pe-oe,this.block=ue[ce],Pe=0;Pe<ce;++Pe)Te[Pe]^=ue[Pe];ee(Te),this.reset=!0}else this.start=Pe}return this},ne.prototype.encode=function(J,de){var se=J&255,ue=1,oe=[se];for(J=J>>8,se=J&255;se>0;)oe.unshift(se),J=J>>8,se=J&255,++ue;return de?oe.push(ue):oe.unshift(ue),this.update(oe),oe.length},ne.prototype.encodeString=function(J){var de,se=typeof J;if(se!=="string"){if(se==="object"){if(J===null)throw new Error(e);if(l&&J.constructor===ArrayBuffer)J=new Uint8Array(J);else if(!Array.isArray(J)&&(!l||!ArrayBuffer.isView(J)))throw new Error(e)}else throw new Error(e);de=!0}var ue=0,oe=J.length;if(de)ue=oe;else for(var W=0;W<J.length;++W){var ce=J.charCodeAt(W);ce<128?ue+=1:ce<2048?ue+=2:ce<55296||ce>=57344?ue+=3:(ce=65536+((ce&1023)<<10|J.charCodeAt(++W)&1023),ue+=4)}return ue+=this.encode(ue*8),this.update(J),ue},ne.prototype.bytepad=function(J,de){for(var se=this.encode(de),ue=0;ue<J.length;++ue)se+=this.encodeString(J[ue]);var oe=de-se%de,W=[];return W.length=oe,this.update(W),this},ne.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var J=this.blocks,de=this.lastByteIndex,se=this.blockCount,ue=this.s;if(J[de>>2]|=this.padding[de&3],this.lastByteIndex===this.byteCount)for(J[0]=J[se],de=1;de<se+1;++de)J[de]=0;for(J[se-1]|=2147483648,de=0;de<se;++de)ue[de]^=J[de];ee(ue)}},ne.prototype.toString=ne.prototype.hex=function(){this.finalize();for(var J=this.blockCount,de=this.s,se=this.outputBlocks,ue=this.extraBytes,oe=0,W=0,ce="",ye;W<se;){for(oe=0;oe<J&&W<se;++oe,++W)ye=de[oe],ce+=c[ye>>4&15]+c[ye&15]+c[ye>>12&15]+c[ye>>8&15]+c[ye>>20&15]+c[ye>>16&15]+c[ye>>28&15]+c[ye>>24&15];W%J==0&&(ee(de),oe=0)}return ue&&(ye=de[oe],ce+=c[ye>>4&15]+c[ye&15],ue>1&&(ce+=c[ye>>12&15]+c[ye>>8&15]),ue>2&&(ce+=c[ye>>20&15]+c[ye>>16&15])),ce},ne.prototype.arrayBuffer=function(){this.finalize();var J=this.blockCount,de=this.s,se=this.outputBlocks,ue=this.extraBytes,oe=0,W=0,ce=this.outputBits>>3,ye;ue?ye=new ArrayBuffer(se+1<<2):ye=new ArrayBuffer(ce);for(var Te=new Uint32Array(ye);W<se;){for(oe=0;oe<J&&W<se;++oe,++W)Te[W]=de[oe];W%J==0&&ee(de)}return ue&&(Te[oe]=de[oe],ye=ye.slice(0,ce)),ye},ne.prototype.buffer=ne.prototype.arrayBuffer,ne.prototype.digest=ne.prototype.array=function(){this.finalize();for(var J=this.blockCount,de=this.s,se=this.outputBlocks,ue=this.extraBytes,oe=0,W=0,ce=[],ye,Te;W<se;){for(oe=0;oe<J&&W<se;++oe,++W)ye=W<<2,Te=de[oe],ce[ye]=Te&255,ce[ye+1]=Te>>8&255,ce[ye+2]=Te>>16&255,ce[ye+3]=Te>>24&255;W%J==0&&ee(de)}return ue&&(ye=W<<2,Te=de[oe],ce[ye]=Te&255,ue>1&&(ce[ye+1]=Te>>8&255),ue>2&&(ce[ye+2]=Te>>16&255)),ce};function le(J,de,se){ne.call(this,J,de,se)}le.prototype=new ne,le.prototype.finalize=function(){return this.encode(this.outputBits,!0),ne.prototype.finalize.call(this)};var ee=function(J){var de,se,ue,oe,W,ce,ye,Te,Pe,Je,ie,K,q,he,Se,te,re,Me,Ce,Ae,Oe,ge,Ne,ze,ae,Ue,Ye,He,Be,Ze,Ve,ot,kt,lt,_t,nn,It,Gt,Ot,mt,gt,Ct,dt,Mt,Dt,yt,pt,Nt,pe,Re,We,ke,Le,At,rt,ht,it,$t,zt,Wt,un,Jt,sn;for(ue=0;ue<48;ue+=2)oe=J[0]^J[10]^J[20]^J[30]^J[40],W=J[1]^J[11]^J[21]^J[31]^J[41],ce=J[2]^J[12]^J[22]^J[32]^J[42],ye=J[3]^J[13]^J[23]^J[33]^J[43],Te=J[4]^J[14]^J[24]^J[34]^J[44],Pe=J[5]^J[15]^J[25]^J[35]^J[45],Je=J[6]^J[16]^J[26]^J[36]^J[46],ie=J[7]^J[17]^J[27]^J[37]^J[47],K=J[8]^J[18]^J[28]^J[38]^J[48],q=J[9]^J[19]^J[29]^J[39]^J[49],de=K^(ce<<1|ye>>>31),se=q^(ye<<1|ce>>>31),J[0]^=de,J[1]^=se,J[10]^=de,J[11]^=se,J[20]^=de,J[21]^=se,J[30]^=de,J[31]^=se,J[40]^=de,J[41]^=se,de=oe^(Te<<1|Pe>>>31),se=W^(Pe<<1|Te>>>31),J[2]^=de,J[3]^=se,J[12]^=de,J[13]^=se,J[22]^=de,J[23]^=se,J[32]^=de,J[33]^=se,J[42]^=de,J[43]^=se,de=ce^(Je<<1|ie>>>31),se=ye^(ie<<1|Je>>>31),J[4]^=de,J[5]^=se,J[14]^=de,J[15]^=se,J[24]^=de,J[25]^=se,J[34]^=de,J[35]^=se,J[44]^=de,J[45]^=se,de=Te^(K<<1|q>>>31),se=Pe^(q<<1|K>>>31),J[6]^=de,J[7]^=se,J[16]^=de,J[17]^=se,J[26]^=de,J[27]^=se,J[36]^=de,J[37]^=se,J[46]^=de,J[47]^=se,de=Je^(oe<<1|W>>>31),se=ie^(W<<1|oe>>>31),J[8]^=de,J[9]^=se,J[18]^=de,J[19]^=se,J[28]^=de,J[29]^=se,J[38]^=de,J[39]^=se,J[48]^=de,J[49]^=se,he=J[0],Se=J[1],yt=J[11]<<4|J[10]>>>28,pt=J[10]<<4|J[11]>>>28,He=J[20]<<3|J[21]>>>29,Be=J[21]<<3|J[20]>>>29,Wt=J[31]<<9|J[30]>>>23,un=J[30]<<9|J[31]>>>23,Ct=J[40]<<18|J[41]>>>14,dt=J[41]<<18|J[40]>>>14,lt=J[2]<<1|J[3]>>>31,_t=J[3]<<1|J[2]>>>31,te=J[13]<<12|J[12]>>>20,re=J[12]<<12|J[13]>>>20,Nt=J[22]<<10|J[23]>>>22,pe=J[23]<<10|J[22]>>>22,Ze=J[33]<<13|J[32]>>>19,Ve=J[32]<<13|J[33]>>>19,Jt=J[42]<<2|J[43]>>>30,sn=J[43]<<2|J[42]>>>30,At=J[5]<<30|J[4]>>>2,rt=J[4]<<30|J[5]>>>2,nn=J[14]<<6|J[15]>>>26,It=J[15]<<6|J[14]>>>26,Me=J[25]<<11|J[24]>>>21,Ce=J[24]<<11|J[25]>>>21,Re=J[34]<<15|J[35]>>>17,We=J[35]<<15|J[34]>>>17,ot=J[45]<<29|J[44]>>>3,kt=J[44]<<29|J[45]>>>3,ze=J[6]<<28|J[7]>>>4,ae=J[7]<<28|J[6]>>>4,ht=J[17]<<23|J[16]>>>9,it=J[16]<<23|J[17]>>>9,Gt=J[26]<<25|J[27]>>>7,Ot=J[27]<<25|J[26]>>>7,Ae=J[36]<<21|J[37]>>>11,Oe=J[37]<<21|J[36]>>>11,ke=J[47]<<24|J[46]>>>8,Le=J[46]<<24|J[47]>>>8,Mt=J[8]<<27|J[9]>>>5,Dt=J[9]<<27|J[8]>>>5,Ue=J[18]<<20|J[19]>>>12,Ye=J[19]<<20|J[18]>>>12,$t=J[29]<<7|J[28]>>>25,zt=J[28]<<7|J[29]>>>25,mt=J[38]<<8|J[39]>>>24,gt=J[39]<<8|J[38]>>>24,ge=J[48]<<14|J[49]>>>18,Ne=J[49]<<14|J[48]>>>18,J[0]=he^~te&Me,J[1]=Se^~re&Ce,J[10]=ze^~Ue&He,J[11]=ae^~Ye&Be,J[20]=lt^~nn&Gt,J[21]=_t^~It&Ot,J[30]=Mt^~yt&Nt,J[31]=Dt^~pt&pe,J[40]=At^~ht&$t,J[41]=rt^~it&zt,J[2]=te^~Me&Ae,J[3]=re^~Ce&Oe,J[12]=Ue^~He&Ze,J[13]=Ye^~Be&Ve,J[22]=nn^~Gt&mt,J[23]=It^~Ot&gt,J[32]=yt^~Nt&Re,J[33]=pt^~pe&We,J[42]=ht^~$t&Wt,J[43]=it^~zt&un,J[4]=Me^~Ae&ge,J[5]=Ce^~Oe&Ne,J[14]=He^~Ze&ot,J[15]=Be^~Ve&kt,J[24]=Gt^~mt&Ct,J[25]=Ot^~gt&dt,J[34]=Nt^~Re&ke,J[35]=pe^~We&Le,J[44]=$t^~Wt&Jt,J[45]=zt^~un&sn,J[6]=Ae^~ge&he,J[7]=Oe^~Ne&Se,J[16]=Ze^~ot&ze,J[17]=Ve^~kt&ae,J[26]=mt^~Ct&lt,J[27]=gt^~dt&_t,J[36]=Re^~ke&Mt,J[37]=We^~Le&Dt,J[46]=Wt^~Jt&At,J[47]=un^~sn&rt,J[8]=ge^~he&te,J[9]=Ne^~Se&re,J[18]=ot^~ze&Ue,J[19]=kt^~ae&Ye,J[28]=Ct^~lt&nn,J[29]=dt^~_t&It,J[38]=ke^~Mt&yt,J[39]=Le^~Dt&pt,J[48]=Jt^~At&ht,J[49]=sn^~rt&it,J[0]^=w[ue],J[1]^=w[ue+1]};if(u)n.exports=P;else for(z=0;z<F.length;++z)i[F[z]]=P[F[z]]})()})(WA);var jA={};const jle="elliptic",qle="6.5.4",Xle="EC cryptography",Yle="lib/elliptic.js",Jle=["lib"],Kle={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},Zle={type:"git",url:"git@github.com:indutny/elliptic"},Qle=["EC","Elliptic","curve","Cryptography"],ece="Fedor Indutny <fedor@indutny.com>",tce="MIT",nce={url:"https://github.com/indutny/elliptic/issues"},rce="https://github.com/indutny/elliptic",ice={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},sce={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"};var oce={name:jle,version:qle,description:Xle,main:Yle,files:Jle,scripts:Kle,repository:Zle,keywords:Qle,author:ece,license:tce,bugs:nce,homepage:rce,devDependencies:ice,dependencies:sce},fo={},fu={exports:{}};(function(n){(function(e,t){function r(H,D){if(!H)throw new Error(D||"Assertion failed")}function i(H,D){H.super_=D;var R=function(){};R.prototype=D.prototype,H.prototype=new R,H.prototype.constructor=H}function s(H,D,R){if(s.isBN(H))return H;this.negative=0,this.words=null,this.length=0,this.red=null,H!==null&&((D==="le"||D==="be")&&(R=D,D=10),this._init(H||0,D||10,R||"be"))}typeof e=="object"?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?o=window.Buffer:o=require("buffer").Buffer}catch{}s.isBN=function(D){return D instanceof s?!0:D!==null&&typeof D=="object"&&D.constructor.wordSize===s.wordSize&&Array.isArray(D.words)},s.max=function(D,R){return D.cmp(R)>0?D:R},s.min=function(D,R){return D.cmp(R)<0?D:R},s.prototype._init=function(D,R,P){if(typeof D=="number")return this._initNumber(D,R,P);if(typeof D=="object")return this._initArray(D,R,P);R==="hex"&&(R=16),r(R===(R|0)&&R>=2&&R<=36),D=D.toString().replace(/\s+/g,"");var F=0;D[0]==="-"&&(F++,this.negative=1),F<D.length&&(R===16?this._parseHex(D,F,P):(this._parseBase(D,R,F),P==="le"&&this._initArray(this.toArray(),R,P)))},s.prototype._initNumber=function(D,R,P){D<0&&(this.negative=1,D=-D),D<67108864?(this.words=[D&67108863],this.length=1):D<4503599627370496?(this.words=[D&67108863,D/67108864&67108863],this.length=2):(r(D<9007199254740992),this.words=[D&67108863,D/67108864&67108863,1],this.length=3),P==="le"&&this._initArray(this.toArray(),R,P)},s.prototype._initArray=function(D,R,P){if(r(typeof D.length=="number"),D.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(D.length/3),this.words=new Array(this.length);for(var F=0;F<this.length;F++)this.words[F]=0;var z,j,B=0;if(P==="be")for(F=D.length-1,z=0;F>=0;F-=3)j=D[F]|D[F-1]<<8|D[F-2]<<16,this.words[z]|=j<<B&67108863,this.words[z+1]=j>>>26-B&67108863,B+=24,B>=26&&(B-=26,z++);else if(P==="le")for(F=0,z=0;F<D.length;F+=3)j=D[F]|D[F+1]<<8|D[F+2]<<16,this.words[z]|=j<<B&67108863,this.words[z+1]=j>>>26-B&67108863,B+=24,B>=26&&(B-=26,z++);return this.strip()};function u(H,D){var R=H.charCodeAt(D);return R>=65&&R<=70?R-55:R>=97&&R<=102?R-87:R-48&15}function l(H,D,R){var P=u(H,R);return R-1>=D&&(P|=u(H,R-1)<<4),P}s.prototype._parseHex=function(D,R,P){this.length=Math.ceil((D.length-R)/6),this.words=new Array(this.length);for(var F=0;F<this.length;F++)this.words[F]=0;var z=0,j=0,B;if(P==="be")for(F=D.length-1;F>=R;F-=2)B=l(D,R,F)<<z,this.words[j]|=B&67108863,z>=18?(z-=18,j+=1,this.words[j]|=B>>>26):z+=8;else{var U=D.length-R;for(F=U%2==0?R+1:R;F<D.length;F+=2)B=l(D,R,F)<<z,this.words[j]|=B&67108863,z>=18?(z-=18,j+=1,this.words[j]|=B>>>26):z+=8}this.strip()};function c(H,D,R,P){for(var F=0,z=Math.min(H.length,R),j=D;j<z;j++){var B=H.charCodeAt(j)-48;F*=P,B>=49?F+=B-49+10:B>=17?F+=B-17+10:F+=B}return F}s.prototype._parseBase=function(D,R,P){this.words=[0],this.length=1;for(var F=0,z=1;z<=67108863;z*=R)F++;F--,z=z/R|0;for(var j=D.length-P,B=j%F,U=Math.min(j,j-B)+P,k=0,G=P;G<U;G+=F)k=c(D,G,G+F,R),this.imuln(z),this.words[0]+k<67108864?this.words[0]+=k:this._iaddn(k);if(B!==0){var ne=1;for(k=c(D,G,D.length,R),G=0;G<B;G++)ne*=R;this.imuln(ne),this.words[0]+k<67108864?this.words[0]+=k:this._iaddn(k)}this.strip()},s.prototype.copy=function(D){D.words=new Array(this.length);for(var R=0;R<this.length;R++)D.words[R]=this.words[R];D.length=this.length,D.negative=this.negative,D.red=this.red},s.prototype.clone=function(){var D=new s(null);return this.copy(D),D},s.prototype._expand=function(D){for(;this.length<D;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(D,R){D=D||10,R=R|0||1;var P;if(D===16||D==="hex"){P="";for(var F=0,z=0,j=0;j<this.length;j++){var B=this.words[j],U=((B<<F|z)&16777215).toString(16);z=B>>>24-F&16777215,z!==0||j!==this.length-1?P=h[6-U.length]+U+P:P=U+P,F+=2,F>=26&&(F-=26,j--)}for(z!==0&&(P=z.toString(16)+P);P.length%R!=0;)P="0"+P;return this.negative!==0&&(P="-"+P),P}if(D===(D|0)&&D>=2&&D<=36){var k=d[D],G=p[D];P="";var ne=this.clone();for(ne.negative=0;!ne.isZero();){var le=ne.modn(G).toString(D);ne=ne.idivn(G),ne.isZero()?P=le+P:P=h[k-le.length]+le+P}for(this.isZero()&&(P="0"+P);P.length%R!=0;)P="0"+P;return this.negative!==0&&(P="-"+P),P}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var D=this.words[0];return this.length===2?D+=this.words[1]*67108864:this.length===3&&this.words[2]===1?D+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-D:D},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(D,R){return r(typeof o!="undefined"),this.toArrayLike(o,D,R)},s.prototype.toArray=function(D,R){return this.toArrayLike(Array,D,R)},s.prototype.toArrayLike=function(D,R,P){var F=this.byteLength(),z=P||Math.max(1,F);r(F<=z,"byte array longer than desired length"),r(z>0,"Requested array length <= 0"),this.strip();var j=R==="le",B=new D(z),U,k,G=this.clone();if(j){for(k=0;!G.isZero();k++)U=G.andln(255),G.iushrn(8),B[k]=U;for(;k<z;k++)B[k]=0}else{for(k=0;k<z-F;k++)B[k]=0;for(k=0;!G.isZero();k++)U=G.andln(255),G.iushrn(8),B[z-k-1]=U}return B},Math.clz32?s.prototype._countBits=function(D){return 32-Math.clz32(D)}:s.prototype._countBits=function(D){var R=D,P=0;return R>=4096&&(P+=13,R>>>=13),R>=64&&(P+=7,R>>>=7),R>=8&&(P+=4,R>>>=4),R>=2&&(P+=2,R>>>=2),P+R},s.prototype._zeroBits=function(D){if(D===0)return 26;var R=D,P=0;return(R&8191)==0&&(P+=13,R>>>=13),(R&127)==0&&(P+=7,R>>>=7),(R&15)==0&&(P+=4,R>>>=4),(R&3)==0&&(P+=2,R>>>=2),(R&1)==0&&P++,P},s.prototype.bitLength=function(){var D=this.words[this.length-1],R=this._countBits(D);return(this.length-1)*26+R};function v(H){for(var D=new Array(H.bitLength()),R=0;R<D.length;R++){var P=R/26|0,F=R%26;D[R]=(H.words[P]&1<<F)>>>F}return D}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var D=0,R=0;R<this.length;R++){var P=this._zeroBits(this.words[R]);if(D+=P,P!==26)break}return D},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(D){return this.negative!==0?this.abs().inotn(D).iaddn(1):this.clone()},s.prototype.fromTwos=function(D){return this.testn(D-1)?this.notn(D).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(D){for(;this.length<D.length;)this.words[this.length++]=0;for(var R=0;R<D.length;R++)this.words[R]=this.words[R]|D.words[R];return this.strip()},s.prototype.ior=function(D){return r((this.negative|D.negative)==0),this.iuor(D)},s.prototype.or=function(D){return this.length>D.length?this.clone().ior(D):D.clone().ior(this)},s.prototype.uor=function(D){return this.length>D.length?this.clone().iuor(D):D.clone().iuor(this)},s.prototype.iuand=function(D){var R;this.length>D.length?R=D:R=this;for(var P=0;P<R.length;P++)this.words[P]=this.words[P]&D.words[P];return this.length=R.length,this.strip()},s.prototype.iand=function(D){return r((this.negative|D.negative)==0),this.iuand(D)},s.prototype.and=function(D){return this.length>D.length?this.clone().iand(D):D.clone().iand(this)},s.prototype.uand=function(D){return this.length>D.length?this.clone().iuand(D):D.clone().iuand(this)},s.prototype.iuxor=function(D){var R,P;this.length>D.length?(R=this,P=D):(R=D,P=this);for(var F=0;F<P.length;F++)this.words[F]=R.words[F]^P.words[F];if(this!==R)for(;F<R.length;F++)this.words[F]=R.words[F];return this.length=R.length,this.strip()},s.prototype.ixor=function(D){return r((this.negative|D.negative)==0),this.iuxor(D)},s.prototype.xor=function(D){return this.length>D.length?this.clone().ixor(D):D.clone().ixor(this)},s.prototype.uxor=function(D){return this.length>D.length?this.clone().iuxor(D):D.clone().iuxor(this)},s.prototype.inotn=function(D){r(typeof D=="number"&&D>=0);var R=Math.ceil(D/26)|0,P=D%26;this._expand(R),P>0&&R--;for(var F=0;F<R;F++)this.words[F]=~this.words[F]&67108863;return P>0&&(this.words[F]=~this.words[F]&67108863>>26-P),this.strip()},s.prototype.notn=function(D){return this.clone().inotn(D)},s.prototype.setn=function(D,R){r(typeof D=="number"&&D>=0);var P=D/26|0,F=D%26;return this._expand(P+1),R?this.words[P]=this.words[P]|1<<F:this.words[P]=this.words[P]&~(1<<F),this.strip()},s.prototype.iadd=function(D){var R;if(this.negative!==0&&D.negative===0)return this.negative=0,R=this.isub(D),this.negative^=1,this._normSign();if(this.negative===0&&D.negative!==0)return D.negative=0,R=this.isub(D),D.negative=1,R._normSign();var P,F;this.length>D.length?(P=this,F=D):(P=D,F=this);for(var z=0,j=0;j<F.length;j++)R=(P.words[j]|0)+(F.words[j]|0)+z,this.words[j]=R&67108863,z=R>>>26;for(;z!==0&&j<P.length;j++)R=(P.words[j]|0)+z,this.words[j]=R&67108863,z=R>>>26;if(this.length=P.length,z!==0)this.words[this.length]=z,this.length++;else if(P!==this)for(;j<P.length;j++)this.words[j]=P.words[j];return this},s.prototype.add=function(D){var R;return D.negative!==0&&this.negative===0?(D.negative=0,R=this.sub(D),D.negative^=1,R):D.negative===0&&this.negative!==0?(this.negative=0,R=D.sub(this),this.negative=1,R):this.length>D.length?this.clone().iadd(D):D.clone().iadd(this)},s.prototype.isub=function(D){if(D.negative!==0){D.negative=0;var R=this.iadd(D);return D.negative=1,R._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(D),this.negative=1,this._normSign();var P=this.cmp(D);if(P===0)return this.negative=0,this.length=1,this.words[0]=0,this;var F,z;P>0?(F=this,z=D):(F=D,z=this);for(var j=0,B=0;B<z.length;B++)R=(F.words[B]|0)-(z.words[B]|0)+j,j=R>>26,this.words[B]=R&67108863;for(;j!==0&&B<F.length;B++)R=(F.words[B]|0)+j,j=R>>26,this.words[B]=R&67108863;if(j===0&&B<F.length&&F!==this)for(;B<F.length;B++)this.words[B]=F.words[B];return this.length=Math.max(this.length,B),F!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(D){return this.clone().isub(D)};function S(H,D,R){R.negative=D.negative^H.negative;var P=H.length+D.length|0;R.length=P,P=P-1|0;var F=H.words[0]|0,z=D.words[0]|0,j=F*z,B=j&67108863,U=j/67108864|0;R.words[0]=B;for(var k=1;k<P;k++){for(var G=U>>>26,ne=U&67108863,le=Math.min(k,D.length-1),ee=Math.max(0,k-H.length+1);ee<=le;ee++){var J=k-ee|0;F=H.words[J]|0,z=D.words[ee]|0,j=F*z+ne,G+=j/67108864|0,ne=j&67108863}R.words[k]=ne|0,U=G|0}return U!==0?R.words[k]=U|0:R.length--,R.strip()}var w=function(D,R,P){var F=D.words,z=R.words,j=P.words,B=0,U,k,G,ne=F[0]|0,le=ne&8191,ee=ne>>>13,J=F[1]|0,de=J&8191,se=J>>>13,ue=F[2]|0,oe=ue&8191,W=ue>>>13,ce=F[3]|0,ye=ce&8191,Te=ce>>>13,Pe=F[4]|0,Je=Pe&8191,ie=Pe>>>13,K=F[5]|0,q=K&8191,he=K>>>13,Se=F[6]|0,te=Se&8191,re=Se>>>13,Me=F[7]|0,Ce=Me&8191,Ae=Me>>>13,Oe=F[8]|0,ge=Oe&8191,Ne=Oe>>>13,ze=F[9]|0,ae=ze&8191,Ue=ze>>>13,Ye=z[0]|0,He=Ye&8191,Be=Ye>>>13,Ze=z[1]|0,Ve=Ze&8191,ot=Ze>>>13,kt=z[2]|0,lt=kt&8191,_t=kt>>>13,nn=z[3]|0,It=nn&8191,Gt=nn>>>13,Ot=z[4]|0,mt=Ot&8191,gt=Ot>>>13,Ct=z[5]|0,dt=Ct&8191,Mt=Ct>>>13,Dt=z[6]|0,yt=Dt&8191,pt=Dt>>>13,Nt=z[7]|0,pe=Nt&8191,Re=Nt>>>13,We=z[8]|0,ke=We&8191,Le=We>>>13,At=z[9]|0,rt=At&8191,ht=At>>>13;P.negative=D.negative^R.negative,P.length=19,U=Math.imul(le,He),k=Math.imul(le,Be),k=k+Math.imul(ee,He)|0,G=Math.imul(ee,Be);var it=(B+U|0)+((k&8191)<<13)|0;B=(G+(k>>>13)|0)+(it>>>26)|0,it&=67108863,U=Math.imul(de,He),k=Math.imul(de,Be),k=k+Math.imul(se,He)|0,G=Math.imul(se,Be),U=U+Math.imul(le,Ve)|0,k=k+Math.imul(le,ot)|0,k=k+Math.imul(ee,Ve)|0,G=G+Math.imul(ee,ot)|0;var $t=(B+U|0)+((k&8191)<<13)|0;B=(G+(k>>>13)|0)+($t>>>26)|0,$t&=67108863,U=Math.imul(oe,He),k=Math.imul(oe,Be),k=k+Math.imul(W,He)|0,G=Math.imul(W,Be),U=U+Math.imul(de,Ve)|0,k=k+Math.imul(de,ot)|0,k=k+Math.imul(se,Ve)|0,G=G+Math.imul(se,ot)|0,U=U+Math.imul(le,lt)|0,k=k+Math.imul(le,_t)|0,k=k+Math.imul(ee,lt)|0,G=G+Math.imul(ee,_t)|0;var zt=(B+U|0)+((k&8191)<<13)|0;B=(G+(k>>>13)|0)+(zt>>>26)|0,zt&=67108863,U=Math.imul(ye,He),k=Math.imul(ye,Be),k=k+Math.imul(Te,He)|0,G=Math.imul(Te,Be),U=U+Math.imul(oe,Ve)|0,k=k+Math.imul(oe,ot)|0,k=k+Math.imul(W,Ve)|0,G=G+Math.imul(W,ot)|0,U=U+Math.imul(de,lt)|0,k=k+Math.imul(de,_t)|0,k=k+Math.imul(se,lt)|0,G=G+Math.imul(se,_t)|0,U=U+Math.imul(le,It)|0,k=k+Math.imul(le,Gt)|0,k=k+Math.imul(ee,It)|0,G=G+Math.imul(ee,Gt)|0;var Wt=(B+U|0)+((k&8191)<<13)|0;B=(G+(k>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,U=Math.imul(Je,He),k=Math.imul(Je,Be),k=k+Math.imul(ie,He)|0,G=Math.imul(ie,Be),U=U+Math.imul(ye,Ve)|0,k=k+Math.imul(ye,ot)|0,k=k+Math.imul(Te,Ve)|0,G=G+Math.imul(Te,ot)|0,U=U+Math.imul(oe,lt)|0,k=k+Math.imul(oe,_t)|0,k=k+Math.imul(W,lt)|0,G=G+Math.imul(W,_t)|0,U=U+Math.imul(de,It)|0,k=k+Math.imul(de,Gt)|0,k=k+Math.imul(se,It)|0,G=G+Math.imul(se,Gt)|0,U=U+Math.imul(le,mt)|0,k=k+Math.imul(le,gt)|0,k=k+Math.imul(ee,mt)|0,G=G+Math.imul(ee,gt)|0;var un=(B+U|0)+((k&8191)<<13)|0;B=(G+(k>>>13)|0)+(un>>>26)|0,un&=67108863,U=Math.imul(q,He),k=Math.imul(q,Be),k=k+Math.imul(he,He)|0,G=Math.imul(he,Be),U=U+Math.imul(Je,Ve)|0,k=k+Math.imul(Je,ot)|0,k=k+Math.imul(ie,Ve)|0,G=G+Math.imul(ie,ot)|0,U=U+Math.imul(ye,lt)|0,k=k+Math.imul(ye,_t)|0,k=k+Math.imul(Te,lt)|0,G=G+Math.imul(Te,_t)|0,U=U+Math.imul(oe,It)|0,k=k+Math.imul(oe,Gt)|0,k=k+Math.imul(W,It)|0,G=G+Math.imul(W,Gt)|0,U=U+Math.imul(de,mt)|0,k=k+Math.imul(de,gt)|0,k=k+Math.imul(se,mt)|0,G=G+Math.imul(se,gt)|0,U=U+Math.imul(le,dt)|0,k=k+Math.imul(le,Mt)|0,k=k+Math.imul(ee,dt)|0,G=G+Math.imul(ee,Mt)|0;var Jt=(B+U|0)+((k&8191)<<13)|0;B=(G+(k>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,U=Math.imul(te,He),k=Math.imul(te,Be),k=k+Math.imul(re,He)|0,G=Math.imul(re,Be),U=U+Math.imul(q,Ve)|0,k=k+Math.imul(q,ot)|0,k=k+Math.imul(he,Ve)|0,G=G+Math.imul(he,ot)|0,U=U+Math.imul(Je,lt)|0,k=k+Math.imul(Je,_t)|0,k=k+Math.imul(ie,lt)|0,G=G+Math.imul(ie,_t)|0,U=U+Math.imul(ye,It)|0,k=k+Math.imul(ye,Gt)|0,k=k+Math.imul(Te,It)|0,G=G+Math.imul(Te,Gt)|0,U=U+Math.imul(oe,mt)|0,k=k+Math.imul(oe,gt)|0,k=k+Math.imul(W,mt)|0,G=G+Math.imul(W,gt)|0,U=U+Math.imul(de,dt)|0,k=k+Math.imul(de,Mt)|0,k=k+Math.imul(se,dt)|0,G=G+Math.imul(se,Mt)|0,U=U+Math.imul(le,yt)|0,k=k+Math.imul(le,pt)|0,k=k+Math.imul(ee,yt)|0,G=G+Math.imul(ee,pt)|0;var sn=(B+U|0)+((k&8191)<<13)|0;B=(G+(k>>>13)|0)+(sn>>>26)|0,sn&=67108863,U=Math.imul(Ce,He),k=Math.imul(Ce,Be),k=k+Math.imul(Ae,He)|0,G=Math.imul(Ae,Be),U=U+Math.imul(te,Ve)|0,k=k+Math.imul(te,ot)|0,k=k+Math.imul(re,Ve)|0,G=G+Math.imul(re,ot)|0,U=U+Math.imul(q,lt)|0,k=k+Math.imul(q,_t)|0,k=k+Math.imul(he,lt)|0,G=G+Math.imul(he,_t)|0,U=U+Math.imul(Je,It)|0,k=k+Math.imul(Je,Gt)|0,k=k+Math.imul(ie,It)|0,G=G+Math.imul(ie,Gt)|0,U=U+Math.imul(ye,mt)|0,k=k+Math.imul(ye,gt)|0,k=k+Math.imul(Te,mt)|0,G=G+Math.imul(Te,gt)|0,U=U+Math.imul(oe,dt)|0,k=k+Math.imul(oe,Mt)|0,k=k+Math.imul(W,dt)|0,G=G+Math.imul(W,Mt)|0,U=U+Math.imul(de,yt)|0,k=k+Math.imul(de,pt)|0,k=k+Math.imul(se,yt)|0,G=G+Math.imul(se,pt)|0,U=U+Math.imul(le,pe)|0,k=k+Math.imul(le,Re)|0,k=k+Math.imul(ee,pe)|0,G=G+Math.imul(ee,Re)|0;var ct=(B+U|0)+((k&8191)<<13)|0;B=(G+(k>>>13)|0)+(ct>>>26)|0,ct&=67108863,U=Math.imul(ge,He),k=Math.imul(ge,Be),k=k+Math.imul(Ne,He)|0,G=Math.imul(Ne,Be),U=U+Math.imul(Ce,Ve)|0,k=k+Math.imul(Ce,ot)|0,k=k+Math.imul(Ae,Ve)|0,G=G+Math.imul(Ae,ot)|0,U=U+Math.imul(te,lt)|0,k=k+Math.imul(te,_t)|0,k=k+Math.imul(re,lt)|0,G=G+Math.imul(re,_t)|0,U=U+Math.imul(q,It)|0,k=k+Math.imul(q,Gt)|0,k=k+Math.imul(he,It)|0,G=G+Math.imul(he,Gt)|0,U=U+Math.imul(Je,mt)|0,k=k+Math.imul(Je,gt)|0,k=k+Math.imul(ie,mt)|0,G=G+Math.imul(ie,gt)|0,U=U+Math.imul(ye,dt)|0,k=k+Math.imul(ye,Mt)|0,k=k+Math.imul(Te,dt)|0,G=G+Math.imul(Te,Mt)|0,U=U+Math.imul(oe,yt)|0,k=k+Math.imul(oe,pt)|0,k=k+Math.imul(W,yt)|0,G=G+Math.imul(W,pt)|0,U=U+Math.imul(de,pe)|0,k=k+Math.imul(de,Re)|0,k=k+Math.imul(se,pe)|0,G=G+Math.imul(se,Re)|0,U=U+Math.imul(le,ke)|0,k=k+Math.imul(le,Le)|0,k=k+Math.imul(ee,ke)|0,G=G+Math.imul(ee,Le)|0;var xe=(B+U|0)+((k&8191)<<13)|0;B=(G+(k>>>13)|0)+(xe>>>26)|0,xe&=67108863,U=Math.imul(ae,He),k=Math.imul(ae,Be),k=k+Math.imul(Ue,He)|0,G=Math.imul(Ue,Be),U=U+Math.imul(ge,Ve)|0,k=k+Math.imul(ge,ot)|0,k=k+Math.imul(Ne,Ve)|0,G=G+Math.imul(Ne,ot)|0,U=U+Math.imul(Ce,lt)|0,k=k+Math.imul(Ce,_t)|0,k=k+Math.imul(Ae,lt)|0,G=G+Math.imul(Ae,_t)|0,U=U+Math.imul(te,It)|0,k=k+Math.imul(te,Gt)|0,k=k+Math.imul(re,It)|0,G=G+Math.imul(re,Gt)|0,U=U+Math.imul(q,mt)|0,k=k+Math.imul(q,gt)|0,k=k+Math.imul(he,mt)|0,G=G+Math.imul(he,gt)|0,U=U+Math.imul(Je,dt)|0,k=k+Math.imul(Je,Mt)|0,k=k+Math.imul(ie,dt)|0,G=G+Math.imul(ie,Mt)|0,U=U+Math.imul(ye,yt)|0,k=k+Math.imul(ye,pt)|0,k=k+Math.imul(Te,yt)|0,G=G+Math.imul(Te,pt)|0,U=U+Math.imul(oe,pe)|0,k=k+Math.imul(oe,Re)|0,k=k+Math.imul(W,pe)|0,G=G+Math.imul(W,Re)|0,U=U+Math.imul(de,ke)|0,k=k+Math.imul(de,Le)|0,k=k+Math.imul(se,ke)|0,G=G+Math.imul(se,Le)|0,U=U+Math.imul(le,rt)|0,k=k+Math.imul(le,ht)|0,k=k+Math.imul(ee,rt)|0,G=G+Math.imul(ee,ht)|0;var je=(B+U|0)+((k&8191)<<13)|0;B=(G+(k>>>13)|0)+(je>>>26)|0,je&=67108863,U=Math.imul(ae,Ve),k=Math.imul(ae,ot),k=k+Math.imul(Ue,Ve)|0,G=Math.imul(Ue,ot),U=U+Math.imul(ge,lt)|0,k=k+Math.imul(ge,_t)|0,k=k+Math.imul(Ne,lt)|0,G=G+Math.imul(Ne,_t)|0,U=U+Math.imul(Ce,It)|0,k=k+Math.imul(Ce,Gt)|0,k=k+Math.imul(Ae,It)|0,G=G+Math.imul(Ae,Gt)|0,U=U+Math.imul(te,mt)|0,k=k+Math.imul(te,gt)|0,k=k+Math.imul(re,mt)|0,G=G+Math.imul(re,gt)|0,U=U+Math.imul(q,dt)|0,k=k+Math.imul(q,Mt)|0,k=k+Math.imul(he,dt)|0,G=G+Math.imul(he,Mt)|0,U=U+Math.imul(Je,yt)|0,k=k+Math.imul(Je,pt)|0,k=k+Math.imul(ie,yt)|0,G=G+Math.imul(ie,pt)|0,U=U+Math.imul(ye,pe)|0,k=k+Math.imul(ye,Re)|0,k=k+Math.imul(Te,pe)|0,G=G+Math.imul(Te,Re)|0,U=U+Math.imul(oe,ke)|0,k=k+Math.imul(oe,Le)|0,k=k+Math.imul(W,ke)|0,G=G+Math.imul(W,Le)|0,U=U+Math.imul(de,rt)|0,k=k+Math.imul(de,ht)|0,k=k+Math.imul(se,rt)|0,G=G+Math.imul(se,ht)|0;var bt=(B+U|0)+((k&8191)<<13)|0;B=(G+(k>>>13)|0)+(bt>>>26)|0,bt&=67108863,U=Math.imul(ae,lt),k=Math.imul(ae,_t),k=k+Math.imul(Ue,lt)|0,G=Math.imul(Ue,_t),U=U+Math.imul(ge,It)|0,k=k+Math.imul(ge,Gt)|0,k=k+Math.imul(Ne,It)|0,G=G+Math.imul(Ne,Gt)|0,U=U+Math.imul(Ce,mt)|0,k=k+Math.imul(Ce,gt)|0,k=k+Math.imul(Ae,mt)|0,G=G+Math.imul(Ae,gt)|0,U=U+Math.imul(te,dt)|0,k=k+Math.imul(te,Mt)|0,k=k+Math.imul(re,dt)|0,G=G+Math.imul(re,Mt)|0,U=U+Math.imul(q,yt)|0,k=k+Math.imul(q,pt)|0,k=k+Math.imul(he,yt)|0,G=G+Math.imul(he,pt)|0,U=U+Math.imul(Je,pe)|0,k=k+Math.imul(Je,Re)|0,k=k+Math.imul(ie,pe)|0,G=G+Math.imul(ie,Re)|0,U=U+Math.imul(ye,ke)|0,k=k+Math.imul(ye,Le)|0,k=k+Math.imul(Te,ke)|0,G=G+Math.imul(Te,Le)|0,U=U+Math.imul(oe,rt)|0,k=k+Math.imul(oe,ht)|0,k=k+Math.imul(W,rt)|0,G=G+Math.imul(W,ht)|0;var qt=(B+U|0)+((k&8191)<<13)|0;B=(G+(k>>>13)|0)+(qt>>>26)|0,qt&=67108863,U=Math.imul(ae,It),k=Math.imul(ae,Gt),k=k+Math.imul(Ue,It)|0,G=Math.imul(Ue,Gt),U=U+Math.imul(ge,mt)|0,k=k+Math.imul(ge,gt)|0,k=k+Math.imul(Ne,mt)|0,G=G+Math.imul(Ne,gt)|0,U=U+Math.imul(Ce,dt)|0,k=k+Math.imul(Ce,Mt)|0,k=k+Math.imul(Ae,dt)|0,G=G+Math.imul(Ae,Mt)|0,U=U+Math.imul(te,yt)|0,k=k+Math.imul(te,pt)|0,k=k+Math.imul(re,yt)|0,G=G+Math.imul(re,pt)|0,U=U+Math.imul(q,pe)|0,k=k+Math.imul(q,Re)|0,k=k+Math.imul(he,pe)|0,G=G+Math.imul(he,Re)|0,U=U+Math.imul(Je,ke)|0,k=k+Math.imul(Je,Le)|0,k=k+Math.imul(ie,ke)|0,G=G+Math.imul(ie,Le)|0,U=U+Math.imul(ye,rt)|0,k=k+Math.imul(ye,ht)|0,k=k+Math.imul(Te,rt)|0,G=G+Math.imul(Te,ht)|0;var ln=(B+U|0)+((k&8191)<<13)|0;B=(G+(k>>>13)|0)+(ln>>>26)|0,ln&=67108863,U=Math.imul(ae,mt),k=Math.imul(ae,gt),k=k+Math.imul(Ue,mt)|0,G=Math.imul(Ue,gt),U=U+Math.imul(ge,dt)|0,k=k+Math.imul(ge,Mt)|0,k=k+Math.imul(Ne,dt)|0,G=G+Math.imul(Ne,Mt)|0,U=U+Math.imul(Ce,yt)|0,k=k+Math.imul(Ce,pt)|0,k=k+Math.imul(Ae,yt)|0,G=G+Math.imul(Ae,pt)|0,U=U+Math.imul(te,pe)|0,k=k+Math.imul(te,Re)|0,k=k+Math.imul(re,pe)|0,G=G+Math.imul(re,Re)|0,U=U+Math.imul(q,ke)|0,k=k+Math.imul(q,Le)|0,k=k+Math.imul(he,ke)|0,G=G+Math.imul(he,Le)|0,U=U+Math.imul(Je,rt)|0,k=k+Math.imul(Je,ht)|0,k=k+Math.imul(ie,rt)|0,G=G+Math.imul(ie,ht)|0;var hn=(B+U|0)+((k&8191)<<13)|0;B=(G+(k>>>13)|0)+(hn>>>26)|0,hn&=67108863,U=Math.imul(ae,dt),k=Math.imul(ae,Mt),k=k+Math.imul(Ue,dt)|0,G=Math.imul(Ue,Mt),U=U+Math.imul(ge,yt)|0,k=k+Math.imul(ge,pt)|0,k=k+Math.imul(Ne,yt)|0,G=G+Math.imul(Ne,pt)|0,U=U+Math.imul(Ce,pe)|0,k=k+Math.imul(Ce,Re)|0,k=k+Math.imul(Ae,pe)|0,G=G+Math.imul(Ae,Re)|0,U=U+Math.imul(te,ke)|0,k=k+Math.imul(te,Le)|0,k=k+Math.imul(re,ke)|0,G=G+Math.imul(re,Le)|0,U=U+Math.imul(q,rt)|0,k=k+Math.imul(q,ht)|0,k=k+Math.imul(he,rt)|0,G=G+Math.imul(he,ht)|0;var xn=(B+U|0)+((k&8191)<<13)|0;B=(G+(k>>>13)|0)+(xn>>>26)|0,xn&=67108863,U=Math.imul(ae,yt),k=Math.imul(ae,pt),k=k+Math.imul(Ue,yt)|0,G=Math.imul(Ue,pt),U=U+Math.imul(ge,pe)|0,k=k+Math.imul(ge,Re)|0,k=k+Math.imul(Ne,pe)|0,G=G+Math.imul(Ne,Re)|0,U=U+Math.imul(Ce,ke)|0,k=k+Math.imul(Ce,Le)|0,k=k+Math.imul(Ae,ke)|0,G=G+Math.imul(Ae,Le)|0,U=U+Math.imul(te,rt)|0,k=k+Math.imul(te,ht)|0,k=k+Math.imul(re,rt)|0,G=G+Math.imul(re,ht)|0;var Xn=(B+U|0)+((k&8191)<<13)|0;B=(G+(k>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,U=Math.imul(ae,pe),k=Math.imul(ae,Re),k=k+Math.imul(Ue,pe)|0,G=Math.imul(Ue,Re),U=U+Math.imul(ge,ke)|0,k=k+Math.imul(ge,Le)|0,k=k+Math.imul(Ne,ke)|0,G=G+Math.imul(Ne,Le)|0,U=U+Math.imul(Ce,rt)|0,k=k+Math.imul(Ce,ht)|0,k=k+Math.imul(Ae,rt)|0,G=G+Math.imul(Ae,ht)|0;var gn=(B+U|0)+((k&8191)<<13)|0;B=(G+(k>>>13)|0)+(gn>>>26)|0,gn&=67108863,U=Math.imul(ae,ke),k=Math.imul(ae,Le),k=k+Math.imul(Ue,ke)|0,G=Math.imul(Ue,Le),U=U+Math.imul(ge,rt)|0,k=k+Math.imul(ge,ht)|0,k=k+Math.imul(Ne,rt)|0,G=G+Math.imul(Ne,ht)|0;var Oi=(B+U|0)+((k&8191)<<13)|0;B=(G+(k>>>13)|0)+(Oi>>>26)|0,Oi&=67108863,U=Math.imul(ae,rt),k=Math.imul(ae,ht),k=k+Math.imul(Ue,rt)|0,G=Math.imul(Ue,ht);var Ni=(B+U|0)+((k&8191)<<13)|0;return B=(G+(k>>>13)|0)+(Ni>>>26)|0,Ni&=67108863,j[0]=it,j[1]=$t,j[2]=zt,j[3]=Wt,j[4]=un,j[5]=Jt,j[6]=sn,j[7]=ct,j[8]=xe,j[9]=je,j[10]=bt,j[11]=qt,j[12]=ln,j[13]=hn,j[14]=xn,j[15]=Xn,j[16]=gn,j[17]=Oi,j[18]=Ni,B!==0&&(j[19]=B,P.length++),P};Math.imul||(w=S);function T(H,D,R){R.negative=D.negative^H.negative,R.length=H.length+D.length;for(var P=0,F=0,z=0;z<R.length-1;z++){var j=F;F=0;for(var B=P&67108863,U=Math.min(z,D.length-1),k=Math.max(0,z-H.length+1);k<=U;k++){var G=z-k,ne=H.words[G]|0,le=D.words[k]|0,ee=ne*le,J=ee&67108863;j=j+(ee/67108864|0)|0,J=J+B|0,B=J&67108863,j=j+(J>>>26)|0,F+=j>>>26,j&=67108863}R.words[z]=B,P=j,j=F}return P!==0?R.words[z]=P:R.length--,R.strip()}function x(H,D,R){var P=new E;return P.mulp(H,D,R)}s.prototype.mulTo=function(D,R){var P,F=this.length+D.length;return this.length===10&&D.length===10?P=w(this,D,R):F<63?P=S(this,D,R):F<1024?P=T(this,D,R):P=x(this,D,R),P};function E(H,D){this.x=H,this.y=D}E.prototype.makeRBT=function(D){for(var R=new Array(D),P=s.prototype._countBits(D)-1,F=0;F<D;F++)R[F]=this.revBin(F,P,D);return R},E.prototype.revBin=function(D,R,P){if(D===0||D===P-1)return D;for(var F=0,z=0;z<R;z++)F|=(D&1)<<R-z-1,D>>=1;return F},E.prototype.permute=function(D,R,P,F,z,j){for(var B=0;B<j;B++)F[B]=R[D[B]],z[B]=P[D[B]]},E.prototype.transform=function(D,R,P,F,z,j){this.permute(j,D,R,P,F,z);for(var B=1;B<z;B<<=1)for(var U=B<<1,k=Math.cos(2*Math.PI/U),G=Math.sin(2*Math.PI/U),ne=0;ne<z;ne+=U)for(var le=k,ee=G,J=0;J<B;J++){var de=P[ne+J],se=F[ne+J],ue=P[ne+J+B],oe=F[ne+J+B],W=le*ue-ee*oe;oe=le*oe+ee*ue,ue=W,P[ne+J]=de+ue,F[ne+J]=se+oe,P[ne+J+B]=de-ue,F[ne+J+B]=se-oe,J!==U&&(W=k*le-G*ee,ee=k*ee+G*le,le=W)}},E.prototype.guessLen13b=function(D,R){var P=Math.max(R,D)|1,F=P&1,z=0;for(P=P/2|0;P;P=P>>>1)z++;return 1<<z+1+F},E.prototype.conjugate=function(D,R,P){if(!(P<=1))for(var F=0;F<P/2;F++){var z=D[F];D[F]=D[P-F-1],D[P-F-1]=z,z=R[F],R[F]=-R[P-F-1],R[P-F-1]=-z}},E.prototype.normalize13b=function(D,R){for(var P=0,F=0;F<R/2;F++){var z=Math.round(D[2*F+1]/R)*8192+Math.round(D[2*F]/R)+P;D[F]=z&67108863,z<67108864?P=0:P=z/67108864|0}return D},E.prototype.convert13b=function(D,R,P,F){for(var z=0,j=0;j<R;j++)z=z+(D[j]|0),P[2*j]=z&8191,z=z>>>13,P[2*j+1]=z&8191,z=z>>>13;for(j=2*R;j<F;++j)P[j]=0;r(z===0),r((z&~8191)==0)},E.prototype.stub=function(D){for(var R=new Array(D),P=0;P<D;P++)R[P]=0;return R},E.prototype.mulp=function(D,R,P){var F=2*this.guessLen13b(D.length,R.length),z=this.makeRBT(F),j=this.stub(F),B=new Array(F),U=new Array(F),k=new Array(F),G=new Array(F),ne=new Array(F),le=new Array(F),ee=P.words;ee.length=F,this.convert13b(D.words,D.length,B,F),this.convert13b(R.words,R.length,G,F),this.transform(B,j,U,k,F,z),this.transform(G,j,ne,le,F,z);for(var J=0;J<F;J++){var de=U[J]*ne[J]-k[J]*le[J];k[J]=U[J]*le[J]+k[J]*ne[J],U[J]=de}return this.conjugate(U,k,F),this.transform(U,k,ee,j,F,z),this.conjugate(ee,j,F),this.normalize13b(ee,F),P.negative=D.negative^R.negative,P.length=D.length+R.length,P.strip()},s.prototype.mul=function(D){var R=new s(null);return R.words=new Array(this.length+D.length),this.mulTo(D,R)},s.prototype.mulf=function(D){var R=new s(null);return R.words=new Array(this.length+D.length),x(this,D,R)},s.prototype.imul=function(D){return this.clone().mulTo(D,this)},s.prototype.imuln=function(D){r(typeof D=="number"),r(D<67108864);for(var R=0,P=0;P<this.length;P++){var F=(this.words[P]|0)*D,z=(F&67108863)+(R&67108863);R>>=26,R+=F/67108864|0,R+=z>>>26,this.words[P]=z&67108863}return R!==0&&(this.words[P]=R,this.length++),this},s.prototype.muln=function(D){return this.clone().imuln(D)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(D){var R=v(D);if(R.length===0)return new s(1);for(var P=this,F=0;F<R.length&&R[F]===0;F++,P=P.sqr());if(++F<R.length)for(var z=P.sqr();F<R.length;F++,z=z.sqr())R[F]!==0&&(P=P.mul(z));return P},s.prototype.iushln=function(D){r(typeof D=="number"&&D>=0);var R=D%26,P=(D-R)/26,F=67108863>>>26-R<<26-R,z;if(R!==0){var j=0;for(z=0;z<this.length;z++){var B=this.words[z]&F,U=(this.words[z]|0)-B<<R;this.words[z]=U|j,j=B>>>26-R}j&&(this.words[z]=j,this.length++)}if(P!==0){for(z=this.length-1;z>=0;z--)this.words[z+P]=this.words[z];for(z=0;z<P;z++)this.words[z]=0;this.length+=P}return this.strip()},s.prototype.ishln=function(D){return r(this.negative===0),this.iushln(D)},s.prototype.iushrn=function(D,R,P){r(typeof D=="number"&&D>=0);var F;R?F=(R-R%26)/26:F=0;var z=D%26,j=Math.min((D-z)/26,this.length),B=67108863^67108863>>>z<<z,U=P;if(F-=j,F=Math.max(0,F),U){for(var k=0;k<j;k++)U.words[k]=this.words[k];U.length=j}if(j!==0)if(this.length>j)for(this.length-=j,k=0;k<this.length;k++)this.words[k]=this.words[k+j];else this.words[0]=0,this.length=1;var G=0;for(k=this.length-1;k>=0&&(G!==0||k>=F);k--){var ne=this.words[k]|0;this.words[k]=G<<26-z|ne>>>z,G=ne&B}return U&&G!==0&&(U.words[U.length++]=G),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(D,R,P){return r(this.negative===0),this.iushrn(D,R,P)},s.prototype.shln=function(D){return this.clone().ishln(D)},s.prototype.ushln=function(D){return this.clone().iushln(D)},s.prototype.shrn=function(D){return this.clone().ishrn(D)},s.prototype.ushrn=function(D){return this.clone().iushrn(D)},s.prototype.testn=function(D){r(typeof D=="number"&&D>=0);var R=D%26,P=(D-R)/26,F=1<<R;if(this.length<=P)return!1;var z=this.words[P];return!!(z&F)},s.prototype.imaskn=function(D){r(typeof D=="number"&&D>=0);var R=D%26,P=(D-R)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=P)return this;if(R!==0&&P++,this.length=Math.min(P,this.length),R!==0){var F=67108863^67108863>>>R<<R;this.words[this.length-1]&=F}return this.strip()},s.prototype.maskn=function(D){return this.clone().imaskn(D)},s.prototype.iaddn=function(D){return r(typeof D=="number"),r(D<67108864),D<0?this.isubn(-D):this.negative!==0?this.length===1&&(this.words[0]|0)<D?(this.words[0]=D-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(D),this.negative=1,this):this._iaddn(D)},s.prototype._iaddn=function(D){this.words[0]+=D;for(var R=0;R<this.length&&this.words[R]>=67108864;R++)this.words[R]-=67108864,R===this.length-1?this.words[R+1]=1:this.words[R+1]++;return this.length=Math.max(this.length,R+1),this},s.prototype.isubn=function(D){if(r(typeof D=="number"),r(D<67108864),D<0)return this.iaddn(-D);if(this.negative!==0)return this.negative=0,this.iaddn(D),this.negative=1,this;if(this.words[0]-=D,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var R=0;R<this.length&&this.words[R]<0;R++)this.words[R]+=67108864,this.words[R+1]-=1;return this.strip()},s.prototype.addn=function(D){return this.clone().iaddn(D)},s.prototype.subn=function(D){return this.clone().isubn(D)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(D,R,P){var F=D.length+P,z;this._expand(F);var j,B=0;for(z=0;z<D.length;z++){j=(this.words[z+P]|0)+B;var U=(D.words[z]|0)*R;j-=U&67108863,B=(j>>26)-(U/67108864|0),this.words[z+P]=j&67108863}for(;z<this.length-P;z++)j=(this.words[z+P]|0)+B,B=j>>26,this.words[z+P]=j&67108863;if(B===0)return this.strip();for(r(B===-1),B=0,z=0;z<this.length;z++)j=-(this.words[z]|0)+B,B=j>>26,this.words[z]=j&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(D,R){var P=this.length-D.length,F=this.clone(),z=D,j=z.words[z.length-1]|0,B=this._countBits(j);P=26-B,P!==0&&(z=z.ushln(P),F.iushln(P),j=z.words[z.length-1]|0);var U=F.length-z.length,k;if(R!=="mod"){k=new s(null),k.length=U+1,k.words=new Array(k.length);for(var G=0;G<k.length;G++)k.words[G]=0}var ne=F.clone()._ishlnsubmul(z,1,U);ne.negative===0&&(F=ne,k&&(k.words[U]=1));for(var le=U-1;le>=0;le--){var ee=(F.words[z.length+le]|0)*67108864+(F.words[z.length+le-1]|0);for(ee=Math.min(ee/j|0,67108863),F._ishlnsubmul(z,ee,le);F.negative!==0;)ee--,F.negative=0,F._ishlnsubmul(z,1,le),F.isZero()||(F.negative^=1);k&&(k.words[le]=ee)}return k&&k.strip(),F.strip(),R!=="div"&&P!==0&&F.iushrn(P),{div:k||null,mod:F}},s.prototype.divmod=function(D,R,P){if(r(!D.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var F,z,j;return this.negative!==0&&D.negative===0?(j=this.neg().divmod(D,R),R!=="mod"&&(F=j.div.neg()),R!=="div"&&(z=j.mod.neg(),P&&z.negative!==0&&z.iadd(D)),{div:F,mod:z}):this.negative===0&&D.negative!==0?(j=this.divmod(D.neg(),R),R!=="mod"&&(F=j.div.neg()),{div:F,mod:j.mod}):(this.negative&D.negative)!=0?(j=this.neg().divmod(D.neg(),R),R!=="div"&&(z=j.mod.neg(),P&&z.negative!==0&&z.isub(D)),{div:j.div,mod:z}):D.length>this.length||this.cmp(D)<0?{div:new s(0),mod:this}:D.length===1?R==="div"?{div:this.divn(D.words[0]),mod:null}:R==="mod"?{div:null,mod:new s(this.modn(D.words[0]))}:{div:this.divn(D.words[0]),mod:new s(this.modn(D.words[0]))}:this._wordDiv(D,R)},s.prototype.div=function(D){return this.divmod(D,"div",!1).div},s.prototype.mod=function(D){return this.divmod(D,"mod",!1).mod},s.prototype.umod=function(D){return this.divmod(D,"mod",!0).mod},s.prototype.divRound=function(D){var R=this.divmod(D);if(R.mod.isZero())return R.div;var P=R.div.negative!==0?R.mod.isub(D):R.mod,F=D.ushrn(1),z=D.andln(1),j=P.cmp(F);return j<0||z===1&&j===0?R.div:R.div.negative!==0?R.div.isubn(1):R.div.iaddn(1)},s.prototype.modn=function(D){r(D<=67108863);for(var R=(1<<26)%D,P=0,F=this.length-1;F>=0;F--)P=(R*P+(this.words[F]|0))%D;return P},s.prototype.idivn=function(D){r(D<=67108863);for(var R=0,P=this.length-1;P>=0;P--){var F=(this.words[P]|0)+R*67108864;this.words[P]=F/D|0,R=F%D}return this.strip()},s.prototype.divn=function(D){return this.clone().idivn(D)},s.prototype.egcd=function(D){r(D.negative===0),r(!D.isZero());var R=this,P=D.clone();R.negative!==0?R=R.umod(D):R=R.clone();for(var F=new s(1),z=new s(0),j=new s(0),B=new s(1),U=0;R.isEven()&&P.isEven();)R.iushrn(1),P.iushrn(1),++U;for(var k=P.clone(),G=R.clone();!R.isZero();){for(var ne=0,le=1;(R.words[0]&le)==0&&ne<26;++ne,le<<=1);if(ne>0)for(R.iushrn(ne);ne-- >0;)(F.isOdd()||z.isOdd())&&(F.iadd(k),z.isub(G)),F.iushrn(1),z.iushrn(1);for(var ee=0,J=1;(P.words[0]&J)==0&&ee<26;++ee,J<<=1);if(ee>0)for(P.iushrn(ee);ee-- >0;)(j.isOdd()||B.isOdd())&&(j.iadd(k),B.isub(G)),j.iushrn(1),B.iushrn(1);R.cmp(P)>=0?(R.isub(P),F.isub(j),z.isub(B)):(P.isub(R),j.isub(F),B.isub(z))}return{a:j,b:B,gcd:P.iushln(U)}},s.prototype._invmp=function(D){r(D.negative===0),r(!D.isZero());var R=this,P=D.clone();R.negative!==0?R=R.umod(D):R=R.clone();for(var F=new s(1),z=new s(0),j=P.clone();R.cmpn(1)>0&&P.cmpn(1)>0;){for(var B=0,U=1;(R.words[0]&U)==0&&B<26;++B,U<<=1);if(B>0)for(R.iushrn(B);B-- >0;)F.isOdd()&&F.iadd(j),F.iushrn(1);for(var k=0,G=1;(P.words[0]&G)==0&&k<26;++k,G<<=1);if(k>0)for(P.iushrn(k);k-- >0;)z.isOdd()&&z.iadd(j),z.iushrn(1);R.cmp(P)>=0?(R.isub(P),F.isub(z)):(P.isub(R),z.isub(F))}var ne;return R.cmpn(1)===0?ne=F:ne=z,ne.cmpn(0)<0&&ne.iadd(D),ne},s.prototype.gcd=function(D){if(this.isZero())return D.abs();if(D.isZero())return this.abs();var R=this.clone(),P=D.clone();R.negative=0,P.negative=0;for(var F=0;R.isEven()&&P.isEven();F++)R.iushrn(1),P.iushrn(1);do{for(;R.isEven();)R.iushrn(1);for(;P.isEven();)P.iushrn(1);var z=R.cmp(P);if(z<0){var j=R;R=P,P=j}else if(z===0||P.cmpn(1)===0)break;R.isub(P)}while(!0);return P.iushln(F)},s.prototype.invm=function(D){return this.egcd(D).a.umod(D)},s.prototype.isEven=function(){return(this.words[0]&1)==0},s.prototype.isOdd=function(){return(this.words[0]&1)==1},s.prototype.andln=function(D){return this.words[0]&D},s.prototype.bincn=function(D){r(typeof D=="number");var R=D%26,P=(D-R)/26,F=1<<R;if(this.length<=P)return this._expand(P+1),this.words[P]|=F,this;for(var z=F,j=P;z!==0&&j<this.length;j++){var B=this.words[j]|0;B+=z,z=B>>>26,B&=67108863,this.words[j]=B}return z!==0&&(this.words[j]=z,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(D){var R=D<0;if(this.negative!==0&&!R)return-1;if(this.negative===0&&R)return 1;this.strip();var P;if(this.length>1)P=1;else{R&&(D=-D),r(D<=67108863,"Number is too big");var F=this.words[0]|0;P=F===D?0:F<D?-1:1}return this.negative!==0?-P|0:P},s.prototype.cmp=function(D){if(this.negative!==0&&D.negative===0)return-1;if(this.negative===0&&D.negative!==0)return 1;var R=this.ucmp(D);return this.negative!==0?-R|0:R},s.prototype.ucmp=function(D){if(this.length>D.length)return 1;if(this.length<D.length)return-1;for(var R=0,P=this.length-1;P>=0;P--){var F=this.words[P]|0,z=D.words[P]|0;if(F!==z){F<z?R=-1:F>z&&(R=1);break}}return R},s.prototype.gtn=function(D){return this.cmpn(D)===1},s.prototype.gt=function(D){return this.cmp(D)===1},s.prototype.gten=function(D){return this.cmpn(D)>=0},s.prototype.gte=function(D){return this.cmp(D)>=0},s.prototype.ltn=function(D){return this.cmpn(D)===-1},s.prototype.lt=function(D){return this.cmp(D)===-1},s.prototype.lten=function(D){return this.cmpn(D)<=0},s.prototype.lte=function(D){return this.cmp(D)<=0},s.prototype.eqn=function(D){return this.cmpn(D)===0},s.prototype.eq=function(D){return this.cmp(D)===0},s.red=function(D){return new V(D)},s.prototype.toRed=function(D){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),D.convertTo(this)._forceRed(D)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(D){return this.red=D,this},s.prototype.forceRed=function(D){return r(!this.red,"Already a number in reduction context"),this._forceRed(D)},s.prototype.redAdd=function(D){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,D)},s.prototype.redIAdd=function(D){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,D)},s.prototype.redSub=function(D){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,D)},s.prototype.redISub=function(D){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,D)},s.prototype.redShl=function(D){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,D)},s.prototype.redMul=function(D){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,D),this.red.mul(this,D)},s.prototype.redIMul=function(D){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,D),this.red.imul(this,D)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(D){return r(this.red&&!D.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,D)};var O={k256:null,p224:null,p192:null,p25519:null};function C(H,D){this.name=H,this.p=new s(D,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}C.prototype._tmp=function(){var D=new s(null);return D.words=new Array(Math.ceil(this.n/13)),D},C.prototype.ireduce=function(D){var R=D,P;do this.split(R,this.tmp),R=this.imulK(R),R=R.iadd(this.tmp),P=R.bitLength();while(P>this.n);var F=P<this.n?-1:R.ucmp(this.p);return F===0?(R.words[0]=0,R.length=1):F>0?R.isub(this.p):R.strip!==void 0?R.strip():R._strip(),R},C.prototype.split=function(D,R){D.iushrn(this.n,0,R)},C.prototype.imulK=function(D){return D.imul(this.k)};function N(){C.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(N,C),N.prototype.split=function(D,R){for(var P=4194303,F=Math.min(D.length,9),z=0;z<F;z++)R.words[z]=D.words[z];if(R.length=F,D.length<=9){D.words[0]=0,D.length=1;return}var j=D.words[9];for(R.words[R.length++]=j&P,z=10;z<D.length;z++){var B=D.words[z]|0;D.words[z-10]=(B&P)<<4|j>>>22,j=B}j>>>=22,D.words[z-10]=j,j===0&&D.length>10?D.length-=10:D.length-=9},N.prototype.imulK=function(D){D.words[D.length]=0,D.words[D.length+1]=0,D.length+=2;for(var R=0,P=0;P<D.length;P++){var F=D.words[P]|0;R+=F*977,D.words[P]=R&67108863,R=F*64+(R/67108864|0)}return D.words[D.length-1]===0&&(D.length--,D.words[D.length-1]===0&&D.length--),D};function $(){C.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i($,C);function M(){C.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(M,C);function L(){C.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(L,C),L.prototype.imulK=function(D){for(var R=0,P=0;P<D.length;P++){var F=(D.words[P]|0)*19+R,z=F&67108863;F>>>=26,D.words[P]=z,R=F}return R!==0&&(D.words[D.length++]=R),D},s._prime=function(D){if(O[D])return O[D];var R;if(D==="k256")R=new N;else if(D==="p224")R=new $;else if(D==="p192")R=new M;else if(D==="p25519")R=new L;else throw new Error("Unknown prime "+D);return O[D]=R,R};function V(H){if(typeof H=="string"){var D=s._prime(H);this.m=D.p,this.prime=D}else r(H.gtn(1),"modulus must be greater than 1"),this.m=H,this.prime=null}V.prototype._verify1=function(D){r(D.negative===0,"red works only with positives"),r(D.red,"red works only with red numbers")},V.prototype._verify2=function(D,R){r((D.negative|R.negative)==0,"red works only with positives"),r(D.red&&D.red===R.red,"red works only with red numbers")},V.prototype.imod=function(D){return this.prime?this.prime.ireduce(D)._forceRed(this):D.umod(this.m)._forceRed(this)},V.prototype.neg=function(D){return D.isZero()?D.clone():this.m.sub(D)._forceRed(this)},V.prototype.add=function(D,R){this._verify2(D,R);var P=D.add(R);return P.cmp(this.m)>=0&&P.isub(this.m),P._forceRed(this)},V.prototype.iadd=function(D,R){this._verify2(D,R);var P=D.iadd(R);return P.cmp(this.m)>=0&&P.isub(this.m),P},V.prototype.sub=function(D,R){this._verify2(D,R);var P=D.sub(R);return P.cmpn(0)<0&&P.iadd(this.m),P._forceRed(this)},V.prototype.isub=function(D,R){this._verify2(D,R);var P=D.isub(R);return P.cmpn(0)<0&&P.iadd(this.m),P},V.prototype.shl=function(D,R){return this._verify1(D),this.imod(D.ushln(R))},V.prototype.imul=function(D,R){return this._verify2(D,R),this.imod(D.imul(R))},V.prototype.mul=function(D,R){return this._verify2(D,R),this.imod(D.mul(R))},V.prototype.isqr=function(D){return this.imul(D,D.clone())},V.prototype.sqr=function(D){return this.mul(D,D)},V.prototype.sqrt=function(D){if(D.isZero())return D.clone();var R=this.m.andln(3);if(r(R%2==1),R===3){var P=this.m.add(new s(1)).iushrn(2);return this.pow(D,P)}for(var F=this.m.subn(1),z=0;!F.isZero()&&F.andln(1)===0;)z++,F.iushrn(1);r(!F.isZero());var j=new s(1).toRed(this),B=j.redNeg(),U=this.m.subn(1).iushrn(1),k=this.m.bitLength();for(k=new s(2*k*k).toRed(this);this.pow(k,U).cmp(B)!==0;)k.redIAdd(B);for(var G=this.pow(k,F),ne=this.pow(D,F.addn(1).iushrn(1)),le=this.pow(D,F),ee=z;le.cmp(j)!==0;){for(var J=le,de=0;J.cmp(j)!==0;de++)J=J.redSqr();r(de<ee);var se=this.pow(G,new s(1).iushln(ee-de-1));ne=ne.redMul(se),G=se.redSqr(),le=le.redMul(G),ee=de}return ne},V.prototype.invm=function(D){var R=D._invmp(this.m);return R.negative!==0?(R.negative=0,this.imod(R).redNeg()):this.imod(R)},V.prototype.pow=function(D,R){if(R.isZero())return new s(1).toRed(this);if(R.cmpn(1)===0)return D.clone();var P=4,F=new Array(1<<P);F[0]=new s(1).toRed(this),F[1]=D;for(var z=2;z<F.length;z++)F[z]=this.mul(F[z-1],D);var j=F[0],B=0,U=0,k=R.bitLength()%26;for(k===0&&(k=26),z=R.length-1;z>=0;z--){for(var G=R.words[z],ne=k-1;ne>=0;ne--){var le=G>>ne&1;if(j!==F[0]&&(j=this.sqr(j)),le===0&&B===0){U=0;continue}B<<=1,B|=le,U++,!(U!==P&&(z!==0||ne!==0))&&(j=this.mul(j,F[B]),U=0,B=0)}k=26}return j},V.prototype.convertTo=function(D){var R=D.umod(this.m);return R===D?R.clone():R},V.prototype.convertFrom=function(D){var R=D.clone();return R.red=null,R},s.mont=function(D){return new Z(D)};function Z(H){V.call(this,H),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(Z,V),Z.prototype.convertTo=function(D){return this.imod(D.ushln(this.shift))},Z.prototype.convertFrom=function(D){var R=this.imod(D.mul(this.rinv));return R.red=null,R},Z.prototype.imul=function(D,R){if(D.isZero()||R.isZero())return D.words[0]=0,D.length=1,D;var P=D.imul(R),F=P.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),z=P.isub(F).iushrn(this.shift),j=z;return z.cmp(this.m)>=0?j=z.isub(this.m):z.cmpn(0)<0&&(j=z.iadd(this.m)),j._forceRed(this)},Z.prototype.mul=function(D,R){if(D.isZero()||R.isZero())return new s(0)._forceRed(this);var P=D.mul(R),F=P.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),z=P.isub(F).iushrn(this.shift),j=z;return z.cmp(this.m)>=0?j=z.isub(this.m):z.cmpn(0)<0&&(j=z.iadd(this.m)),j._forceRed(this)},Z.prototype.invm=function(D){var R=this.imod(D._invmp(this.m).mul(this.r2));return R._forceRed(this)}})(n,$e)})(fu);var rh=HB;function HB(n,e){if(!n)throw new Error(e||"Assertion failed")}HB.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var qA={};(function(n){var e=n;function t(s,o){if(Array.isArray(s))return s.slice();if(!s)return[];var u=[];if(typeof s!="string"){for(var l=0;l<s.length;l++)u[l]=s[l]|0;return u}if(o==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!=0&&(s="0"+s);for(var l=0;l<s.length;l+=2)u.push(parseInt(s[l]+s[l+1],16))}else for(var l=0;l<s.length;l++){var c=s.charCodeAt(l),h=c>>8,d=c&255;h?u.push(h,d):u.push(d)}return u}e.toArray=t;function r(s){return s.length===1?"0"+s:s}e.zero2=r;function i(s){for(var o="",u=0;u<s.length;u++)o+=r(s[u].toString(16));return o}e.toHex=i,e.encode=function(o,u){return u==="hex"?i(o):o}})(qA);(function(n){var e=n,t=fu.exports,r=rh,i=qA;e.assert=r,e.toArray=i.toArray,e.zero2=i.zero2,e.toHex=i.toHex,e.encode=i.encode;function s(h,d,p){var v=new Array(Math.max(h.bitLength(),p)+1);v.fill(0);for(var S=1<<d+1,w=h.clone(),T=0;T<v.length;T++){var x,E=w.andln(S-1);w.isOdd()?(E>(S>>1)-1?x=(S>>1)-E:x=E,w.isubn(x)):x=0,v[T]=x,w.iushrn(1)}return v}e.getNAF=s;function o(h,d){var p=[[],[]];h=h.clone(),d=d.clone();for(var v=0,S=0,w;h.cmpn(-v)>0||d.cmpn(-S)>0;){var T=h.andln(3)+v&3,x=d.andln(3)+S&3;T===3&&(T=-1),x===3&&(x=-1);var E;(T&1)==0?E=0:(w=h.andln(7)+v&7,(w===3||w===5)&&x===2?E=-T:E=T),p[0].push(E);var O;(x&1)==0?O=0:(w=d.andln(7)+S&7,(w===3||w===5)&&T===2?O=-x:O=x),p[1].push(O),2*v===E+1&&(v=1-v),2*S===O+1&&(S=1-S),h.iushrn(1),d.iushrn(1)}return p}e.getJSF=o;function u(h,d,p){var v="_"+d;h.prototype[d]=function(){return this[v]!==void 0?this[v]:this[v]=p.call(this)}}e.cachedProperty=u;function l(h){return typeof h=="string"?e.toArray(h,"hex"):h}e.parseBytes=l;function c(h){return new t(h,"hex","le")}e.intFromLE=c})(fo);var q_={exports:{}},XA;q_.exports=function(e){return XA||(XA=new Sc(null)),XA.generate(e)};function Sc(n){this.rand=n}q_.exports.Rand=Sc;Sc.prototype.generate=function(e){return this._rand(e)};Sc.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?Sc.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?Sc.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:typeof window=="object"&&(Sc.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var VB=require("crypto");if(typeof VB.randomBytes!="function")throw new Error("Not supported");Sc.prototype._rand=function(e){return VB.randomBytes(e)}}catch{}var YA={},ih=fu.exports,$g=fo,X_=$g.getNAF,ace=$g.getJSF,Y_=$g.assert;function Ec(n,e){this.type=n,this.p=new ih(e.p,16),this.red=e.prime?ih.red(e.prime):ih.mont(this.p),this.zero=new ih(0).toRed(this.red),this.one=new ih(1).toRed(this.red),this.two=new ih(2).toRed(this.red),this.n=e.n&&new ih(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var t=this.n&&this.p.div(this.n);!t||t.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var J_=Ec;Ec.prototype.point=function(){throw new Error("Not implemented")};Ec.prototype.validate=function(){throw new Error("Not implemented")};Ec.prototype._fixedNafMul=function(e,t){Y_(e.precomputed);var r=e._getDoubles(),i=X_(t,1,this._bitLength),s=(1<<r.step+1)-(r.step%2==0?2:1);s/=3;var o=[],u,l;for(u=0;u<i.length;u+=r.step){l=0;for(var c=u+r.step-1;c>=u;c--)l=(l<<1)+i[c];o.push(l)}for(var h=this.jpoint(null,null,null),d=this.jpoint(null,null,null),p=s;p>0;p--){for(u=0;u<o.length;u++)l=o[u],l===p?d=d.mixedAdd(r.points[u]):l===-p&&(d=d.mixedAdd(r.points[u].neg()));h=h.add(d)}return h.toP()};Ec.prototype._wnafMul=function(e,t){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var s=i.points,o=X_(t,r,this._bitLength),u=this.jpoint(null,null,null),l=o.length-1;l>=0;l--){for(var c=0;l>=0&&o[l]===0;l--)c++;if(l>=0&&c++,u=u.dblp(c),l<0)break;var h=o[l];Y_(h!==0),e.type==="affine"?h>0?u=u.mixedAdd(s[h-1>>1]):u=u.mixedAdd(s[-h-1>>1].neg()):h>0?u=u.add(s[h-1>>1]):u=u.add(s[-h-1>>1].neg())}return e.type==="affine"?u.toP():u};Ec.prototype._wnafMulAdd=function(e,t,r,i,s){var o=this._wnafT1,u=this._wnafT2,l=this._wnafT3,c=0,h,d,p;for(h=0;h<i;h++){p=t[h];var v=p._getNAFPoints(e);o[h]=v.wnd,u[h]=v.points}for(h=i-1;h>=1;h-=2){var S=h-1,w=h;if(o[S]!==1||o[w]!==1){l[S]=X_(r[S],o[S],this._bitLength),l[w]=X_(r[w],o[w],this._bitLength),c=Math.max(l[S].length,c),c=Math.max(l[w].length,c);continue}var T=[t[S],null,null,t[w]];t[S].y.cmp(t[w].y)===0?(T[1]=t[S].add(t[w]),T[2]=t[S].toJ().mixedAdd(t[w].neg())):t[S].y.cmp(t[w].y.redNeg())===0?(T[1]=t[S].toJ().mixedAdd(t[w]),T[2]=t[S].add(t[w].neg())):(T[1]=t[S].toJ().mixedAdd(t[w]),T[2]=t[S].toJ().mixedAdd(t[w].neg()));var x=[-3,-1,-5,-7,0,7,5,1,3],E=ace(r[S],r[w]);for(c=Math.max(E[0].length,c),l[S]=new Array(c),l[w]=new Array(c),d=0;d<c;d++){var O=E[0][d]|0,C=E[1][d]|0;l[S][d]=x[(O+1)*3+(C+1)],l[w][d]=0,u[S]=T}}var N=this.jpoint(null,null,null),$=this._wnafT4;for(h=c;h>=0;h--){for(var M=0;h>=0;){var L=!0;for(d=0;d<i;d++)$[d]=l[d][h]|0,$[d]!==0&&(L=!1);if(!L)break;M++,h--}if(h>=0&&M++,N=N.dblp(M),h<0)break;for(d=0;d<i;d++){var V=$[d];V!==0&&(V>0?p=u[d][V-1>>1]:V<0&&(p=u[d][-V-1>>1].neg()),p.type==="affine"?N=N.mixedAdd(p):N=N.add(p))}}for(h=0;h<i;h++)u[h]=null;return s?N:N.toP()};function Uo(n,e){this.curve=n,this.type=e,this.precomputed=null}Ec.BasePoint=Uo;Uo.prototype.eq=function(){throw new Error("Not implemented")};Uo.prototype.validate=function(){return this.curve.validate(this)};Ec.prototype.decodePoint=function(e,t){e=$g.toArray(e,t);var r=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1==2*r){e[0]===6?Y_(e[e.length-1]%2==0):e[0]===7&&Y_(e[e.length-1]%2==1);var i=this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));return i}else if((e[0]===2||e[0]===3)&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),e[0]===3);throw new Error("Unknown point format")};Uo.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Uo.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))};Uo.prototype.encode=function(e,t){return $g.encode(this._encode(t),e)};Uo.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this};Uo.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1};Uo.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,s=0;s<t;s+=e){for(var o=0;o<e;o++)i=i.dbl();r.push(i)}return{step:e,points:r}};Uo.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,i=r===1?null:this.dbl(),s=1;s<r;s++)t[s]=t[s-1].add(i);return{wnd:e,points:t}};Uo.prototype._getBeta=function(){return null};Uo.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var t0={exports:{}};typeof Object.create=="function"?t0.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t0.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var uce=fo,Sr=fu.exports,JA=t0.exports,n0=J_,lce=uce.assert;function Bo(n){n0.call(this,"short",n),this.a=new Sr(n.a,16).toRed(this.red),this.b=new Sr(n.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(n),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}JA(Bo,n0);var cce=Bo;Bo.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,r;if(e.beta)t=new Sr(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=i[0].cmp(i[1])<0?i[0]:i[1],t=t.toRed(this.red)}if(e.lambda)r=new Sr(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(t))===0?r=s[0]:(r=s[1],lce(this.g.mul(r).x.cmp(this.g.x.redMul(t))===0))}var o;return e.basis?o=e.basis.map(function(u){return{a:new Sr(u.a,16),b:new Sr(u.b,16)}}):o=this._getEndoBasis(r),{beta:t,lambda:r,basis:o}}};Bo.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:Sr.mont(e),r=new Sr(2).toRed(t).redInvm(),i=r.redNeg(),s=new Sr(3).toRed(t).redNeg().redSqrt().redMul(r),o=i.redAdd(s).fromRed(),u=i.redSub(s).fromRed();return[o,u]};Bo.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),r=e,i=this.n.clone(),s=new Sr(1),o=new Sr(0),u=new Sr(0),l=new Sr(1),c,h,d,p,v,S,w,T=0,x,E;r.cmpn(0)!==0;){var O=i.div(r);x=i.sub(O.mul(r)),E=u.sub(O.mul(s));var C=l.sub(O.mul(o));if(!d&&x.cmp(t)<0)c=w.neg(),h=s,d=x.neg(),p=E;else if(d&&++T==2)break;w=x,i=r,r=x,u=s,s=E,l=o,o=C}v=x.neg(),S=E;var N=d.sqr().add(p.sqr()),$=v.sqr().add(S.sqr());return $.cmp(N)>=0&&(v=c,S=h),d.negative&&(d=d.neg(),p=p.neg()),v.negative&&(v=v.neg(),S=S.neg()),[{a:d,b:p},{a:v,b:S}]};Bo.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],i=t[1],s=i.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),u=s.mul(r.a),l=o.mul(i.a),c=s.mul(r.b),h=o.mul(i.b),d=e.sub(u).sub(l),p=c.add(h).neg();return{k1:d,k2:p}};Bo.prototype.pointFromX=function(e,t){e=new Sr(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(i.redSqr().redSub(r).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(t&&!s||!t&&s)&&(i=i.redNeg()),this.point(e,i)};Bo.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,i=this.a.redMul(t),s=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return r.redSqr().redISub(s).cmpn(0)===0};Bo.prototype._endoWnafMulAdd=function(e,t,r){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var u=this._endoSplit(t[o]),l=e[o],c=l._getBeta();u.k1.negative&&(u.k1.ineg(),l=l.neg(!0)),u.k2.negative&&(u.k2.ineg(),c=c.neg(!0)),i[o*2]=l,i[o*2+1]=c,s[o*2]=u.k1,s[o*2+1]=u.k2}for(var h=this._wnafMulAdd(1,i,s,o*2,r),d=0;d<o*2;d++)i[d]=null,s[d]=null;return h};function fi(n,e,t,r){n0.BasePoint.call(this,n,"affine"),e===null&&t===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Sr(e,16),this.y=new Sr(t,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}JA(fi,n0.BasePoint);Bo.prototype.point=function(e,t,r){return new fi(this,e,t,r)};Bo.prototype.pointFromJSON=function(e,t){return fi.fromJSON(this,e,t)};fi.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,i=function(s){return r.point(s.x.redMul(r.endo.beta),s.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}};fi.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};fi.fromJSON=function(e,t,r){typeof t=="string"&&(t=JSON.parse(t));var i=e.point(t[0],t[1],r);if(!t[2])return i;function s(u){return e.point(u[0],u[1],r)}var o=t[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};fi.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};fi.prototype.isInfinity=function(){return this.inf};fi.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)};fi.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),s=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),u=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,u)};fi.prototype.getX=function(){return this.x.fromRed()};fi.prototype.getY=function(){return this.y.fromRed()};fi.prototype.mul=function(e){return e=new Sr(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};fi.prototype.mulAdd=function(e,t,r){var i=[this,t],s=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};fi.prototype.jmulAdd=function(e,t,r){var i=[this,t],s=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};fi.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};fi.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,i=function(s){return s.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return t};fi.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Ti(n,e,t,r){n0.BasePoint.call(this,n,"jacobian"),e===null&&t===null&&r===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Sr(0)):(this.x=new Sr(e,16),this.y=new Sr(t,16),this.z=new Sr(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}JA(Ti,n0.BasePoint);Bo.prototype.jpoint=function(e,t,r){return new Ti(this,e,t,r)};Ti.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(r,i)};Ti.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Ti.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(t),s=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),u=e.y.redMul(r.redMul(this.z)),l=i.redSub(s),c=o.redSub(u);if(l.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var h=l.redSqr(),d=h.redMul(l),p=i.redMul(h),v=c.redSqr().redIAdd(d).redISub(p).redISub(p),S=c.redMul(p.redISub(v)).redISub(o.redMul(d)),w=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(v,S,w)};Ti.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,i=e.x.redMul(t),s=this.y,o=e.y.redMul(t).redMul(this.z),u=r.redSub(i),l=s.redSub(o);if(u.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=u.redSqr(),h=c.redMul(u),d=r.redMul(c),p=l.redSqr().redIAdd(h).redISub(d).redISub(d),v=l.redMul(d.redISub(p)).redISub(s.redMul(h)),S=this.z.redMul(u);return this.curve.jpoint(p,v,S)};Ti.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var i=this.curve.a,s=this.curve.tinv,o=this.x,u=this.y,l=this.z,c=l.redSqr().redSqr(),h=u.redAdd(u);for(t=0;t<e;t++){var d=o.redSqr(),p=h.redSqr(),v=p.redSqr(),S=d.redAdd(d).redIAdd(d).redIAdd(i.redMul(c)),w=o.redMul(p),T=S.redSqr().redISub(w.redAdd(w)),x=w.redISub(T),E=S.redMul(x);E=E.redIAdd(E).redISub(v);var O=h.redMul(l);t+1<e&&(c=c.redMul(v)),o=T,l=O,h=E}return this.curve.jpoint(o,h.redMul(s),l)};Ti.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Ti.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),u=this.x.redAdd(s).redSqr().redISub(i).redISub(o);u=u.redIAdd(u);var l=i.redAdd(i).redIAdd(i),c=l.redSqr().redISub(u).redISub(u),h=o.redIAdd(o);h=h.redIAdd(h),h=h.redIAdd(h),e=c,t=l.redMul(u.redISub(c)).redISub(h),r=this.y.redAdd(this.y)}else{var d=this.x.redSqr(),p=this.y.redSqr(),v=p.redSqr(),S=this.x.redAdd(p).redSqr().redISub(d).redISub(v);S=S.redIAdd(S);var w=d.redAdd(d).redIAdd(d),T=w.redSqr(),x=v.redIAdd(v);x=x.redIAdd(x),x=x.redIAdd(x),e=T.redISub(S).redISub(S),t=w.redMul(S.redISub(e)).redISub(x),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(e,t,r)};Ti.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),u=this.x.redAdd(s).redSqr().redISub(i).redISub(o);u=u.redIAdd(u);var l=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),c=l.redSqr().redISub(u).redISub(u);e=c;var h=o.redIAdd(o);h=h.redIAdd(h),h=h.redIAdd(h),t=l.redMul(u.redISub(c)).redISub(h),r=this.y.redAdd(this.y)}else{var d=this.z.redSqr(),p=this.y.redSqr(),v=this.x.redMul(p),S=this.x.redSub(d).redMul(this.x.redAdd(d));S=S.redAdd(S).redIAdd(S);var w=v.redIAdd(v);w=w.redIAdd(w);var T=w.redAdd(w);e=S.redSqr().redISub(T),r=this.y.redAdd(this.z).redSqr().redISub(p).redISub(d);var x=p.redSqr();x=x.redIAdd(x),x=x.redIAdd(x),x=x.redIAdd(x),t=S.redMul(w.redISub(e)).redISub(x)}return this.curve.jpoint(e,t,r)};Ti.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,i=this.z,s=i.redSqr().redSqr(),o=t.redSqr(),u=r.redSqr(),l=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),c=t.redAdd(t);c=c.redIAdd(c);var h=c.redMul(u),d=l.redSqr().redISub(h.redAdd(h)),p=h.redISub(d),v=u.redSqr();v=v.redIAdd(v),v=v.redIAdd(v),v=v.redIAdd(v);var S=l.redMul(p).redISub(v),w=r.redAdd(r).redMul(i);return this.curve.jpoint(d,S,w)};Ti.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),i=t.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),u=this.x.redAdd(t).redSqr().redISub(e).redISub(i);u=u.redIAdd(u),u=u.redAdd(u).redIAdd(u),u=u.redISub(o);var l=u.redSqr(),c=i.redIAdd(i);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var h=s.redIAdd(u).redSqr().redISub(o).redISub(l).redISub(c),d=t.redMul(h);d=d.redIAdd(d),d=d.redIAdd(d);var p=this.x.redMul(l).redISub(d);p=p.redIAdd(p),p=p.redIAdd(p);var v=this.y.redMul(h.redMul(c.redISub(h)).redISub(u.redMul(l)));v=v.redIAdd(v),v=v.redIAdd(v),v=v.redIAdd(v);var S=this.z.redAdd(u).redSqr().redISub(r).redISub(l);return this.curve.jpoint(p,v,S)};Ti.prototype.mul=function(e,t){return e=new Sr(e,t),this.curve._wnafMul(this,e)};Ti.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var i=t.redMul(this.z),s=r.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};Ti.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(s),this.x.cmp(r)===0)return!0}};Ti.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Ti.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var r0=fu.exports,WB=t0.exports,K_=J_,fce=fo;function i0(n){K_.call(this,"mont",n),this.a=new r0(n.a,16).toRed(this.red),this.b=new r0(n.b,16).toRed(this.red),this.i4=new r0(4).toRed(this.red).redInvm(),this.two=new r0(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}WB(i0,K_);var hce=i0;i0.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),i=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t),s=i.redSqrt();return s.redSqr().cmp(i)===0};function hi(n,e,t){K_.BasePoint.call(this,n,"projective"),e===null&&t===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r0(e,16),this.z=new r0(t,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}WB(hi,K_.BasePoint);i0.prototype.decodePoint=function(e,t){return this.point(fce.toArray(e,t),1)};i0.prototype.point=function(e,t){return new hi(this,e,t)};i0.prototype.pointFromJSON=function(e){return hi.fromJSON(this,e)};hi.prototype.precompute=function(){};hi.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};hi.fromJSON=function(e,t){return new hi(e,t[0],t[1]||e.one)};hi.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};hi.prototype.isInfinity=function(){return this.z.cmpn(0)===0};hi.prototype.dbl=function(){var e=this.x.redAdd(this.z),t=e.redSqr(),r=this.x.redSub(this.z),i=r.redSqr(),s=t.redSub(i),o=t.redMul(i),u=s.redMul(i.redAdd(this.curve.a24.redMul(s)));return this.curve.point(o,u)};hi.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};hi.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),i=this.x.redSub(this.z),s=e.x.redAdd(e.z),o=e.x.redSub(e.z),u=o.redMul(r),l=s.redMul(i),c=t.z.redMul(u.redAdd(l).redSqr()),h=t.x.redMul(u.redISub(l).redSqr());return this.curve.point(c,h)};hi.prototype.mul=function(e){for(var t=e.clone(),r=this,i=this.curve.point(null,null),s=this,o=[];t.cmpn(0)!==0;t.iushrn(1))o.push(t.andln(1));for(var u=o.length-1;u>=0;u--)o[u]===0?(r=r.diffAdd(i,s),i=i.dbl()):(i=r.diffAdd(i,s),r=r.dbl());return i};hi.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};hi.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};hi.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};hi.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};hi.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var dce=fo,al=fu.exports,jB=t0.exports,Z_=J_,pce=dce.assert;function hu(n){this.twisted=(n.a|0)!=1,this.mOneA=this.twisted&&(n.a|0)==-1,this.extended=this.mOneA,Z_.call(this,"edwards",n),this.a=new al(n.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new al(n.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new al(n.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),pce(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(n.c|0)==1}jB(hu,Z_);var mce=hu;hu.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};hu.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};hu.prototype.jpoint=function(e,t,r,i){return this.point(e,t,r,i)};hu.prototype.pointFromX=function(e,t){e=new al(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr(),i=this.c2.redSub(this.a.redMul(r)),s=this.one.redSub(this.c2.redMul(this.d).redMul(r)),o=i.redMul(s.redInvm()),u=o.redSqrt();if(u.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");var l=u.fromRed().isOdd();return(t&&!l||!t&&l)&&(u=u.redNeg()),this.point(e,u)};hu.prototype.pointFromY=function(e,t){e=new al(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr(),i=r.redSub(this.c2),s=r.redMul(this.d).redMul(this.c2).redSub(this.a),o=i.redMul(s.redInvm());if(o.cmp(this.zero)===0){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var u=o.redSqrt();if(u.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");return u.fromRed().isOdd()!==t&&(u=u.redNeg()),this.point(u,e)};hu.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),i=t.redMul(this.a).redAdd(r),s=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return i.cmp(s)===0};function er(n,e,t,r,i){Z_.BasePoint.call(this,n,"projective"),e===null&&t===null&&r===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new al(e,16),this.y=new al(t,16),this.z=r?new al(r,16):this.curve.one,this.t=i&&new al(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}jB(er,Z_.BasePoint);hu.prototype.pointFromJSON=function(e){return er.fromJSON(this,e)};hu.prototype.point=function(e,t,r,i){return new er(this,e,t,r,i)};er.fromJSON=function(e,t){return new er(e,t[0],t[1],t[2])};er.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};er.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};er.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var i=this.curve._mulA(e),s=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=i.redAdd(t),u=o.redSub(r),l=i.redSub(t),c=s.redMul(u),h=o.redMul(l),d=s.redMul(l),p=u.redMul(o);return this.curve.point(c,h,p,d)};er.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),t=this.x.redSqr(),r=this.y.redSqr(),i,s,o,u,l,c;if(this.curve.twisted){u=this.curve._mulA(t);var h=u.redAdd(r);this.zOne?(i=e.redSub(t).redSub(r).redMul(h.redSub(this.curve.two)),s=h.redMul(u.redSub(r)),o=h.redSqr().redSub(h).redSub(h)):(l=this.z.redSqr(),c=h.redSub(l).redISub(l),i=e.redSub(t).redISub(r).redMul(c),s=h.redMul(u.redSub(r)),o=h.redMul(c))}else u=t.redAdd(r),l=this.curve._mulC(this.z).redSqr(),c=u.redSub(l).redSub(l),i=this.curve._mulC(e.redISub(u)).redMul(c),s=this.curve._mulC(u).redMul(t.redISub(r)),o=u.redMul(c);return this.curve.point(i,s,o)};er.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};er.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),s=this.z.redMul(e.z.redAdd(e.z)),o=r.redSub(t),u=s.redSub(i),l=s.redAdd(i),c=r.redAdd(t),h=o.redMul(u),d=l.redMul(c),p=o.redMul(c),v=u.redMul(l);return this.curve.point(h,d,v,p)};er.prototype._projAdd=function(e){var t=this.z.redMul(e.z),r=t.redSqr(),i=this.x.redMul(e.x),s=this.y.redMul(e.y),o=this.curve.d.redMul(i).redMul(s),u=r.redSub(o),l=r.redAdd(o),c=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(s),h=t.redMul(u).redMul(c),d,p;return this.curve.twisted?(d=t.redMul(l).redMul(s.redSub(this.curve._mulA(i))),p=u.redMul(l)):(d=t.redMul(l).redMul(s.redSub(i)),p=this.curve._mulC(u).redMul(l)),this.curve.point(h,d,p)};er.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};er.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};er.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)};er.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)};er.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};er.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};er.prototype.getX=function(){return this.normalize(),this.x.fromRed()};er.prototype.getY=function(){return this.normalize(),this.y.fromRed()};er.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};er.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(t)===0)return!0;for(var r=e.clone(),i=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(i),this.x.cmp(t)===0)return!0}};er.prototype.toP=er.prototype.normalize;er.prototype.mixedAdd=er.prototype.add;(function(n){var e=n;e.base=J_,e.short=cce,e.mont=hce,e.edwards=mce})(YA);var Q_={},ew={},En={},vce=rh,gce=t0.exports;En.inherits=gce;function yce(n,e){return(n.charCodeAt(e)&64512)!=55296||e<0||e+1>=n.length?!1:(n.charCodeAt(e+1)&64512)==56320}function xce(n,e){if(Array.isArray(n))return n.slice();if(!n)return[];var t=[];if(typeof n=="string")if(e){if(e==="hex")for(n=n.replace(/[^a-z0-9]+/ig,""),n.length%2!=0&&(n="0"+n),i=0;i<n.length;i+=2)t.push(parseInt(n[i]+n[i+1],16))}else for(var r=0,i=0;i<n.length;i++){var s=n.charCodeAt(i);s<128?t[r++]=s:s<2048?(t[r++]=s>>6|192,t[r++]=s&63|128):yce(n,i)?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),t[r++]=s>>18|240,t[r++]=s>>12&63|128,t[r++]=s>>6&63|128,t[r++]=s&63|128):(t[r++]=s>>12|224,t[r++]=s>>6&63|128,t[r++]=s&63|128)}else for(i=0;i<n.length;i++)t[i]=n[i]|0;return t}En.toArray=xce;function _ce(n){for(var e="",t=0;t<n.length;t++)e+=XB(n[t].toString(16));return e}En.toHex=_ce;function qB(n){var e=n>>>24|n>>>8&65280|n<<8&16711680|(n&255)<<24;return e>>>0}En.htonl=qB;function wce(n,e){for(var t="",r=0;r<n.length;r++){var i=n[r];e==="little"&&(i=qB(i)),t+=YB(i.toString(16))}return t}En.toHex32=wce;function XB(n){return n.length===1?"0"+n:n}En.zero2=XB;function YB(n){return n.length===7?"0"+n:n.length===6?"00"+n:n.length===5?"000"+n:n.length===4?"0000"+n:n.length===3?"00000"+n:n.length===2?"000000"+n:n.length===1?"0000000"+n:n}En.zero8=YB;function bce(n,e,t,r){var i=t-e;vce(i%4==0);for(var s=new Array(i/4),o=0,u=e;o<s.length;o++,u+=4){var l;r==="big"?l=n[u]<<24|n[u+1]<<16|n[u+2]<<8|n[u+3]:l=n[u+3]<<24|n[u+2]<<16|n[u+1]<<8|n[u],s[o]=l>>>0}return s}En.join32=bce;function Sce(n,e){for(var t=new Array(n.length*4),r=0,i=0;r<n.length;r++,i+=4){var s=n[r];e==="big"?(t[i]=s>>>24,t[i+1]=s>>>16&255,t[i+2]=s>>>8&255,t[i+3]=s&255):(t[i+3]=s>>>24,t[i+2]=s>>>16&255,t[i+1]=s>>>8&255,t[i]=s&255)}return t}En.split32=Sce;function Ece(n,e){return n>>>e|n<<32-e}En.rotr32=Ece;function Mce(n,e){return n<<e|n>>>32-e}En.rotl32=Mce;function Dce(n,e){return n+e>>>0}En.sum32=Dce;function Ace(n,e,t){return n+e+t>>>0}En.sum32_3=Ace;function Tce(n,e,t,r){return n+e+t+r>>>0}En.sum32_4=Tce;function Cce(n,e,t,r,i){return n+e+t+r+i>>>0}En.sum32_5=Cce;function Pce(n,e,t,r){var i=n[e],s=n[e+1],o=r+s>>>0,u=(o<r?1:0)+t+i;n[e]=u>>>0,n[e+1]=o}En.sum64=Pce;function Rce(n,e,t,r){var i=e+r>>>0,s=(i<e?1:0)+n+t;return s>>>0}En.sum64_hi=Rce;function kce(n,e,t,r){var i=e+r;return i>>>0}En.sum64_lo=kce;function Ice(n,e,t,r,i,s,o,u){var l=0,c=e;c=c+r>>>0,l+=c<e?1:0,c=c+s>>>0,l+=c<s?1:0,c=c+u>>>0,l+=c<u?1:0;var h=n+t+i+o+l;return h>>>0}En.sum64_4_hi=Ice;function Lce(n,e,t,r,i,s,o,u){var l=e+r+s+u;return l>>>0}En.sum64_4_lo=Lce;function Fce(n,e,t,r,i,s,o,u,l,c){var h=0,d=e;d=d+r>>>0,h+=d<e?1:0,d=d+s>>>0,h+=d<s?1:0,d=d+u>>>0,h+=d<u?1:0,d=d+c>>>0,h+=d<c?1:0;var p=n+t+i+o+l+h;return p>>>0}En.sum64_5_hi=Fce;function Oce(n,e,t,r,i,s,o,u,l,c){var h=e+r+s+u+c;return h>>>0}En.sum64_5_lo=Oce;function Nce(n,e,t){var r=e<<32-t|n>>>t;return r>>>0}En.rotr64_hi=Nce;function Uce(n,e,t){var r=n<<32-t|e>>>t;return r>>>0}En.rotr64_lo=Uce;function Bce(n,e,t){return n>>>t}En.shr64_hi=Bce;function zce(n,e,t){var r=n<<32-t|e>>>t;return r>>>0}En.shr64_lo=zce;var s0={},JB=En,$ce=rh;function tw(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}s0.BlockHash=tw;tw.prototype.update=function(e,t){if(e=JB.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var r=e.length%this._delta8;this.pending=e.slice(e.length-r,e.length),this.pending.length===0&&(this.pending=null),e=JB.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};tw.prototype.digest=function(e){return this.update(this._pad()),$ce(this.pending===null),this._digest(e)};tw.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,i=new Array(r+this.padLength);i[0]=128;for(var s=1;s<r;s++)i[s]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=e>>>24&255,i[s++]=e>>>16&255,i[s++]=e>>>8&255,i[s++]=e&255}else for(i[s++]=e&255,i[s++]=e>>>8&255,i[s++]=e>>>16&255,i[s++]=e>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,o=8;o<this.padLength;o++)i[s++]=0;return i};var o0={},du={},Gce=En,pu=Gce.rotr32;function Hce(n,e,t,r){if(n===0)return KB(e,t,r);if(n===1||n===3)return QB(e,t,r);if(n===2)return ZB(e,t,r)}du.ft_1=Hce;function KB(n,e,t){return n&e^~n&t}du.ch32=KB;function ZB(n,e,t){return n&e^n&t^e&t}du.maj32=ZB;function QB(n,e,t){return n^e^t}du.p32=QB;function Vce(n){return pu(n,2)^pu(n,13)^pu(n,22)}du.s0_256=Vce;function Wce(n){return pu(n,6)^pu(n,11)^pu(n,25)}du.s1_256=Wce;function jce(n){return pu(n,7)^pu(n,18)^n>>>3}du.g0_256=jce;function qce(n){return pu(n,17)^pu(n,19)^n>>>10}du.g1_256=qce;var a0=En,Xce=s0,Yce=du,KA=a0.rotl32,Gg=a0.sum32,Jce=a0.sum32_5,Kce=Yce.ft_1,e7=Xce.BlockHash,Zce=[1518500249,1859775393,2400959708,3395469782];function mu(){if(!(this instanceof mu))return new mu;e7.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}a0.inherits(mu,e7);var Qce=mu;mu.blockSize=512;mu.outSize=160;mu.hmacStrength=80;mu.padLength=64;mu.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=KA(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var s=this.h[0],o=this.h[1],u=this.h[2],l=this.h[3],c=this.h[4];for(i=0;i<r.length;i++){var h=~~(i/20),d=Jce(KA(s,5),Kce(h,o,u,l),c,r[i],Zce[h]);c=l,l=u,u=KA(o,30),o=s,s=d}this.h[0]=Gg(this.h[0],s),this.h[1]=Gg(this.h[1],o),this.h[2]=Gg(this.h[2],u),this.h[3]=Gg(this.h[3],l),this.h[4]=Gg(this.h[4],c)};mu.prototype._digest=function(e){return e==="hex"?a0.toHex32(this.h,"big"):a0.split32(this.h,"big")};var u0=En,efe=s0,l0=du,tfe=rh,wa=u0.sum32,nfe=u0.sum32_4,rfe=u0.sum32_5,ife=l0.ch32,sfe=l0.maj32,ofe=l0.s0_256,afe=l0.s1_256,ufe=l0.g0_256,lfe=l0.g1_256,t7=efe.BlockHash,cfe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function vu(){if(!(this instanceof vu))return new vu;t7.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=cfe,this.W=new Array(64)}u0.inherits(vu,t7);var n7=vu;vu.blockSize=512;vu.outSize=256;vu.hmacStrength=192;vu.padLength=64;vu.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=nfe(lfe(r[i-2]),r[i-7],ufe(r[i-15]),r[i-16]);var s=this.h[0],o=this.h[1],u=this.h[2],l=this.h[3],c=this.h[4],h=this.h[5],d=this.h[6],p=this.h[7];for(tfe(this.k.length===r.length),i=0;i<r.length;i++){var v=rfe(p,afe(c),ife(c,h,d),this.k[i],r[i]),S=wa(ofe(s),sfe(s,o,u));p=d,d=h,h=c,c=wa(l,v),l=u,u=o,o=s,s=wa(v,S)}this.h[0]=wa(this.h[0],s),this.h[1]=wa(this.h[1],o),this.h[2]=wa(this.h[2],u),this.h[3]=wa(this.h[3],l),this.h[4]=wa(this.h[4],c),this.h[5]=wa(this.h[5],h),this.h[6]=wa(this.h[6],d),this.h[7]=wa(this.h[7],p)};vu.prototype._digest=function(e){return e==="hex"?u0.toHex32(this.h,"big"):u0.split32(this.h,"big")};var ZA=En,r7=n7;function ul(){if(!(this instanceof ul))return new ul;r7.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}ZA.inherits(ul,r7);var ffe=ul;ul.blockSize=512;ul.outSize=224;ul.hmacStrength=192;ul.padLength=64;ul.prototype._digest=function(e){return e==="hex"?ZA.toHex32(this.h.slice(0,7),"big"):ZA.split32(this.h.slice(0,7),"big")};var Os=En,hfe=s0,dfe=rh,gu=Os.rotr64_hi,yu=Os.rotr64_lo,i7=Os.shr64_hi,s7=Os.shr64_lo,Mc=Os.sum64,QA=Os.sum64_hi,eT=Os.sum64_lo,pfe=Os.sum64_4_hi,mfe=Os.sum64_4_lo,vfe=Os.sum64_5_hi,gfe=Os.sum64_5_lo,o7=hfe.BlockHash,yfe=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ba(){if(!(this instanceof ba))return new ba;o7.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=yfe,this.W=new Array(160)}Os.inherits(ba,o7);var a7=ba;ba.blockSize=1024;ba.outSize=512;ba.hmacStrength=192;ba.padLength=128;ba.prototype._prepareBlock=function(e,t){for(var r=this.W,i=0;i<32;i++)r[i]=e[t+i];for(;i<r.length;i+=2){var s=Cfe(r[i-4],r[i-3]),o=Pfe(r[i-4],r[i-3]),u=r[i-14],l=r[i-13],c=Afe(r[i-30],r[i-29]),h=Tfe(r[i-30],r[i-29]),d=r[i-32],p=r[i-31];r[i]=pfe(s,o,u,l,c,h,d,p),r[i+1]=mfe(s,o,u,l,c,h,d,p)}};ba.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,i=this.h[0],s=this.h[1],o=this.h[2],u=this.h[3],l=this.h[4],c=this.h[5],h=this.h[6],d=this.h[7],p=this.h[8],v=this.h[9],S=this.h[10],w=this.h[11],T=this.h[12],x=this.h[13],E=this.h[14],O=this.h[15];dfe(this.k.length===r.length);for(var C=0;C<r.length;C+=2){var N=E,$=O,M=Mfe(p,v),L=Dfe(p,v),V=xfe(p,v,S,w,T),Z=_fe(p,v,S,w,T,x),H=this.k[C],D=this.k[C+1],R=r[C],P=r[C+1],F=vfe(N,$,M,L,V,Z,H,D,R,P),z=gfe(N,$,M,L,V,Z,H,D,R,P);N=Sfe(i,s),$=Efe(i,s),M=wfe(i,s,o,u,l),L=bfe(i,s,o,u,l,c);var j=QA(N,$,M,L),B=eT(N,$,M,L);E=T,O=x,T=S,x=w,S=p,w=v,p=QA(h,d,F,z),v=eT(d,d,F,z),h=l,d=c,l=o,c=u,o=i,u=s,i=QA(F,z,j,B),s=eT(F,z,j,B)}Mc(this.h,0,i,s),Mc(this.h,2,o,u),Mc(this.h,4,l,c),Mc(this.h,6,h,d),Mc(this.h,8,p,v),Mc(this.h,10,S,w),Mc(this.h,12,T,x),Mc(this.h,14,E,O)};ba.prototype._digest=function(e){return e==="hex"?Os.toHex32(this.h,"big"):Os.split32(this.h,"big")};function xfe(n,e,t,r,i){var s=n&t^~n&i;return s<0&&(s+=4294967296),s}function _fe(n,e,t,r,i,s){var o=e&r^~e&s;return o<0&&(o+=4294967296),o}function wfe(n,e,t,r,i){var s=n&t^n&i^t&i;return s<0&&(s+=4294967296),s}function bfe(n,e,t,r,i,s){var o=e&r^e&s^r&s;return o<0&&(o+=4294967296),o}function Sfe(n,e){var t=gu(n,e,28),r=gu(e,n,2),i=gu(e,n,7),s=t^r^i;return s<0&&(s+=4294967296),s}function Efe(n,e){var t=yu(n,e,28),r=yu(e,n,2),i=yu(e,n,7),s=t^r^i;return s<0&&(s+=4294967296),s}function Mfe(n,e){var t=gu(n,e,14),r=gu(n,e,18),i=gu(e,n,9),s=t^r^i;return s<0&&(s+=4294967296),s}function Dfe(n,e){var t=yu(n,e,14),r=yu(n,e,18),i=yu(e,n,9),s=t^r^i;return s<0&&(s+=4294967296),s}function Afe(n,e){var t=gu(n,e,1),r=gu(n,e,8),i=i7(n,e,7),s=t^r^i;return s<0&&(s+=4294967296),s}function Tfe(n,e){var t=yu(n,e,1),r=yu(n,e,8),i=s7(n,e,7),s=t^r^i;return s<0&&(s+=4294967296),s}function Cfe(n,e){var t=gu(n,e,19),r=gu(e,n,29),i=i7(n,e,6),s=t^r^i;return s<0&&(s+=4294967296),s}function Pfe(n,e){var t=yu(n,e,19),r=yu(e,n,29),i=s7(n,e,6),s=t^r^i;return s<0&&(s+=4294967296),s}var tT=En,u7=a7;function ll(){if(!(this instanceof ll))return new ll;u7.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}tT.inherits(ll,u7);var Rfe=ll;ll.blockSize=1024;ll.outSize=384;ll.hmacStrength=192;ll.padLength=128;ll.prototype._digest=function(e){return e==="hex"?tT.toHex32(this.h.slice(0,12),"big"):tT.split32(this.h.slice(0,12),"big")};o0.sha1=Qce;o0.sha224=ffe;o0.sha256=n7;o0.sha384=Rfe;o0.sha512=a7;var l7={},sh=En,kfe=s0,nw=sh.rotl32,c7=sh.sum32,Hg=sh.sum32_3,f7=sh.sum32_4,h7=kfe.BlockHash;function xu(){if(!(this instanceof xu))return new xu;h7.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}sh.inherits(xu,h7);l7.ripemd160=xu;xu.blockSize=512;xu.outSize=160;xu.hmacStrength=192;xu.padLength=64;xu.prototype._update=function(e,t){for(var r=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],u=this.h[4],l=r,c=i,h=s,d=o,p=u,v=0;v<80;v++){var S=c7(nw(f7(r,d7(v,i,s,o),e[Ffe[v]+t],Ife(v)),Nfe[v]),u);r=u,u=o,o=nw(s,10),s=i,i=S,S=c7(nw(f7(l,d7(79-v,c,h,d),e[Ofe[v]+t],Lfe(v)),Ufe[v]),p),l=p,p=d,d=nw(h,10),h=c,c=S}S=Hg(this.h[1],s,d),this.h[1]=Hg(this.h[2],o,p),this.h[2]=Hg(this.h[3],u,l),this.h[3]=Hg(this.h[4],r,c),this.h[4]=Hg(this.h[0],i,h),this.h[0]=S};xu.prototype._digest=function(e){return e==="hex"?sh.toHex32(this.h,"little"):sh.split32(this.h,"little")};function d7(n,e,t,r){return n<=15?e^t^r:n<=31?e&t|~e&r:n<=47?(e|~t)^r:n<=63?e&r|t&~r:e^(t|~r)}function Ife(n){return n<=15?0:n<=31?1518500249:n<=47?1859775393:n<=63?2400959708:2840853838}function Lfe(n){return n<=15?1352829926:n<=31?1548603684:n<=47?1836072691:n<=63?2053994217:0}var Ffe=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Ofe=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Nfe=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Ufe=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Bfe=En,zfe=rh;function c0(n,e,t){if(!(this instanceof c0))return new c0(n,e,t);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(Bfe.toArray(e,t))}var $fe=c0;c0.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),zfe(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=new this.Hash().update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)};c0.prototype.update=function(e,t){return this.inner.update(e,t),this};c0.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(n){var e=n;e.utils=En,e.common=s0,e.sha=o0,e.ripemd=l7,e.hmac=$fe,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(ew);(function(n){var e=n,t=ew,r=YA,i=fo,s=i.assert;function o(c){c.type==="short"?this.curve=new r.short(c):c.type==="edwards"?this.curve=new r.edwards(c):this.curve=new r.mont(c),this.g=this.curve.g,this.n=this.curve.n,this.hash=c.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=o;function u(c,h){Object.defineProperty(e,c,{configurable:!0,enumerable:!0,get:function(){var d=new o(h);return Object.defineProperty(e,c,{configurable:!0,enumerable:!0,value:d}),d}})}u("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:t.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),u("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:t.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),u("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:t.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),u("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:t.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),u("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:t.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),u("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:t.sha256,gRed:!1,g:["9"]}),u("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:t.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var l;try{l=require("./precomputed/secp256k1")}catch{l=void 0}u("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:t.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",l]})})(Q_);var Gfe=ew,oh=qA,p7=rh;function Dc(n){if(!(this instanceof Dc))return new Dc(n);this.hash=n.hash,this.predResist=!!n.predResist,this.outLen=this.hash.outSize,this.minEntropy=n.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=oh.toArray(n.entropy,n.entropyEnc||"hex"),t=oh.toArray(n.nonce,n.nonceEnc||"hex"),r=oh.toArray(n.pers,n.persEnc||"hex");p7(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,t,r)}var Hfe=Dc;Dc.prototype._init=function(e,t,r){var i=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};Dc.prototype._hmac=function(){return new Gfe.hmac(this.hash,this.K)};Dc.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),!!e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Dc.prototype.reseed=function(e,t,r,i){typeof t!="string"&&(i=r,r=t,t=null),e=oh.toArray(e,t),r=oh.toArray(r,i),p7(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1};Dc.prototype.generate=function(e,t,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(i=r,r=t,t=null),r&&(r=oh.toArray(r,i||"hex"),this._update(r));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(r),this._reseed++,oh.encode(o,t)};var Vfe=fu.exports,Wfe=fo,nT=Wfe.assert;function Qi(n,e){this.ec=n,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var jfe=Qi;Qi.fromPublic=function(e,t,r){return t instanceof Qi?t:new Qi(e,{pub:t,pubEnc:r})};Qi.fromPrivate=function(e,t,r){return t instanceof Qi?t:new Qi(e,{priv:t,privEnc:r})};Qi.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Qi.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub};Qi.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Qi.prototype._importPrivate=function(e,t){this.priv=new Vfe(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)};Qi.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?nT(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&nT(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)};Qi.prototype.derive=function(e){return e.validate()||nT(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Qi.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)};Qi.prototype.verify=function(e,t){return this.ec.verify(e,t,this)};Qi.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var rw=fu.exports,rT=fo,qfe=rT.assert;function iw(n,e){if(n instanceof iw)return n;this._importDER(n,e)||(qfe(n.r&&n.s,"Signature without r or s"),this.r=new rw(n.r,16),this.s=new rw(n.s,16),n.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=n.recoveryParam)}var Xfe=iw;function Yfe(){this.place=0}function iT(n,e){var t=n[e.place++];if(!(t&128))return t;var r=t&15;if(r===0||r>4)return!1;for(var i=0,s=0,o=e.place;s<r;s++,o++)i<<=8,i|=n[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function m7(n){for(var e=0,t=n.length-1;!n[e]&&!(n[e+1]&128)&&e<t;)e++;return e===0?n:n.slice(e)}iw.prototype._importDER=function(e,t){e=rT.toArray(e,t);var r=new Yfe;if(e[r.place++]!==48)return!1;var i=iT(e,r);if(i===!1||i+r.place!==e.length||e[r.place++]!==2)return!1;var s=iT(e,r);if(s===!1)return!1;var o=e.slice(r.place,s+r.place);if(r.place+=s,e[r.place++]!==2)return!1;var u=iT(e,r);if(u===!1||e.length!==u+r.place)return!1;var l=e.slice(r.place,u+r.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new rw(o),this.s=new rw(l),this.recoveryParam=null,!0};function sT(n,e){if(e<128){n.push(e);return}var t=1+(Math.log(e)/Math.LN2>>>3);for(n.push(t|128);--t;)n.push(e>>>(t<<3)&255);n.push(e)}iw.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),r[0]&128&&(r=[0].concat(r)),t=m7(t),r=m7(r);!r[0]&&!(r[1]&128);)r=r.slice(1);var i=[2];sT(i,t.length),i=i.concat(t),i.push(2),sT(i,r.length);var s=i.concat(r),o=[48];return sT(o,s.length),o=o.concat(s),rT.encode(o,e)};var ah=fu.exports,v7=Hfe,Jfe=fo,oT=Q_,Kfe=q_.exports,g7=Jfe.assert,aT=jfe,sw=Xfe;function zo(n){if(!(this instanceof zo))return new zo(n);typeof n=="string"&&(g7(Object.prototype.hasOwnProperty.call(oT,n),"Unknown curve "+n),n=oT[n]),n instanceof oT.PresetCurve&&(n={curve:n}),this.curve=n.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=n.curve.g,this.g.precompute(n.curve.n.bitLength()+1),this.hash=n.hash||n.curve.hash}var Zfe=zo;zo.prototype.keyPair=function(e){return new aT(this,e)};zo.prototype.keyFromPrivate=function(e,t){return aT.fromPrivate(this,e,t)};zo.prototype.keyFromPublic=function(e,t){return aT.fromPublic(this,e,t)};zo.prototype.genKeyPair=function(e){e||(e={});for(var t=new v7({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Kfe(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new ah(2));;){var s=new ah(t.generate(r));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};zo.prototype._truncateToN=function(e,t){var r=e.byteLength()*8-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e};zo.prototype.sign=function(e,t,r,i){typeof r=="object"&&(i=r,r=null),i||(i={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new ah(e,16));for(var s=this.n.byteLength(),o=t.getPrivate().toArray("be",s),u=e.toArray("be",s),l=new v7({hash:this.hash,entropy:o,nonce:u,pers:i.pers,persEnc:i.persEnc||"utf8"}),c=this.n.sub(new ah(1)),h=0;;h++){var d=i.k?i.k(h):new ah(l.generate(this.n.byteLength()));if(d=this._truncateToN(d,!0),!(d.cmpn(1)<=0||d.cmp(c)>=0)){var p=this.g.mul(d);if(!p.isInfinity()){var v=p.getX(),S=v.umod(this.n);if(S.cmpn(0)!==0){var w=d.invm(this.n).mul(S.mul(t.getPrivate()).iadd(e));if(w=w.umod(this.n),w.cmpn(0)!==0){var T=(p.getY().isOdd()?1:0)|(v.cmp(S)!==0?2:0);return i.canonical&&w.cmp(this.nh)>0&&(w=this.n.sub(w),T^=1),new sw({r:S,s:w,recoveryParam:T})}}}}}};zo.prototype.verify=function(e,t,r,i){e=this._truncateToN(new ah(e,16)),r=this.keyFromPublic(r,i),t=new sw(t,"hex");var s=t.r,o=t.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var u=o.invm(this.n),l=u.mul(e).umod(this.n),c=u.mul(s).umod(this.n),h;return this.curve._maxwellTrick?(h=this.g.jmulAdd(l,r.getPublic(),c),h.isInfinity()?!1:h.eqXToP(s)):(h=this.g.mulAdd(l,r.getPublic(),c),h.isInfinity()?!1:h.getX().umod(this.n).cmp(s)===0)};zo.prototype.recoverPubKey=function(n,e,t,r){g7((3&t)===t,"The recovery param is more than two bits"),e=new sw(e,r);var i=this.n,s=new ah(n),o=e.r,u=e.s,l=t&1,c=t>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?o=this.curve.pointFromX(o.add(this.curve.n),l):o=this.curve.pointFromX(o,l);var h=e.r.invm(i),d=i.sub(s).mul(h).umod(i),p=u.mul(h).umod(i);return this.g.mulAdd(d,o,p)};zo.prototype.getKeyRecoveryParam=function(n,e,t,r){if(e=new sw(e,r),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(n,e,i)}catch{continue}if(s.eq(t))return i}throw new Error("Unable to find valid recovery factor")};var Vg=fo,y7=Vg.assert,x7=Vg.parseBytes,f0=Vg.cachedProperty;function di(n,e){this.eddsa=n,this._secret=x7(e.secret),n.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=x7(e.pub)}di.fromPublic=function(e,t){return t instanceof di?t:new di(e,{pub:t})};di.fromSecret=function(e,t){return t instanceof di?t:new di(e,{secret:t})};di.prototype.secret=function(){return this._secret};f0(di,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});f0(di,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});f0(di,"privBytes",function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,i=t.slice(0,e.encodingLength);return i[0]&=248,i[r]&=127,i[r]|=64,i});f0(di,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});f0(di,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});f0(di,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});di.prototype.sign=function(e){return y7(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};di.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)};di.prototype.getSecret=function(e){return y7(this._secret,"KeyPair is public only"),Vg.encode(this.secret(),e)};di.prototype.getPublic=function(e){return Vg.encode(this.pubBytes(),e)};var Qfe=di,ehe=fu.exports,ow=fo,the=ow.assert,aw=ow.cachedProperty,nhe=ow.parseBytes;function uh(n,e){this.eddsa=n,typeof e!="object"&&(e=nhe(e)),Array.isArray(e)&&(e={R:e.slice(0,n.encodingLength),S:e.slice(n.encodingLength)}),the(e.R&&e.S,"Signature without R or S"),n.isPoint(e.R)&&(this._R=e.R),e.S instanceof ehe&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}aw(uh,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});aw(uh,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});aw(uh,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});aw(uh,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});uh.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};uh.prototype.toHex=function(){return ow.encode(this.toBytes(),"hex").toUpperCase()};var rhe=uh,ihe=ew,she=Q_,h0=fo,ohe=h0.assert,_7=h0.parseBytes,w7=Qfe,b7=rhe;function Ns(n){if(ohe(n==="ed25519","only tested with ed25519 so far"),!(this instanceof Ns))return new Ns(n);n=she[n].curve,this.curve=n,this.g=n.g,this.g.precompute(n.n.bitLength()+1),this.pointClass=n.point().constructor,this.encodingLength=Math.ceil(n.n.bitLength()/8),this.hash=ihe.sha512}var ahe=Ns;Ns.prototype.sign=function(e,t){e=_7(e);var r=this.keyFromSecret(t),i=this.hashInt(r.messagePrefix(),e),s=this.g.mul(i),o=this.encodePoint(s),u=this.hashInt(o,r.pubBytes(),e).mul(r.priv()),l=i.add(u).umod(this.curve.n);return this.makeSignature({R:s,S:l,Rencoded:o})};Ns.prototype.verify=function(e,t,r){e=_7(e),t=this.makeSignature(t);var i=this.keyFromPublic(r),s=this.hashInt(t.Rencoded(),i.pubBytes(),e),o=this.g.mul(t.S()),u=t.R().add(i.pub().mul(s));return u.eq(o)};Ns.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return h0.intFromLE(e.digest()).umod(this.curve.n)};Ns.prototype.keyFromPublic=function(e){return w7.fromPublic(this,e)};Ns.prototype.keyFromSecret=function(e){return w7.fromSecret(this,e)};Ns.prototype.makeSignature=function(e){return e instanceof b7?e:new b7(this,e)};Ns.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t};Ns.prototype.decodePoint=function(e){e=h0.parseBytes(e);var t=e.length-1,r=e.slice(0,t).concat(e[t]&~128),i=(e[t]&128)!=0,s=h0.intFromLE(r);return this.curve.pointFromY(s,i)};Ns.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};Ns.prototype.decodeInt=function(e){return h0.intFromLE(e)};Ns.prototype.isPoint=function(e){return e instanceof this.pointClass};(function(n){var e=n;e.version=oce.version,e.utils=fo,e.rand=q_.exports,e.curve=YA,e.curves=Q_,e.ec=Zfe,e.eddsa=ahe})(jA);var uw={},Ac={},uT={},lT={};Object.defineProperty(lT,"__esModule",{value:!0});var S7=65536,uhe=function(){function n(){this.isAvailable=!1,this.isInstantiated=!1;var e=typeof self!="undefined"?self.crypto||self.msCrypto:null;e&&e.getRandomValues&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}return n.prototype.randomBytes=function(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");for(var t=new Uint8Array(e),r=0;r<t.length;r+=S7)this._crypto.getRandomValues(t.subarray(r,r+Math.min(t.length-r,S7)));return t},n}();lT.BrowserRandomSource=uhe;var cT={},lhe={},che=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:lhe}),fhe=yr(che);Object.defineProperty(cT,"__esModule",{value:!0});var hhe=co,dhe=function(){function n(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof UJ!="undefined"){var e=fhe;e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}return n.prototype.randomBytes=function(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");var t=this._crypto.randomBytes(e);if(t.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");for(var r=new Uint8Array(e),i=0;i<r.length;i++)r[i]=t[i];return hhe.wipe(t),r},n}();cT.NodeRandomSource=dhe;Object.defineProperty(uT,"__esModule",{value:!0});var phe=lT,mhe=cT,vhe=function(){function n(){if(this.isAvailable=!1,this.name="",this._source=new phe.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new mhe.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}return n.prototype.randomBytes=function(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)},n}();uT.SystemRandomSource=vhe;(function(n){Object.defineProperty(n,"__esModule",{value:!0});var e=uT,t=dn,r=co;n.defaultRandomSource=new e.SystemRandomSource;function i(c,h){return h===void 0&&(h=n.defaultRandomSource),h.randomBytes(c)}n.randomBytes=i;function s(c){c===void 0&&(c=n.defaultRandomSource);var h=i(4,c),d=t.readUint32LE(h);return r.wipe(h),d}n.randomUint32=s;var o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function u(c,h,d){if(h===void 0&&(h=o),d===void 0&&(d=n.defaultRandomSource),h.length<2)throw new Error("randomString charset is too short");if(h.length>256)throw new Error("randomString charset is too long");for(var p="",v=h.length,S=256-256%v;c>0;){for(var w=i(Math.ceil(c*256/S),d),T=0;T<w.length&&c>0;T++){var x=w[T];x<S&&(p+=h.charAt(x%v),c--)}r.wipe(w)}return p}n.randomString=u;function l(c,h,d){h===void 0&&(h=o),d===void 0&&(d=n.defaultRandomSource);var p=Math.ceil(c/(Math.log(h.length)/Math.LN2));return u(p,h,d)}n.randomStringForEntropy=l})(Ac);var E7={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});var e=dn,t=co;n.DIGEST_LENGTH=64,n.BLOCK_SIZE=128;var r=function(){function u(){this.digestLength=n.DIGEST_LENGTH,this.blockSize=n.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return u.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},u.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},u.prototype.clean=function(){t.wipe(this._buffer),t.wipe(this._tempHi),t.wipe(this._tempLo),this.reset()},u.prototype.update=function(l,c){if(c===void 0&&(c=l.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var h=0;if(this._bytesHashed+=c,this._bufferLength>0){for(;this._bufferLength<n.BLOCK_SIZE&&c>0;)this._buffer[this._bufferLength++]=l[h++],c--;this._bufferLength===this.blockSize&&(s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(c>=this.blockSize&&(h=s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,l,h,c),c%=this.blockSize);c>0;)this._buffer[this._bufferLength++]=l[h++],c--;return this},u.prototype.finish=function(l){if(!this._finished){var c=this._bytesHashed,h=this._bufferLength,d=c/536870912|0,p=c<<3,v=c%128<112?128:256;this._buffer[h]=128;for(var S=h+1;S<v-8;S++)this._buffer[S]=0;e.writeUint32BE(d,this._buffer,v-8),e.writeUint32BE(p,this._buffer,v-4),s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,v),this._finished=!0}for(var S=0;S<this.digestLength/8;S++)e.writeUint32BE(this._stateHi[S],l,S*8),e.writeUint32BE(this._stateLo[S],l,S*8+4);return this},u.prototype.digest=function(){var l=new Uint8Array(this.digestLength);return this.finish(l),l},u.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},u.prototype.restoreState=function(l){return this._stateHi.set(l.stateHi),this._stateLo.set(l.stateLo),this._bufferLength=l.bufferLength,l.buffer&&this._buffer.set(l.buffer),this._bytesHashed=l.bytesHashed,this._finished=!1,this},u.prototype.cleanSavedState=function(l){t.wipe(l.stateHi),t.wipe(l.stateLo),l.buffer&&t.wipe(l.buffer),l.bufferLength=0,l.bytesHashed=0},u}();n.SHA512=r;var i=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function s(u,l,c,h,d,p,v){for(var S=c[0],w=c[1],T=c[2],x=c[3],E=c[4],O=c[5],C=c[6],N=c[7],$=h[0],M=h[1],L=h[2],V=h[3],Z=h[4],H=h[5],D=h[6],R=h[7],P,F,z,j,B,U,k,G;v>=128;){for(var ne=0;ne<16;ne++){var le=8*ne+p;u[ne]=e.readUint32BE(d,le),l[ne]=e.readUint32BE(d,le+4)}for(var ne=0;ne<80;ne++){var ee=S,J=w,de=T,se=x,ue=E,oe=O,W=C,ce=N,ye=$,Te=M,Pe=L,Je=V,ie=Z,K=H,q=D,he=R;if(P=N,F=R,B=F&65535,U=F>>>16,k=P&65535,G=P>>>16,P=(E>>>14|Z<<32-14)^(E>>>18|Z<<32-18)^(Z>>>41-32|E<<32-(41-32)),F=(Z>>>14|E<<32-14)^(Z>>>18|E<<32-18)^(E>>>41-32|Z<<32-(41-32)),B+=F&65535,U+=F>>>16,k+=P&65535,G+=P>>>16,P=E&O^~E&C,F=Z&H^~Z&D,B+=F&65535,U+=F>>>16,k+=P&65535,G+=P>>>16,P=i[ne*2],F=i[ne*2+1],B+=F&65535,U+=F>>>16,k+=P&65535,G+=P>>>16,P=u[ne%16],F=l[ne%16],B+=F&65535,U+=F>>>16,k+=P&65535,G+=P>>>16,U+=B>>>16,k+=U>>>16,G+=k>>>16,z=k&65535|G<<16,j=B&65535|U<<16,P=z,F=j,B=F&65535,U=F>>>16,k=P&65535,G=P>>>16,P=(S>>>28|$<<32-28)^($>>>34-32|S<<32-(34-32))^($>>>39-32|S<<32-(39-32)),F=($>>>28|S<<32-28)^(S>>>34-32|$<<32-(34-32))^(S>>>39-32|$<<32-(39-32)),B+=F&65535,U+=F>>>16,k+=P&65535,G+=P>>>16,P=S&w^S&T^w&T,F=$&M^$&L^M&L,B+=F&65535,U+=F>>>16,k+=P&65535,G+=P>>>16,U+=B>>>16,k+=U>>>16,G+=k>>>16,ce=k&65535|G<<16,he=B&65535|U<<16,P=se,F=Je,B=F&65535,U=F>>>16,k=P&65535,G=P>>>16,P=z,F=j,B+=F&65535,U+=F>>>16,k+=P&65535,G+=P>>>16,U+=B>>>16,k+=U>>>16,G+=k>>>16,se=k&65535|G<<16,Je=B&65535|U<<16,w=ee,T=J,x=de,E=se,O=ue,C=oe,N=W,S=ce,M=ye,L=Te,V=Pe,Z=Je,H=ie,D=K,R=q,$=he,ne%16==15)for(var le=0;le<16;le++)P=u[le],F=l[le],B=F&65535,U=F>>>16,k=P&65535,G=P>>>16,P=u[(le+9)%16],F=l[(le+9)%16],B+=F&65535,U+=F>>>16,k+=P&65535,G+=P>>>16,z=u[(le+1)%16],j=l[(le+1)%16],P=(z>>>1|j<<32-1)^(z>>>8|j<<32-8)^z>>>7,F=(j>>>1|z<<32-1)^(j>>>8|z<<32-8)^(j>>>7|z<<32-7),B+=F&65535,U+=F>>>16,k+=P&65535,G+=P>>>16,z=u[(le+14)%16],j=l[(le+14)%16],P=(z>>>19|j<<32-19)^(j>>>61-32|z<<32-(61-32))^z>>>6,F=(j>>>19|z<<32-19)^(z>>>61-32|j<<32-(61-32))^(j>>>6|z<<32-6),B+=F&65535,U+=F>>>16,k+=P&65535,G+=P>>>16,U+=B>>>16,k+=U>>>16,G+=k>>>16,u[le]=k&65535|G<<16,l[le]=B&65535|U<<16}P=S,F=$,B=F&65535,U=F>>>16,k=P&65535,G=P>>>16,P=c[0],F=h[0],B+=F&65535,U+=F>>>16,k+=P&65535,G+=P>>>16,U+=B>>>16,k+=U>>>16,G+=k>>>16,c[0]=S=k&65535|G<<16,h[0]=$=B&65535|U<<16,P=w,F=M,B=F&65535,U=F>>>16,k=P&65535,G=P>>>16,P=c[1],F=h[1],B+=F&65535,U+=F>>>16,k+=P&65535,G+=P>>>16,U+=B>>>16,k+=U>>>16,G+=k>>>16,c[1]=w=k&65535|G<<16,h[1]=M=B&65535|U<<16,P=T,F=L,B=F&65535,U=F>>>16,k=P&65535,G=P>>>16,P=c[2],F=h[2],B+=F&65535,U+=F>>>16,k+=P&65535,G+=P>>>16,U+=B>>>16,k+=U>>>16,G+=k>>>16,c[2]=T=k&65535|G<<16,h[2]=L=B&65535|U<<16,P=x,F=V,B=F&65535,U=F>>>16,k=P&65535,G=P>>>16,P=c[3],F=h[3],B+=F&65535,U+=F>>>16,k+=P&65535,G+=P>>>16,U+=B>>>16,k+=U>>>16,G+=k>>>16,c[3]=x=k&65535|G<<16,h[3]=V=B&65535|U<<16,P=E,F=Z,B=F&65535,U=F>>>16,k=P&65535,G=P>>>16,P=c[4],F=h[4],B+=F&65535,U+=F>>>16,k+=P&65535,G+=P>>>16,U+=B>>>16,k+=U>>>16,G+=k>>>16,c[4]=E=k&65535|G<<16,h[4]=Z=B&65535|U<<16,P=O,F=H,B=F&65535,U=F>>>16,k=P&65535,G=P>>>16,P=c[5],F=h[5],B+=F&65535,U+=F>>>16,k+=P&65535,G+=P>>>16,U+=B>>>16,k+=U>>>16,G+=k>>>16,c[5]=O=k&65535|G<<16,h[5]=H=B&65535|U<<16,P=C,F=D,B=F&65535,U=F>>>16,k=P&65535,G=P>>>16,P=c[6],F=h[6],B+=F&65535,U+=F>>>16,k+=P&65535,G+=P>>>16,U+=B>>>16,k+=U>>>16,G+=k>>>16,c[6]=C=k&65535|G<<16,h[6]=D=B&65535|U<<16,P=N,F=R,B=F&65535,U=F>>>16,k=P&65535,G=P>>>16,P=c[7],F=h[7],B+=F&65535,U+=F>>>16,k+=P&65535,G+=P>>>16,U+=B>>>16,k+=U>>>16,G+=k>>>16,c[7]=N=k&65535|G<<16,h[7]=R=B&65535|U<<16,p+=128,v-=128}return p}function o(u){var l=new r;l.update(u);var c=l.digest();return l.clean(),c}n.hash=o})(E7);(function(n){Object.defineProperty(n,"__esModule",{value:!0});var e=Ac,t=E7,r=co;n.SIGNATURE_LENGTH=64,n.PUBLIC_KEY_LENGTH=32,n.SECRET_KEY_LENGTH=64,n.SEED_LENGTH=32;function i(se){var ue=new Float64Array(16);if(se)for(var oe=0;oe<se.length;oe++)ue[oe]=se[oe];return ue}var s=new Uint8Array(32);s[0]=9;var o=i(),u=i([1]),l=i([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),c=i([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=i([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),d=i([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),p=i([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function v(se,ue){for(var oe=0;oe<16;oe++)se[oe]=ue[oe]|0}function S(se){for(var ue=1,oe=0;oe<16;oe++){var W=se[oe]+ue+65535;ue=Math.floor(W/65536),se[oe]=W-ue*65536}se[0]+=ue-1+37*(ue-1)}function w(se,ue,oe){for(var W=~(oe-1),ce=0;ce<16;ce++){var ye=W&(se[ce]^ue[ce]);se[ce]^=ye,ue[ce]^=ye}}function T(se,ue){for(var oe=i(),W=i(),ce=0;ce<16;ce++)W[ce]=ue[ce];S(W),S(W),S(W);for(var ye=0;ye<2;ye++){oe[0]=W[0]-65517;for(var ce=1;ce<15;ce++)oe[ce]=W[ce]-65535-(oe[ce-1]>>16&1),oe[ce-1]&=65535;oe[15]=W[15]-32767-(oe[14]>>16&1);var Te=oe[15]>>16&1;oe[14]&=65535,w(W,oe,1-Te)}for(var ce=0;ce<16;ce++)se[2*ce]=W[ce]&255,se[2*ce+1]=W[ce]>>8}function x(se,ue){for(var oe=0,W=0;W<32;W++)oe|=se[W]^ue[W];return(1&oe-1>>>8)-1}function E(se,ue){var oe=new Uint8Array(32),W=new Uint8Array(32);return T(oe,se),T(W,ue),x(oe,W)}function O(se){var ue=new Uint8Array(32);return T(ue,se),ue[0]&1}function C(se,ue){for(var oe=0;oe<16;oe++)se[oe]=ue[2*oe]+(ue[2*oe+1]<<8);se[15]&=32767}function N(se,ue,oe){for(var W=0;W<16;W++)se[W]=ue[W]+oe[W]}function $(se,ue,oe){for(var W=0;W<16;W++)se[W]=ue[W]-oe[W]}function M(se,ue,oe){var W,ce,ye=0,Te=0,Pe=0,Je=0,ie=0,K=0,q=0,he=0,Se=0,te=0,re=0,Me=0,Ce=0,Ae=0,Oe=0,ge=0,Ne=0,ze=0,ae=0,Ue=0,Ye=0,He=0,Be=0,Ze=0,Ve=0,ot=0,kt=0,lt=0,_t=0,nn=0,It=0,Gt=oe[0],Ot=oe[1],mt=oe[2],gt=oe[3],Ct=oe[4],dt=oe[5],Mt=oe[6],Dt=oe[7],yt=oe[8],pt=oe[9],Nt=oe[10],pe=oe[11],Re=oe[12],We=oe[13],ke=oe[14],Le=oe[15];W=ue[0],ye+=W*Gt,Te+=W*Ot,Pe+=W*mt,Je+=W*gt,ie+=W*Ct,K+=W*dt,q+=W*Mt,he+=W*Dt,Se+=W*yt,te+=W*pt,re+=W*Nt,Me+=W*pe,Ce+=W*Re,Ae+=W*We,Oe+=W*ke,ge+=W*Le,W=ue[1],Te+=W*Gt,Pe+=W*Ot,Je+=W*mt,ie+=W*gt,K+=W*Ct,q+=W*dt,he+=W*Mt,Se+=W*Dt,te+=W*yt,re+=W*pt,Me+=W*Nt,Ce+=W*pe,Ae+=W*Re,Oe+=W*We,ge+=W*ke,Ne+=W*Le,W=ue[2],Pe+=W*Gt,Je+=W*Ot,ie+=W*mt,K+=W*gt,q+=W*Ct,he+=W*dt,Se+=W*Mt,te+=W*Dt,re+=W*yt,Me+=W*pt,Ce+=W*Nt,Ae+=W*pe,Oe+=W*Re,ge+=W*We,Ne+=W*ke,ze+=W*Le,W=ue[3],Je+=W*Gt,ie+=W*Ot,K+=W*mt,q+=W*gt,he+=W*Ct,Se+=W*dt,te+=W*Mt,re+=W*Dt,Me+=W*yt,Ce+=W*pt,Ae+=W*Nt,Oe+=W*pe,ge+=W*Re,Ne+=W*We,ze+=W*ke,ae+=W*Le,W=ue[4],ie+=W*Gt,K+=W*Ot,q+=W*mt,he+=W*gt,Se+=W*Ct,te+=W*dt,re+=W*Mt,Me+=W*Dt,Ce+=W*yt,Ae+=W*pt,Oe+=W*Nt,ge+=W*pe,Ne+=W*Re,ze+=W*We,ae+=W*ke,Ue+=W*Le,W=ue[5],K+=W*Gt,q+=W*Ot,he+=W*mt,Se+=W*gt,te+=W*Ct,re+=W*dt,Me+=W*Mt,Ce+=W*Dt,Ae+=W*yt,Oe+=W*pt,ge+=W*Nt,Ne+=W*pe,ze+=W*Re,ae+=W*We,Ue+=W*ke,Ye+=W*Le,W=ue[6],q+=W*Gt,he+=W*Ot,Se+=W*mt,te+=W*gt,re+=W*Ct,Me+=W*dt,Ce+=W*Mt,Ae+=W*Dt,Oe+=W*yt,ge+=W*pt,Ne+=W*Nt,ze+=W*pe,ae+=W*Re,Ue+=W*We,Ye+=W*ke,He+=W*Le,W=ue[7],he+=W*Gt,Se+=W*Ot,te+=W*mt,re+=W*gt,Me+=W*Ct,Ce+=W*dt,Ae+=W*Mt,Oe+=W*Dt,ge+=W*yt,Ne+=W*pt,ze+=W*Nt,ae+=W*pe,Ue+=W*Re,Ye+=W*We,He+=W*ke,Be+=W*Le,W=ue[8],Se+=W*Gt,te+=W*Ot,re+=W*mt,Me+=W*gt,Ce+=W*Ct,Ae+=W*dt,Oe+=W*Mt,ge+=W*Dt,Ne+=W*yt,ze+=W*pt,ae+=W*Nt,Ue+=W*pe,Ye+=W*Re,He+=W*We,Be+=W*ke,Ze+=W*Le,W=ue[9],te+=W*Gt,re+=W*Ot,Me+=W*mt,Ce+=W*gt,Ae+=W*Ct,Oe+=W*dt,ge+=W*Mt,Ne+=W*Dt,ze+=W*yt,ae+=W*pt,Ue+=W*Nt,Ye+=W*pe,He+=W*Re,Be+=W*We,Ze+=W*ke,Ve+=W*Le,W=ue[10],re+=W*Gt,Me+=W*Ot,Ce+=W*mt,Ae+=W*gt,Oe+=W*Ct,ge+=W*dt,Ne+=W*Mt,ze+=W*Dt,ae+=W*yt,Ue+=W*pt,Ye+=W*Nt,He+=W*pe,Be+=W*Re,Ze+=W*We,Ve+=W*ke,ot+=W*Le,W=ue[11],Me+=W*Gt,Ce+=W*Ot,Ae+=W*mt,Oe+=W*gt,ge+=W*Ct,Ne+=W*dt,ze+=W*Mt,ae+=W*Dt,Ue+=W*yt,Ye+=W*pt,He+=W*Nt,Be+=W*pe,Ze+=W*Re,Ve+=W*We,ot+=W*ke,kt+=W*Le,W=ue[12],Ce+=W*Gt,Ae+=W*Ot,Oe+=W*mt,ge+=W*gt,Ne+=W*Ct,ze+=W*dt,ae+=W*Mt,Ue+=W*Dt,Ye+=W*yt,He+=W*pt,Be+=W*Nt,Ze+=W*pe,Ve+=W*Re,ot+=W*We,kt+=W*ke,lt+=W*Le,W=ue[13],Ae+=W*Gt,Oe+=W*Ot,ge+=W*mt,Ne+=W*gt,ze+=W*Ct,ae+=W*dt,Ue+=W*Mt,Ye+=W*Dt,He+=W*yt,Be+=W*pt,Ze+=W*Nt,Ve+=W*pe,ot+=W*Re,kt+=W*We,lt+=W*ke,_t+=W*Le,W=ue[14],Oe+=W*Gt,ge+=W*Ot,Ne+=W*mt,ze+=W*gt,ae+=W*Ct,Ue+=W*dt,Ye+=W*Mt,He+=W*Dt,Be+=W*yt,Ze+=W*pt,Ve+=W*Nt,ot+=W*pe,kt+=W*Re,lt+=W*We,_t+=W*ke,nn+=W*Le,W=ue[15],ge+=W*Gt,Ne+=W*Ot,ze+=W*mt,ae+=W*gt,Ue+=W*Ct,Ye+=W*dt,He+=W*Mt,Be+=W*Dt,Ze+=W*yt,Ve+=W*pt,ot+=W*Nt,kt+=W*pe,lt+=W*Re,_t+=W*We,nn+=W*ke,It+=W*Le,ye+=38*Ne,Te+=38*ze,Pe+=38*ae,Je+=38*Ue,ie+=38*Ye,K+=38*He,q+=38*Be,he+=38*Ze,Se+=38*Ve,te+=38*ot,re+=38*kt,Me+=38*lt,Ce+=38*_t,Ae+=38*nn,Oe+=38*It,ce=1,W=ye+ce+65535,ce=Math.floor(W/65536),ye=W-ce*65536,W=Te+ce+65535,ce=Math.floor(W/65536),Te=W-ce*65536,W=Pe+ce+65535,ce=Math.floor(W/65536),Pe=W-ce*65536,W=Je+ce+65535,ce=Math.floor(W/65536),Je=W-ce*65536,W=ie+ce+65535,ce=Math.floor(W/65536),ie=W-ce*65536,W=K+ce+65535,ce=Math.floor(W/65536),K=W-ce*65536,W=q+ce+65535,ce=Math.floor(W/65536),q=W-ce*65536,W=he+ce+65535,ce=Math.floor(W/65536),he=W-ce*65536,W=Se+ce+65535,ce=Math.floor(W/65536),Se=W-ce*65536,W=te+ce+65535,ce=Math.floor(W/65536),te=W-ce*65536,W=re+ce+65535,ce=Math.floor(W/65536),re=W-ce*65536,W=Me+ce+65535,ce=Math.floor(W/65536),Me=W-ce*65536,W=Ce+ce+65535,ce=Math.floor(W/65536),Ce=W-ce*65536,W=Ae+ce+65535,ce=Math.floor(W/65536),Ae=W-ce*65536,W=Oe+ce+65535,ce=Math.floor(W/65536),Oe=W-ce*65536,W=ge+ce+65535,ce=Math.floor(W/65536),ge=W-ce*65536,ye+=ce-1+37*(ce-1),ce=1,W=ye+ce+65535,ce=Math.floor(W/65536),ye=W-ce*65536,W=Te+ce+65535,ce=Math.floor(W/65536),Te=W-ce*65536,W=Pe+ce+65535,ce=Math.floor(W/65536),Pe=W-ce*65536,W=Je+ce+65535,ce=Math.floor(W/65536),Je=W-ce*65536,W=ie+ce+65535,ce=Math.floor(W/65536),ie=W-ce*65536,W=K+ce+65535,ce=Math.floor(W/65536),K=W-ce*65536,W=q+ce+65535,ce=Math.floor(W/65536),q=W-ce*65536,W=he+ce+65535,ce=Math.floor(W/65536),he=W-ce*65536,W=Se+ce+65535,ce=Math.floor(W/65536),Se=W-ce*65536,W=te+ce+65535,ce=Math.floor(W/65536),te=W-ce*65536,W=re+ce+65535,ce=Math.floor(W/65536),re=W-ce*65536,W=Me+ce+65535,ce=Math.floor(W/65536),Me=W-ce*65536,W=Ce+ce+65535,ce=Math.floor(W/65536),Ce=W-ce*65536,W=Ae+ce+65535,ce=Math.floor(W/65536),Ae=W-ce*65536,W=Oe+ce+65535,ce=Math.floor(W/65536),Oe=W-ce*65536,W=ge+ce+65535,ce=Math.floor(W/65536),ge=W-ce*65536,ye+=ce-1+37*(ce-1),se[0]=ye,se[1]=Te,se[2]=Pe,se[3]=Je,se[4]=ie,se[5]=K,se[6]=q,se[7]=he,se[8]=Se,se[9]=te,se[10]=re,se[11]=Me,se[12]=Ce,se[13]=Ae,se[14]=Oe,se[15]=ge}function L(se,ue){M(se,ue,ue)}function V(se,ue){var oe=i(),W;for(W=0;W<16;W++)oe[W]=ue[W];for(W=253;W>=0;W--)L(oe,oe),W!==2&&W!==4&&M(oe,oe,ue);for(W=0;W<16;W++)se[W]=oe[W]}function Z(se,ue){var oe=i(),W;for(W=0;W<16;W++)oe[W]=ue[W];for(W=250;W>=0;W--)L(oe,oe),W!==1&&M(oe,oe,ue);for(W=0;W<16;W++)se[W]=oe[W]}function H(se,ue){var oe=i(),W=i(),ce=i(),ye=i(),Te=i(),Pe=i(),Je=i(),ie=i(),K=i();$(oe,se[1],se[0]),$(K,ue[1],ue[0]),M(oe,oe,K),N(W,se[0],se[1]),N(K,ue[0],ue[1]),M(W,W,K),M(ce,se[3],ue[3]),M(ce,ce,c),M(ye,se[2],ue[2]),N(ye,ye,ye),$(Te,W,oe),$(Pe,ye,ce),N(Je,ye,ce),N(ie,W,oe),M(se[0],Te,Pe),M(se[1],ie,Je),M(se[2],Je,Pe),M(se[3],Te,ie)}function D(se,ue,oe){for(var W=0;W<4;W++)w(se[W],ue[W],oe)}function R(se,ue){var oe=i(),W=i(),ce=i();V(ce,ue[2]),M(oe,ue[0],ce),M(W,ue[1],ce),T(se,W),se[31]^=O(oe)<<7}function P(se,ue,oe){v(se[0],o),v(se[1],u),v(se[2],u),v(se[3],o);for(var W=255;W>=0;--W){var ce=oe[W/8|0]>>(W&7)&1;D(se,ue,ce),H(ue,se),H(se,se),D(se,ue,ce)}}function F(se,ue){var oe=[i(),i(),i(),i()];v(oe[0],h),v(oe[1],d),v(oe[2],u),M(oe[3],h,d),P(se,oe,ue)}function z(se){if(se.length!==n.SEED_LENGTH)throw new Error("ed25519: seed must be "+n.SEED_LENGTH+" bytes");var ue=t.hash(se);ue[0]&=248,ue[31]&=127,ue[31]|=64;var oe=new Uint8Array(32),W=[i(),i(),i(),i()];F(W,ue),R(oe,W);var ce=new Uint8Array(64);return ce.set(se),ce.set(oe,32),{publicKey:oe,secretKey:ce}}n.generateKeyPairFromSeed=z;function j(se){var ue=e.randomBytes(32,se),oe=z(ue);return r.wipe(ue),oe}n.generateKeyPair=j;function B(se){if(se.length!==n.SECRET_KEY_LENGTH)throw new Error("ed25519: secret key must be "+n.SECRET_KEY_LENGTH+" bytes");return new Uint8Array(se.subarray(32))}n.extractPublicKeyFromSecretKey=B;var U=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function k(se,ue){var oe,W,ce,ye;for(W=63;W>=32;--W){for(oe=0,ce=W-32,ye=W-12;ce<ye;++ce)ue[ce]+=oe-16*ue[W]*U[ce-(W-32)],oe=Math.floor((ue[ce]+128)/256),ue[ce]-=oe*256;ue[ce]+=oe,ue[W]=0}for(oe=0,ce=0;ce<32;ce++)ue[ce]+=oe-(ue[31]>>4)*U[ce],oe=ue[ce]>>8,ue[ce]&=255;for(ce=0;ce<32;ce++)ue[ce]-=oe*U[ce];for(W=0;W<32;W++)ue[W+1]+=ue[W]>>8,se[W]=ue[W]&255}function G(se){for(var ue=new Float64Array(64),oe=0;oe<64;oe++)ue[oe]=se[oe];for(var oe=0;oe<64;oe++)se[oe]=0;k(se,ue)}function ne(se,ue){var oe=new Float64Array(64),W=[i(),i(),i(),i()],ce=t.hash(se.subarray(0,32));ce[0]&=248,ce[31]&=127,ce[31]|=64;var ye=new Uint8Array(64);ye.set(ce.subarray(32),32);var Te=new t.SHA512;Te.update(ye.subarray(32)),Te.update(ue);var Pe=Te.digest();Te.clean(),G(Pe),F(W,Pe),R(ye,W),Te.reset(),Te.update(ye.subarray(0,32)),Te.update(se.subarray(32)),Te.update(ue);var Je=Te.digest();G(Je);for(var ie=0;ie<32;ie++)oe[ie]=Pe[ie];for(var ie=0;ie<32;ie++)for(var K=0;K<32;K++)oe[ie+K]+=Je[ie]*ce[K];return k(ye.subarray(32),oe),ye}n.sign=ne;function le(se,ue){var oe=i(),W=i(),ce=i(),ye=i(),Te=i(),Pe=i(),Je=i();return v(se[2],u),C(se[1],ue),L(ce,se[1]),M(ye,ce,l),$(ce,ce,se[2]),N(ye,se[2],ye),L(Te,ye),L(Pe,Te),M(Je,Pe,Te),M(oe,Je,ce),M(oe,oe,ye),Z(oe,oe),M(oe,oe,ce),M(oe,oe,ye),M(oe,oe,ye),M(se[0],oe,ye),L(W,se[0]),M(W,W,ye),E(W,ce)&&M(se[0],se[0],p),L(W,se[0]),M(W,W,ye),E(W,ce)?-1:(O(se[0])===ue[31]>>7&&$(se[0],o,se[0]),M(se[3],se[0],se[1]),0)}function ee(se,ue,oe){var W=new Uint8Array(32),ce=[i(),i(),i(),i()],ye=[i(),i(),i(),i()];if(oe.length!==n.SIGNATURE_LENGTH)throw new Error("ed25519: signature must be "+n.SIGNATURE_LENGTH+" bytes");if(le(ye,se))return!1;var Te=new t.SHA512;Te.update(oe.subarray(0,32)),Te.update(se),Te.update(ue);var Pe=Te.digest();return G(Pe),P(ce,ye,Pe),F(ye,oe.subarray(32)),H(ce,ye),R(W,ce),!x(oe,W)}n.verify=ee;function J(se){var ue=[i(),i(),i(),i()];if(le(ue,se))throw new Error("Ed25519: invalid public key");var oe=i(),W=i(),ce=ue[1];N(oe,u,ce),$(W,u,ce),V(W,W),M(oe,oe,W);var ye=new Uint8Array(32);return T(ye,oe),ye}n.convertPublicKeyToX25519=J;function de(se){var ue=t.hash(se.subarray(0,32));ue[0]&=248,ue[31]&=127,ue[31]|=64;var oe=new Uint8Array(ue.subarray(0,32));return r.wipe(ue),oe}n.convertSecretKeyToX25519=de})(uw);var ghe=function n(e){return e===null||typeof e!="object"||e.toJSON!=null?JSON.stringify(e):Array.isArray(e)?"["+e.reduce((t,r,i)=>{const s=i===0?"":",",o=r===void 0||typeof r=="symbol"?null:r;return t+s+n(o)},"")+"]":"{"+Object.keys(e).sort().reduce((t,r,i)=>{if(e[r]===void 0||typeof e[r]=="symbol")return t;const s=t.length===0?"":",";return t+s+n(r)+":"+n(e[r])},"")+"}"},_u={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});var e=Ac,t=co;n.PUBLIC_KEY_LENGTH=32,n.SECRET_KEY_LENGTH=32,n.SHARED_KEY_LENGTH=32;function r(C){var N=new Float64Array(16);if(C)for(var $=0;$<C.length;$++)N[$]=C[$];return N}var i=new Uint8Array(32);i[0]=9;var s=r([56129,1]);function o(C){for(var N=1,$=0;$<16;$++){var M=C[$]+N+65535;N=Math.floor(M/65536),C[$]=M-N*65536}C[0]+=N-1+37*(N-1)}function u(C,N,$){for(var M=~($-1),L=0;L<16;L++){var V=M&(C[L]^N[L]);C[L]^=V,N[L]^=V}}function l(C,N){for(var $=r(),M=r(),L=0;L<16;L++)M[L]=N[L];o(M),o(M),o(M);for(var V=0;V<2;V++){$[0]=M[0]-65517;for(var L=1;L<15;L++)$[L]=M[L]-65535-($[L-1]>>16&1),$[L-1]&=65535;$[15]=M[15]-32767-($[14]>>16&1);var Z=$[15]>>16&1;$[14]&=65535,u(M,$,1-Z)}for(var L=0;L<16;L++)C[2*L]=M[L]&255,C[2*L+1]=M[L]>>8}function c(C,N){for(var $=0;$<16;$++)C[$]=N[2*$]+(N[2*$+1]<<8);C[15]&=32767}function h(C,N,$){for(var M=0;M<16;M++)C[M]=N[M]+$[M]}function d(C,N,$){for(var M=0;M<16;M++)C[M]=N[M]-$[M]}function p(C,N,$){var M,L,V=0,Z=0,H=0,D=0,R=0,P=0,F=0,z=0,j=0,B=0,U=0,k=0,G=0,ne=0,le=0,ee=0,J=0,de=0,se=0,ue=0,oe=0,W=0,ce=0,ye=0,Te=0,Pe=0,Je=0,ie=0,K=0,q=0,he=0,Se=$[0],te=$[1],re=$[2],Me=$[3],Ce=$[4],Ae=$[5],Oe=$[6],ge=$[7],Ne=$[8],ze=$[9],ae=$[10],Ue=$[11],Ye=$[12],He=$[13],Be=$[14],Ze=$[15];M=N[0],V+=M*Se,Z+=M*te,H+=M*re,D+=M*Me,R+=M*Ce,P+=M*Ae,F+=M*Oe,z+=M*ge,j+=M*Ne,B+=M*ze,U+=M*ae,k+=M*Ue,G+=M*Ye,ne+=M*He,le+=M*Be,ee+=M*Ze,M=N[1],Z+=M*Se,H+=M*te,D+=M*re,R+=M*Me,P+=M*Ce,F+=M*Ae,z+=M*Oe,j+=M*ge,B+=M*Ne,U+=M*ze,k+=M*ae,G+=M*Ue,ne+=M*Ye,le+=M*He,ee+=M*Be,J+=M*Ze,M=N[2],H+=M*Se,D+=M*te,R+=M*re,P+=M*Me,F+=M*Ce,z+=M*Ae,j+=M*Oe,B+=M*ge,U+=M*Ne,k+=M*ze,G+=M*ae,ne+=M*Ue,le+=M*Ye,ee+=M*He,J+=M*Be,de+=M*Ze,M=N[3],D+=M*Se,R+=M*te,P+=M*re,F+=M*Me,z+=M*Ce,j+=M*Ae,B+=M*Oe,U+=M*ge,k+=M*Ne,G+=M*ze,ne+=M*ae,le+=M*Ue,ee+=M*Ye,J+=M*He,de+=M*Be,se+=M*Ze,M=N[4],R+=M*Se,P+=M*te,F+=M*re,z+=M*Me,j+=M*Ce,B+=M*Ae,U+=M*Oe,k+=M*ge,G+=M*Ne,ne+=M*ze,le+=M*ae,ee+=M*Ue,J+=M*Ye,de+=M*He,se+=M*Be,ue+=M*Ze,M=N[5],P+=M*Se,F+=M*te,z+=M*re,j+=M*Me,B+=M*Ce,U+=M*Ae,k+=M*Oe,G+=M*ge,ne+=M*Ne,le+=M*ze,ee+=M*ae,J+=M*Ue,de+=M*Ye,se+=M*He,ue+=M*Be,oe+=M*Ze,M=N[6],F+=M*Se,z+=M*te,j+=M*re,B+=M*Me,U+=M*Ce,k+=M*Ae,G+=M*Oe,ne+=M*ge,le+=M*Ne,ee+=M*ze,J+=M*ae,de+=M*Ue,se+=M*Ye,ue+=M*He,oe+=M*Be,W+=M*Ze,M=N[7],z+=M*Se,j+=M*te,B+=M*re,U+=M*Me,k+=M*Ce,G+=M*Ae,ne+=M*Oe,le+=M*ge,ee+=M*Ne,J+=M*ze,de+=M*ae,se+=M*Ue,ue+=M*Ye,oe+=M*He,W+=M*Be,ce+=M*Ze,M=N[8],j+=M*Se,B+=M*te,U+=M*re,k+=M*Me,G+=M*Ce,ne+=M*Ae,le+=M*Oe,ee+=M*ge,J+=M*Ne,de+=M*ze,se+=M*ae,ue+=M*Ue,oe+=M*Ye,W+=M*He,ce+=M*Be,ye+=M*Ze,M=N[9],B+=M*Se,U+=M*te,k+=M*re,G+=M*Me,ne+=M*Ce,le+=M*Ae,ee+=M*Oe,J+=M*ge,de+=M*Ne,se+=M*ze,ue+=M*ae,oe+=M*Ue,W+=M*Ye,ce+=M*He,ye+=M*Be,Te+=M*Ze,M=N[10],U+=M*Se,k+=M*te,G+=M*re,ne+=M*Me,le+=M*Ce,ee+=M*Ae,J+=M*Oe,de+=M*ge,se+=M*Ne,ue+=M*ze,oe+=M*ae,W+=M*Ue,ce+=M*Ye,ye+=M*He,Te+=M*Be,Pe+=M*Ze,M=N[11],k+=M*Se,G+=M*te,ne+=M*re,le+=M*Me,ee+=M*Ce,J+=M*Ae,de+=M*Oe,se+=M*ge,ue+=M*Ne,oe+=M*ze,W+=M*ae,ce+=M*Ue,ye+=M*Ye,Te+=M*He,Pe+=M*Be,Je+=M*Ze,M=N[12],G+=M*Se,ne+=M*te,le+=M*re,ee+=M*Me,J+=M*Ce,de+=M*Ae,se+=M*Oe,ue+=M*ge,oe+=M*Ne,W+=M*ze,ce+=M*ae,ye+=M*Ue,Te+=M*Ye,Pe+=M*He,Je+=M*Be,ie+=M*Ze,M=N[13],ne+=M*Se,le+=M*te,ee+=M*re,J+=M*Me,de+=M*Ce,se+=M*Ae,ue+=M*Oe,oe+=M*ge,W+=M*Ne,ce+=M*ze,ye+=M*ae,Te+=M*Ue,Pe+=M*Ye,Je+=M*He,ie+=M*Be,K+=M*Ze,M=N[14],le+=M*Se,ee+=M*te,J+=M*re,de+=M*Me,se+=M*Ce,ue+=M*Ae,oe+=M*Oe,W+=M*ge,ce+=M*Ne,ye+=M*ze,Te+=M*ae,Pe+=M*Ue,Je+=M*Ye,ie+=M*He,K+=M*Be,q+=M*Ze,M=N[15],ee+=M*Se,J+=M*te,de+=M*re,se+=M*Me,ue+=M*Ce,oe+=M*Ae,W+=M*Oe,ce+=M*ge,ye+=M*Ne,Te+=M*ze,Pe+=M*ae,Je+=M*Ue,ie+=M*Ye,K+=M*He,q+=M*Be,he+=M*Ze,V+=38*J,Z+=38*de,H+=38*se,D+=38*ue,R+=38*oe,P+=38*W,F+=38*ce,z+=38*ye,j+=38*Te,B+=38*Pe,U+=38*Je,k+=38*ie,G+=38*K,ne+=38*q,le+=38*he,L=1,M=V+L+65535,L=Math.floor(M/65536),V=M-L*65536,M=Z+L+65535,L=Math.floor(M/65536),Z=M-L*65536,M=H+L+65535,L=Math.floor(M/65536),H=M-L*65536,M=D+L+65535,L=Math.floor(M/65536),D=M-L*65536,M=R+L+65535,L=Math.floor(M/65536),R=M-L*65536,M=P+L+65535,L=Math.floor(M/65536),P=M-L*65536,M=F+L+65535,L=Math.floor(M/65536),F=M-L*65536,M=z+L+65535,L=Math.floor(M/65536),z=M-L*65536,M=j+L+65535,L=Math.floor(M/65536),j=M-L*65536,M=B+L+65535,L=Math.floor(M/65536),B=M-L*65536,M=U+L+65535,L=Math.floor(M/65536),U=M-L*65536,M=k+L+65535,L=Math.floor(M/65536),k=M-L*65536,M=G+L+65535,L=Math.floor(M/65536),G=M-L*65536,M=ne+L+65535,L=Math.floor(M/65536),ne=M-L*65536,M=le+L+65535,L=Math.floor(M/65536),le=M-L*65536,M=ee+L+65535,L=Math.floor(M/65536),ee=M-L*65536,V+=L-1+37*(L-1),L=1,M=V+L+65535,L=Math.floor(M/65536),V=M-L*65536,M=Z+L+65535,L=Math.floor(M/65536),Z=M-L*65536,M=H+L+65535,L=Math.floor(M/65536),H=M-L*65536,M=D+L+65535,L=Math.floor(M/65536),D=M-L*65536,M=R+L+65535,L=Math.floor(M/65536),R=M-L*65536,M=P+L+65535,L=Math.floor(M/65536),P=M-L*65536,M=F+L+65535,L=Math.floor(M/65536),F=M-L*65536,M=z+L+65535,L=Math.floor(M/65536),z=M-L*65536,M=j+L+65535,L=Math.floor(M/65536),j=M-L*65536,M=B+L+65535,L=Math.floor(M/65536),B=M-L*65536,M=U+L+65535,L=Math.floor(M/65536),U=M-L*65536,M=k+L+65535,L=Math.floor(M/65536),k=M-L*65536,M=G+L+65535,L=Math.floor(M/65536),G=M-L*65536,M=ne+L+65535,L=Math.floor(M/65536),ne=M-L*65536,M=le+L+65535,L=Math.floor(M/65536),le=M-L*65536,M=ee+L+65535,L=Math.floor(M/65536),ee=M-L*65536,V+=L-1+37*(L-1),C[0]=V,C[1]=Z,C[2]=H,C[3]=D,C[4]=R,C[5]=P,C[6]=F,C[7]=z,C[8]=j,C[9]=B,C[10]=U,C[11]=k,C[12]=G,C[13]=ne,C[14]=le,C[15]=ee}function v(C,N){p(C,N,N)}function S(C,N){for(var $=r(),M=0;M<16;M++)$[M]=N[M];for(var M=253;M>=0;M--)v($,$),M!==2&&M!==4&&p($,$,N);for(var M=0;M<16;M++)C[M]=$[M]}function w(C,N){for(var $=new Uint8Array(32),M=new Float64Array(80),L=r(),V=r(),Z=r(),H=r(),D=r(),R=r(),P=0;P<31;P++)$[P]=C[P];$[31]=C[31]&127|64,$[0]&=248,c(M,N);for(var P=0;P<16;P++)V[P]=M[P];L[0]=H[0]=1;for(var P=254;P>=0;--P){var F=$[P>>>3]>>>(P&7)&1;u(L,V,F),u(Z,H,F),h(D,L,Z),d(L,L,Z),h(Z,V,H),d(V,V,H),v(H,D),v(R,L),p(L,Z,L),p(Z,V,D),h(D,L,Z),d(L,L,Z),v(V,L),d(Z,H,R),p(L,Z,s),h(L,L,H),p(Z,Z,L),p(L,H,R),p(H,V,M),v(V,D),u(L,V,F),u(Z,H,F)}for(var P=0;P<16;P++)M[P+16]=L[P],M[P+32]=Z[P],M[P+48]=V[P],M[P+64]=H[P];var z=M.subarray(32),j=M.subarray(16);S(z,z),p(j,j,z);var B=new Uint8Array(32);return l(B,j),B}n.scalarMult=w;function T(C){return w(C,i)}n.scalarMultBase=T;function x(C){if(C.length!==n.SECRET_KEY_LENGTH)throw new Error("x25519: seed must be "+n.SECRET_KEY_LENGTH+" bytes");var N=new Uint8Array(C),$=T(N);return{publicKey:$,secretKey:N}}n.generateKeyPairFromSeed=x;function E(C){var N=e.randomBytes(32,C),$=x(N);return t.wipe(N),$}n.generateKeyPair=E;function O(C,N,$){if($===void 0&&($=!1),C.length!==n.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(N.length!==n.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");var M=w(C,N);if($){for(var L=0,V=0;V<M.length;V++)L|=M[V];if(L===0)throw new Error("X25519: invalid shared key")}return M}n.sharedKey=O})(_u);var fT={},Wg={},jg={};Object.defineProperty(jg,"__esModule",{value:!0});var es=dn,hT=co,yhe=20;function xhe(n,e,t){for(var r=1634760805,i=857760878,s=2036477234,o=1797285236,u=t[3]<<24|t[2]<<16|t[1]<<8|t[0],l=t[7]<<24|t[6]<<16|t[5]<<8|t[4],c=t[11]<<24|t[10]<<16|t[9]<<8|t[8],h=t[15]<<24|t[14]<<16|t[13]<<8|t[12],d=t[19]<<24|t[18]<<16|t[17]<<8|t[16],p=t[23]<<24|t[22]<<16|t[21]<<8|t[20],v=t[27]<<24|t[26]<<16|t[25]<<8|t[24],S=t[31]<<24|t[30]<<16|t[29]<<8|t[28],w=e[3]<<24|e[2]<<16|e[1]<<8|e[0],T=e[7]<<24|e[6]<<16|e[5]<<8|e[4],x=e[11]<<24|e[10]<<16|e[9]<<8|e[8],E=e[15]<<24|e[14]<<16|e[13]<<8|e[12],O=r,C=i,N=s,$=o,M=u,L=l,V=c,Z=h,H=d,D=p,R=v,P=S,F=w,z=T,j=x,B=E,U=0;U<yhe;U+=2)O=O+M|0,F^=O,F=F>>>32-16|F<<16,H=H+F|0,M^=H,M=M>>>32-12|M<<12,C=C+L|0,z^=C,z=z>>>32-16|z<<16,D=D+z|0,L^=D,L=L>>>32-12|L<<12,N=N+V|0,j^=N,j=j>>>32-16|j<<16,R=R+j|0,V^=R,V=V>>>32-12|V<<12,$=$+Z|0,B^=$,B=B>>>32-16|B<<16,P=P+B|0,Z^=P,Z=Z>>>32-12|Z<<12,N=N+V|0,j^=N,j=j>>>32-8|j<<8,R=R+j|0,V^=R,V=V>>>32-7|V<<7,$=$+Z|0,B^=$,B=B>>>32-8|B<<8,P=P+B|0,Z^=P,Z=Z>>>32-7|Z<<7,C=C+L|0,z^=C,z=z>>>32-8|z<<8,D=D+z|0,L^=D,L=L>>>32-7|L<<7,O=O+M|0,F^=O,F=F>>>32-8|F<<8,H=H+F|0,M^=H,M=M>>>32-7|M<<7,O=O+L|0,B^=O,B=B>>>32-16|B<<16,R=R+B|0,L^=R,L=L>>>32-12|L<<12,C=C+V|0,F^=C,F=F>>>32-16|F<<16,P=P+F|0,V^=P,V=V>>>32-12|V<<12,N=N+Z|0,z^=N,z=z>>>32-16|z<<16,H=H+z|0,Z^=H,Z=Z>>>32-12|Z<<12,$=$+M|0,j^=$,j=j>>>32-16|j<<16,D=D+j|0,M^=D,M=M>>>32-12|M<<12,N=N+Z|0,z^=N,z=z>>>32-8|z<<8,H=H+z|0,Z^=H,Z=Z>>>32-7|Z<<7,$=$+M|0,j^=$,j=j>>>32-8|j<<8,D=D+j|0,M^=D,M=M>>>32-7|M<<7,C=C+V|0,F^=C,F=F>>>32-8|F<<8,P=P+F|0,V^=P,V=V>>>32-7|V<<7,O=O+L|0,B^=O,B=B>>>32-8|B<<8,R=R+B|0,L^=R,L=L>>>32-7|L<<7;es.writeUint32LE(O+r|0,n,0),es.writeUint32LE(C+i|0,n,4),es.writeUint32LE(N+s|0,n,8),es.writeUint32LE($+o|0,n,12),es.writeUint32LE(M+u|0,n,16),es.writeUint32LE(L+l|0,n,20),es.writeUint32LE(V+c|0,n,24),es.writeUint32LE(Z+h|0,n,28),es.writeUint32LE(H+d|0,n,32),es.writeUint32LE(D+p|0,n,36),es.writeUint32LE(R+v|0,n,40),es.writeUint32LE(P+S|0,n,44),es.writeUint32LE(F+w|0,n,48),es.writeUint32LE(z+T|0,n,52),es.writeUint32LE(j+x|0,n,56),es.writeUint32LE(B+E|0,n,60)}function M7(n,e,t,r,i){if(i===void 0&&(i=0),n.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(r.length<t.length)throw new Error("ChaCha: destination is shorter than source");var s,o;if(i===0){if(e.length!==8&&e.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");s=new Uint8Array(16),o=s.length-e.length,s.set(e,o)}else{if(e.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");s=e,o=i}for(var u=new Uint8Array(64),l=0;l<t.length;l+=64){xhe(u,s,n);for(var c=l;c<l+64&&c<t.length;c++)r[c]=t[c]^u[c-l];whe(s,0,o)}return hT.wipe(u),i===0&&hT.wipe(s),r}jg.streamXOR=M7;function _he(n,e,t,r){return r===void 0&&(r=0),hT.wipe(t),M7(n,e,t,t,r)}jg.stream=_he;function whe(n,e,t){for(var r=1;t--;)r=r+(n[e]&255)|0,n[e]=r&255,r>>>=8,e++;if(r>0)throw new Error("ChaCha: counter overflow")}Object.defineProperty(Wg,"__esModule",{value:!0});var Tc=dn,D7=co,bhe=jg,She=20;function A7(n,e,t,r){if(e.length!==24)throw new Error("XChaCha20 nonce must be 24 bytes");var i=T7(n,e.subarray(0,16),new Uint8Array(32)),s=new Uint8Array(12);s.set(e.subarray(16),4);var o=bhe.streamXOR(i,s,t,r);return D7.wipe(i),o}Wg.streamXOR=A7;function Ehe(n,e,t){return D7.wipe(t),A7(n,e,t,t)}Wg.stream=Ehe;function T7(n,e,t){for(var r=1634760805,i=857760878,s=2036477234,o=1797285236,u=n[3]<<24|n[2]<<16|n[1]<<8|n[0],l=n[7]<<24|n[6]<<16|n[5]<<8|n[4],c=n[11]<<24|n[10]<<16|n[9]<<8|n[8],h=n[15]<<24|n[14]<<16|n[13]<<8|n[12],d=n[19]<<24|n[18]<<16|n[17]<<8|n[16],p=n[23]<<24|n[22]<<16|n[21]<<8|n[20],v=n[27]<<24|n[26]<<16|n[25]<<8|n[24],S=n[31]<<24|n[30]<<16|n[29]<<8|n[28],w=e[3]<<24|e[2]<<16|e[1]<<8|e[0],T=e[7]<<24|e[6]<<16|e[5]<<8|e[4],x=e[11]<<24|e[10]<<16|e[9]<<8|e[8],E=e[15]<<24|e[14]<<16|e[13]<<8|e[12],O=r,C=i,N=s,$=o,M=u,L=l,V=c,Z=h,H=d,D=p,R=v,P=S,F=w,z=T,j=x,B=E,U=0;U<She;U+=2)O=O+M|0,F^=O,F=F>>>32-16|F<<16,H=H+F|0,M^=H,M=M>>>32-12|M<<12,C=C+L|0,z^=C,z=z>>>32-16|z<<16,D=D+z|0,L^=D,L=L>>>32-12|L<<12,N=N+V|0,j^=N,j=j>>>32-16|j<<16,R=R+j|0,V^=R,V=V>>>32-12|V<<12,$=$+Z|0,B^=$,B=B>>>32-16|B<<16,P=P+B|0,Z^=P,Z=Z>>>32-12|Z<<12,N=N+V|0,j^=N,j=j>>>32-8|j<<8,R=R+j|0,V^=R,V=V>>>32-7|V<<7,$=$+Z|0,B^=$,B=B>>>32-8|B<<8,P=P+B|0,Z^=P,Z=Z>>>32-7|Z<<7,C=C+L|0,z^=C,z=z>>>32-8|z<<8,D=D+z|0,L^=D,L=L>>>32-7|L<<7,O=O+M|0,F^=O,F=F>>>32-8|F<<8,H=H+F|0,M^=H,M=M>>>32-7|M<<7,O=O+L|0,B^=O,B=B>>>32-16|B<<16,R=R+B|0,L^=R,L=L>>>32-12|L<<12,C=C+V|0,F^=C,F=F>>>32-16|F<<16,P=P+F|0,V^=P,V=V>>>32-12|V<<12,N=N+Z|0,z^=N,z=z>>>32-16|z<<16,H=H+z|0,Z^=H,Z=Z>>>32-12|Z<<12,$=$+M|0,j^=$,j=j>>>32-16|j<<16,D=D+j|0,M^=D,M=M>>>32-12|M<<12,N=N+Z|0,z^=N,z=z>>>32-8|z<<8,H=H+z|0,Z^=H,Z=Z>>>32-7|Z<<7,$=$+M|0,j^=$,j=j>>>32-8|j<<8,D=D+j|0,M^=D,M=M>>>32-7|M<<7,C=C+V|0,F^=C,F=F>>>32-8|F<<8,P=P+F|0,V^=P,V=V>>>32-7|V<<7,O=O+L|0,B^=O,B=B>>>32-8|B<<8,R=R+B|0,L^=R,L=L>>>32-7|L<<7;return Tc.writeUint32LE(O,t,0),Tc.writeUint32LE(C,t,4),Tc.writeUint32LE(N,t,8),Tc.writeUint32LE($,t,12),Tc.writeUint32LE(F,t,16),Tc.writeUint32LE(z,t,20),Tc.writeUint32LE(j,t,24),Tc.writeUint32LE(B,t,28),t}Wg.hchacha=T7;var C7={},P7={},lh={};Object.defineProperty(lh,"__esModule",{value:!0});function Mhe(n,e,t){return~(n-1)&e|n-1&t}lh.select=Mhe;function Dhe(n,e){return(n|0)-(e|0)-1>>>31&1}lh.lessOrEqual=Dhe;function R7(n,e){if(n.length!==e.length)return 0;for(var t=0,r=0;r<n.length;r++)t|=n[r]^e[r];return 1&t-1>>>8}lh.compare=R7;function Ahe(n,e){return n.length===0||e.length===0?!1:R7(n,e)!==0}lh.equal=Ahe;(function(n){Object.defineProperty(n,"__esModule",{value:!0});var e=lh,t=co;n.DIGEST_LENGTH=16;var r=function(){function o(u){this.digestLength=n.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var l=u[0]|u[1]<<8;this._r[0]=l&8191;var c=u[2]|u[3]<<8;this._r[1]=(l>>>13|c<<3)&8191;var h=u[4]|u[5]<<8;this._r[2]=(c>>>10|h<<6)&7939;var d=u[6]|u[7]<<8;this._r[3]=(h>>>7|d<<9)&8191;var p=u[8]|u[9]<<8;this._r[4]=(d>>>4|p<<12)&255,this._r[5]=p>>>1&8190;var v=u[10]|u[11]<<8;this._r[6]=(p>>>14|v<<2)&8191;var S=u[12]|u[13]<<8;this._r[7]=(v>>>11|S<<5)&8065;var w=u[14]|u[15]<<8;this._r[8]=(S>>>8|w<<8)&8191,this._r[9]=w>>>5&127,this._pad[0]=u[16]|u[17]<<8,this._pad[1]=u[18]|u[19]<<8,this._pad[2]=u[20]|u[21]<<8,this._pad[3]=u[22]|u[23]<<8,this._pad[4]=u[24]|u[25]<<8,this._pad[5]=u[26]|u[27]<<8,this._pad[6]=u[28]|u[29]<<8,this._pad[7]=u[30]|u[31]<<8}return o.prototype._blocks=function(u,l,c){for(var h=this._fin?0:1<<11,d=this._h[0],p=this._h[1],v=this._h[2],S=this._h[3],w=this._h[4],T=this._h[5],x=this._h[6],E=this._h[7],O=this._h[8],C=this._h[9],N=this._r[0],$=this._r[1],M=this._r[2],L=this._r[3],V=this._r[4],Z=this._r[5],H=this._r[6],D=this._r[7],R=this._r[8],P=this._r[9];c>=16;){var F=u[l+0]|u[l+1]<<8;d+=F&8191;var z=u[l+2]|u[l+3]<<8;p+=(F>>>13|z<<3)&8191;var j=u[l+4]|u[l+5]<<8;v+=(z>>>10|j<<6)&8191;var B=u[l+6]|u[l+7]<<8;S+=(j>>>7|B<<9)&8191;var U=u[l+8]|u[l+9]<<8;w+=(B>>>4|U<<12)&8191,T+=U>>>1&8191;var k=u[l+10]|u[l+11]<<8;x+=(U>>>14|k<<2)&8191;var G=u[l+12]|u[l+13]<<8;E+=(k>>>11|G<<5)&8191;var ne=u[l+14]|u[l+15]<<8;O+=(G>>>8|ne<<8)&8191,C+=ne>>>5|h;var le=0,ee=le;ee+=d*N,ee+=p*(5*P),ee+=v*(5*R),ee+=S*(5*D),ee+=w*(5*H),le=ee>>>13,ee&=8191,ee+=T*(5*Z),ee+=x*(5*V),ee+=E*(5*L),ee+=O*(5*M),ee+=C*(5*$),le+=ee>>>13,ee&=8191;var J=le;J+=d*$,J+=p*N,J+=v*(5*P),J+=S*(5*R),J+=w*(5*D),le=J>>>13,J&=8191,J+=T*(5*H),J+=x*(5*Z),J+=E*(5*V),J+=O*(5*L),J+=C*(5*M),le+=J>>>13,J&=8191;var de=le;de+=d*M,de+=p*$,de+=v*N,de+=S*(5*P),de+=w*(5*R),le=de>>>13,de&=8191,de+=T*(5*D),de+=x*(5*H),de+=E*(5*Z),de+=O*(5*V),de+=C*(5*L),le+=de>>>13,de&=8191;var se=le;se+=d*L,se+=p*M,se+=v*$,se+=S*N,se+=w*(5*P),le=se>>>13,se&=8191,se+=T*(5*R),se+=x*(5*D),se+=E*(5*H),se+=O*(5*Z),se+=C*(5*V),le+=se>>>13,se&=8191;var ue=le;ue+=d*V,ue+=p*L,ue+=v*M,ue+=S*$,ue+=w*N,le=ue>>>13,ue&=8191,ue+=T*(5*P),ue+=x*(5*R),ue+=E*(5*D),ue+=O*(5*H),ue+=C*(5*Z),le+=ue>>>13,ue&=8191;var oe=le;oe+=d*Z,oe+=p*V,oe+=v*L,oe+=S*M,oe+=w*$,le=oe>>>13,oe&=8191,oe+=T*N,oe+=x*(5*P),oe+=E*(5*R),oe+=O*(5*D),oe+=C*(5*H),le+=oe>>>13,oe&=8191;var W=le;W+=d*H,W+=p*Z,W+=v*V,W+=S*L,W+=w*M,le=W>>>13,W&=8191,W+=T*$,W+=x*N,W+=E*(5*P),W+=O*(5*R),W+=C*(5*D),le+=W>>>13,W&=8191;var ce=le;ce+=d*D,ce+=p*H,ce+=v*Z,ce+=S*V,ce+=w*L,le=ce>>>13,ce&=8191,ce+=T*M,ce+=x*$,ce+=E*N,ce+=O*(5*P),ce+=C*(5*R),le+=ce>>>13,ce&=8191;var ye=le;ye+=d*R,ye+=p*D,ye+=v*H,ye+=S*Z,ye+=w*V,le=ye>>>13,ye&=8191,ye+=T*L,ye+=x*M,ye+=E*$,ye+=O*N,ye+=C*(5*P),le+=ye>>>13,ye&=8191;var Te=le;Te+=d*P,Te+=p*R,Te+=v*D,Te+=S*H,Te+=w*Z,le=Te>>>13,Te&=8191,Te+=T*V,Te+=x*L,Te+=E*M,Te+=O*$,Te+=C*N,le+=Te>>>13,Te&=8191,le=(le<<2)+le|0,le=le+ee|0,ee=le&8191,le=le>>>13,J+=le,d=ee,p=J,v=de,S=se,w=ue,T=oe,x=W,E=ce,O=ye,C=Te,l+=16,c-=16}this._h[0]=d,this._h[1]=p,this._h[2]=v,this._h[3]=S,this._h[4]=w,this._h[5]=T,this._h[6]=x,this._h[7]=E,this._h[8]=O,this._h[9]=C},o.prototype.finish=function(u,l){l===void 0&&(l=0);var c=new Uint16Array(10),h,d,p,v;if(this._leftover){for(v=this._leftover,this._buffer[v++]=1;v<16;v++)this._buffer[v]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(h=this._h[1]>>>13,this._h[1]&=8191,v=2;v<10;v++)this._h[v]+=h,h=this._h[v]>>>13,this._h[v]&=8191;for(this._h[0]+=h*5,h=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=h,h=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=h,c[0]=this._h[0]+5,h=c[0]>>>13,c[0]&=8191,v=1;v<10;v++)c[v]=this._h[v]+h,h=c[v]>>>13,c[v]&=8191;for(c[9]-=1<<13,d=(h^1)-1,v=0;v<10;v++)c[v]&=d;for(d=~d,v=0;v<10;v++)this._h[v]=this._h[v]&d|c[v];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,p=this._h[0]+this._pad[0],this._h[0]=p&65535,v=1;v<8;v++)p=(this._h[v]+this._pad[v]|0)+(p>>>16)|0,this._h[v]=p&65535;return u[l+0]=this._h[0]>>>0,u[l+1]=this._h[0]>>>8,u[l+2]=this._h[1]>>>0,u[l+3]=this._h[1]>>>8,u[l+4]=this._h[2]>>>0,u[l+5]=this._h[2]>>>8,u[l+6]=this._h[3]>>>0,u[l+7]=this._h[3]>>>8,u[l+8]=this._h[4]>>>0,u[l+9]=this._h[4]>>>8,u[l+10]=this._h[5]>>>0,u[l+11]=this._h[5]>>>8,u[l+12]=this._h[6]>>>0,u[l+13]=this._h[6]>>>8,u[l+14]=this._h[7]>>>0,u[l+15]=this._h[7]>>>8,this._finished=!0,this},o.prototype.update=function(u){var l=0,c=u.length,h;if(this._leftover){h=16-this._leftover,h>c&&(h=c);for(var d=0;d<h;d++)this._buffer[this._leftover+d]=u[l+d];if(c-=h,l+=h,this._leftover+=h,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(c>=16&&(h=c-c%16,this._blocks(u,l,h),l+=h,c-=h),c){for(var d=0;d<c;d++)this._buffer[this._leftover+d]=u[l+d];this._leftover+=c}return this},o.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var u=new Uint8Array(16);return this.finish(u),u},o.prototype.clean=function(){return t.wipe(this._buffer),t.wipe(this._r),t.wipe(this._h),t.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},o}();n.Poly1305=r;function i(o,u){var l=new r(o);l.update(u);var c=l.digest();return l.clean(),c}n.oneTimeAuth=i;function s(o,u){return o.length!==n.DIGEST_LENGTH||u.length!==n.DIGEST_LENGTH?!1:e.equal(o,u)}n.equal=s})(P7);(function(n){Object.defineProperty(n,"__esModule",{value:!0});var e=jg,t=P7,r=co,i=dn,s=lh;n.KEY_LENGTH=32,n.NONCE_LENGTH=12,n.TAG_LENGTH=16;var o=new Uint8Array(16),u=function(){function l(c){if(this.nonceLength=n.NONCE_LENGTH,this.tagLength=n.TAG_LENGTH,c.length!==n.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(c)}return l.prototype.seal=function(c,h,d,p){if(c.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var v=new Uint8Array(16);v.set(c,v.length-c.length);var S=new Uint8Array(32);e.stream(this._key,v,S,4);var w=h.length+this.tagLength,T;if(p){if(p.length!==w)throw new Error("ChaCha20Poly1305: incorrect destination length");T=p}else T=new Uint8Array(w);return e.streamXOR(this._key,v,h,T,4),this._authenticate(T.subarray(T.length-this.tagLength,T.length),S,T.subarray(0,T.length-this.tagLength),d),r.wipe(v),T},l.prototype.open=function(c,h,d,p){if(c.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(h.length<this.tagLength)return null;var v=new Uint8Array(16);v.set(c,v.length-c.length);var S=new Uint8Array(32);e.stream(this._key,v,S,4);var w=new Uint8Array(this.tagLength);if(this._authenticate(w,S,h.subarray(0,h.length-this.tagLength),d),!s.equal(w,h.subarray(h.length-this.tagLength,h.length)))return null;var T=h.length-this.tagLength,x;if(p){if(p.length!==T)throw new Error("ChaCha20Poly1305: incorrect destination length");x=p}else x=new Uint8Array(T);return e.streamXOR(this._key,v,h.subarray(0,h.length-this.tagLength),x,4),r.wipe(v),x},l.prototype.clean=function(){return r.wipe(this._key),this},l.prototype._authenticate=function(c,h,d,p){var v=new t.Poly1305(h);p&&(v.update(p),p.length%16>0&&v.update(o.subarray(p.length%16))),v.update(d),d.length%16>0&&v.update(o.subarray(d.length%16));var S=new Uint8Array(8);p&&i.writeUint64LE(p.length,S),v.update(S),i.writeUint64LE(d.length,S),v.update(S);for(var w=v.digest(),T=0;T<w.length;T++)c[T]=w[T];v.clean(),r.wipe(w),r.wipe(S)},l}();n.ChaCha20Poly1305=u})(C7);(function(n){Object.defineProperty(n,"__esModule",{value:!0});var e=Wg,t=C7,r=co;n.KEY_LENGTH=32,n.NONCE_LENGTH=24,n.TAG_LENGTH=16;var i=function(){function s(o){if(this.nonceLength=n.NONCE_LENGTH,this.tagLength=n.TAG_LENGTH,o.length!==n.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(o)}return s.prototype.seal=function(o,u,l,c){if(o.length!==24)throw new Error("XChaCha20Poly1305: incorrect nonce length");var h=e.hchacha(this._key,o.subarray(0,16),new Uint8Array(32)),d=new Uint8Array(12);d.set(o.subarray(16),4);var p=new t.ChaCha20Poly1305(h),v=p.seal(d,u,l,c);return r.wipe(h),r.wipe(d),p.clean(),v},s.prototype.open=function(o,u,l,c){if(o.length!==24)throw new Error("XChaCha20Poly1305: incorrect nonce length");if(u.length<this.tagLength)return null;var h=e.hchacha(this._key,o.subarray(0,16),new Uint8Array(32)),d=new Uint8Array(12);d.set(o.subarray(16),4);var p=new t.ChaCha20Poly1305(h),v=p.open(d,u,l,c);return r.wipe(h),r.wipe(d),p.clean(),v},s.prototype.clean=function(){return r.wipe(this._key),this},s}();n.XChaCha20Poly1305=i})(fT);function ts(n){return V_(n,"base64url")}function Gr(n){const e=n.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"");return _a(e,"base64url")}function dT(n){return _a(n,"base58btc")}function pT(n){const e=n.startsWith("0x")?n.substring(2):n;return _a(e.toLowerCase(),"base16")}function mT(n){return ts(_a(n))}function vT(n){return V_(Gr(n))}function ch(n){return V_(n,"base16")}function k7(n){return _a(n)}function I7({r:n,s:e,recoveryParam:t},r){const i=new Uint8Array(r?65:64);if(i.set(_a(n,"base16"),0),i.set(_a(e,"base16"),32),r){if(typeof t=="undefined")throw new Error("Signer did not return a recoveryParam");i[64]=t}return ts(i)}function L7(n){const e=Gr(n);if(e.length<64||e.length>65)throw new TypeError(`Wrong size for signature. Expected 64 or 65 bytes, but got ${e.length}`);const t=ch(e.slice(0,32)),r=ch(e.slice(32,64)),i=e.length===65?e[64]:void 0;return{r:t,s:r,recoveryParam:i}}function gT(n,e){return N_([Gr(n),Gr(e)])}const The=/^(0x)?([a-fA-F0-9]{64}|[a-fA-F0-9]{128})$/,Che=/^([1-9A-HJ-NP-Za-km-z]{44}|[1-9A-HJ-NP-Za-km-z]{88})$/,Phe=/^([0-9a-zA-Z=\-_+/]{43}|[0-9a-zA-Z=\-_+/]{86})(={0,2})$/;function F7(n){if(typeof n=="string"){if(The.test(n))return pT(n);if(Che.test(n))return dT(n);if(Phe.test(n))return Gr(n);throw TypeError("bad_key: Invalid private key format")}else{if(n instanceof Uint8Array)return n;throw TypeError("bad_key: Invalid private key format")}}function O7(n,e=64){return n.length===e?n:"0".repeat(e-n.length)+n}function yT(n){const e=typeof n=="string"?_a(n):n;return bc.hash(e)}function Rhe(n){return new Uint8Array(WA.exports.keccak_256.arrayBuffer(n))}function N7(n){const e=_a(n.slice(2),"base16");return`0x${V_(Rhe(e).slice(-20),"base16")}`}function xT(n,e=new Uint8Array(4)){const t=_a(n.toString(),"base10");return e.set(t,4-t.length),e}const _T=n=>N_([xT(n.length),n]);function lw(n,e,t,r,i){if(e!==256)throw new Error(`Unsupported key length: ${e}`);const s=N_([_T(_a(t)),_T(typeof r=="undefined"?new Uint8Array(0):r),_T(typeof i=="undefined"?new Uint8Array(0):i),xT(e)]),o=1;return bc.hash(N_([xT(o),n,s]))}const khe=new jA.ec("secp256k1");function wT(n,e=!1){const t=F7(n);if(t.length!==32)throw new Error(`bad_key: Invalid private key format. Expecting 32 bytes, but got ${t.length}`);const r=khe.keyFromPrivate(t);return function(i){try{const{r:s,s:o,recoveryParam:u}=r.sign(yT(i));return Promise.resolve(I7({r:O7(s.toString("hex")),s:O7(o.toString("hex")),recoveryParam:u},e))}catch(s){return Promise.reject(s)}}}function Ihe(n){const e=wT(n,!0);return function(t){try{return Promise.resolve(e(t)).then(L7)}catch(r){return Promise.reject(r)}}}function Lhe(n){return wT(n)}function U7(n){const e=F7(n);if(e.length!==64)throw new Error(`bad_key: Invalid private key format. Expecting 64 bytes, but got ${e.length}`);return function(t){try{const r=typeof t=="string"?k7(t):t,i=uw.sign(e,r);return Promise.resolve(ts(i))}catch(r){return Promise.reject(r)}}}function Fhe(n){return U7(n)}function B7(n){return typeof n=="object"&&"r"in n&&"s"in n}function z7(n){return function(t,r){try{return Promise.resolve(r(t)).then(function(i){if(B7(i))return I7(i,n);if(n&&typeof L7(i).recoveryParam=="undefined")throw new Error("not_supported: ES256K-R not supported when signer doesn't provide a recovery param");return i})}catch(i){return Promise.reject(i)}}}function $7(){return function(e,t){try{return Promise.resolve(t(e)).then(function(r){if(B7(r))throw new Error("invalid_config: expected a signer function that returns a string instead of signature object");return r})}catch(r){return Promise.reject(r)}}}const Ohe={ES256K:z7(),"ES256K-R":z7(!0),Ed25519:$7(),EdDSA:$7()};function Nhe(n){const e=Ohe[n];if(!e)throw new Error(`not_supported: Unsupported algorithm ${n}`);return e}const bT=new jA.ec("secp256k1");function cw(n,e=!1){const t=Gr(n);if(t.length!==(e?65:64))throw new Error("wrong signature length");const r=ch(t.slice(0,32)),i=ch(t.slice(32,64)),s={r,s:i};return e&&(s.recoveryParam=t[64]),s}function ST(n){if(n.publicKeyBase58)return dT(n.publicKeyBase58);if(n.publicKeyBase64)return Gr(n.publicKeyBase64);if(n.publicKeyHex)return pT(n.publicKeyHex);if(n.publicKeyJwk&&n.publicKeyJwk.crv==="secp256k1"&&n.publicKeyJwk.x&&n.publicKeyJwk.y)return pT(bT.keyFromPublic({x:ch(Gr(n.publicKeyJwk.x)),y:ch(Gr(n.publicKeyJwk.y))}).getPublic("hex"));if(n.publicKeyMultibase){const{base16:e,base58btc:t,base64:r,base64url:i}=No;return e.decoder.or(t.decoder.or(r.decoder.or(i.decoder))).decode(n.publicKeyMultibase)}return new Uint8Array}function Uhe(n,e,t){const r=yT(n),i=cw(e),s=t.filter(({ethereumAddress:l,blockchainAccountId:c})=>typeof l=="undefined"&&typeof c=="undefined"),o=t.filter(({ethereumAddress:l,blockchainAccountId:c})=>typeof l!="undefined"||typeof c!==void 0);let u=s.find(l=>{try{const c=ST(l);return bT.keyFromPublic(c).verify(r,i)}catch{return!1}});if(!u&&o.length>0&&(u=G7(n,e,o)),!u)throw new Error("invalid_signature: Signature invalid for JWT");return u}function G7(n,e,t){let r;if(e.length>86)r=[cw(e,!0)];else{const o=cw(e,!1);r=[nr(vt({},o),{recoveryParam:0}),nr(vt({},o),{recoveryParam:1})]}const i=o=>{const u=yT(n),l=bT.recoverPubKey(u,o,o.recoveryParam),c=l.encode("hex"),h=l.encode("hex",!0),d=N7(c);return t.find(v=>{var S,w,T;const x=ch(ST(v));return x===c||x===h||((S=v.ethereumAddress)==null?void 0:S.toLowerCase())===d||((w=v.blockchainAccountId)==null||(T=w.split("@eip155"))==null?void 0:T[0].toLowerCase())===d})},s=r.map(i).filter(o=>typeof o!="undefined");if(s.length===0)throw new Error("invalid_signature: Signature invalid for JWT");return s[0]}function H7(n,e,t){const r=k7(n),i=Gr(e),s=t.find(o=>uw.verify(ST(o),r,i));if(!s)throw new Error("invalid_signature: Signature invalid for JWT");return s}const Bhe={ES256K:Uhe,"ES256K-R":G7,Ed25519:H7,EdDSA:H7};function V7(n){const e=Bhe[n];if(!e)throw new Error(`not_supported: Unsupported algorithm ${n}`);return e}V7.toSignatureObject=cw;const zhe=function(n,e,t,r){try{const i=Hhe[e];if(!i||i.length===0)throw new Error(`not_supported: No supported signature types for algorithm ${e}`);let s;return Promise.resolve(n.resolve(t,{accept:j7})).then(function(o){var u,l,c,h,d;if(Object.getOwnPropertyNames(o).indexOf("didDocument")===-1?s={didDocument:o,didDocumentMetadata:{},didResolutionMetadata:{contentType:j7}}:s=o,(u=s.didResolutionMetadata)!=null&&u.error||s.didDocument==null){const{error:T,message:x}=s.didResolutionMetadata;throw new Error(`resolver_error: Unable to resolve DID document for ${t}: ${T}, ${x||""}`)}const p=(T,x)=>{const E=T.filter(({id:O})=>x===O);return E.length>0?E[0]:null};let v=[...((l=s)==null||(c=l.didDocument)==null?void 0:c.verificationMethod)||[],...((h=s)==null||(d=h.didDocument)==null?void 0:d.publicKey)||[]];if(typeof r=="string"){var S;r.startsWith("assertion")&&!Object.getOwnPropertyNames((S=s)==null?void 0:S.didDocument).includes("assertionMethod")&&(s.didDocument=vt({},s.didDocument),s.didDocument.assertionMethod=[...v.map(T=>T.id)]),v=(s.didDocument[r]||[]).map(T=>typeof T=="string"?p(v,T):typeof T.publicKey=="string"?p(v,T.publicKey):T).filter(T=>T!=null)}const w=v.filter(({type:T})=>i.find(x=>x===T));if(typeof r=="string"&&(!w||w.length===0))throw new Error(`no_suitable_keys: DID document for ${t} does not have public keys suitable for ${e} with ${r} purpose`);if(!w||w.length===0)throw new Error(`no_suitable_keys: DID document for ${t} does not have public keys for ${e}`);return{authenticators:w,issuer:t,didResolutionResult:s}})}catch(i){return Promise.reject(i)}},$he=function(n,e={resolver:void 0,auth:void 0,audience:void 0,callbackUrl:void 0,skewTime:void 0,proofPurpose:void 0}){try{if(!e.resolver)throw new Error("missing_resolver: No DID resolver has been configured");const{payload:t,header:r,signature:i,data:s}=Y7(n),o=Object.prototype.hasOwnProperty.call(e,"auth")?e.auth?"authentication":void 0:e.proofPurpose;return Promise.resolve(zhe(e.resolver,r.alg,t.iss||"",o)).then(function({didResolutionResult:u,authenticators:l,issuer:c}){return Promise.resolve(J7({header:r,data:s,signature:i},l)).then(function(h){const d=Math.floor(Date.now()/1e3),p=typeof e.skewTime!="undefined"&&e.skewTime>=0?e.skewTime:Whe;if(h){const v=d+p;if(t.nbf){if(t.nbf>v)throw new Error(`invalid_jwt: JWT not valid before nbf: ${t.nbf}`)}else if(t.iat&&t.iat>v)throw new Error(`invalid_jwt: JWT not valid yet (issued in the future) iat: ${t.iat}`);if(t.exp&&t.exp<=d-p)throw new Error(`invalid_jwt: JWT has expired: exp: ${t.exp} < now: ${d}`);if(t.aud){if(!e.audience&&!e.callbackUrl)throw new Error("invalid_config: JWT audience is required but your app address has not been configured");if(typeof(Array.isArray(t.aud)?t.aud:[t.aud]).find(T=>e.audience===T||e.callbackUrl===T)=="undefined")throw new Error("invalid_config: JWT audience does not match your DID or callback url")}return{payload:t,didResolutionResult:u,issuer:c,signer:h,jwt:n}}throw new Error("invalid_signature: JWT not valid. issuer DID document does not contain a verificationMethod that matches the signature.")})})}catch(t){return Promise.reject(t)}},Ghe=function(n,{issuer:e,signer:t,alg:r,expiresIn:i,canonicalize:s},o={}){try{if(!t)throw new Error("missing_signer: No Signer functionality has been configured");if(!e)throw new Error("missing_issuer: No issuing DID has been configured");o.typ||(o.typ="JWT"),o.alg||(o.alg=r);const u={iat:Math.floor(Date.now()/1e3),exp:void 0};if(i)if(typeof i=="number")u.exp=(n.nbf||u.iat)+Math.floor(i);else throw new Error("invalid_argument: JWT expiresIn is not a number");const l=nr(vt(vt({},u),n),{iss:e});return W7(l,t,o,{canonicalize:s})}catch(u){return Promise.reject(u)}},W7=function(n,e,t={},r={}){try{t.alg||(t.alg=Vhe);const i=typeof n=="string"?n:q7(n,r.canonicalize),s=[q7(t,r.canonicalize),i].join("."),o=Nhe(t.alg);return Promise.resolve(o(s,e)).then(function(u){return[s,u].join(".")})}catch(i){return Promise.reject(i)}},Hhe={ES256K:["EcdsaSecp256k1VerificationKey2019","EcdsaSecp256k1RecoveryMethod2020","Secp256k1VerificationKey2018","Secp256k1SignatureVerificationKey2018","EcdsaPublicKeySecp256k1"],"ES256K-R":["EcdsaSecp256k1VerificationKey2019","EcdsaSecp256k1RecoveryMethod2020","Secp256k1VerificationKey2018","Secp256k1SignatureVerificationKey2018","EcdsaPublicKeySecp256k1"],Ed25519:["ED25519SignatureVerification","Ed25519VerificationKey2018"],EdDSA:["ED25519SignatureVerification","Ed25519VerificationKey2018"]},Vhe="ES256K",j7="application/did+json";function q7(n,e=!1){return mT(e?ghe(n):JSON.stringify(n))}const Whe=300;function X7(n){const e=n.match(/^([a-zA-Z0-9_-]+)\.([a-zA-Z0-9_-]+)\.([a-zA-Z0-9_-]+)$/);if(e)return{header:JSON.parse(vT(e[1])),payload:e[2],signature:e[3],data:`${e[1]}.${e[2]}`};throw new Error("invalid_argument: Incorrect format JWS")}function Y7(n){if(!n)throw new Error("invalid_argument: no JWT passed into decodeJWT");try{const e=X7(n);return Object.assign(e,{payload:JSON.parse(vT(e.payload))})}catch{throw new Error("invalid_argument: Incorrect format JWT")}}function J7({header:n,data:e,signature:t},r){return Array.isArray(r)||(r=[r]),V7(n.alg)(e,t,r)}function jhe(n,e){const t=X7(n);return J7(t,e)}function qhe(n,e,t){for(var r;;){var i=n();if(Cc(i)&&(i=i.v),!i)return s;if(i.then){r=0;break}var s=t();if(s&&s.then)if(Cc(s))s=s.s;else{r=1;break}if(e){var o=e();if(o&&o.then&&!Cc(o)){r=2;break}}}var u=new fh,l=Kr.bind(null,u,2);return(r===0?i.then(h):r===1?s.then(c):o.then(d)).then(void 0,l),u;function c(p){s=p;do{if(e&&(o=e(),o&&o.then&&!Cc(o))){o.then(d).then(void 0,l);return}if(i=n(),!i||Cc(i)&&!i.v){Kr(u,1,s);return}if(i.then){i.then(h).then(void 0,l);return}s=t(),Cc(s)&&(s=s.v)}while(!s||!s.then);s.then(c).then(void 0,l)}function h(p){p?(s=t(),s&&s.then?s.then(c).then(void 0,l):c(s)):Kr(u,1,s)}function d(){(i=n())?i.then?i.then(h).then(void 0,l):h(i):Kr(u,1,s)}}const Xhe=function(n,e){try{let r=function(c){if(u===null)throw new Error("failure: Failed to decrypt");return u},t;Khe(n);const i=JSON.parse(vT(n.protected));if(i.enc!==e.enc)throw new Error(`not_supported: Decrypter does not supported: '${i.enc}'`);const s=gT(n.ciphertext,n.tag),o=new Uint8Array(Buffer.from(n.aad?`${n.protected}.${n.aad}`:n.protected));let u=null;const l=function(){return i.alg==="dir"&&e.alg==="dir"?Promise.resolve(e.decrypt(s,Gr(n.iv),o)).then(function(c){u=c}):function(){if(!n.recipients||n.recipients.length===0)throw new Error("bad_jwe: missing recipients");{let c=0;return qhe(function(){return!u&&c<n.recipients.length},function(){return c++},function(){const h=n.recipients[c];Object.assign(h.header,i);const d=function(){if(h.header.alg===e.alg)return Promise.resolve(e.decrypt(s,Gr(n.iv),o,h)).then(function(p){u=p})}();if(d&&d.then)return d.then(function(){})})}}()}();return Promise.resolve(l&&l.then?l.then(r):r(l))}catch(t){return Promise.reject(t)}},K7=typeof Symbol!="undefined"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function Kr(n,e,t){if(!n.s){if(t instanceof fh)if(t.s)e&1&&(e=t.s),t=t.v;else{t.o=Kr.bind(null,n,e);return}if(t&&t.then){t.then(Kr.bind(null,n,e),Kr.bind(null,n,2));return}n.s=e,n.v=t;const r=n.o;r&&r(n)}}const fh=function(){function n(){}return n.prototype.then=function(e,t){const r=new n,i=this.s;if(i){const s=i&1?e:t;if(s){try{Kr(r,1,s(this.v))}catch(o){Kr(r,2,o)}return r}else return this}return this.o=function(s){try{const o=s.v;s.s&1?Kr(r,1,e?e(o):o):t?Kr(r,1,t(o)):Kr(r,2,o)}catch(o){Kr(r,2,o)}},r},n}();function Cc(n){return n instanceof fh&&n.s&1}function Yhe(n,e,t){var r=-1,i,s;function o(u){try{for(;++r<n.length&&(!t||!t());)if(u=e(r),u&&u.then)if(Cc(u))u=u.v;else{u.then(o,s||(s=Kr.bind(null,i=new fh,2)));return}i?Kr(i,1,u):i=u}catch(l){Kr(i||(i=new fh),2,l)}}return o(),i}function Jhe(n,e,t){if(typeof n[K7]=="function"){let h=function(d){try{for(;!(i=r.next()).done&&(!t||!t());)if(d=e(i.value),d&&d.then)if(Cc(d))d=d.v;else{d.then(h,o||(o=Kr.bind(null,s=new fh,2)));return}s?Kr(s,1,d):s=d}catch(p){Kr(s||(s=new fh),2,p)}};var r=n[K7](),i,s,o;if(h(),r.return){var u=function(d){try{i.done||r.return()}catch{}return d};if(s&&s.then)return s.then(u,function(d){throw u(d)});u()}return s}if(!("length"in n))throw new TypeError("Object is not iterable");for(var l=[],c=0;c<n.length;c++)l.push(n[c]);return Yhe(l,function(h){return e(l[h])},t)}function Khe(n){if(!(n.protected&&n.iv&&n.ciphertext&&n.tag))throw new Error("bad_jwe: missing properties");n.recipients&&n.recipients.map(e=>{if(!(e.header&&e.encrypted_key))throw new Error("bad_jwe: malformed recipients")})}function Z7({ciphertext:n,tag:e,iv:t,protectedHeader:r,recipient:i},s){const o={protected:r,iv:ts(t),ciphertext:ts(n),tag:ts(e)};return s&&(o.aad=ts(s)),i&&(o.recipients=[i]),o}const Zhe=function(n,e,t={},r){try{if(e[0].alg==="dir"){if(e.length>1)throw new Error('not_supported: Can only do "dir" encryption to one key.');return Promise.resolve(e[0].encrypt(n,t,r)).then(function(i){return Z7(i,r)})}else{const i=e[0].enc;if(!e.reduce((l,c)=>l&&c.enc===i,!0))throw new Error("invalid_argument: Incompatible encrypters passed");let s,o;const u=Jhe(e,function(l){const c=function(){return s?Promise.resolve(l.encryptCek==null?void 0:l.encryptCek(s)).then(function(h){if(h){var d,p;(d=o)==null||(p=d.recipients)==null||p.push(h)}}):Promise.resolve(l.encrypt(n,t,r)).then(function(h){s=h.cek,o=Z7(h,r)})}();if(c&&c.then)return c.then(function(){})});return Promise.resolve(u&&u.then?u.then(function(){return o}):o)}}catch(i){return Promise.reject(i)}};function Qhe(n){if(n.length!==32)throw new Error("invalid_argument: incorrect secret key length for X25519");return function(e){try{if(e.length!==32)throw new Error("invalid_argument: incorrect publicKey key length for X25519");return Promise.resolve(_u.sharedKey(n,e))}catch(t){return Promise.reject(t)}}}const ede=function(n,e){try{const t=function(i){try{return Promise.resolve(e.resolve(i)).then(function({didResolutionMetadata:s,didDocument:o}){var u;if(s!=null&&s.error||o==null)throw new Error(`resolver_error: Could not resolve ${i}: ${s.error}, ${s.message}`);if(!o.keyAgreement)throw new Error(`no_suitable_keys: Could not find x25519 key for ${i}`);const c=((u=o.keyAgreement)==null?void 0:u.map(h=>typeof h=="string"?[...o.publicKey||[],...o.verificationMethod||[]].find(d=>d.id===h):h).filter(h=>typeof h!="undefined")).filter(h=>h.type==="X25519KeyAgreementKey2019"&&Boolean(h.publicKeyBase58));if(!c.length)throw new Error(`no_suitable_keys: Could not find x25519 key for ${i}`);return c.map(h=>DT(dT(h.publicKeyBase58),h.id))})}catch(s){return Promise.reject(s)}},r=n.map(i=>t(i));return Promise.resolve(Promise.all(r)).then(function(i){return[].concat(...i)})}catch(t){return Promise.reject(t)}};function tde(n,e,t={}){return Q7(n,e,t)}function nde(n,e={}){return DT(n,e==null?void 0:e.kid)}function rde(n,e){return nz(n,e)}function ide(n){return tz(n)}function ET(n){const e=new fT.XChaCha20Poly1305(n);return(t,r)=>{const i=Ac.randomBytes(e.nonceLength),s=e.seal(i,t,r);return{ciphertext:s.subarray(0,s.length-e.tagLength),tag:s.subarray(s.length-e.tagLength),iv:i}}}function MT(n){const e=function(s,o={},u){try{const l=mT(JSON.stringify(Object.assign({alg:i},o,{enc:r}))),c=new Uint8Array(Buffer.from(u?`${l}.${ts(u)}`:l));return Promise.resolve(nr(vt({},t(s,c)),{protectedHeader:l}))}catch(l){return Promise.reject(l)}},t=ET(n),r="XC20P",i="dir";return{alg:i,enc:r,encrypt:e}}function qg(n){const e=function(r,i,s){try{return Promise.resolve(t.open(i,r,s))}catch(o){return Promise.reject(o)}},t=new fT.XChaCha20Poly1305(n);return{alg:"dir",enc:"XC20P",decrypt:e}}function DT(n,e){const t=function(u,l={},c){try{Object.assign(l,{alg:void 0});const h=Ac.randomBytes(32);return Promise.resolve(MT(h).encrypt(u,l,c)).then(function(d){return Promise.resolve(r(h)).then(function(p){return nr(vt({},d),{recipient:p,cek:h})})})}catch(h){return Promise.reject(h)}},r=function(u){try{const l=_u.generateKeyPair(),c=_u.sharedKey(l.secretKey,n),h=lw(c,s,i),d=ET(h)(u),p={encrypted_key:ts(d.ciphertext),header:{alg:i,iv:ts(d.iv),tag:ts(d.tag),epk:{kty:"OKP",crv:o,x:ts(l.publicKey)}}};return e&&(p.header.kid=e),Promise.resolve(p)}catch(l){return Promise.reject(l)}},i="ECDH-ES+XC20PKW",s=256,o="X25519";return{alg:i,enc:"XC20P",encrypt:t,encryptCek:r}}function Q7(n,e,t={}){const r=function(h,d={},p){try{Object.assign(d,{alg:void 0});const v=Ac.randomBytes(32);return Promise.resolve(MT(v).encrypt(h,d,p)).then(function(S){return Promise.resolve(i(v)).then(function(w){return nr(vt({},S),{recipient:w,cek:v})})})}catch(v){return Promise.reject(v)}},i=function(h){try{let d=function(){const T=new Uint8Array(v.length+S.length);T.set(v),T.set(S,v.length);const x=lw(T,o,s,l,c),E=ET(x)(h),O={encrypted_key:ts(E.ciphertext),header:{alg:s,iv:ts(E.iv),tag:ts(E.tag),epk:{kty:"OKP",crv:u,x:ts(p.publicKey)}}};return t.kid&&(O.header.kid=t.kid),t.apu&&(O.header.apu=t.apu),t.apv&&(O.header.apv=t.apv),O};const p=_u.generateKeyPair(),v=_u.sharedKey(p.secretKey,n);let S;const w=function(){if(e instanceof Uint8Array)S=_u.sharedKey(e,n);else return Promise.resolve(e(n)).then(function(T){S=T})}();return Promise.resolve(w&&w.then?w.then(d):d(w))}catch(d){return Promise.reject(d)}},s="ECDH-1PU+XC20PKW",o=256,u="X25519";let l,c;return t.apu!==void 0&&(l=Gr(t.apu)),t.apv!==void 0&&(c=Gr(t.apv)),{alg:s,enc:"XC20P",encrypt:r,encryptCek:i}}function ez(n){if(!(n&&n.epk&&n.iv&&n.tag))throw new Error("bad_jwe: malformed header")}function tz(n){const e=function(s,o,u,l){try{let d=function(){const w=lw(v,r,t),T=gT(l.encrypted_key,l.header.tag);return Promise.resolve(qg(w).decrypt(T,Gr(l.header.iv))).then(function(x){return x===null?null:qg(x).decrypt(s,o,u)})};var c,h;if(ez((c=l)==null?void 0:c.header),l=l,((h=l.header.epk)==null?void 0:h.crv)!==i||typeof l.header.epk.x=="undefined")return Promise.resolve(null);const p=Gr(l.header.epk.x);let v;const S=function(){if(n instanceof Uint8Array)v=_u.sharedKey(n,p);else return Promise.resolve(n(p)).then(function(w){v=w})}();return Promise.resolve(S&&S.then?S.then(d):d(S))}catch(d){return Promise.reject(d)}},t="ECDH-ES+XC20PKW",r=256,i="X25519";return{alg:t,enc:"XC20P",decrypt:e}}function nz(n,e){const t=function(o,u,l,c){try{let d=function(){const T=new Uint8Array(v.length+S.length);T.set(v),T.set(S,v.length);let x,E;c.header.apu&&(x=Gr(c.header.apu)),c.header.apv&&(E=Gr(c.header.apv));const O=lw(T,i,r,x,E),C=gT(c.encrypted_key,c.header.tag);return Promise.resolve(qg(O).decrypt(C,Gr(c.header.iv))).then(function(N){return N===null?null:qg(N).decrypt(o,u,l)})};var h;if(c=c,ez(c.header),((h=c.header.epk)==null?void 0:h.crv)!==s||typeof c.header.epk.x=="undefined")return Promise.resolve(null);const p=Gr(c.header.epk.x);let v,S;const w=function(){if(n instanceof Uint8Array)v=_u.sharedKey(n,p),S=_u.sharedKey(n,e);else return Promise.resolve(n(p)).then(function(T){return v=T,Promise.resolve(n(e)).then(function(x){S=x})})}();return Promise.resolve(w&&w.then?w.then(d):d(w))}catch(d){return Promise.reject(d)}},r="ECDH-1PU+XC20PKW",i=256,s="X25519";return{alg:r,enc:"XC20P",decrypt:t}}var sde=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",ES256KSigner:wT,EdDSASigner:U7,EllipticSigner:Lhe,NaclSigner:Fhe,SimpleSigner:Ihe,createAnonDecrypter:ide,createAnonEncrypter:nde,createAuthDecrypter:rde,createAuthEncrypter:tde,createJWE:Zhe,createJWS:W7,createJWT:Ghe,createX25519ECDH:Qhe,decodeJWT:Y7,decryptJWE:Xhe,resolveX25519Encrypters:ede,toEthereumAddress:N7,verifyJWS:jhe,verifyJWT:$he,x25519Decrypter:tz,x25519Encrypter:DT,xc20pAuthDecrypterEcdh1PuV3x25519WithXc20PkwV2:nz,xc20pAuthEncrypterEcdh1PuV3x25519WithXc20PkwV2:Q7,xc20pDirDecrypter:qg,xc20pDirEncrypter:MT}),ode=yr(sde),$o={},AT={},rz={},Xg={},fw={};fw.byteLength=lde;fw.toByteArray=fde;fw.fromByteArray=pde;var wu=[],Go=[],ade=typeof Uint8Array!="undefined"?Uint8Array:Array,TT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var d0=0,ude=TT.length;d0<ude;++d0)wu[d0]=TT[d0],Go[TT.charCodeAt(d0)]=d0;Go["-".charCodeAt(0)]=62;Go["_".charCodeAt(0)]=63;function iz(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=n.indexOf("=");t===-1&&(t=e);var r=t===e?0:4-t%4;return[t,r]}function lde(n){var e=iz(n),t=e[0],r=e[1];return(t+r)*3/4-r}function cde(n,e,t){return(e+t)*3/4-t}function fde(n){var e,t=iz(n),r=t[0],i=t[1],s=new ade(cde(n,r,i)),o=0,u=i>0?r-4:r,l;for(l=0;l<u;l+=4)e=Go[n.charCodeAt(l)]<<18|Go[n.charCodeAt(l+1)]<<12|Go[n.charCodeAt(l+2)]<<6|Go[n.charCodeAt(l+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=Go[n.charCodeAt(l)]<<2|Go[n.charCodeAt(l+1)]>>4,s[o++]=e&255),i===1&&(e=Go[n.charCodeAt(l)]<<10|Go[n.charCodeAt(l+1)]<<4|Go[n.charCodeAt(l+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function hde(n){return wu[n>>18&63]+wu[n>>12&63]+wu[n>>6&63]+wu[n&63]}function dde(n,e,t){for(var r,i=[],s=e;s<t;s+=3)r=(n[s]<<16&16711680)+(n[s+1]<<8&65280)+(n[s+2]&255),i.push(hde(r));return i.join("")}function pde(n){for(var e,t=n.length,r=t%3,i=[],s=16383,o=0,u=t-r;o<u;o+=s)i.push(dde(n,o,o+s>u?u:o+s));return r===1?(e=n[t-1],i.push(wu[e>>2]+wu[e<<4&63]+"==")):r===2&&(e=(n[t-2]<<8)+n[t-1],i.push(wu[e>>10]+wu[e>>4&63]+wu[e<<2&63]+"=")),i.join("")}var hw={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */hw.read=function(n,e,t,r,i){var s,o,u=i*8-r-1,l=(1<<u)-1,c=l>>1,h=-7,d=t?i-1:0,p=t?-1:1,v=n[e+d];for(d+=p,s=v&(1<<-h)-1,v>>=-h,h+=u;h>0;s=s*256+n[e+d],d+=p,h-=8);for(o=s&(1<<-h)-1,s>>=-h,h+=r;h>0;o=o*256+n[e+d],d+=p,h-=8);if(s===0)s=1-c;else{if(s===l)return o?NaN:(v?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-c}return(v?-1:1)*o*Math.pow(2,s-r)};hw.write=function(n,e,t,r,i,s){var o,u,l,c=s*8-i-1,h=(1<<c)-1,d=h>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=r?0:s-1,S=r?1:-1,w=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,o=h):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+d>=1?e+=p/l:e+=p*Math.pow(2,1-d),e*l>=2&&(o++,l/=2),o+d>=h?(u=0,o=h):o+d>=1?(u=(e*l-1)*Math.pow(2,i),o=o+d):(u=e*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;n[t+v]=u&255,v+=S,u/=256,i-=8);for(o=o<<i|u,c+=i;c>0;n[t+v]=o&255,v+=S,o/=256,c-=8);n[t+v-S]|=w*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(n){var e=fw,t=hw,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=u,n.SlowBuffer=E,n.INSPECT_MAX_BYTES=50;var i=2147483647;n.kMaxLength=i,u.TYPED_ARRAY_SUPPORT=s(),!u.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var ie=new Uint8Array(1),K={foo:function(){return 42}};return Object.setPrototypeOf(K,Uint8Array.prototype),Object.setPrototypeOf(ie,K),ie.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.byteOffset}});function o(ie){if(ie>i)throw new RangeError('The value "'+ie+'" is invalid for option "size"');var K=new Uint8Array(ie);return Object.setPrototypeOf(K,u.prototype),K}function u(ie,K,q){if(typeof ie=="number"){if(typeof K=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(ie)}return l(ie,K,q)}u.poolSize=8192;function l(ie,K,q){if(typeof ie=="string")return p(ie,K);if(ArrayBuffer.isView(ie))return S(ie);if(ie==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ie);if(Te(ie,ArrayBuffer)||ie&&Te(ie.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Te(ie,SharedArrayBuffer)||ie&&Te(ie.buffer,SharedArrayBuffer)))return w(ie,K,q);if(typeof ie=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var he=ie.valueOf&&ie.valueOf();if(he!=null&&he!==ie)return u.from(he,K,q);var Se=T(ie);if(Se)return Se;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof ie[Symbol.toPrimitive]=="function")return u.from(ie[Symbol.toPrimitive]("string"),K,q);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ie)}u.from=function(ie,K,q){return l(ie,K,q)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function c(ie){if(typeof ie!="number")throw new TypeError('"size" argument must be of type number');if(ie<0)throw new RangeError('The value "'+ie+'" is invalid for option "size"')}function h(ie,K,q){return c(ie),ie<=0?o(ie):K!==void 0?typeof q=="string"?o(ie).fill(K,q):o(ie).fill(K):o(ie)}u.alloc=function(ie,K,q){return h(ie,K,q)};function d(ie){return c(ie),o(ie<0?0:x(ie)|0)}u.allocUnsafe=function(ie){return d(ie)},u.allocUnsafeSlow=function(ie){return d(ie)};function p(ie,K){if((typeof K!="string"||K==="")&&(K="utf8"),!u.isEncoding(K))throw new TypeError("Unknown encoding: "+K);var q=O(ie,K)|0,he=o(q),Se=he.write(ie,K);return Se!==q&&(he=he.slice(0,Se)),he}function v(ie){for(var K=ie.length<0?0:x(ie.length)|0,q=o(K),he=0;he<K;he+=1)q[he]=ie[he]&255;return q}function S(ie){if(Te(ie,Uint8Array)){var K=new Uint8Array(ie);return w(K.buffer,K.byteOffset,K.byteLength)}return v(ie)}function w(ie,K,q){if(K<0||ie.byteLength<K)throw new RangeError('"offset" is outside of buffer bounds');if(ie.byteLength<K+(q||0))throw new RangeError('"length" is outside of buffer bounds');var he;return K===void 0&&q===void 0?he=new Uint8Array(ie):q===void 0?he=new Uint8Array(ie,K):he=new Uint8Array(ie,K,q),Object.setPrototypeOf(he,u.prototype),he}function T(ie){if(u.isBuffer(ie)){var K=x(ie.length)|0,q=o(K);return q.length===0||ie.copy(q,0,0,K),q}if(ie.length!==void 0)return typeof ie.length!="number"||Pe(ie.length)?o(0):v(ie);if(ie.type==="Buffer"&&Array.isArray(ie.data))return v(ie.data)}function x(ie){if(ie>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return ie|0}function E(ie){return+ie!=ie&&(ie=0),u.alloc(+ie)}u.isBuffer=function(K){return K!=null&&K._isBuffer===!0&&K!==u.prototype},u.compare=function(K,q){if(Te(K,Uint8Array)&&(K=u.from(K,K.offset,K.byteLength)),Te(q,Uint8Array)&&(q=u.from(q,q.offset,q.byteLength)),!u.isBuffer(K)||!u.isBuffer(q))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(K===q)return 0;for(var he=K.length,Se=q.length,te=0,re=Math.min(he,Se);te<re;++te)if(K[te]!==q[te]){he=K[te],Se=q[te];break}return he<Se?-1:Se<he?1:0},u.isEncoding=function(K){switch(String(K).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(K,q){if(!Array.isArray(K))throw new TypeError('"list" argument must be an Array of Buffers');if(K.length===0)return u.alloc(0);var he;if(q===void 0)for(q=0,he=0;he<K.length;++he)q+=K[he].length;var Se=u.allocUnsafe(q),te=0;for(he=0;he<K.length;++he){var re=K[he];if(Te(re,Uint8Array))te+re.length>Se.length?u.from(re).copy(Se,te):Uint8Array.prototype.set.call(Se,re,te);else if(u.isBuffer(re))re.copy(Se,te);else throw new TypeError('"list" argument must be an Array of Buffers');te+=re.length}return Se};function O(ie,K){if(u.isBuffer(ie))return ie.length;if(ArrayBuffer.isView(ie)||Te(ie,ArrayBuffer))return ie.byteLength;if(typeof ie!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ie);var q=ie.length,he=arguments.length>2&&arguments[2]===!0;if(!he&&q===0)return 0;for(var Se=!1;;)switch(K){case"ascii":case"latin1":case"binary":return q;case"utf8":case"utf-8":return ue(ie).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q*2;case"hex":return q>>>1;case"base64":return ce(ie).length;default:if(Se)return he?-1:ue(ie).length;K=(""+K).toLowerCase(),Se=!0}}u.byteLength=O;function C(ie,K,q){var he=!1;if((K===void 0||K<0)&&(K=0),K>this.length||((q===void 0||q>this.length)&&(q=this.length),q<=0)||(q>>>=0,K>>>=0,q<=K))return"";for(ie||(ie="utf8");;)switch(ie){case"hex":return U(this,K,q);case"utf8":case"utf-8":return P(this,K,q);case"ascii":return j(this,K,q);case"latin1":case"binary":return B(this,K,q);case"base64":return R(this,K,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,K,q);default:if(he)throw new TypeError("Unknown encoding: "+ie);ie=(ie+"").toLowerCase(),he=!0}}u.prototype._isBuffer=!0;function N(ie,K,q){var he=ie[K];ie[K]=ie[q],ie[q]=he}u.prototype.swap16=function(){var K=this.length;if(K%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var q=0;q<K;q+=2)N(this,q,q+1);return this},u.prototype.swap32=function(){var K=this.length;if(K%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var q=0;q<K;q+=4)N(this,q,q+3),N(this,q+1,q+2);return this},u.prototype.swap64=function(){var K=this.length;if(K%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var q=0;q<K;q+=8)N(this,q,q+7),N(this,q+1,q+6),N(this,q+2,q+5),N(this,q+3,q+4);return this},u.prototype.toString=function(){var K=this.length;return K===0?"":arguments.length===0?P(this,0,K):C.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(K){if(!u.isBuffer(K))throw new TypeError("Argument must be a Buffer");return this===K?!0:u.compare(this,K)===0},u.prototype.inspect=function(){var K="",q=n.INSPECT_MAX_BYTES;return K=this.toString("hex",0,q).replace(/(.{2})/g,"$1 ").trim(),this.length>q&&(K+=" ... "),"<Buffer "+K+">"},r&&(u.prototype[r]=u.prototype.inspect),u.prototype.compare=function(K,q,he,Se,te){if(Te(K,Uint8Array)&&(K=u.from(K,K.offset,K.byteLength)),!u.isBuffer(K))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof K);if(q===void 0&&(q=0),he===void 0&&(he=K?K.length:0),Se===void 0&&(Se=0),te===void 0&&(te=this.length),q<0||he>K.length||Se<0||te>this.length)throw new RangeError("out of range index");if(Se>=te&&q>=he)return 0;if(Se>=te)return-1;if(q>=he)return 1;if(q>>>=0,he>>>=0,Se>>>=0,te>>>=0,this===K)return 0;for(var re=te-Se,Me=he-q,Ce=Math.min(re,Me),Ae=this.slice(Se,te),Oe=K.slice(q,he),ge=0;ge<Ce;++ge)if(Ae[ge]!==Oe[ge]){re=Ae[ge],Me=Oe[ge];break}return re<Me?-1:Me<re?1:0};function $(ie,K,q,he,Se){if(ie.length===0)return-1;if(typeof q=="string"?(he=q,q=0):q>2147483647?q=2147483647:q<-2147483648&&(q=-2147483648),q=+q,Pe(q)&&(q=Se?0:ie.length-1),q<0&&(q=ie.length+q),q>=ie.length){if(Se)return-1;q=ie.length-1}else if(q<0)if(Se)q=0;else return-1;if(typeof K=="string"&&(K=u.from(K,he)),u.isBuffer(K))return K.length===0?-1:M(ie,K,q,he,Se);if(typeof K=="number")return K=K&255,typeof Uint8Array.prototype.indexOf=="function"?Se?Uint8Array.prototype.indexOf.call(ie,K,q):Uint8Array.prototype.lastIndexOf.call(ie,K,q):M(ie,[K],q,he,Se);throw new TypeError("val must be string, number or Buffer")}function M(ie,K,q,he,Se){var te=1,re=ie.length,Me=K.length;if(he!==void 0&&(he=String(he).toLowerCase(),he==="ucs2"||he==="ucs-2"||he==="utf16le"||he==="utf-16le")){if(ie.length<2||K.length<2)return-1;te=2,re/=2,Me/=2,q/=2}function Ce(ze,ae){return te===1?ze[ae]:ze.readUInt16BE(ae*te)}var Ae;if(Se){var Oe=-1;for(Ae=q;Ae<re;Ae++)if(Ce(ie,Ae)===Ce(K,Oe===-1?0:Ae-Oe)){if(Oe===-1&&(Oe=Ae),Ae-Oe+1===Me)return Oe*te}else Oe!==-1&&(Ae-=Ae-Oe),Oe=-1}else for(q+Me>re&&(q=re-Me),Ae=q;Ae>=0;Ae--){for(var ge=!0,Ne=0;Ne<Me;Ne++)if(Ce(ie,Ae+Ne)!==Ce(K,Ne)){ge=!1;break}if(ge)return Ae}return-1}u.prototype.includes=function(K,q,he){return this.indexOf(K,q,he)!==-1},u.prototype.indexOf=function(K,q,he){return $(this,K,q,he,!0)},u.prototype.lastIndexOf=function(K,q,he){return $(this,K,q,he,!1)};function L(ie,K,q,he){q=Number(q)||0;var Se=ie.length-q;he?(he=Number(he),he>Se&&(he=Se)):he=Se;var te=K.length;he>te/2&&(he=te/2);for(var re=0;re<he;++re){var Me=parseInt(K.substr(re*2,2),16);if(Pe(Me))return re;ie[q+re]=Me}return re}function V(ie,K,q,he){return ye(ue(K,ie.length-q),ie,q,he)}function Z(ie,K,q,he){return ye(oe(K),ie,q,he)}function H(ie,K,q,he){return ye(ce(K),ie,q,he)}function D(ie,K,q,he){return ye(W(K,ie.length-q),ie,q,he)}u.prototype.write=function(K,q,he,Se){if(q===void 0)Se="utf8",he=this.length,q=0;else if(he===void 0&&typeof q=="string")Se=q,he=this.length,q=0;else if(isFinite(q))q=q>>>0,isFinite(he)?(he=he>>>0,Se===void 0&&(Se="utf8")):(Se=he,he=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var te=this.length-q;if((he===void 0||he>te)&&(he=te),K.length>0&&(he<0||q<0)||q>this.length)throw new RangeError("Attempt to write outside buffer bounds");Se||(Se="utf8");for(var re=!1;;)switch(Se){case"hex":return L(this,K,q,he);case"utf8":case"utf-8":return V(this,K,q,he);case"ascii":case"latin1":case"binary":return Z(this,K,q,he);case"base64":return H(this,K,q,he);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,K,q,he);default:if(re)throw new TypeError("Unknown encoding: "+Se);Se=(""+Se).toLowerCase(),re=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function R(ie,K,q){return K===0&&q===ie.length?e.fromByteArray(ie):e.fromByteArray(ie.slice(K,q))}function P(ie,K,q){q=Math.min(ie.length,q);for(var he=[],Se=K;Se<q;){var te=ie[Se],re=null,Me=te>239?4:te>223?3:te>191?2:1;if(Se+Me<=q){var Ce,Ae,Oe,ge;switch(Me){case 1:te<128&&(re=te);break;case 2:Ce=ie[Se+1],(Ce&192)==128&&(ge=(te&31)<<6|Ce&63,ge>127&&(re=ge));break;case 3:Ce=ie[Se+1],Ae=ie[Se+2],(Ce&192)==128&&(Ae&192)==128&&(ge=(te&15)<<12|(Ce&63)<<6|Ae&63,ge>2047&&(ge<55296||ge>57343)&&(re=ge));break;case 4:Ce=ie[Se+1],Ae=ie[Se+2],Oe=ie[Se+3],(Ce&192)==128&&(Ae&192)==128&&(Oe&192)==128&&(ge=(te&15)<<18|(Ce&63)<<12|(Ae&63)<<6|Oe&63,ge>65535&&ge<1114112&&(re=ge))}}re===null?(re=65533,Me=1):re>65535&&(re-=65536,he.push(re>>>10&1023|55296),re=56320|re&1023),he.push(re),Se+=Me}return z(he)}var F=4096;function z(ie){var K=ie.length;if(K<=F)return String.fromCharCode.apply(String,ie);for(var q="",he=0;he<K;)q+=String.fromCharCode.apply(String,ie.slice(he,he+=F));return q}function j(ie,K,q){var he="";q=Math.min(ie.length,q);for(var Se=K;Se<q;++Se)he+=String.fromCharCode(ie[Se]&127);return he}function B(ie,K,q){var he="";q=Math.min(ie.length,q);for(var Se=K;Se<q;++Se)he+=String.fromCharCode(ie[Se]);return he}function U(ie,K,q){var he=ie.length;(!K||K<0)&&(K=0),(!q||q<0||q>he)&&(q=he);for(var Se="",te=K;te<q;++te)Se+=Je[ie[te]];return Se}function k(ie,K,q){for(var he=ie.slice(K,q),Se="",te=0;te<he.length-1;te+=2)Se+=String.fromCharCode(he[te]+he[te+1]*256);return Se}u.prototype.slice=function(K,q){var he=this.length;K=~~K,q=q===void 0?he:~~q,K<0?(K+=he,K<0&&(K=0)):K>he&&(K=he),q<0?(q+=he,q<0&&(q=0)):q>he&&(q=he),q<K&&(q=K);var Se=this.subarray(K,q);return Object.setPrototypeOf(Se,u.prototype),Se};function G(ie,K,q){if(ie%1!=0||ie<0)throw new RangeError("offset is not uint");if(ie+K>q)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(K,q,he){K=K>>>0,q=q>>>0,he||G(K,q,this.length);for(var Se=this[K],te=1,re=0;++re<q&&(te*=256);)Se+=this[K+re]*te;return Se},u.prototype.readUintBE=u.prototype.readUIntBE=function(K,q,he){K=K>>>0,q=q>>>0,he||G(K,q,this.length);for(var Se=this[K+--q],te=1;q>0&&(te*=256);)Se+=this[K+--q]*te;return Se},u.prototype.readUint8=u.prototype.readUInt8=function(K,q){return K=K>>>0,q||G(K,1,this.length),this[K]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(K,q){return K=K>>>0,q||G(K,2,this.length),this[K]|this[K+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(K,q){return K=K>>>0,q||G(K,2,this.length),this[K]<<8|this[K+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(K,q){return K=K>>>0,q||G(K,4,this.length),(this[K]|this[K+1]<<8|this[K+2]<<16)+this[K+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(K,q){return K=K>>>0,q||G(K,4,this.length),this[K]*16777216+(this[K+1]<<16|this[K+2]<<8|this[K+3])},u.prototype.readIntLE=function(K,q,he){K=K>>>0,q=q>>>0,he||G(K,q,this.length);for(var Se=this[K],te=1,re=0;++re<q&&(te*=256);)Se+=this[K+re]*te;return te*=128,Se>=te&&(Se-=Math.pow(2,8*q)),Se},u.prototype.readIntBE=function(K,q,he){K=K>>>0,q=q>>>0,he||G(K,q,this.length);for(var Se=q,te=1,re=this[K+--Se];Se>0&&(te*=256);)re+=this[K+--Se]*te;return te*=128,re>=te&&(re-=Math.pow(2,8*q)),re},u.prototype.readInt8=function(K,q){return K=K>>>0,q||G(K,1,this.length),this[K]&128?(255-this[K]+1)*-1:this[K]},u.prototype.readInt16LE=function(K,q){K=K>>>0,q||G(K,2,this.length);var he=this[K]|this[K+1]<<8;return he&32768?he|4294901760:he},u.prototype.readInt16BE=function(K,q){K=K>>>0,q||G(K,2,this.length);var he=this[K+1]|this[K]<<8;return he&32768?he|4294901760:he},u.prototype.readInt32LE=function(K,q){return K=K>>>0,q||G(K,4,this.length),this[K]|this[K+1]<<8|this[K+2]<<16|this[K+3]<<24},u.prototype.readInt32BE=function(K,q){return K=K>>>0,q||G(K,4,this.length),this[K]<<24|this[K+1]<<16|this[K+2]<<8|this[K+3]},u.prototype.readFloatLE=function(K,q){return K=K>>>0,q||G(K,4,this.length),t.read(this,K,!0,23,4)},u.prototype.readFloatBE=function(K,q){return K=K>>>0,q||G(K,4,this.length),t.read(this,K,!1,23,4)},u.prototype.readDoubleLE=function(K,q){return K=K>>>0,q||G(K,8,this.length),t.read(this,K,!0,52,8)},u.prototype.readDoubleBE=function(K,q){return K=K>>>0,q||G(K,8,this.length),t.read(this,K,!1,52,8)};function ne(ie,K,q,he,Se,te){if(!u.isBuffer(ie))throw new TypeError('"buffer" argument must be a Buffer instance');if(K>Se||K<te)throw new RangeError('"value" argument is out of bounds');if(q+he>ie.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(K,q,he,Se){if(K=+K,q=q>>>0,he=he>>>0,!Se){var te=Math.pow(2,8*he)-1;ne(this,K,q,he,te,0)}var re=1,Me=0;for(this[q]=K&255;++Me<he&&(re*=256);)this[q+Me]=K/re&255;return q+he},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(K,q,he,Se){if(K=+K,q=q>>>0,he=he>>>0,!Se){var te=Math.pow(2,8*he)-1;ne(this,K,q,he,te,0)}var re=he-1,Me=1;for(this[q+re]=K&255;--re>=0&&(Me*=256);)this[q+re]=K/Me&255;return q+he},u.prototype.writeUint8=u.prototype.writeUInt8=function(K,q,he){return K=+K,q=q>>>0,he||ne(this,K,q,1,255,0),this[q]=K&255,q+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(K,q,he){return K=+K,q=q>>>0,he||ne(this,K,q,2,65535,0),this[q]=K&255,this[q+1]=K>>>8,q+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(K,q,he){return K=+K,q=q>>>0,he||ne(this,K,q,2,65535,0),this[q]=K>>>8,this[q+1]=K&255,q+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(K,q,he){return K=+K,q=q>>>0,he||ne(this,K,q,4,4294967295,0),this[q+3]=K>>>24,this[q+2]=K>>>16,this[q+1]=K>>>8,this[q]=K&255,q+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(K,q,he){return K=+K,q=q>>>0,he||ne(this,K,q,4,4294967295,0),this[q]=K>>>24,this[q+1]=K>>>16,this[q+2]=K>>>8,this[q+3]=K&255,q+4},u.prototype.writeIntLE=function(K,q,he,Se){if(K=+K,q=q>>>0,!Se){var te=Math.pow(2,8*he-1);ne(this,K,q,he,te-1,-te)}var re=0,Me=1,Ce=0;for(this[q]=K&255;++re<he&&(Me*=256);)K<0&&Ce===0&&this[q+re-1]!==0&&(Ce=1),this[q+re]=(K/Me>>0)-Ce&255;return q+he},u.prototype.writeIntBE=function(K,q,he,Se){if(K=+K,q=q>>>0,!Se){var te=Math.pow(2,8*he-1);ne(this,K,q,he,te-1,-te)}var re=he-1,Me=1,Ce=0;for(this[q+re]=K&255;--re>=0&&(Me*=256);)K<0&&Ce===0&&this[q+re+1]!==0&&(Ce=1),this[q+re]=(K/Me>>0)-Ce&255;return q+he},u.prototype.writeInt8=function(K,q,he){return K=+K,q=q>>>0,he||ne(this,K,q,1,127,-128),K<0&&(K=255+K+1),this[q]=K&255,q+1},u.prototype.writeInt16LE=function(K,q,he){return K=+K,q=q>>>0,he||ne(this,K,q,2,32767,-32768),this[q]=K&255,this[q+1]=K>>>8,q+2},u.prototype.writeInt16BE=function(K,q,he){return K=+K,q=q>>>0,he||ne(this,K,q,2,32767,-32768),this[q]=K>>>8,this[q+1]=K&255,q+2},u.prototype.writeInt32LE=function(K,q,he){return K=+K,q=q>>>0,he||ne(this,K,q,4,2147483647,-2147483648),this[q]=K&255,this[q+1]=K>>>8,this[q+2]=K>>>16,this[q+3]=K>>>24,q+4},u.prototype.writeInt32BE=function(K,q,he){return K=+K,q=q>>>0,he||ne(this,K,q,4,2147483647,-2147483648),K<0&&(K=4294967295+K+1),this[q]=K>>>24,this[q+1]=K>>>16,this[q+2]=K>>>8,this[q+3]=K&255,q+4};function le(ie,K,q,he,Se,te){if(q+he>ie.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("Index out of range")}function ee(ie,K,q,he,Se){return K=+K,q=q>>>0,Se||le(ie,K,q,4),t.write(ie,K,q,he,23,4),q+4}u.prototype.writeFloatLE=function(K,q,he){return ee(this,K,q,!0,he)},u.prototype.writeFloatBE=function(K,q,he){return ee(this,K,q,!1,he)};function J(ie,K,q,he,Se){return K=+K,q=q>>>0,Se||le(ie,K,q,8),t.write(ie,K,q,he,52,8),q+8}u.prototype.writeDoubleLE=function(K,q,he){return J(this,K,q,!0,he)},u.prototype.writeDoubleBE=function(K,q,he){return J(this,K,q,!1,he)},u.prototype.copy=function(K,q,he,Se){if(!u.isBuffer(K))throw new TypeError("argument should be a Buffer");if(he||(he=0),!Se&&Se!==0&&(Se=this.length),q>=K.length&&(q=K.length),q||(q=0),Se>0&&Se<he&&(Se=he),Se===he||K.length===0||this.length===0)return 0;if(q<0)throw new RangeError("targetStart out of bounds");if(he<0||he>=this.length)throw new RangeError("Index out of range");if(Se<0)throw new RangeError("sourceEnd out of bounds");Se>this.length&&(Se=this.length),K.length-q<Se-he&&(Se=K.length-q+he);var te=Se-he;return this===K&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(q,he,Se):Uint8Array.prototype.set.call(K,this.subarray(he,Se),q),te},u.prototype.fill=function(K,q,he,Se){if(typeof K=="string"){if(typeof q=="string"?(Se=q,q=0,he=this.length):typeof he=="string"&&(Se=he,he=this.length),Se!==void 0&&typeof Se!="string")throw new TypeError("encoding must be a string");if(typeof Se=="string"&&!u.isEncoding(Se))throw new TypeError("Unknown encoding: "+Se);if(K.length===1){var te=K.charCodeAt(0);(Se==="utf8"&&te<128||Se==="latin1")&&(K=te)}}else typeof K=="number"?K=K&255:typeof K=="boolean"&&(K=Number(K));if(q<0||this.length<q||this.length<he)throw new RangeError("Out of range index");if(he<=q)return this;q=q>>>0,he=he===void 0?this.length:he>>>0,K||(K=0);var re;if(typeof K=="number")for(re=q;re<he;++re)this[re]=K;else{var Me=u.isBuffer(K)?K:u.from(K,Se),Ce=Me.length;if(Ce===0)throw new TypeError('The value "'+K+'" is invalid for argument "value"');for(re=0;re<he-q;++re)this[re+q]=Me[re%Ce]}return this};var de=/[^+/0-9A-Za-z-_]/g;function se(ie){if(ie=ie.split("=")[0],ie=ie.trim().replace(de,""),ie.length<2)return"";for(;ie.length%4!=0;)ie=ie+"=";return ie}function ue(ie,K){K=K||1/0;for(var q,he=ie.length,Se=null,te=[],re=0;re<he;++re){if(q=ie.charCodeAt(re),q>55295&&q<57344){if(!Se){if(q>56319){(K-=3)>-1&&te.push(239,191,189);continue}else if(re+1===he){(K-=3)>-1&&te.push(239,191,189);continue}Se=q;continue}if(q<56320){(K-=3)>-1&&te.push(239,191,189),Se=q;continue}q=(Se-55296<<10|q-56320)+65536}else Se&&(K-=3)>-1&&te.push(239,191,189);if(Se=null,q<128){if((K-=1)<0)break;te.push(q)}else if(q<2048){if((K-=2)<0)break;te.push(q>>6|192,q&63|128)}else if(q<65536){if((K-=3)<0)break;te.push(q>>12|224,q>>6&63|128,q&63|128)}else if(q<1114112){if((K-=4)<0)break;te.push(q>>18|240,q>>12&63|128,q>>6&63|128,q&63|128)}else throw new Error("Invalid code point")}return te}function oe(ie){for(var K=[],q=0;q<ie.length;++q)K.push(ie.charCodeAt(q)&255);return K}function W(ie,K){for(var q,he,Se,te=[],re=0;re<ie.length&&!((K-=2)<0);++re)q=ie.charCodeAt(re),he=q>>8,Se=q%256,te.push(Se),te.push(he);return te}function ce(ie){return e.toByteArray(se(ie))}function ye(ie,K,q,he){for(var Se=0;Se<he&&!(Se+q>=K.length||Se>=ie.length);++Se)K[Se+q]=ie[Se];return Se}function Te(ie,K){return ie instanceof K||ie!=null&&ie.constructor!=null&&ie.constructor.name!=null&&ie.constructor.name===K.name}function Pe(ie){return ie!==ie}var Je=function(){for(var ie="0123456789abcdef",K=new Array(256),q=0;q<16;++q)for(var he=q*16,Se=0;Se<16;++Se)K[he+Se]=ie[q]+ie[Se];return K}()})(Xg);var mde=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,CT=Math.ceil,bu=Math.floor,Us="[BigNumber Error] ",sz=Us+"Number primitive has more than 15 significant digits: ",Sa=1e14,pn=14,PT=9007199254740991,RT=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Pc=1e7,pi=1e9;function oz(n){var e,t,r,i=x.prototype={constructor:x,toString:null,valueOf:null},s=new x(1),o=20,u=4,l=-7,c=21,h=-1e7,d=1e7,p=!1,v=1,S=0,w={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},T="0123456789abcdefghijklmnopqrstuvwxyz";function x(M,L){var V,Z,H,D,R,P,F,z,j=this;if(!(j instanceof x))return new x(M,L);if(L==null){if(M&&M._isBigNumber===!0){j.s=M.s,!M.c||M.e>d?j.c=j.e=null:M.e<h?j.c=[j.e=0]:(j.e=M.e,j.c=M.c.slice());return}if((P=typeof M=="number")&&M*0==0){if(j.s=1/M<0?(M=-M,-1):1,M===~~M){for(D=0,R=M;R>=10;R/=10,D++);D>d?j.c=j.e=null:(j.e=D,j.c=[M]);return}z=String(M)}else{if(!mde.test(z=String(M)))return r(j,z,P);j.s=z.charCodeAt(0)==45?(z=z.slice(1),-1):1}(D=z.indexOf("."))>-1&&(z=z.replace(".","")),(R=z.search(/e/i))>0?(D<0&&(D=R),D+=+z.slice(R+1),z=z.substring(0,R)):D<0&&(D=z.length)}else{if(gr(L,2,T.length,"Base"),L==10)return j=new x(M),N(j,o+j.e+1,u);if(z=String(M),P=typeof M=="number"){if(M*0!=0)return r(j,z,P,L);if(j.s=1/M<0?(z=z.slice(1),-1):1,x.DEBUG&&z.replace(/^0\.0*|\./,"").length>15)throw Error(sz+M)}else j.s=z.charCodeAt(0)===45?(z=z.slice(1),-1):1;for(V=T.slice(0,L),D=R=0,F=z.length;R<F;R++)if(V.indexOf(Z=z.charAt(R))<0){if(Z=="."){if(R>D){D=F;continue}}else if(!H&&(z==z.toUpperCase()&&(z=z.toLowerCase())||z==z.toLowerCase()&&(z=z.toUpperCase()))){H=!0,R=-1,D=0;continue}return r(j,String(M),P,L)}P=!1,z=t(z,L,10,j.s),(D=z.indexOf("."))>-1?z=z.replace(".",""):D=z.length}for(R=0;z.charCodeAt(R)===48;R++);for(F=z.length;z.charCodeAt(--F)===48;);if(z=z.slice(R,++F)){if(F-=R,P&&x.DEBUG&&F>15&&(M>PT||M!==bu(M)))throw Error(sz+j.s*M);if((D=D-R-1)>d)j.c=j.e=null;else if(D<h)j.c=[j.e=0];else{if(j.e=D,j.c=[],R=(D+1)%pn,D<0&&(R+=pn),R<F){for(R&&j.c.push(+z.slice(0,R)),F-=pn;R<F;)j.c.push(+z.slice(R,R+=pn));R=pn-(z=z.slice(R)).length}else R-=F;for(;R--;z+="0");j.c.push(+z)}}else j.c=[j.e=0]}x.clone=oz,x.ROUND_UP=0,x.ROUND_DOWN=1,x.ROUND_CEIL=2,x.ROUND_FLOOR=3,x.ROUND_HALF_UP=4,x.ROUND_HALF_DOWN=5,x.ROUND_HALF_EVEN=6,x.ROUND_HALF_CEIL=7,x.ROUND_HALF_FLOOR=8,x.EUCLID=9,x.config=x.set=function(M){var L,V;if(M!=null)if(typeof M=="object"){if(M.hasOwnProperty(L="DECIMAL_PLACES")&&(V=M[L],gr(V,0,pi,L),o=V),M.hasOwnProperty(L="ROUNDING_MODE")&&(V=M[L],gr(V,0,8,L),u=V),M.hasOwnProperty(L="EXPONENTIAL_AT")&&(V=M[L],V&&V.pop?(gr(V[0],-pi,0,L),gr(V[1],0,pi,L),l=V[0],c=V[1]):(gr(V,-pi,pi,L),l=-(c=V<0?-V:V))),M.hasOwnProperty(L="RANGE"))if(V=M[L],V&&V.pop)gr(V[0],-pi,-1,L),gr(V[1],1,pi,L),h=V[0],d=V[1];else if(gr(V,-pi,pi,L),V)h=-(d=V<0?-V:V);else throw Error(Us+L+" cannot be zero: "+V);if(M.hasOwnProperty(L="CRYPTO"))if(V=M[L],V===!!V)if(V)if(typeof crypto!="undefined"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))p=V;else throw p=!V,Error(Us+"crypto unavailable");else p=V;else throw Error(Us+L+" not true or false: "+V);if(M.hasOwnProperty(L="MODULO_MODE")&&(V=M[L],gr(V,0,9,L),v=V),M.hasOwnProperty(L="POW_PRECISION")&&(V=M[L],gr(V,0,pi,L),S=V),M.hasOwnProperty(L="FORMAT"))if(V=M[L],typeof V=="object")w=V;else throw Error(Us+L+" not an object: "+V);if(M.hasOwnProperty(L="ALPHABET"))if(V=M[L],typeof V=="string"&&!/^.$|[+-.\s]|(.).*\1/.test(V))T=V;else throw Error(Us+L+" invalid: "+V)}else throw Error(Us+"Object expected: "+M);return{DECIMAL_PLACES:o,ROUNDING_MODE:u,EXPONENTIAL_AT:[l,c],RANGE:[h,d],CRYPTO:p,MODULO_MODE:v,POW_PRECISION:S,FORMAT:w,ALPHABET:T}},x.isBigNumber=function(M){if(!M||M._isBigNumber!==!0)return!1;if(!x.DEBUG)return!0;var L,V,Z=M.c,H=M.e,D=M.s;e:if({}.toString.call(Z)=="[object Array]"){if((D===1||D===-1)&&H>=-pi&&H<=pi&&H===bu(H)){if(Z[0]===0){if(H===0&&Z.length===1)return!0;break e}if(L=(H+1)%pn,L<1&&(L+=pn),String(Z[0]).length==L){for(L=0;L<Z.length;L++)if(V=Z[L],V<0||V>=Sa||V!==bu(V))break e;if(V!==0)return!0}}}else if(Z===null&&H===null&&(D===null||D===1||D===-1))return!0;throw Error(Us+"Invalid BigNumber: "+M)},x.maximum=x.max=function(){return O(arguments,i.lt)},x.minimum=x.min=function(){return O(arguments,i.gt)},x.random=function(){var M=9007199254740992,L=Math.random()*M&2097151?function(){return bu(Math.random()*M)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(V){var Z,H,D,R,P,F=0,z=[],j=new x(s);if(V==null?V=o:gr(V,0,pi),R=CT(V/pn),p)if(crypto.getRandomValues){for(Z=crypto.getRandomValues(new Uint32Array(R*=2));F<R;)P=Z[F]*131072+(Z[F+1]>>>11),P>=9e15?(H=crypto.getRandomValues(new Uint32Array(2)),Z[F]=H[0],Z[F+1]=H[1]):(z.push(P%1e14),F+=2);F=R/2}else if(crypto.randomBytes){for(Z=crypto.randomBytes(R*=7);F<R;)P=(Z[F]&31)*281474976710656+Z[F+1]*1099511627776+Z[F+2]*4294967296+Z[F+3]*16777216+(Z[F+4]<<16)+(Z[F+5]<<8)+Z[F+6],P>=9e15?crypto.randomBytes(7).copy(Z,F):(z.push(P%1e14),F+=7);F=R/7}else throw p=!1,Error(Us+"crypto unavailable");if(!p)for(;F<R;)P=L(),P<9e15&&(z[F++]=P%1e14);for(R=z[--F],V%=pn,R&&V&&(P=RT[pn-V],z[F]=bu(R/P)*P);z[F]===0;z.pop(),F--);if(F<0)z=[D=0];else{for(D=-1;z[0]===0;z.splice(0,1),D-=pn);for(F=1,P=z[0];P>=10;P/=10,F++);F<pn&&(D-=pn-F)}return j.e=D,j.c=z,j}}(),x.sum=function(){for(var M=1,L=arguments,V=new x(L[0]);M<L.length;)V=V.plus(L[M++]);return V},t=function(){var M="0123456789";function L(V,Z,H,D){for(var R,P=[0],F,z=0,j=V.length;z<j;){for(F=P.length;F--;P[F]*=Z);for(P[0]+=D.indexOf(V.charAt(z++)),R=0;R<P.length;R++)P[R]>H-1&&(P[R+1]==null&&(P[R+1]=0),P[R+1]+=P[R]/H|0,P[R]%=H)}return P.reverse()}return function(V,Z,H,D,R){var P,F,z,j,B,U,k,G,ne=V.indexOf("."),le=o,ee=u;for(ne>=0&&(j=S,S=0,V=V.replace(".",""),G=new x(Z),U=G.pow(V.length-ne),S=j,G.c=L(cl(Vo(U.c),U.e,"0"),10,H,M),G.e=G.c.length),k=L(V,Z,H,R?(P=T,M):(P=M,T)),z=j=k.length;k[--j]==0;k.pop());if(!k[0])return P.charAt(0);if(ne<0?--z:(U.c=k,U.e=z,U.s=D,U=e(U,G,le,ee,H),k=U.c,B=U.r,z=U.e),F=z+le+1,ne=k[F],j=H/2,B=B||F<0||k[F+1]!=null,B=ee<4?(ne!=null||B)&&(ee==0||ee==(U.s<0?3:2)):ne>j||ne==j&&(ee==4||B||ee==6&&k[F-1]&1||ee==(U.s<0?8:7)),F<1||!k[0])V=B?cl(P.charAt(1),-le,P.charAt(0)):P.charAt(0);else{if(k.length=F,B)for(--H;++k[--F]>H;)k[F]=0,F||(++z,k=[1].concat(k));for(j=k.length;!k[--j];);for(ne=0,V="";ne<=j;V+=P.charAt(k[ne++]));V=cl(V,z,P.charAt(0))}return V}}(),e=function(){function M(Z,H,D){var R,P,F,z,j=0,B=Z.length,U=H%Pc,k=H/Pc|0;for(Z=Z.slice();B--;)F=Z[B]%Pc,z=Z[B]/Pc|0,R=k*F+z*U,P=U*F+R%Pc*Pc+j,j=(P/D|0)+(R/Pc|0)+k*z,Z[B]=P%D;return j&&(Z=[j].concat(Z)),Z}function L(Z,H,D,R){var P,F;if(D!=R)F=D>R?1:-1;else for(P=F=0;P<D;P++)if(Z[P]!=H[P]){F=Z[P]>H[P]?1:-1;break}return F}function V(Z,H,D,R){for(var P=0;D--;)Z[D]-=P,P=Z[D]<H[D]?1:0,Z[D]=P*R+Z[D]-H[D];for(;!Z[0]&&Z.length>1;Z.splice(0,1));}return function(Z,H,D,R,P){var F,z,j,B,U,k,G,ne,le,ee,J,de,se,ue,oe,W,ce,ye=Z.s==H.s?1:-1,Te=Z.c,Pe=H.c;if(!Te||!Te[0]||!Pe||!Pe[0])return new x(!Z.s||!H.s||(Te?Pe&&Te[0]==Pe[0]:!Pe)?NaN:Te&&Te[0]==0||!Pe?ye*0:ye/0);for(ne=new x(ye),le=ne.c=[],z=Z.e-H.e,ye=D+z+1,P||(P=Sa,z=Ho(Z.e/pn)-Ho(H.e/pn),ye=ye/pn|0),j=0;Pe[j]==(Te[j]||0);j++);if(Pe[j]>(Te[j]||0)&&z--,ye<0)le.push(1),B=!0;else{for(ue=Te.length,W=Pe.length,j=0,ye+=2,U=bu(P/(Pe[0]+1)),U>1&&(Pe=M(Pe,U,P),Te=M(Te,U,P),W=Pe.length,ue=Te.length),se=W,ee=Te.slice(0,W),J=ee.length;J<W;ee[J++]=0);ce=Pe.slice(),ce=[0].concat(ce),oe=Pe[0],Pe[1]>=P/2&&oe++;do{if(U=0,F=L(Pe,ee,W,J),F<0){if(de=ee[0],W!=J&&(de=de*P+(ee[1]||0)),U=bu(de/oe),U>1)for(U>=P&&(U=P-1),k=M(Pe,U,P),G=k.length,J=ee.length;L(k,ee,G,J)==1;)U--,V(k,W<G?ce:Pe,G,P),G=k.length,F=1;else U==0&&(F=U=1),k=Pe.slice(),G=k.length;if(G<J&&(k=[0].concat(k)),V(ee,k,J,P),J=ee.length,F==-1)for(;L(Pe,ee,W,J)<1;)U++,V(ee,W<J?ce:Pe,J,P),J=ee.length}else F===0&&(U++,ee=[0]);le[j++]=U,ee[0]?ee[J++]=Te[se]||0:(ee=[Te[se]],J=1)}while((se++<ue||ee[0]!=null)&&ye--);B=ee[0]!=null,le[0]||le.splice(0,1)}if(P==Sa){for(j=1,ye=le[0];ye>=10;ye/=10,j++);N(ne,D+(ne.e=j+z*pn-1)+1,R,B)}else ne.e=z,ne.r=+B;return ne}}();function E(M,L,V,Z){var H,D,R,P,F;if(V==null?V=u:gr(V,0,8),!M.c)return M.toString();if(H=M.c[0],R=M.e,L==null)F=Vo(M.c),F=Z==1||Z==2&&(R<=l||R>=c)?pw(F,R):cl(F,R,"0");else if(M=N(new x(M),L,V),D=M.e,F=Vo(M.c),P=F.length,Z==1||Z==2&&(L<=D||D<=l)){for(;P<L;F+="0",P++);F=pw(F,D)}else if(L-=R,F=cl(F,D,"0"),D+1>P){if(--L>0)for(F+=".";L--;F+="0");}else if(L+=D-P,L>0)for(D+1==P&&(F+=".");L--;F+="0");return M.s<0&&H?"-"+F:F}function O(M,L){for(var V,Z=1,H=new x(M[0]);Z<M.length;Z++)if(V=new x(M[Z]),V.s)L.call(H,V)&&(H=V);else{H=V;break}return H}function C(M,L,V){for(var Z=1,H=L.length;!L[--H];L.pop());for(H=L[0];H>=10;H/=10,Z++);return(V=Z+V*pn-1)>d?M.c=M.e=null:V<h?M.c=[M.e=0]:(M.e=V,M.c=L),M}r=function(){var M=/^(-?)0([xbo])(?=\w[\w.]*$)/i,L=/^([^.]+)\.$/,V=/^\.([^.]+)$/,Z=/^-?(Infinity|NaN)$/,H=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(D,R,P,F){var z,j=P?R:R.replace(H,"");if(Z.test(j))D.s=isNaN(j)?null:j<0?-1:1;else{if(!P&&(j=j.replace(M,function(B,U,k){return z=(k=k.toLowerCase())=="x"?16:k=="b"?2:8,!F||F==z?U:B}),F&&(z=F,j=j.replace(L,"$1").replace(V,"0.$1")),R!=j))return new x(j,z);if(x.DEBUG)throw Error(Us+"Not a"+(F?" base "+F:"")+" number: "+R);D.s=null}D.c=D.e=null}}();function N(M,L,V,Z){var H,D,R,P,F,z,j,B=M.c,U=RT;if(B){e:{for(H=1,P=B[0];P>=10;P/=10,H++);if(D=L-H,D<0)D+=pn,R=L,F=B[z=0],j=F/U[H-R-1]%10|0;else if(z=CT((D+1)/pn),z>=B.length)if(Z){for(;B.length<=z;B.push(0));F=j=0,H=1,D%=pn,R=D-pn+1}else break e;else{for(F=P=B[z],H=1;P>=10;P/=10,H++);D%=pn,R=D-pn+H,j=R<0?0:F/U[H-R-1]%10|0}if(Z=Z||L<0||B[z+1]!=null||(R<0?F:F%U[H-R-1]),Z=V<4?(j||Z)&&(V==0||V==(M.s<0?3:2)):j>5||j==5&&(V==4||Z||V==6&&(D>0?R>0?F/U[H-R]:0:B[z-1])%10&1||V==(M.s<0?8:7)),L<1||!B[0])return B.length=0,Z?(L-=M.e+1,B[0]=U[(pn-L%pn)%pn],M.e=-L||0):B[0]=M.e=0,M;if(D==0?(B.length=z,P=1,z--):(B.length=z+1,P=U[pn-D],B[z]=R>0?bu(F/U[H-R]%U[R])*P:0),Z)for(;;)if(z==0){for(D=1,R=B[0];R>=10;R/=10,D++);for(R=B[0]+=P,P=1;R>=10;R/=10,P++);D!=P&&(M.e++,B[0]==Sa&&(B[0]=1));break}else{if(B[z]+=P,B[z]!=Sa)break;B[z--]=0,P=1}for(D=B.length;B[--D]===0;B.pop());}M.e>d?M.c=M.e=null:M.e<h&&(M.c=[M.e=0])}return M}function $(M){var L,V=M.e;return V===null?M.toString():(L=Vo(M.c),L=V<=l||V>=c?pw(L,V):cl(L,V,"0"),M.s<0?"-"+L:L)}return i.absoluteValue=i.abs=function(){var M=new x(this);return M.s<0&&(M.s=1),M},i.comparedTo=function(M,L){return p0(this,new x(M,L))},i.decimalPlaces=i.dp=function(M,L){var V,Z,H,D=this;if(M!=null)return gr(M,0,pi),L==null?L=u:gr(L,0,8),N(new x(D),M+D.e+1,L);if(!(V=D.c))return null;if(Z=((H=V.length-1)-Ho(this.e/pn))*pn,H=V[H])for(;H%10==0;H/=10,Z--);return Z<0&&(Z=0),Z},i.dividedBy=i.div=function(M,L){return e(this,new x(M,L),o,u)},i.dividedToIntegerBy=i.idiv=function(M,L){return e(this,new x(M,L),0,1)},i.exponentiatedBy=i.pow=function(M,L){var V,Z,H,D,R,P,F,z,j,B=this;if(M=new x(M),M.c&&!M.isInteger())throw Error(Us+"Exponent not an integer: "+$(M));if(L!=null&&(L=new x(L)),P=M.e>14,!B.c||!B.c[0]||B.c[0]==1&&!B.e&&B.c.length==1||!M.c||!M.c[0])return j=new x(Math.pow(+$(B),P?2-dw(M):+$(M))),L?j.mod(L):j;if(F=M.s<0,L){if(L.c?!L.c[0]:!L.s)return new x(NaN);Z=!F&&B.isInteger()&&L.isInteger(),Z&&(B=B.mod(L))}else{if(M.e>9&&(B.e>0||B.e<-1||(B.e==0?B.c[0]>1||P&&B.c[1]>=24e7:B.c[0]<8e13||P&&B.c[0]<=9999975e7)))return D=B.s<0&&dw(M)?-0:0,B.e>-1&&(D=1/D),new x(F?1/D:D);S&&(D=CT(S/pn+2))}for(P?(V=new x(.5),F&&(M.s=1),z=dw(M)):(H=Math.abs(+$(M)),z=H%2),j=new x(s);;){if(z){if(j=j.times(B),!j.c)break;D?j.c.length>D&&(j.c.length=D):Z&&(j=j.mod(L))}if(H){if(H=bu(H/2),H===0)break;z=H%2}else if(M=M.times(V),N(M,M.e+1,1),M.e>14)z=dw(M);else{if(H=+$(M),H===0)break;z=H%2}B=B.times(B),D?B.c&&B.c.length>D&&(B.c.length=D):Z&&(B=B.mod(L))}return Z?j:(F&&(j=s.div(j)),L?j.mod(L):D?N(j,S,u,R):j)},i.integerValue=function(M){var L=new x(this);return M==null?M=u:gr(M,0,8),N(L,L.e+1,M)},i.isEqualTo=i.eq=function(M,L){return p0(this,new x(M,L))===0},i.isFinite=function(){return!!this.c},i.isGreaterThan=i.gt=function(M,L){return p0(this,new x(M,L))>0},i.isGreaterThanOrEqualTo=i.gte=function(M,L){return(L=p0(this,new x(M,L)))===1||L===0},i.isInteger=function(){return!!this.c&&Ho(this.e/pn)>this.c.length-2},i.isLessThan=i.lt=function(M,L){return p0(this,new x(M,L))<0},i.isLessThanOrEqualTo=i.lte=function(M,L){return(L=p0(this,new x(M,L)))===-1||L===0},i.isNaN=function(){return!this.s},i.isNegative=function(){return this.s<0},i.isPositive=function(){return this.s>0},i.isZero=function(){return!!this.c&&this.c[0]==0},i.minus=function(M,L){var V,Z,H,D,R=this,P=R.s;if(M=new x(M,L),L=M.s,!P||!L)return new x(NaN);if(P!=L)return M.s=-L,R.plus(M);var F=R.e/pn,z=M.e/pn,j=R.c,B=M.c;if(!F||!z){if(!j||!B)return j?(M.s=-L,M):new x(B?R:NaN);if(!j[0]||!B[0])return B[0]?(M.s=-L,M):new x(j[0]?R:u==3?-0:0)}if(F=Ho(F),z=Ho(z),j=j.slice(),P=F-z){for((D=P<0)?(P=-P,H=j):(z=F,H=B),H.reverse(),L=P;L--;H.push(0));H.reverse()}else for(Z=(D=(P=j.length)<(L=B.length))?P:L,P=L=0;L<Z;L++)if(j[L]!=B[L]){D=j[L]<B[L];break}if(D&&(H=j,j=B,B=H,M.s=-M.s),L=(Z=B.length)-(V=j.length),L>0)for(;L--;j[V++]=0);for(L=Sa-1;Z>P;){if(j[--Z]<B[Z]){for(V=Z;V&&!j[--V];j[V]=L);--j[V],j[Z]+=Sa}j[Z]-=B[Z]}for(;j[0]==0;j.splice(0,1),--z);return j[0]?C(M,j,z):(M.s=u==3?-1:1,M.c=[M.e=0],M)},i.modulo=i.mod=function(M,L){var V,Z,H=this;return M=new x(M,L),!H.c||!M.s||M.c&&!M.c[0]?new x(NaN):!M.c||H.c&&!H.c[0]?new x(H):(v==9?(Z=M.s,M.s=1,V=e(H,M,0,3),M.s=Z,V.s*=Z):V=e(H,M,0,v),M=H.minus(V.times(M)),!M.c[0]&&v==1&&(M.s=H.s),M)},i.multipliedBy=i.times=function(M,L){var V,Z,H,D,R,P,F,z,j,B,U,k,G,ne,le,ee=this,J=ee.c,de=(M=new x(M,L)).c;if(!J||!de||!J[0]||!de[0])return!ee.s||!M.s||J&&!J[0]&&!de||de&&!de[0]&&!J?M.c=M.e=M.s=null:(M.s*=ee.s,!J||!de?M.c=M.e=null:(M.c=[0],M.e=0)),M;for(Z=Ho(ee.e/pn)+Ho(M.e/pn),M.s*=ee.s,F=J.length,B=de.length,F<B&&(G=J,J=de,de=G,H=F,F=B,B=H),H=F+B,G=[];H--;G.push(0));for(ne=Sa,le=Pc,H=B;--H>=0;){for(V=0,U=de[H]%le,k=de[H]/le|0,R=F,D=H+R;D>H;)z=J[--R]%le,j=J[R]/le|0,P=k*z+j*U,z=U*z+P%le*le+G[D]+V,V=(z/ne|0)+(P/le|0)+k*j,G[D--]=z%ne;G[D]=V}return V?++Z:G.splice(0,1),C(M,G,Z)},i.negated=function(){var M=new x(this);return M.s=-M.s||null,M},i.plus=function(M,L){var V,Z=this,H=Z.s;if(M=new x(M,L),L=M.s,!H||!L)return new x(NaN);if(H!=L)return M.s=-L,Z.minus(M);var D=Z.e/pn,R=M.e/pn,P=Z.c,F=M.c;if(!D||!R){if(!P||!F)return new x(H/0);if(!P[0]||!F[0])return F[0]?M:new x(P[0]?Z:H*0)}if(D=Ho(D),R=Ho(R),P=P.slice(),H=D-R){for(H>0?(R=D,V=F):(H=-H,V=P),V.reverse();H--;V.push(0));V.reverse()}for(H=P.length,L=F.length,H-L<0&&(V=F,F=P,P=V,L=H),H=0;L;)H=(P[--L]=P[L]+F[L]+H)/Sa|0,P[L]=Sa===P[L]?0:P[L]%Sa;return H&&(P=[H].concat(P),++R),C(M,P,R)},i.precision=i.sd=function(M,L){var V,Z,H,D=this;if(M!=null&&M!==!!M)return gr(M,1,pi),L==null?L=u:gr(L,0,8),N(new x(D),M,L);if(!(V=D.c))return null;if(H=V.length-1,Z=H*pn+1,H=V[H]){for(;H%10==0;H/=10,Z--);for(H=V[0];H>=10;H/=10,Z++);}return M&&D.e+1>Z&&(Z=D.e+1),Z},i.shiftedBy=function(M){return gr(M,-PT,PT),this.times("1e"+M)},i.squareRoot=i.sqrt=function(){var M,L,V,Z,H,D=this,R=D.c,P=D.s,F=D.e,z=o+4,j=new x("0.5");if(P!==1||!R||!R[0])return new x(!P||P<0&&(!R||R[0])?NaN:R?D:1/0);if(P=Math.sqrt(+$(D)),P==0||P==1/0?(L=Vo(R),(L.length+F)%2==0&&(L+="0"),P=Math.sqrt(+L),F=Ho((F+1)/2)-(F<0||F%2),P==1/0?L="5e"+F:(L=P.toExponential(),L=L.slice(0,L.indexOf("e")+1)+F),V=new x(L)):V=new x(P+""),V.c[0]){for(F=V.e,P=F+z,P<3&&(P=0);;)if(H=V,V=j.times(H.plus(e(D,H,z,1))),Vo(H.c).slice(0,P)===(L=Vo(V.c)).slice(0,P))if(V.e<F&&--P,L=L.slice(P-3,P+1),L=="9999"||!Z&&L=="4999"){if(!Z&&(N(H,H.e+o+2,0),H.times(H).eq(D))){V=H;break}z+=4,P+=4,Z=1}else{(!+L||!+L.slice(1)&&L.charAt(0)=="5")&&(N(V,V.e+o+2,1),M=!V.times(V).eq(D));break}}return N(V,V.e+o+1,u,M)},i.toExponential=function(M,L){return M!=null&&(gr(M,0,pi),M++),E(this,M,L,1)},i.toFixed=function(M,L){return M!=null&&(gr(M,0,pi),M=M+this.e+1),E(this,M,L)},i.toFormat=function(M,L,V){var Z,H=this;if(V==null)M!=null&&L&&typeof L=="object"?(V=L,L=null):M&&typeof M=="object"?(V=M,M=L=null):V=w;else if(typeof V!="object")throw Error(Us+"Argument not an object: "+V);if(Z=H.toFixed(M,L),H.c){var D,R=Z.split("."),P=+V.groupSize,F=+V.secondaryGroupSize,z=V.groupSeparator||"",j=R[0],B=R[1],U=H.s<0,k=U?j.slice(1):j,G=k.length;if(F&&(D=P,P=F,F=D,G-=D),P>0&&G>0){for(D=G%P||P,j=k.substr(0,D);D<G;D+=P)j+=z+k.substr(D,P);F>0&&(j+=z+k.slice(D)),U&&(j="-"+j)}Z=B?j+(V.decimalSeparator||"")+((F=+V.fractionGroupSize)?B.replace(new RegExp("\\d{"+F+"}\\B","g"),"$&"+(V.fractionGroupSeparator||"")):B):j}return(V.prefix||"")+Z+(V.suffix||"")},i.toFraction=function(M){var L,V,Z,H,D,R,P,F,z,j,B,U,k=this,G=k.c;if(M!=null&&(P=new x(M),!P.isInteger()&&(P.c||P.s!==1)||P.lt(s)))throw Error(Us+"Argument "+(P.isInteger()?"out of range: ":"not an integer: ")+$(P));if(!G)return new x(k);for(L=new x(s),z=V=new x(s),Z=F=new x(s),U=Vo(G),D=L.e=U.length-k.e-1,L.c[0]=RT[(R=D%pn)<0?pn+R:R],M=!M||P.comparedTo(L)>0?D>0?L:z:P,R=d,d=1/0,P=new x(U),F.c[0]=0;j=e(P,L,0,1),H=V.plus(j.times(Z)),H.comparedTo(M)!=1;)V=Z,Z=H,z=F.plus(j.times(H=z)),F=H,L=P.minus(j.times(H=L)),P=H;return H=e(M.minus(V),Z,0,1),F=F.plus(H.times(z)),V=V.plus(H.times(Z)),F.s=z.s=k.s,D=D*2,B=e(z,Z,D,u).minus(k).abs().comparedTo(e(F,V,D,u).minus(k).abs())<1?[z,Z]:[F,V],d=R,B},i.toNumber=function(){return+$(this)},i.toPrecision=function(M,L){return M!=null&&gr(M,1,pi),E(this,M,L,2)},i.toString=function(M){var L,V=this,Z=V.s,H=V.e;return H===null?Z?(L="Infinity",Z<0&&(L="-"+L)):L="NaN":(M==null?L=H<=l||H>=c?pw(Vo(V.c),H):cl(Vo(V.c),H,"0"):M===10?(V=N(new x(V),o+H+1,u),L=cl(Vo(V.c),V.e,"0")):(gr(M,2,T.length,"Base"),L=t(cl(Vo(V.c),H,"0"),10,M,Z,!0)),Z<0&&V.c[0]&&(L="-"+L)),L},i.valueOf=i.toJSON=function(){return $(this)},i._isBigNumber=!0,i[Symbol.toStringTag]="BigNumber",i[Symbol.for("nodejs.util.inspect.custom")]=i.valueOf,n!=null&&x.set(n),x}function Ho(n){var e=n|0;return n>0||n===e?e:e-1}function Vo(n){for(var e,t,r=1,i=n.length,s=n[0]+"";r<i;){for(e=n[r++]+"",t=pn-e.length;t--;e="0"+e);s+=e}for(i=s.length;s.charCodeAt(--i)===48;);return s.slice(0,i+1||1)}function p0(n,e){var t,r,i=n.c,s=e.c,o=n.s,u=e.s,l=n.e,c=e.e;if(!o||!u)return null;if(t=i&&!i[0],r=s&&!s[0],t||r)return t?r?0:-u:o;if(o!=u)return o;if(t=o<0,r=l==c,!i||!s)return r?0:!i^t?1:-1;if(!r)return l>c^t?1:-1;for(u=(l=i.length)<(c=s.length)?l:c,o=0;o<u;o++)if(i[o]!=s[o])return i[o]>s[o]^t?1:-1;return l==c?0:l>c^t?1:-1}function gr(n,e,t,r){if(n<e||n>t||n!==bu(n))throw Error(Us+(r||"Argument")+(typeof n=="number"?n<e||n>t?" out of range: ":" not an integer: ":" not a primitive number: ")+String(n))}function dw(n){var e=n.c.length-1;return Ho(n.e/pn)==e&&n.c[e]%2!=0}function pw(n,e){return(n.length>1?n.charAt(0)+"."+n.slice(1):n)+(e<0?"e":"e+")+e}function cl(n,e,t){var r,i;if(e<0){for(i=t+".";++e;i+=t);n=i+n}else if(r=n.length,++e>r){for(i=t,e-=r;--e;i+=t);n+=i}else e<r&&(n=n.slice(0,e)+"."+n.slice(e));return n}var az=oz(),vde=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",BigNumber:az,default:az}),mw=yr(vde),gde=function(e,t,r){var i=new e.Uint8Array(r),s=t.pushInt,o=t.pushInt32,u=t.pushInt32Neg,l=t.pushInt64,c=t.pushInt64Neg,h=t.pushFloat,d=t.pushFloatSingle,p=t.pushFloatDouble,v=t.pushTrue,S=t.pushFalse,w=t.pushUndefined,T=t.pushNull,x=t.pushInfinity,E=t.pushInfinityNeg,O=t.pushNaN,C=t.pushNaNNeg,N=t.pushArrayStart,$=t.pushArrayStartFixed,M=t.pushArrayStartFixed32,L=t.pushArrayStartFixed64,V=t.pushObjectStart,Z=t.pushObjectStartFixed,H=t.pushObjectStartFixed32,D=t.pushObjectStartFixed64,R=t.pushByteString,P=t.pushByteStringStart,F=t.pushUtf8String,z=t.pushUtf8StringStart,j=t.pushSimpleUnassigned,B=t.pushTagStart,U=t.pushTagStart4,k=t.pushTagStart8,G=t.pushTagUnassigned,ne=t.pushBreak,le=e.Math.pow,ee=0,J=0,de=0;function se(xe){for(xe=xe|0,ee=0,J=xe;(ee|0)<(J|0)&&(de=ct[i[ee]&255](i[ee]|0)|0,!((de|0)>0)););return de|0}function ue(xe){return xe=xe|0,((ee|0)+(xe|0)|0)<(J|0)?0:1}function oe(xe){return xe=xe|0,i[xe|0]<<8|i[xe+1|0]|0}function W(xe){return xe=xe|0,i[xe|0]<<24|i[xe+1|0]<<16|i[xe+2|0]<<8|i[xe+3|0]|0}function ce(xe){return xe=xe|0,s(xe|0),ee=ee+1|0,0}function ye(xe){return xe=xe|0,ue(1)|0?1:(s(i[ee+1|0]|0),ee=ee+2|0,0)}function Te(xe){return xe=xe|0,ue(2)|0?1:(s(oe(ee+1|0)|0),ee=ee+3|0,0)}function Pe(xe){return xe=xe|0,ue(4)|0?1:(o(oe(ee+1|0)|0,oe(ee+3|0)|0),ee=ee+5|0,0)}function Je(xe){return xe=xe|0,ue(8)|0?1:(l(oe(ee+1|0)|0,oe(ee+3|0)|0,oe(ee+5|0)|0,oe(ee+7|0)|0),ee=ee+9|0,0)}function ie(xe){return xe=xe|0,s(-1-(xe-32|0)|0),ee=ee+1|0,0}function K(xe){return xe=xe|0,ue(1)|0?1:(s(-1-(i[ee+1|0]|0)|0),ee=ee+2|0,0)}function q(xe){xe=xe|0;var je=0;return ue(2)|0?1:(je=oe(ee+1|0)|0,s(-1-(je|0)|0),ee=ee+3|0,0)}function he(xe){return xe=xe|0,ue(4)|0?1:(u(oe(ee+1|0)|0,oe(ee+3|0)|0),ee=ee+5|0,0)}function Se(xe){return xe=xe|0,ue(8)|0?1:(c(oe(ee+1|0)|0,oe(ee+3|0)|0,oe(ee+5|0)|0,oe(ee+7|0)|0),ee=ee+9|0,0)}function te(xe){xe=xe|0;var je=0,bt=0,qt=0;return qt=xe-64|0,ue(qt|0)|0?1:(je=ee+1|0,bt=(ee+1|0)+(qt|0)|0,R(je|0,bt|0),ee=bt|0,0)}function re(xe){xe=xe|0;var je=0,bt=0,qt=0;return ue(1)|0||(qt=i[ee+1|0]|0,je=ee+2|0,bt=(ee+2|0)+(qt|0)|0,ue(qt+1|0)|0)?1:(R(je|0,bt|0),ee=bt|0,0)}function Me(xe){xe=xe|0;var je=0,bt=0,qt=0;return ue(2)|0||(qt=oe(ee+1|0)|0,je=ee+3|0,bt=(ee+3|0)+(qt|0)|0,ue(qt+2|0)|0)?1:(R(je|0,bt|0),ee=bt|0,0)}function Ce(xe){xe=xe|0;var je=0,bt=0,qt=0;return ue(4)|0||(qt=W(ee+1|0)|0,je=ee+5|0,bt=(ee+5|0)+(qt|0)|0,ue(qt+4|0)|0)?1:(R(je|0,bt|0),ee=bt|0,0)}function Ae(xe){return xe=xe|0,1}function Oe(xe){return xe=xe|0,P(),ee=ee+1|0,0}function ge(xe){xe=xe|0;var je=0,bt=0,qt=0;return qt=xe-96|0,ue(qt|0)|0?1:(je=ee+1|0,bt=(ee+1|0)+(qt|0)|0,F(je|0,bt|0),ee=bt|0,0)}function Ne(xe){xe=xe|0;var je=0,bt=0,qt=0;return ue(1)|0||(qt=i[ee+1|0]|0,je=ee+2|0,bt=(ee+2|0)+(qt|0)|0,ue(qt+1|0)|0)?1:(F(je|0,bt|0),ee=bt|0,0)}function ze(xe){xe=xe|0;var je=0,bt=0,qt=0;return ue(2)|0||(qt=oe(ee+1|0)|0,je=ee+3|0,bt=(ee+3|0)+(qt|0)|0,ue(qt+2|0)|0)?1:(F(je|0,bt|0),ee=bt|0,0)}function ae(xe){xe=xe|0;var je=0,bt=0,qt=0;return ue(4)|0||(qt=W(ee+1|0)|0,je=ee+5|0,bt=(ee+5|0)+(qt|0)|0,ue(qt+4|0)|0)?1:(F(je|0,bt|0),ee=bt|0,0)}function Ue(xe){return xe=xe|0,1}function Ye(xe){return xe=xe|0,z(),ee=ee+1|0,0}function He(xe){return xe=xe|0,$(xe-128|0),ee=ee+1|0,0}function Be(xe){return xe=xe|0,ue(1)|0?1:($(i[ee+1|0]|0),ee=ee+2|0,0)}function Ze(xe){return xe=xe|0,ue(2)|0?1:($(oe(ee+1|0)|0),ee=ee+3|0,0)}function Ve(xe){return xe=xe|0,ue(4)|0?1:(M(oe(ee+1|0)|0,oe(ee+3|0)|0),ee=ee+5|0,0)}function ot(xe){return xe=xe|0,ue(8)|0?1:(L(oe(ee+1|0)|0,oe(ee+3|0)|0,oe(ee+5|0)|0,oe(ee+7|0)|0),ee=ee+9|0,0)}function kt(xe){return xe=xe|0,N(),ee=ee+1|0,0}function lt(xe){xe=xe|0;var je=0;return je=xe-160|0,ue(je|0)|0?1:(Z(je|0),ee=ee+1|0,0)}function _t(xe){return xe=xe|0,ue(1)|0?1:(Z(i[ee+1|0]|0),ee=ee+2|0,0)}function nn(xe){return xe=xe|0,ue(2)|0?1:(Z(oe(ee+1|0)|0),ee=ee+3|0,0)}function It(xe){return xe=xe|0,ue(4)|0?1:(H(oe(ee+1|0)|0,oe(ee+3|0)|0),ee=ee+5|0,0)}function Gt(xe){return xe=xe|0,ue(8)|0?1:(D(oe(ee+1|0)|0,oe(ee+3|0)|0,oe(ee+5|0)|0,oe(ee+7|0)|0),ee=ee+9|0,0)}function Ot(xe){return xe=xe|0,V(),ee=ee+1|0,0}function mt(xe){return xe=xe|0,B(xe-192|0|0),ee=ee+1|0,0}function gt(xe){return xe=xe|0,B(xe|0),ee=ee+1|0,0}function Ct(xe){return xe=xe|0,B(xe|0),ee=ee+1|0,0}function dt(xe){return xe=xe|0,B(xe|0),ee=ee+1|0,0}function Mt(xe){return xe=xe|0,B(xe|0),ee=ee+1|0,0}function Dt(xe){return xe=xe|0,B(xe-192|0|0),ee=ee+1|0,0}function yt(xe){return xe=xe|0,B(xe|0),ee=ee+1|0,0}function pt(xe){return xe=xe|0,B(xe|0),ee=ee+1|0,0}function Nt(xe){return xe=xe|0,B(xe|0),ee=ee+1|0,0}function pe(xe){return xe=xe|0,ue(1)|0?1:(B(i[ee+1|0]|0),ee=ee+2|0,0)}function Re(xe){return xe=xe|0,ue(2)|0?1:(B(oe(ee+1|0)|0),ee=ee+3|0,0)}function We(xe){return xe=xe|0,ue(4)|0?1:(U(oe(ee+1|0)|0,oe(ee+3|0)|0),ee=ee+5|0,0)}function ke(xe){return xe=xe|0,ue(8)|0?1:(k(oe(ee+1|0)|0,oe(ee+3|0)|0,oe(ee+5|0)|0,oe(ee+7|0)|0),ee=ee+9|0,0)}function Le(xe){return xe=xe|0,j((xe|0)-224|0),ee=ee+1|0,0}function At(xe){return xe=xe|0,S(),ee=ee+1|0,0}function rt(xe){return xe=xe|0,v(),ee=ee+1|0,0}function ht(xe){return xe=xe|0,T(),ee=ee+1|0,0}function it(xe){return xe=xe|0,w(),ee=ee+1|0,0}function $t(xe){return xe=xe|0,ue(1)|0?1:(j(i[ee+1|0]|0),ee=ee+2|0,0)}function zt(xe){xe=xe|0;var je=0,bt=0,qt=1,ln=0,hn=0,xn=0;return ue(2)|0?1:(je=i[ee+1|0]|0,bt=i[ee+2|0]|0,(je|0)&128&&(qt=-1),ln=+(((je|0)&124)>>2),hn=+(((je|0)&3)<<8|bt),+ln==0?h(+(+qt*5960464477539063e-23*+hn)):+ln==31?+qt==1?+hn>0?O():x():+hn>0?C():E():h(+(+qt*le(2,+(+ln-25))*+(1024+hn))),ee=ee+3|0,0)}function Wt(xe){return xe=xe|0,ue(4)|0?1:(d(i[ee+1|0]|0,i[ee+2|0]|0,i[ee+3|0]|0,i[ee+4|0]|0),ee=ee+5|0,0)}function un(xe){return xe=xe|0,ue(8)|0?1:(p(i[ee+1|0]|0,i[ee+2|0]|0,i[ee+3|0]|0,i[ee+4|0]|0,i[ee+5|0]|0,i[ee+6|0]|0,i[ee+7|0]|0,i[ee+8|0]|0),ee=ee+9|0,0)}function Jt(xe){return xe=xe|0,1}function sn(xe){return xe=xe|0,ne(),ee=ee+1|0,0}var ct=[ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ye,Te,Pe,Je,Jt,Jt,Jt,Jt,ie,ie,ie,ie,ie,ie,ie,ie,ie,ie,ie,ie,ie,ie,ie,ie,ie,ie,ie,ie,ie,ie,ie,ie,K,q,he,Se,Jt,Jt,Jt,Jt,te,te,te,te,te,te,te,te,te,te,te,te,te,te,te,te,te,te,te,te,te,te,te,te,re,Me,Ce,Ae,Jt,Jt,Jt,Oe,ge,ge,ge,ge,ge,ge,ge,ge,ge,ge,ge,ge,ge,ge,ge,ge,ge,ge,ge,ge,ge,ge,ge,ge,Ne,ze,ae,Ue,Jt,Jt,Jt,Ye,He,He,He,He,He,He,He,He,He,He,He,He,He,He,He,He,He,He,He,He,He,He,He,He,Be,Ze,Ve,ot,Jt,Jt,Jt,kt,lt,lt,lt,lt,lt,lt,lt,lt,lt,lt,lt,lt,lt,lt,lt,lt,lt,lt,lt,lt,lt,lt,lt,lt,_t,nn,It,Gt,Jt,Jt,Jt,Ot,mt,mt,mt,mt,mt,mt,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Dt,pe,Re,We,ke,Jt,Jt,Jt,Jt,Le,Le,Le,Le,Le,Le,Le,Le,Le,Le,Le,Le,Le,Le,Le,Le,Le,Le,Le,Le,At,rt,ht,it,$t,zt,Wt,un,Jt,Jt,Jt,sn];return{parse:se}},vw={},ns={};const kT=mw.BigNumber;ns.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7};ns.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36};ns.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31};ns.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23};ns.SYMS={NULL:Symbol("null"),UNDEFINED:Symbol("undef"),PARENT:Symbol("parent"),BREAK:Symbol("break"),STREAM:Symbol("stream")};ns.SHIFT32=Math.pow(2,32);ns.SHIFT16=Math.pow(2,16);ns.MAX_SAFE_HIGH=2097151;ns.NEG_ONE=new kT(-1);ns.TEN=new kT(10);ns.TWO=new kT(2);ns.PARENT={ARRAY:0,OBJECT:1,MAP:2,TAG:3,BYTE_STRING:4,UTF8_STRING:5};(function(n){const{Buffer:e}=Xg,t=mw.BigNumber,r=ns,i=r.SHIFT32,s=r.SHIFT16,o=2097151;n.parseHalf=function(c){var h,d,p;return p=c[0]&128?-1:1,h=(c[0]&124)>>2,d=(c[0]&3)<<8|c[1],h?h===31?p*(d?0/0:1/0):p*Math.pow(2,h-25)*(1024+d):p*5960464477539063e-23*d};function u(l){return l<16?"0"+l.toString(16):l.toString(16)}n.arrayBufferToBignumber=function(l){const c=l.byteLength;let h="";for(let d=0;d<c;d++)h+=u(l[d]);return new t(h,16)},n.buildMap=l=>{const c=new Map,h=Object.keys(l),d=h.length;for(let p=0;p<d;p++)c.set(h[p],l[h[p]]);return c},n.buildInt32=(l,c)=>l*s+c,n.buildInt64=(l,c,h,d)=>{const p=n.buildInt32(l,c),v=n.buildInt32(h,d);return p>o?new t(p).times(i).plus(v):p*i+v},n.writeHalf=function(c,h){const d=e.allocUnsafe(4);d.writeFloatBE(h,0);const p=d.readUInt32BE(0);if((p&8191)!=0)return!1;var v=p>>16&32768;const S=p>>23&255,w=p&8388607;if(S>=113&&S<=142)v+=(S-112<<10)+(w>>13);else if(S>=103&&S<113){if(w&(1<<126-S)-1)return!1;v+=w+8388608>>126-S}else return!1;return c.writeUInt16BE(v,0),!0},n.keySorter=function(l,c){var h=l[0].byteLength,d=c[0].byteLength;return h>d?1:d>h?-1:l[0].compare(c[0])},n.isNegativeZero=l=>l===0&&1/l<0,n.nextPowerOf2=l=>{let c=0;if(l&&!(l&l-1))return l;for(;l!==0;)l>>=1,c+=1;return 1<<c}})(vw);const IT=ns,yde=IT.MT,gw=IT.SIMPLE,LT=IT.SYMS;class yw{constructor(e){if(typeof e!="number")throw new Error("Invalid Simple type: "+typeof e);if(e<0||e>255||(e|0)!==e)throw new Error("value must be a small positive integer: "+e);this.value=e}toString(){return"simple("+this.value+")"}inspect(){return"simple("+this.value+")"}encodeCBOR(e){return e._pushInt(this.value,yde.SIMPLE_FLOAT)}static isSimple(e){return e instanceof yw}static decode(e,t){switch(t==null&&(t=!0),e){case gw.FALSE:return!1;case gw.TRUE:return!0;case gw.NULL:return t?null:LT.NULL;case gw.UNDEFINED:return t?void 0:LT.UNDEFINED;case-1:if(!t)throw new Error("Invalid BREAK");return LT.BREAK;default:return new yw(e)}}}var uz=yw;class xw{constructor(e,t,r){if(this.tag=e,this.value=t,this.err=r,typeof this.tag!="number")throw new Error("Invalid tag type ("+typeof this.tag+")");if(this.tag<0||(this.tag|0)!==this.tag)throw new Error("Tag must be a positive integer: "+this.tag)}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(e){return e._pushTag(this.tag),e.pushAny(this.value)}convert(e){var t,r;if(r=e!=null?e[this.tag]:void 0,typeof r!="function"&&(r=xw["_tag"+this.tag],typeof r!="function"))return this;try{return r.call(xw,this.value)}catch(i){return t=i,this.err=t,this}}}var lz=xw;const cz=self.location?self.location.protocol+"//"+self.location.host:"",FT=self.URL;class xde{constructor(e="",t=cz){this.super=new FT(e,t),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(e){this.super.hash=e}set host(e){this.super.host=e}set hostname(e){this.super.hostname=e}set href(e){this.super.href=e}set origin(e){this.super.origin=e}set password(e){this.super.password=e}set pathname(e){this.super.pathname=e}set port(e){this.super.port=e}set protocol(e){this.super.protocol=e}set search(e){this.super.search=e}set searchParams(e){this.super.searchParams=e}set username(e){this.super.username=e}createObjectURL(e){return this.super.createObjectURL(e)}revokeObjectURL(e){this.super.revokeObjectURL(e)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}}function _de(n){if(typeof n=="string")return new FT(n).toString();if(!(n instanceof FT)){const e=n.username&&n.password?`${n.username}:${n.password}@`:"",t=n.auth?n.auth+"@":"",r=n.port?":"+n.port:"",i=n.protocol?n.protocol+"//":"",s=n.host||"",o=n.hostname||"",u=n.search||(n.query?"?"+n.query:""),l=n.hash||"",c=n.pathname||"",h=n.path||c+u;return`${i}${e||t}${s||o+r}${h}${l}`}}var fz={URLWithLegacySupport:xde,URLSearchParams:self.URLSearchParams,defaultBase:cz,format:_de};const{URLWithLegacySupport:hz,format:wde}=fz;var bde=(n,e={},t={},r)=>{let i=e.protocol?e.protocol.replace(":",""):"http";i=(t[i]||r||i)+":";let s;try{s=new hz(n)}catch{s={}}const o=Object.assign({},e,{protocol:i||s.protocol,host:e.host||s.host});return new hz(n,wde(o)).toString()};const{URLWithLegacySupport:Sde,format:Ede,URLSearchParams:Mde,defaultBase:Dde}=fz,Ade=bde;var dz={URL:Sde,URLSearchParams:Mde,format:Ede,relative:Ade,defaultBase:Dde};const{Buffer:m0}=Xg,pz=hw,Tde=mw.BigNumber,Cde=gde,gs=vw,zn=ns,Pde=uz,Rde=lz,{URL:kde}=dz;class v0{constructor(e){e=e||{},!e.size||e.size<65536?e.size=65536:e.size=gs.nextPowerOf2(e.size),this._heap=new ArrayBuffer(e.size),this._heap8=new Uint8Array(this._heap),this._buffer=m0.from(this._heap),this._reset(),this._knownTags=Object.assign({0:t=>new Date(t),1:t=>new Date(t*1e3),2:t=>gs.arrayBufferToBignumber(t),3:t=>zn.NEG_ONE.minus(gs.arrayBufferToBignumber(t)),4:t=>zn.TEN.pow(t[0]).times(t[1]),5:t=>zn.TWO.pow(t[0]).times(t[1]),32:t=>new kde(t),35:t=>new RegExp(t)},e.tags),this.parser=Cde($e,{log:console.log.bind(console),pushInt:this.pushInt.bind(this),pushInt32:this.pushInt32.bind(this),pushInt32Neg:this.pushInt32Neg.bind(this),pushInt64:this.pushInt64.bind(this),pushInt64Neg:this.pushInt64Neg.bind(this),pushFloat:this.pushFloat.bind(this),pushFloatSingle:this.pushFloatSingle.bind(this),pushFloatDouble:this.pushFloatDouble.bind(this),pushTrue:this.pushTrue.bind(this),pushFalse:this.pushFalse.bind(this),pushUndefined:this.pushUndefined.bind(this),pushNull:this.pushNull.bind(this),pushInfinity:this.pushInfinity.bind(this),pushInfinityNeg:this.pushInfinityNeg.bind(this),pushNaN:this.pushNaN.bind(this),pushNaNNeg:this.pushNaNNeg.bind(this),pushArrayStart:this.pushArrayStart.bind(this),pushArrayStartFixed:this.pushArrayStartFixed.bind(this),pushArrayStartFixed32:this.pushArrayStartFixed32.bind(this),pushArrayStartFixed64:this.pushArrayStartFixed64.bind(this),pushObjectStart:this.pushObjectStart.bind(this),pushObjectStartFixed:this.pushObjectStartFixed.bind(this),pushObjectStartFixed32:this.pushObjectStartFixed32.bind(this),pushObjectStartFixed64:this.pushObjectStartFixed64.bind(this),pushByteString:this.pushByteString.bind(this),pushByteStringStart:this.pushByteStringStart.bind(this),pushUtf8String:this.pushUtf8String.bind(this),pushUtf8StringStart:this.pushUtf8StringStart.bind(this),pushSimpleUnassigned:this.pushSimpleUnassigned.bind(this),pushTagUnassigned:this.pushTagUnassigned.bind(this),pushTagStart:this.pushTagStart.bind(this),pushTagStart4:this.pushTagStart4.bind(this),pushTagStart8:this.pushTagStart8.bind(this),pushBreak:this.pushBreak.bind(this)},this._heap)}get _depth(){return this._parents.length}get _currentParent(){return this._parents[this._depth-1]}get _ref(){return this._currentParent.ref}_closeParent(){var e=this._parents.pop();if(e.length>0)throw new Error(`Missing ${e.length} elements`);switch(e.type){case zn.PARENT.TAG:this._push(this.createTag(e.ref[0],e.ref[1]));break;case zn.PARENT.BYTE_STRING:this._push(this.createByteString(e.ref,e.length));break;case zn.PARENT.UTF8_STRING:this._push(this.createUtf8String(e.ref,e.length));break;case zn.PARENT.MAP:if(e.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createMap(e.ref,e.length));break;case zn.PARENT.OBJECT:if(e.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createObject(e.ref,e.length));break;case zn.PARENT.ARRAY:this._push(this.createArray(e.ref,e.length));break}this._currentParent&&this._currentParent.type===zn.PARENT.TAG&&this._dec()}_dec(){const e=this._currentParent;e.length<0||(e.length--,e.length===0&&this._closeParent())}_push(e,t){const r=this._currentParent;switch(r.values++,r.type){case zn.PARENT.ARRAY:case zn.PARENT.BYTE_STRING:case zn.PARENT.UTF8_STRING:r.length>-1?this._ref[this._ref.length-r.length]=e:this._ref.push(e),this._dec();break;case zn.PARENT.OBJECT:r.tmpKey!=null?(this._ref[r.tmpKey]=e,r.tmpKey=null,this._dec()):(r.tmpKey=e,typeof r.tmpKey!="string"&&(r.type=zn.PARENT.MAP,r.ref=gs.buildMap(r.ref)));break;case zn.PARENT.MAP:r.tmpKey!=null?(this._ref.set(r.tmpKey,e),r.tmpKey=null,this._dec()):r.tmpKey=e;break;case zn.PARENT.TAG:this._ref.push(e),t||this._dec();break;default:throw new Error("Unknown parent type")}}_createParent(e,t,r){this._parents[this._depth]={type:t,length:r,ref:e,values:0,tmpKey:null}}_reset(){this._res=[],this._parents=[{type:zn.PARENT.ARRAY,length:-1,ref:this._res,values:0,tmpKey:null}]}createTag(e,t){const r=this._knownTags[e];return r?r(t):new Rde(e,t)}createMap(e,t){return e}createObject(e,t){return e}createArray(e,t){return e}createByteString(e,t){return m0.concat(e)}createByteStringFromHeap(e,t){return e===t?m0.alloc(0):m0.from(this._heap.slice(e,t))}createInt(e){return e}createInt32(e,t){return gs.buildInt32(e,t)}createInt64(e,t,r,i){return gs.buildInt64(e,t,r,i)}createFloat(e){return e}createFloatSingle(e,t,r,i){return pz.read([e,t,r,i],0,!1,23,4)}createFloatDouble(e,t,r,i,s,o,u,l){return pz.read([e,t,r,i,s,o,u,l],0,!1,52,8)}createInt32Neg(e,t){return-1-gs.buildInt32(e,t)}createInt64Neg(e,t,r,i){const s=gs.buildInt32(e,t),o=gs.buildInt32(r,i);return s>zn.MAX_SAFE_HIGH?zn.NEG_ONE.minus(new Tde(s).times(zn.SHIFT32).plus(o)):-1-(s*zn.SHIFT32+o)}createTrue(){return!0}createFalse(){return!1}createNull(){return null}createUndefined(){}createInfinity(){return 1/0}createInfinityNeg(){return-1/0}createNaN(){return NaN}createNaNNeg(){return NaN}createUtf8String(e,t){return e.join("")}createUtf8StringFromHeap(e,t){return e===t?"":this._buffer.toString("utf8",e,t)}createSimpleUnassigned(e){return new Pde(e)}pushInt(e){this._push(this.createInt(e))}pushInt32(e,t){this._push(this.createInt32(e,t))}pushInt64(e,t,r,i){this._push(this.createInt64(e,t,r,i))}pushFloat(e){this._push(this.createFloat(e))}pushFloatSingle(e,t,r,i){this._push(this.createFloatSingle(e,t,r,i))}pushFloatDouble(e,t,r,i,s,o,u,l){this._push(this.createFloatDouble(e,t,r,i,s,o,u,l))}pushInt32Neg(e,t){this._push(this.createInt32Neg(e,t))}pushInt64Neg(e,t,r,i){this._push(this.createInt64Neg(e,t,r,i))}pushTrue(){this._push(this.createTrue())}pushFalse(){this._push(this.createFalse())}pushNull(){this._push(this.createNull())}pushUndefined(){this._push(this.createUndefined())}pushInfinity(){this._push(this.createInfinity())}pushInfinityNeg(){this._push(this.createInfinityNeg())}pushNaN(){this._push(this.createNaN())}pushNaNNeg(){this._push(this.createNaNNeg())}pushArrayStart(){this._createParent([],zn.PARENT.ARRAY,-1)}pushArrayStartFixed(e){this._createArrayStartFixed(e)}pushArrayStartFixed32(e,t){const r=gs.buildInt32(e,t);this._createArrayStartFixed(r)}pushArrayStartFixed64(e,t,r,i){const s=gs.buildInt64(e,t,r,i);this._createArrayStartFixed(s)}pushObjectStart(){this._createObjectStartFixed(-1)}pushObjectStartFixed(e){this._createObjectStartFixed(e)}pushObjectStartFixed32(e,t){const r=gs.buildInt32(e,t);this._createObjectStartFixed(r)}pushObjectStartFixed64(e,t,r,i){const s=gs.buildInt64(e,t,r,i);this._createObjectStartFixed(s)}pushByteStringStart(){this._parents[this._depth]={type:zn.PARENT.BYTE_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushByteString(e,t){this._push(this.createByteStringFromHeap(e,t))}pushUtf8StringStart(){this._parents[this._depth]={type:zn.PARENT.UTF8_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushUtf8String(e,t){this._push(this.createUtf8StringFromHeap(e,t))}pushSimpleUnassigned(e){this._push(this.createSimpleUnassigned(e))}pushTagStart(e){this._parents[this._depth]={type:zn.PARENT.TAG,length:1,ref:[e]}}pushTagStart4(e,t){this.pushTagStart(gs.buildInt32(e,t))}pushTagStart8(e,t,r,i){this.pushTagStart(gs.buildInt64(e,t,r,i))}pushTagUnassigned(e){this._push(this.createTag(e))}pushBreak(){if(this._currentParent.length>-1)throw new Error("Unexpected break");this._closeParent()}_createObjectStartFixed(e){if(e===0){this._push(this.createObject({}));return}this._createParent({},zn.PARENT.OBJECT,e)}_createArrayStartFixed(e){if(e===0){this._push(this.createArray([]));return}this._createParent(new Array(e),zn.PARENT.ARRAY,e)}_decode(e){if(e.byteLength===0)throw new Error("Input too short");this._reset(),this._heap8.set(e);const t=this.parser.parse(e.byteLength);if(this._depth>1){for(;this._currentParent.length===0;)this._closeParent();if(this._depth>1)throw new Error("Undeterminated nesting")}if(t>0)throw new Error("Failed to parse");if(this._res.length===0)throw new Error("No valid result")}decodeFirst(e){return this._decode(e),this._res[0]}decodeAll(e){return this._decode(e),this._res}static decode(e,t){return typeof e=="string"&&(e=m0.from(e,t||"hex")),new v0({size:e.length}).decodeFirst(e)}static decodeAll(e,t){return typeof e=="string"&&(e=m0.from(e,t||"hex")),new v0({size:e.length}).decodeAll(e)}}v0.decodeFirst=v0.decode;var mz=v0;const{Buffer:OT}=Xg,Ide=mz,Lde=vw;class NT extends Ide{createTag(e,t){return`${e}(${t})`}createInt(e){return super.createInt(e).toString()}createInt32(e,t){return super.createInt32(e,t).toString()}createInt64(e,t,r,i){return super.createInt64(e,t,r,i).toString()}createInt32Neg(e,t){return super.createInt32Neg(e,t).toString()}createInt64Neg(e,t,r,i){return super.createInt64Neg(e,t,r,i).toString()}createTrue(){return"true"}createFalse(){return"false"}createFloat(e){const t=super.createFloat(e);return Lde.isNegativeZero(e)?"-0_1":`${t}_1`}createFloatSingle(e,t,r,i){return`${super.createFloatSingle(e,t,r,i)}_2`}createFloatDouble(e,t,r,i,s,o,u,l){return`${super.createFloatDouble(e,t,r,i,s,o,u,l)}_3`}createByteString(e,t){const r=e.join(", ");return t===-1?`(_ ${r})`:`h'${r}`}createByteStringFromHeap(e,t){return`h'${OT.from(super.createByteStringFromHeap(e,t)).toString("hex")}'`}createInfinity(){return"Infinity_1"}createInfinityNeg(){return"-Infinity_1"}createNaN(){return"NaN_1"}createNaNNeg(){return"-NaN_1"}createNull(){return"null"}createUndefined(){return"undefined"}createSimpleUnassigned(e){return`simple(${e})`}createArray(e,t){const r=super.createArray(e,t);return t===-1?`[_ ${r.join(", ")}]`:`[${r.join(", ")}]`}createMap(e,t){const r=super.createMap(e),i=Array.from(r.keys()).reduce(vz(r),"");return t===-1?`{_ ${i}}`:`{${i}}`}createObject(e,t){const r=super.createObject(e),i=Object.keys(r).reduce(vz(r),"");return t===-1?`{_ ${i}}`:`{${i}}`}createUtf8String(e,t){const r=e.join(", ");return t===-1?`(_ ${r})`:`"${r}"`}createUtf8StringFromHeap(e,t){return`"${OT.from(super.createUtf8StringFromHeap(e,t)).toString("utf8")}"`}static diagnose(e,t){return typeof e=="string"&&(e=OT.from(e,t||"hex")),new NT().decodeFirst(e)}}var Fde=NT;function vz(n){return(e,t)=>e?`${e}, ${t}: ${n[t]}`:`${t}: ${n[t]}`}const{Buffer:Su}=Xg,{URL:Ode}=dz,UT=mw.BigNumber,BT=vw,Zr=ns,Ea=Zr.MT,_w=Zr.NUMBYTES,gz=Zr.SHIFT32,yz=Zr.SYMS,g0=Zr.TAG,Nde=Zr.MT.SIMPLE_FLOAT<<5|Zr.NUMBYTES.TWO,Ude=Zr.MT.SIMPLE_FLOAT<<5|Zr.NUMBYTES.FOUR,Bde=Zr.MT.SIMPLE_FLOAT<<5|Zr.NUMBYTES.EIGHT,zde=Zr.MT.SIMPLE_FLOAT<<5|Zr.SIMPLE.TRUE,$de=Zr.MT.SIMPLE_FLOAT<<5|Zr.SIMPLE.FALSE,Gde=Zr.MT.SIMPLE_FLOAT<<5|Zr.SIMPLE.UNDEFINED,xz=Zr.MT.SIMPLE_FLOAT<<5|Zr.SIMPLE.NULL,Hde=new UT("0x20000000000000"),Vde=Su.from("f97e00","hex"),Wde=Su.from("f9fc00","hex"),jde=Su.from("f97c00","hex");function qde(n){return{}.toString.call(n).slice(8,-1)}class ww{constructor(e){e=e||{},this.streaming=typeof e.stream=="function",this.onData=e.stream,this.semanticTypes=[[Ode,this._pushUrl],[UT,this._pushBigNumber]];const t=e.genTypes||[],r=t.length;for(let i=0;i<r;i++)this.addSemanticType(t[i][0],t[i][1]);this._reset()}addSemanticType(e,t){const r=this.semanticTypes.length;for(let i=0;i<r;i++)if(this.semanticTypes[i][0]===e){const o=this.semanticTypes[i][1];return this.semanticTypes[i][1]=t,o}return this.semanticTypes.push([e,t]),null}push(e){return e&&(this.result[this.offset]=e,this.resultMethod[this.offset]=0,this.resultLength[this.offset]=e.length,this.offset++,this.streaming&&this.onData(this.finalize())),!0}pushWrite(e,t,r){return this.result[this.offset]=e,this.resultMethod[this.offset]=t,this.resultLength[this.offset]=r,this.offset++,this.streaming&&this.onData(this.finalize()),!0}_pushUInt8(e){return this.pushWrite(e,1,1)}_pushUInt16BE(e){return this.pushWrite(e,2,2)}_pushUInt32BE(e){return this.pushWrite(e,3,4)}_pushDoubleBE(e){return this.pushWrite(e,4,8)}_pushNaN(){return this.push(Vde)}_pushInfinity(e){const t=e<0?Wde:jde;return this.push(t)}_pushFloat(e){const t=Su.allocUnsafe(2);if(BT.writeHalf(t,e)&&BT.parseHalf(t)===e)return this._pushUInt8(Nde)&&this.push(t);const r=Su.allocUnsafe(4);return r.writeFloatBE(e,0),r.readFloatBE(0)===e?this._pushUInt8(Ude)&&this.push(r):this._pushUInt8(Bde)&&this._pushDoubleBE(e)}_pushInt(e,t,r){const i=t<<5;return e<24?this._pushUInt8(i|e):e<=255?this._pushUInt8(i|_w.ONE)&&this._pushUInt8(e):e<=65535?this._pushUInt8(i|_w.TWO)&&this._pushUInt16BE(e):e<=4294967295?this._pushUInt8(i|_w.FOUR)&&this._pushUInt32BE(e):e<=Number.MAX_SAFE_INTEGER?this._pushUInt8(i|_w.EIGHT)&&this._pushUInt32BE(Math.floor(e/gz))&&this._pushUInt32BE(e%gz):t===Ea.NEG_INT?this._pushFloat(r):this._pushFloat(e)}_pushIntNum(e){return e<0?this._pushInt(-e-1,Ea.NEG_INT,e):this._pushInt(e,Ea.POS_INT)}_pushNumber(e){switch(!1){case e===e:return this._pushNaN(e);case isFinite(e):return this._pushInfinity(e);case e%1!=0:return this._pushIntNum(e);default:return this._pushFloat(e)}}_pushString(e){const t=Su.byteLength(e,"utf8");return this._pushInt(t,Ea.UTF8_STRING)&&this.pushWrite(e,5,t)}_pushBoolean(e){return this._pushUInt8(e?zde:$de)}_pushUndefined(e){return this._pushUInt8(Gde)}_pushArray(e,t){const r=t.length;if(!e._pushInt(r,Ea.ARRAY))return!1;for(let i=0;i<r;i++)if(!e.pushAny(t[i]))return!1;return!0}_pushTag(e){return this._pushInt(e,Ea.TAG)}_pushDate(e,t){return e._pushTag(g0.DATE_EPOCH)&&e.pushAny(Math.round(t/1e3))}_pushBuffer(e,t){return e._pushInt(t.length,Ea.BYTE_STRING)&&e.push(t)}_pushNoFilter(e,t){return e._pushBuffer(e,t.slice())}_pushRegexp(e,t){return e._pushTag(g0.REGEXP)&&e.pushAny(t.source)}_pushSet(e,t){if(!e._pushInt(t.size,Ea.ARRAY))return!1;for(const r of t)if(!e.pushAny(r))return!1;return!0}_pushUrl(e,t){return e._pushTag(g0.URI)&&e.pushAny(t.format())}_pushBigint(e){let t=g0.POS_BIGINT;e.isNegative()&&(e=e.negated().minus(1),t=g0.NEG_BIGINT);let r=e.toString(16);r.length%2&&(r="0"+r);const i=Su.from(r,"hex");return this._pushTag(t)&&this._pushBuffer(this,i)}_pushBigNumber(e,t){if(t.isNaN())return e._pushNaN();if(!t.isFinite())return e._pushInfinity(t.isNegative()?-1/0:1/0);if(t.isInteger())return e._pushBigint(t);if(!(e._pushTag(g0.DECIMAL_FRAC)&&e._pushInt(2,Ea.ARRAY)))return!1;const r=t.decimalPlaces(),i=t.multipliedBy(new UT(10).pow(r));return e._pushIntNum(-r)?i.abs().isLessThan(Hde)?e._pushIntNum(i.toNumber()):e._pushBigint(i):!1}_pushMap(e,t){return e._pushInt(t.size,Ea.MAP)?this._pushRawMap(t.size,Array.from(t)):!1}_pushObject(e){if(!e)return this._pushUInt8(xz);for(var t=this.semanticTypes.length,r=0;r<t;r++)if(e instanceof this.semanticTypes[r][0])return this.semanticTypes[r][1].call(e,this,e);var i=e.encodeCBOR;if(typeof i=="function")return i.call(e,this);var s=Object.keys(e),o=s.length;return this._pushInt(o,Ea.MAP)?this._pushRawMap(o,s.map(u=>[u,e[u]])):!1}_pushRawMap(e,t){t=t.map(function(i){return i[0]=ww.encode(i[0]),i}).sort(BT.keySorter);for(var r=0;r<e;r++)if(!this.push(t[r][0])||!this.pushAny(t[r][1]))return!1;return!0}write(e){return this.pushAny(e)}pushAny(e){var t=qde(e);switch(t){case"Number":return this._pushNumber(e);case"String":return this._pushString(e);case"Boolean":return this._pushBoolean(e);case"Object":return this._pushObject(e);case"Array":return this._pushArray(this,e);case"Uint8Array":return this._pushBuffer(this,Su.isBuffer(e)?e:Su.from(e));case"Null":return this._pushUInt8(xz);case"Undefined":return this._pushUndefined(e);case"Map":return this._pushMap(this,e);case"Set":return this._pushSet(this,e);case"URL":return this._pushUrl(this,e);case"BigNumber":return this._pushBigNumber(this,e);case"Date":return this._pushDate(this,e);case"RegExp":return this._pushRegexp(this,e);case"Symbol":switch(e){case yz.NULL:return this._pushObject(null);case yz.UNDEFINED:return this._pushUndefined(void 0);default:throw new Error("Unknown symbol: "+e.toString())}default:throw new Error("Unknown type: "+typeof e+", "+(e?e.toString():""))}}finalize(){if(this.offset===0)return null;for(var e=this.result,t=this.resultLength,r=this.resultMethod,i=this.offset,s=0,o=0;o<i;o++)s+=t[o];var u=Su.allocUnsafe(s),l=0,c=0;for(o=0;o<i;o++){switch(c=t[o],r[o]){case 0:e[o].copy(u,l);break;case 1:u.writeUInt8(e[o],l,!0);break;case 2:u.writeUInt16BE(e[o],l,!0);break;case 3:u.writeUInt32BE(e[o],l,!0);break;case 4:u.writeDoubleBE(e[o],l,!0);break;case 5:u.write(e[o],l,c,"utf8");break;default:throw new Error("unkown method")}l+=c}var h=u;return this._reset(),h}_reset(){this.result=[],this.resultMethod=[],this.resultLength=[],this.offset=0}static encode(e){const t=new ww;if(!t.pushAny(e))throw new Error("Failed to encode input");return t.finalize()}}var Xde=ww;(function(n){n.Diagnose=Fde,n.Decoder=mz,n.Encoder=Xde,n.Simple=uz,n.Tagged=lz,n.decodeAll=n.Decoder.decodeAll,n.decodeFirst=n.Decoder.decodeFirst,n.diagnose=n.Diagnose.diagnose,n.encode=n.Encoder.encode,n.decode=n.Decoder.decode,n.leveldb={decode:n.Decoder.decodeAll,encode:n.Encoder.encode,buffer:!0,name:"cbor"}})(rz);var Yde=zT,_z=128,Jde=127,Kde=~Jde,Zde=Math.pow(2,31);function zT(n,e,t){if(Number.MAX_SAFE_INTEGER&&n>Number.MAX_SAFE_INTEGER)throw zT.bytes=0,new RangeError("Could not encode varint");e=e||[],t=t||0;for(var r=t;n>=Zde;)e[t++]=n&255|_z,n/=128;for(;n&Kde;)e[t++]=n&255|_z,n>>>=7;return e[t]=n|0,zT.bytes=t-r+1,e}var Qde=$T,epe=128,wz=127;function $T(n,e){var t=0,e=e||0,r=0,i=e,s,o=n.length;do{if(i>=o||r>49)throw $T.bytes=0,new RangeError("Could not decode varint");s=n[i++],t+=r<28?(s&wz)<<r:(s&wz)*Math.pow(2,r),r+=7}while(s>=epe);return $T.bytes=i-e,t}var tpe=Math.pow(2,7),npe=Math.pow(2,14),rpe=Math.pow(2,21),ipe=Math.pow(2,28),spe=Math.pow(2,35),ope=Math.pow(2,42),ape=Math.pow(2,49),upe=Math.pow(2,56),lpe=Math.pow(2,63),cpe=function(n){return n<tpe?1:n<npe?2:n<rpe?3:n<ipe?4:n<spe?5:n<ope?6:n<ape?7:n<upe?8:n<lpe?9:10},hh={encode:Yde,decode:Qde,encodingLength:cpe};function fpe(n,e){e||(e=n.reduce((i,s)=>i+s.length,0));const t=new Uint8Array(e);let r=0;for(const i of n)t.set(i,r),r+=i.length;return t}var hpe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",concat:fpe}),dpe=yr(hpe);function bz(n,e,t,r){return{name:n,prefix:e,encoder:{name:n,prefix:e,encode:t},decoder:{decode:r}}}const Sz=bz("utf8","u",n=>{const e=new TextDecoder("utf8");return"u"+e.decode(n)},n=>new TextEncoder().encode(n.substring(1))),GT=bz("ascii","a",n=>{let e="a";for(let t=0;t<n.length;t++)e+=String.fromCharCode(n[t]);return e},n=>{n=n.substring(1);const e=new Uint8Array(n.length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return e}),Ez=vt({utf8:Sz,"utf-8":Sz,hex:No.base16,latin1:GT,ascii:GT,binary:GT},No);function ppe(n,e="utf8"){const t=Ez[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return t.encoder.encode(n).substring(1)}var mpe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",toString:ppe}),vpe=yr(mpe);function gpe(n,e="utf8"){const t=Ez[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return t.decoder.decode(`${t.prefix}${n}`)}var ype=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",fromString:gpe}),xpe=yr(ype);const Mz=hh,{toString:_pe}=vpe,{fromString:wpe}=xpe;var Dz={numberToUint8Array:bpe,uint8ArrayToNumber:Az,varintUint8ArrayEncode:Spe,varintEncode:Epe};function Az(n){return parseInt(_pe(n,"base16"),16)}function bpe(n){let e=n.toString(16);return e.length%2==1&&(e="0"+e),wpe(e,"base16")}function Spe(n){return Uint8Array.from(Mz.encode(Az(n)))}function Epe(n){return Uint8Array.from(Mz.encode(n))}const Mpe=Object.freeze({identity:0,cidv1:1,cidv2:2,cidv3:3,ip4:4,tcp:6,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,dccp:33,"murmur3-128":34,"murmur3-32":35,ip6:41,ip6zone:42,path:47,multicodec:48,multihash:49,multiaddr:50,multibase:51,dns:53,dns4:54,dns6:55,dnsaddr:56,protobuf:80,cbor:81,raw:85,"dbl-sha2-256":86,rlp:96,bencode:99,"dag-pb":112,"dag-cbor":113,"libp2p-key":114,"git-raw":120,"torrent-info":123,"torrent-file":124,"leofcoin-block":129,"leofcoin-tx":130,"leofcoin-pr":131,sctp:132,"dag-jose":133,"dag-cose":134,"eth-block":144,"eth-block-list":145,"eth-tx-trie":146,"eth-tx":147,"eth-tx-receipt-trie":148,"eth-tx-receipt":149,"eth-state-trie":150,"eth-account-snapshot":151,"eth-storage-trie":152,"eth-receipt-log-trie":153,"eth-reciept-log":154,"bitcoin-block":176,"bitcoin-tx":177,"bitcoin-witness-commitment":178,"zcash-block":192,"zcash-tx":193,"caip-50":202,streamid:206,"stellar-block":208,"stellar-tx":209,md4:212,md5:213,bmt:214,"decred-block":224,"decred-tx":225,"ipld-ns":226,"ipfs-ns":227,"swarm-ns":228,"ipns-ns":229,zeronet:230,"secp256k1-pub":231,"bls12_381-g1-pub":234,"bls12_381-g2-pub":235,"x25519-pub":236,"ed25519-pub":237,"bls12_381-g1g2-pub":238,"dash-block":240,"dash-tx":241,"swarm-manifest":250,"swarm-feed":251,udp:273,"p2p-webrtc-star":275,"p2p-webrtc-direct":276,"p2p-stardust":277,"p2p-circuit":290,"dag-json":297,udt:301,utp:302,unix:400,thread:406,p2p:421,ipfs:421,https:443,onion:444,onion3:445,garlic64:446,garlic32:447,tls:448,noise:454,quic:460,ws:477,wss:478,"p2p-websocket-star":479,http:480,"swhid-1-snp":496,json:512,messagepack:513,"libp2p-peer-record":769,"libp2p-relay-rsvp":770,"car-index-sorted":1024,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,"p256-pub":4608,"p384-pub":4609,"p521-pub":4610,"ed448-pub":4611,"x448-pub":4612,"ed25519-priv":4864,"secp256k1-priv":4865,"x25519-priv":4866,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082,"zeroxcert-imprint-256":52753,"fil-commitment-unsealed":61697,"fil-commitment-sealed":61698,"holochain-adr-v0":8417572,"holochain-adr-v1":8483108,"holochain-key-v0":9728292,"holochain-key-v1":9793828,"holochain-sig-v0":10645796,"holochain-sig-v1":10711332,"skynet-ns":11639056,"arweave-ns":11704592});var Dpe={baseTable:Mpe};const{baseTable:HT}=Dpe,Ape=Dz.varintEncode,VT={},WT={},bw={};for(const n in HT){const e=n,t=HT[e];VT[e]=Ape(t);const r=e.toUpperCase().replace(/-/g,"_");WT[r]=t,bw[t]||(bw[t]=e)}Object.freeze(VT);Object.freeze(WT);Object.freeze(bw);const Tpe=Object.freeze(HT);var Cpe={nameToVarint:VT,constantToCode:WT,nameToCode:Tpe,codeToName:bw};const Sw=hh,{concat:Ppe}=dpe,Tz=Dz,{nameToVarint:Ew,constantToCode:Rpe,nameToCode:Cz,codeToName:jT}=Cpe;function kpe(n,e){let t;if(n instanceof Uint8Array)t=Tz.varintUint8ArrayEncode(n);else if(Ew[n])t=Ew[n];else throw new Error("multicodec not recognized");return Ppe([t,e],t.length+e.length)}function Ipe(n){return Sw.decode(n),n.slice(Sw.decode.bytes)}function Pz(n){const e=Sw.decode(n),t=jT[e];if(t===void 0)throw new Error(`Code "${e}" not found`);return t}function Rz(n){return jT[n]}function kz(n){const e=Cz[n];if(e===void 0)throw new Error(`Codec "${n}" not found`);return e}function Iz(n){return Sw.decode(n)}function Lz(n){const e=Ew[n];if(e===void 0)throw new Error(`Codec "${n}" not found`);return e}function Fz(n){return Tz.varintEncode(n)}function Lpe(n){return Pz(n)}function Fpe(n){return Rz(n)}function Ope(n){return kz(n)}function Npe(n){return Iz(n)}function Upe(n){return Lz(n)}function Bpe(n){return Array.from(Fz(n))}var Oz=nr(vt({addPrefix:kpe,rmPrefix:Ipe,getNameFromData:Pz,getNameFromCode:Rz,getCodeFromName:kz,getCodeFromData:Iz,getVarintFromName:Lz,getVarintFromCode:Fz,getCodec:Lpe,getName:Fpe,getNumber:Ope,getCode:Npe,getCodeVarint:Upe,getVarint:Bpe},Rpe),{nameToVarint:Ew,nameToCode:Cz,codeToName:jT});function Nz(n,e){for(const t in e)Object.defineProperty(n,t,{value:e[t],enumerable:!0,configurable:!0});return n}function zpe(n,e,t){if(!n||typeof n=="string")throw new TypeError("Please pass an Error to err-code");t||(t={}),typeof e=="object"&&(t=e,e=""),e&&(t.code=e);try{return Nz(n,t)}catch{t.message=n.message,t.stack=n.stack;const i=function(){};return i.prototype=Object.create(Object.getPrototypeOf(n)),Nz(new i,t)}}var $pe=zpe,dh={exports:{}};function Gpe(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var r=0;r<n.length;r++){var i=n.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=n.length,u=n.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function h(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var S=0,w=0,T=0,x=v.length;T!==x&&v[T]===0;)T++,S++;for(var E=(x-T)*c+1>>>0,O=new Uint8Array(E);T!==x;){for(var C=v[T],N=0,$=E-1;(C!==0||N<w)&&$!==-1;$--,N++)C+=256*O[$]>>>0,O[$]=C%o>>>0,C=C/o>>>0;if(C!==0)throw new Error("Non-zero carry");w=N,T++}for(var M=E-w;M!==E&&O[M]===0;)M++;for(var L=u.repeat(S);M<E;++M)L+=n.charAt(O[M]);return L}function d(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;var S=0;if(v[S]!==" "){for(var w=0,T=0;v[S]===u;)w++,S++;for(var x=(v.length-S)*l+1>>>0,E=new Uint8Array(x);v[S];){var O=e[v.charCodeAt(S)];if(O===255)return;for(var C=0,N=x-1;(O!==0||C<T)&&N!==-1;N--,C++)O+=o*E[N]>>>0,E[N]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");T=C,S++}if(v[S]!==" "){for(var $=x-T;$!==x&&E[$]===0;)$++;for(var M=new Uint8Array(w+(x-$)),L=w;$!==x;)M[L++]=E[$++];return M}}}function p(v){var S=d(v);if(S)return S;throw new Error("Non-base"+o+" character")}return{encode:h,decodeUnsafe:d,decode:p}}var Hpe=Gpe;const Vpe=new TextDecoder,Wpe=n=>Vpe.decode(n),jpe=new TextEncoder,qpe=n=>jpe.encode(n);function Xpe(n,e){const t=new Uint8Array(e);let r=0;for(const i of n)t.set(i,r),r+=i.length;return t}var qT={decodeText:Wpe,encodeText:qpe,concat:Xpe};const{encodeText:Ype}=qT;class Jpe{constructor(e,t,r,i){this.name=e,this.code=t,this.codeBuf=Ype(this.code),this.alphabet=i,this.codec=r(i)}encode(e){return this.codec.encode(e)}decode(e){for(const t of e)if(this.alphabet&&this.alphabet.indexOf(t)<0)throw new Error(`invalid character '${t}' in '${e}'`);return this.codec.decode(e)}}var Kpe=Jpe;const Zpe=(n,e,t)=>{const r={};for(let c=0;c<e.length;++c)r[e[c]]=c;let i=n.length;for(;n[i-1]==="=";)--i;const s=new Uint8Array(i*t/8|0);let o=0,u=0,l=0;for(let c=0;c<i;++c){const h=r[n[c]];if(h===void 0)throw new SyntaxError("Invalid character "+n[c]);u=u<<t|h,o+=t,o>=8&&(o-=8,s[l++]=255&u>>o)}if(o>=t||255&u<<8-o)throw new SyntaxError("Unexpected end of data");return s},Qpe=(n,e,t)=>{const r=e[e.length-1]==="=",i=(1<<t)-1;let s="",o=0,u=0;for(let l=0;l<n.length;++l)for(u=u<<8|n[l],o+=8;o>t;)o-=t,s+=e[i&u>>o];if(o&&(s+=e[i&u<<t-o]),r)for(;s.length*t&7;)s+="=";return s},e0e=n=>e=>({encode(t){return Qpe(t,e,n)},decode(t){return Zpe(t,e,n)}});var t0e={rfc4648:e0e};const Yg=Hpe,n0e=Kpe,{rfc4648:Ci}=t0e,{decodeText:r0e,encodeText:i0e}=qT,s0e=()=>({encode:r0e,decode:i0e}),Uz=[["identity","\0",s0e,""],["base2","0",Ci(1),"01"],["base8","7",Ci(3),"01234567"],["base10","9",Yg,"0123456789"],["base16","f",Ci(4),"0123456789abcdef"],["base16upper","F",Ci(4),"0123456789ABCDEF"],["base32hex","v",Ci(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",Ci(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",Ci(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",Ci(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",Ci(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",Ci(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",Ci(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",Ci(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",Ci(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",Yg,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",Yg,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",Yg,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",Yg,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",Ci(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",Ci(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",Ci(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",Ci(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],Bz=Uz.reduce((n,e)=>(n[e[0]]=new n0e(e[0],e[1],e[2],e[3]),n),{}),o0e=Uz.reduce((n,e)=>(n[e[1]]=Bz[e[0]],n),{});var a0e={names:Bz,codes:o0e};(function(n,e){const t=a0e,{encodeText:r,decodeText:i,concat:s}=qT;function o(w,T){if(!T)throw new Error("requires an encoded Uint8Array");const{name:x,codeBuf:E}=d(w);return h(x,T),s([E,T],E.length+T.length)}function u(w,T){const x=d(w),E=r(x.encode(T));return s([x.codeBuf,E],x.codeBuf.length+E.length)}function l(w){w instanceof Uint8Array&&(w=i(w));const T=w[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(T)&&(w=w.toLowerCase()),d(w[0]).decode(w.substring(1))}function c(w){if(w instanceof Uint8Array&&(w=i(w)),Object.prototype.toString.call(w)!=="[object String]")return!1;try{return d(w[0]).name}catch{return!1}}function h(w,T){d(w).decode(i(T))}function d(w){if(Object.prototype.hasOwnProperty.call(t.names,w))return t.names[w];if(Object.prototype.hasOwnProperty.call(t.codes,w))return t.codes[w];throw new Error(`Unsupported encoding: ${w}`)}function p(w){return w instanceof Uint8Array&&(w=i(w)),d(w[0])}e=n.exports=o,e.encode=u,e.decode=l,e.isEncoded=c,e.encoding=d,e.encodingFromData=p;const v=Object.freeze(t.names),S=Object.freeze(t.codes);e.names=v,e.codes=S})(dh,dh.exports);var u0e=$z,zz=128,l0e=127,c0e=~l0e,f0e=Math.pow(2,31);function $z(n,e,t){e=e||[],t=t||0;for(var r=t;n>=f0e;)e[t++]=n&255|zz,n/=128;for(;n&c0e;)e[t++]=n&255|zz,n>>>=7;return e[t]=n|0,$z.bytes=t-r+1,e}var h0e=XT,d0e=128,Gz=127;function XT(n,e){var t=0,e=e||0,r=0,i=e,s,o=n.length;do{if(i>=o)throw XT.bytes=0,new RangeError("Could not decode varint");s=n[i++],t+=r<28?(s&Gz)<<r:(s&Gz)*Math.pow(2,r),r+=7}while(s>=d0e);return XT.bytes=i-e,t}var p0e=Math.pow(2,7),m0e=Math.pow(2,14),v0e=Math.pow(2,21),g0e=Math.pow(2,28),y0e=Math.pow(2,35),x0e=Math.pow(2,42),_0e=Math.pow(2,49),w0e=Math.pow(2,56),b0e=Math.pow(2,63),S0e=function(n){return n<p0e?1:n<m0e?2:n<v0e?3:n<g0e?4:n<y0e?5:n<x0e?6:n<_0e?7:n<w0e?8:n<b0e?9:10},E0e={encode:u0e,decode:h0e,encodingLength:S0e};const M0e=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,"murmur3-128":34,"murmur3-32":35,"dbl-sha2-256":86,md4:212,md5:213,bmt:214,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082});var D0e={names:M0e};function Hz(n,e,t,r){return{name:n,prefix:e,encoder:{name:n,prefix:e,encode:t},decoder:{decode:r}}}const Vz=Hz("utf8","u",n=>{const e=new TextDecoder("utf8");return"u"+e.decode(n)},n=>new TextEncoder().encode(n.substring(1))),YT=Hz("ascii","a",n=>{let e="a";for(let t=0;t<n.length;t++)e+=String.fromCharCode(n[t]);return e},n=>{n=n.substring(1);const e=new Uint8Array(n.length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return e}),Wz=vt({utf8:Vz,"utf-8":Vz,hex:No.base16,latin1:YT,ascii:YT,binary:YT},No);function A0e(n,e="utf8"){const t=Wz[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return t.encoder.encode(n).substring(1)}var T0e=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",toString:A0e}),C0e=yr(T0e);function P0e(n,e="utf8"){const t=Wz[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return t.decoder.decode(`${t.prefix}${n}`)}var R0e=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",fromString:P0e}),k0e=yr(R0e);function I0e(n,e){e||(e=n.reduce((i,s)=>i+s.length,0));const t=new Uint8Array(e);let r=0;for(const i of n)t.set(i,r),r+=i.length;return t}var L0e=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",concat:I0e}),F0e=yr(L0e);const jz=dh.exports,y0=E0e,{names:Jg}=D0e,{toString:Mw}=C0e,{fromString:O0e}=k0e,{concat:N0e}=F0e,x0={};for(const n in Jg){const e=n;x0[Jg[e]]=e}Object.freeze(x0);function U0e(n){if(!(n instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return Mw(n,"base16")}function B0e(n){return O0e(n,"base16")}function z0e(n){if(!(n instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return Mw(jz.encode("base58btc",n)).slice(1)}function $0e(n){const e=n instanceof Uint8Array?Mw(n):n;return jz.decode("z"+e)}function qz(n){if(!(n instanceof Uint8Array))throw new Error("multihash must be a Uint8Array");if(n.length<2)throw new Error("multihash too short. must be > 2 bytes.");const e=y0.decode(n);if(!Yz(e))throw new Error(`multihash unknown function code: 0x${e.toString(16)}`);n=n.slice(y0.decode.bytes);const t=y0.decode(n);if(t<0)throw new Error(`multihash invalid length: ${t}`);if(n=n.slice(y0.decode.bytes),n.length!==t)throw new Error(`multihash length inconsistent: 0x${Mw(n,"base16")}`);return{code:e,name:x0[e],length:t,digest:n}}function G0e(n,e,t){if(!n||e===void 0)throw new Error("multihash encode requires at least two args: digest, code");const r=Xz(e);if(!(n instanceof Uint8Array))throw new Error("digest should be a Uint8Array");if(t==null&&(t=n.length),t&&n.length!==t)throw new Error("digest length should be equal to specified length.");const i=y0.encode(r),s=y0.encode(t);return N0e([i,s,n],i.length+s.length+n.length)}function Xz(n){let e=n;if(typeof n=="string"){if(Jg[n]===void 0)throw new Error(`Unrecognized hash function named: ${n}`);e=Jg[n]}if(typeof e!="number")throw new Error(`Hash function code should be a number. Got: ${e}`);if(x0[e]===void 0&&!JT(e))throw new Error(`Unrecognized function code: ${e}`);return e}function JT(n){return n>0&&n<16}function Yz(n){return!!(JT(n)||x0[n])}function Jz(n){qz(n)}function H0e(n){return Jz(n),n.subarray(0,2)}var Kg={names:Jg,codes:x0,toHexString:U0e,fromHexString:B0e,toB58String:z0e,fromB58String:$0e,decode:qz,encode:G0e,coerceCode:Xz,isAppCode:JT,validate:Jz,prefix:H0e,isValidCode:Yz},KT={exports:{}};(function(n,e){(function(t,r){var i={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function s(w){if(!Array.isArray(w)&&!ArrayBuffer.isView(w))return!1;for(var T=0;T<w.length;T++)if(!Number.isInteger(w[T])||w[T]<0||w[T]>255)return!1;return!0}function o(w,T){return(w&65535)*T+(((w>>>16)*T&65535)<<16)}function u(w,T){return w<<T|w>>>32-T}function l(w){return w^=w>>>16,w=o(w,2246822507),w^=w>>>13,w=o(w,3266489909),w^=w>>>16,w}function c(w,T){w=[w[0]>>>16,w[0]&65535,w[1]>>>16,w[1]&65535],T=[T[0]>>>16,T[0]&65535,T[1]>>>16,T[1]&65535];var x=[0,0,0,0];return x[3]+=w[3]+T[3],x[2]+=x[3]>>>16,x[3]&=65535,x[2]+=w[2]+T[2],x[1]+=x[2]>>>16,x[2]&=65535,x[1]+=w[1]+T[1],x[0]+=x[1]>>>16,x[1]&=65535,x[0]+=w[0]+T[0],x[0]&=65535,[x[0]<<16|x[1],x[2]<<16|x[3]]}function h(w,T){w=[w[0]>>>16,w[0]&65535,w[1]>>>16,w[1]&65535],T=[T[0]>>>16,T[0]&65535,T[1]>>>16,T[1]&65535];var x=[0,0,0,0];return x[3]+=w[3]*T[3],x[2]+=x[3]>>>16,x[3]&=65535,x[2]+=w[2]*T[3],x[1]+=x[2]>>>16,x[2]&=65535,x[2]+=w[3]*T[2],x[1]+=x[2]>>>16,x[2]&=65535,x[1]+=w[1]*T[3],x[0]+=x[1]>>>16,x[1]&=65535,x[1]+=w[2]*T[2],x[0]+=x[1]>>>16,x[1]&=65535,x[1]+=w[3]*T[1],x[0]+=x[1]>>>16,x[1]&=65535,x[0]+=w[0]*T[3]+w[1]*T[2]+w[2]*T[1]+w[3]*T[0],x[0]&=65535,[x[0]<<16|x[1],x[2]<<16|x[3]]}function d(w,T){return T%=64,T===32?[w[1],w[0]]:T<32?[w[0]<<T|w[1]>>>32-T,w[1]<<T|w[0]>>>32-T]:(T-=32,[w[1]<<T|w[0]>>>32-T,w[0]<<T|w[1]>>>32-T])}function p(w,T){return T%=64,T===0?w:T<32?[w[0]<<T|w[1]>>>32-T,w[1]<<T]:[w[1]<<T-32,0]}function v(w,T){return[w[0]^T[0],w[1]^T[1]]}function S(w){return w=v(w,[0,w[0]>>>1]),w=h(w,[4283543511,3981806797]),w=v(w,[0,w[0]>>>1]),w=h(w,[3301882366,444984403]),w=v(w,[0,w[0]>>>1]),w}i.x86.hash32=function(w,T){if(i.inputValidation&&!s(w))return r;T=T||0;for(var x=w.length%4,E=w.length-x,O=T,C=0,N=3432918353,$=461845907,M=0;M<E;M=M+4)C=w[M]|w[M+1]<<8|w[M+2]<<16|w[M+3]<<24,C=o(C,N),C=u(C,15),C=o(C,$),O^=C,O=u(O,13),O=o(O,5)+3864292196;switch(C=0,x){case 3:C^=w[M+2]<<16;case 2:C^=w[M+1]<<8;case 1:C^=w[M],C=o(C,N),C=u(C,15),C=o(C,$),O^=C}return O^=w.length,O=l(O),O>>>0},i.x86.hash128=function(w,T){if(i.inputValidation&&!s(w))return r;T=T||0;for(var x=w.length%16,E=w.length-x,O=T,C=T,N=T,$=T,M=0,L=0,V=0,Z=0,H=597399067,D=2869860233,R=951274213,P=2716044179,F=0;F<E;F=F+16)M=w[F]|w[F+1]<<8|w[F+2]<<16|w[F+3]<<24,L=w[F+4]|w[F+5]<<8|w[F+6]<<16|w[F+7]<<24,V=w[F+8]|w[F+9]<<8|w[F+10]<<16|w[F+11]<<24,Z=w[F+12]|w[F+13]<<8|w[F+14]<<16|w[F+15]<<24,M=o(M,H),M=u(M,15),M=o(M,D),O^=M,O=u(O,19),O+=C,O=o(O,5)+1444728091,L=o(L,D),L=u(L,16),L=o(L,R),C^=L,C=u(C,17),C+=N,C=o(C,5)+197830471,V=o(V,R),V=u(V,17),V=o(V,P),N^=V,N=u(N,15),N+=$,N=o(N,5)+2530024501,Z=o(Z,P),Z=u(Z,18),Z=o(Z,H),$^=Z,$=u($,13),$+=O,$=o($,5)+850148119;switch(M=0,L=0,V=0,Z=0,x){case 15:Z^=w[F+14]<<16;case 14:Z^=w[F+13]<<8;case 13:Z^=w[F+12],Z=o(Z,P),Z=u(Z,18),Z=o(Z,H),$^=Z;case 12:V^=w[F+11]<<24;case 11:V^=w[F+10]<<16;case 10:V^=w[F+9]<<8;case 9:V^=w[F+8],V=o(V,R),V=u(V,17),V=o(V,P),N^=V;case 8:L^=w[F+7]<<24;case 7:L^=w[F+6]<<16;case 6:L^=w[F+5]<<8;case 5:L^=w[F+4],L=o(L,D),L=u(L,16),L=o(L,R),C^=L;case 4:M^=w[F+3]<<24;case 3:M^=w[F+2]<<16;case 2:M^=w[F+1]<<8;case 1:M^=w[F],M=o(M,H),M=u(M,15),M=o(M,D),O^=M}return O^=w.length,C^=w.length,N^=w.length,$^=w.length,O+=C,O+=N,O+=$,C+=O,N+=O,$+=O,O=l(O),C=l(C),N=l(N),$=l($),O+=C,O+=N,O+=$,C+=O,N+=O,$+=O,("00000000"+(O>>>0).toString(16)).slice(-8)+("00000000"+(C>>>0).toString(16)).slice(-8)+("00000000"+(N>>>0).toString(16)).slice(-8)+("00000000"+($>>>0).toString(16)).slice(-8)},i.x64.hash128=function(w,T){if(i.inputValidation&&!s(w))return r;T=T||0;for(var x=w.length%16,E=w.length-x,O=[0,T],C=[0,T],N=[0,0],$=[0,0],M=[2277735313,289559509],L=[1291169091,658871167],V=0;V<E;V=V+16)N=[w[V+4]|w[V+5]<<8|w[V+6]<<16|w[V+7]<<24,w[V]|w[V+1]<<8|w[V+2]<<16|w[V+3]<<24],$=[w[V+12]|w[V+13]<<8|w[V+14]<<16|w[V+15]<<24,w[V+8]|w[V+9]<<8|w[V+10]<<16|w[V+11]<<24],N=h(N,M),N=d(N,31),N=h(N,L),O=v(O,N),O=d(O,27),O=c(O,C),O=c(h(O,[0,5]),[0,1390208809]),$=h($,L),$=d($,33),$=h($,M),C=v(C,$),C=d(C,31),C=c(C,O),C=c(h(C,[0,5]),[0,944331445]);switch(N=[0,0],$=[0,0],x){case 15:$=v($,p([0,w[V+14]],48));case 14:$=v($,p([0,w[V+13]],40));case 13:$=v($,p([0,w[V+12]],32));case 12:$=v($,p([0,w[V+11]],24));case 11:$=v($,p([0,w[V+10]],16));case 10:$=v($,p([0,w[V+9]],8));case 9:$=v($,[0,w[V+8]]),$=h($,L),$=d($,33),$=h($,M),C=v(C,$);case 8:N=v(N,p([0,w[V+7]],56));case 7:N=v(N,p([0,w[V+6]],48));case 6:N=v(N,p([0,w[V+5]],40));case 5:N=v(N,p([0,w[V+4]],32));case 4:N=v(N,p([0,w[V+3]],24));case 3:N=v(N,p([0,w[V+2]],16));case 2:N=v(N,p([0,w[V+1]],8));case 1:N=v(N,[0,w[V]]),N=h(N,M),N=d(N,31),N=h(N,L),O=v(O,N)}return O=v(O,[0,w.length]),C=v(C,[0,w.length]),O=c(O,C),C=c(C,O),O=S(O),C=S(C),O=c(O,C),C=c(C,O),("00000000"+(O[0]>>>0).toString(16)).slice(-8)+("00000000"+(O[1]>>>0).toString(16)).slice(-8)+("00000000"+(C[0]>>>0).toString(16)).slice(-8)+("00000000"+(C[1]>>>0).toString(16)).slice(-8)},n.exports&&(e=n.exports=i),e.murmurHash3=i})()})(KT,KT.exports);var V0e=KT.exports;const W0e=Kg,_0=self.crypto||self.msCrypto,ZT=async(n,e)=>{if(typeof self=="undefined"||!_0)throw new Error("Please use a browser with webcrypto support and ensure the code has been delivered securely via HTTPS/TLS and run within a Secure Context");switch(e){case"sha1":return new Uint8Array(await _0.subtle.digest({name:"SHA-1"},n));case"sha2-256":return new Uint8Array(await _0.subtle.digest({name:"SHA-256"},n));case"sha2-512":return new Uint8Array(await _0.subtle.digest({name:"SHA-512"},n));case"dbl-sha2-256":{const t=await _0.subtle.digest({name:"SHA-256"},n);return new Uint8Array(await _0.subtle.digest({name:"SHA-256"},t))}default:throw new Error(`${e} is not a supported algorithm`)}};var j0e={factory:n=>async e=>ZT(e,n),digest:ZT,multihashing:async(n,e,t)=>{const r=await ZT(n,e);return W0e.encode(r,e,t)}};const q0e=n=>{const e=new Uint8Array(4);for(let t=0;t<4;t++)e[t]=n&255,n=n>>8;return e};var X0e={fromNumberTo32BitBuf:q0e};function Kz(n,e,t,r){return{name:n,prefix:e,encoder:{name:n,prefix:e,encode:t},decoder:{decode:r}}}const Zz=Kz("utf8","u",n=>{const e=new TextDecoder("utf8");return"u"+e.decode(n)},n=>new TextEncoder().encode(n.substring(1))),QT=Kz("ascii","a",n=>{let e="a";for(let t=0;t<n.length;t++)e+=String.fromCharCode(n[t]);return e},n=>{n=n.substring(1);const e=new Uint8Array(n.length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return e}),Y0e=vt({utf8:Zz,"utf-8":Zz,hex:No.base16,latin1:QT,ascii:QT,binary:QT},No);function J0e(n,e="utf8"){const t=Y0e[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return t.decoder.decode(`${t.prefix}${n}`)}var K0e=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",fromString:J0e}),Z0e=yr(K0e);const Q0e="Input must be an string, Buffer or Uint8Array";function eme(n){let e;if(n instanceof Uint8Array)e=n;else if(n instanceof Buffer)e=new Uint8Array(n);else if(typeof n=="string")e=new Uint8Array(Buffer.from(n,"utf8"));else throw new Error(Q0e);return e}function tme(n){return Array.prototype.map.call(n,function(e){return(e<16?"0":"")+e.toString(16)}).join("")}function Dw(n){return(4294967296+n).toString(16).substring(1)}function nme(n,e,t){let r=`
`+n+" = ";for(let i=0;i<e.length;i+=2){if(t===32)r+=Dw(e[i]).toUpperCase(),r+=" ",r+=Dw(e[i+1]).toUpperCase();else if(t===64)r+=Dw(e[i+1]).toUpperCase(),r+=Dw(e[i]).toUpperCase();else throw new Error("Invalid size "+t);i%6==4?r+=`
`+new Array(n.length+4).join(" "):i<e.length-2&&(r+=" ")}console.log(r)}function rme(n,e,t){let r=new Date().getTime();const i=new Uint8Array(e);for(let o=0;o<e;o++)i[o]=o%256;const s=new Date().getTime();console.log("Generated random input in "+(s-r)+"ms"),r=s;for(let o=0;o<t;o++){const u=n(i),l=new Date().getTime(),c=l-r;r=l,console.log("Hashed in "+c+"ms: "+u.substring(0,20)+"..."),console.log(Math.round(e/(1<<20)/(c/1e3)*100)/100+" MB PER SECOND")}}var Qz={normalizeInput:eme,toHex:tme,debugPrint:nme,testSpeed:rme};const e9=Qz;function Aw(n,e,t){const r=n[e]+n[t];let i=n[e+1]+n[t+1];r>=4294967296&&i++,n[e]=r,n[e+1]=i}function t9(n,e,t,r){let i=n[e]+t;t<0&&(i+=4294967296);let s=n[e+1]+r;i>=4294967296&&s++,n[e]=i,n[e+1]=s}function ime(n,e){return n[e]^n[e+1]<<8^n[e+2]<<16^n[e+3]<<24}function Rc(n,e,t,r,i,s){const o=Zg[i],u=Zg[i+1],l=Zg[s],c=Zg[s+1];Aw(yn,n,e),t9(yn,n,o,u);let h=yn[r]^yn[n],d=yn[r+1]^yn[n+1];yn[r]=d,yn[r+1]=h,Aw(yn,t,r),h=yn[e]^yn[t],d=yn[e+1]^yn[t+1],yn[e]=h>>>24^d<<8,yn[e+1]=d>>>24^h<<8,Aw(yn,n,e),t9(yn,n,l,c),h=yn[r]^yn[n],d=yn[r+1]^yn[n+1],yn[r]=h>>>16^d<<16,yn[r+1]=d>>>16^h<<16,Aw(yn,t,r),h=yn[e]^yn[t],d=yn[e+1]^yn[t+1],yn[e]=d>>>31^h<<1,yn[e+1]=h>>>31^d<<1}const n9=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),sme=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],rs=new Uint8Array(sme.map(function(n){return n*2})),yn=new Uint32Array(32),Zg=new Uint32Array(32);function r9(n,e){let t=0;for(t=0;t<16;t++)yn[t]=n.h[t],yn[t+16]=n9[t];for(yn[24]=yn[24]^n.t,yn[25]=yn[25]^n.t/4294967296,e&&(yn[28]=~yn[28],yn[29]=~yn[29]),t=0;t<32;t++)Zg[t]=ime(n.b,4*t);for(t=0;t<12;t++)Rc(0,8,16,24,rs[t*16+0],rs[t*16+1]),Rc(2,10,18,26,rs[t*16+2],rs[t*16+3]),Rc(4,12,20,28,rs[t*16+4],rs[t*16+5]),Rc(6,14,22,30,rs[t*16+6],rs[t*16+7]),Rc(0,10,20,30,rs[t*16+8],rs[t*16+9]),Rc(2,12,22,24,rs[t*16+10],rs[t*16+11]),Rc(4,14,16,26,rs[t*16+12],rs[t*16+13]),Rc(6,8,18,28,rs[t*16+14],rs[t*16+15]);for(t=0;t<16;t++)n.h[t]=n.h[t]^yn[t]^yn[t+16]}function i9(n,e){if(n===0||n>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(e&&e.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");const t={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:n};for(let i=0;i<16;i++)t.h[i]=n9[i];const r=e?e.length:0;return t.h[0]^=16842752^r<<8^n,e&&(e4(t,e),t.c=128),t}function e4(n,e){for(let t=0;t<e.length;t++)n.c===128&&(n.t+=n.c,r9(n,!1),n.c=0),n.b[n.c++]=e[t]}function s9(n){for(n.t+=n.c;n.c<128;)n.b[n.c++]=0;r9(n,!0);const e=new Uint8Array(n.outlen);for(let t=0;t<n.outlen;t++)e[t]=n.h[t>>2]>>8*(t&3);return e}function o9(n,e,t){t=t||64,n=e9.normalizeInput(n);const r=i9(t,e);return e4(r,n),s9(r)}function ome(n,e,t){const r=o9(n,e,t);return e9.toHex(r)}var ame={blake2b:o9,blake2bHex:ome,blake2bInit:i9,blake2bUpdate:e4,blake2bFinal:s9};const a9=Qz;function ume(n,e){return n[e]^n[e+1]<<8^n[e+2]<<16^n[e+3]<<24}function kc(n,e,t,r,i,s){Ln[n]=Ln[n]+Ln[e]+i,Ln[r]=Tw(Ln[r]^Ln[n],16),Ln[t]=Ln[t]+Ln[r],Ln[e]=Tw(Ln[e]^Ln[t],12),Ln[n]=Ln[n]+Ln[e]+s,Ln[r]=Tw(Ln[r]^Ln[n],8),Ln[t]=Ln[t]+Ln[r],Ln[e]=Tw(Ln[e]^Ln[t],7)}function Tw(n,e){return n>>>e^n<<32-e}const u9=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),is=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),Ln=new Uint32Array(16),Pi=new Uint32Array(16);function l9(n,e){let t=0;for(t=0;t<8;t++)Ln[t]=n.h[t],Ln[t+8]=u9[t];for(Ln[12]^=n.t,Ln[13]^=n.t/4294967296,e&&(Ln[14]=~Ln[14]),t=0;t<16;t++)Pi[t]=ume(n.b,4*t);for(t=0;t<10;t++)kc(0,4,8,12,Pi[is[t*16+0]],Pi[is[t*16+1]]),kc(1,5,9,13,Pi[is[t*16+2]],Pi[is[t*16+3]]),kc(2,6,10,14,Pi[is[t*16+4]],Pi[is[t*16+5]]),kc(3,7,11,15,Pi[is[t*16+6]],Pi[is[t*16+7]]),kc(0,5,10,15,Pi[is[t*16+8]],Pi[is[t*16+9]]),kc(1,6,11,12,Pi[is[t*16+10]],Pi[is[t*16+11]]),kc(2,7,8,13,Pi[is[t*16+12]],Pi[is[t*16+13]]),kc(3,4,9,14,Pi[is[t*16+14]],Pi[is[t*16+15]]);for(t=0;t<8;t++)n.h[t]^=Ln[t]^Ln[t+8]}function c9(n,e){if(!(n>0&&n<=32))throw new Error("Incorrect output length, should be in [1, 32]");const t=e?e.length:0;if(e&&!(t>0&&t<=32))throw new Error("Incorrect key length, should be in [1, 32]");const r={h:new Uint32Array(u9),b:new Uint8Array(64),c:0,t:0,outlen:n};return r.h[0]^=16842752^t<<8^n,t>0&&(t4(r,e),r.c=64),r}function t4(n,e){for(let t=0;t<e.length;t++)n.c===64&&(n.t+=n.c,l9(n,!1),n.c=0),n.b[n.c++]=e[t]}function f9(n){for(n.t+=n.c;n.c<64;)n.b[n.c++]=0;l9(n,!0);const e=new Uint8Array(n.outlen);for(let t=0;t<n.outlen;t++)e[t]=n.h[t>>2]>>8*(t&3)&255;return e}function h9(n,e,t){t=t||32,n=a9.normalizeInput(n);const r=c9(t,e);return t4(r,n),f9(r)}function lme(n,e,t){const r=h9(n,e,t);return a9.toHex(r)}var cme={blake2s:h9,blake2sHex:lme,blake2sInit:c9,blake2sUpdate:t4,blake2sFinal:f9};const Qg=ame,e1=cme;var fme={blake2b:Qg.blake2b,blake2bHex:Qg.blake2bHex,blake2bInit:Qg.blake2bInit,blake2bUpdate:Qg.blake2bUpdate,blake2bFinal:Qg.blake2bFinal,blake2s:e1.blake2s,blake2sHex:e1.blake2sHex,blake2sInit:e1.blake2sInit,blake2sUpdate:e1.blake2sUpdate,blake2sFinal:e1.blake2sFinal};const w0=fme,hme=45569,dme=45633,pme={init:w0.blake2bInit,update:w0.blake2bUpdate,digest:w0.blake2bFinal},mme={init:w0.blake2sInit,update:w0.blake2sUpdate,digest:w0.blake2sFinal},d9=(n,e)=>async t=>{const r=e.init(n,null);return e.update(r,t),e.digest(r)};var vme=n=>{for(let e=0;e<64;e++)n[hme+e]=d9(e+1,pme);for(let e=0;e<32;e++)n[dme+e]=d9(e+1,mme)};const Eu=WA.exports,p9=V0e,{factory:Cw}=j0e,{fromNumberTo32BitBuf:gme}=X0e,{fromString:yme}=Z0e,Wo=n=>async e=>{switch(n){case"sha3-224":return new Uint8Array(Eu.sha3_224.arrayBuffer(e));case"sha3-256":return new Uint8Array(Eu.sha3_256.arrayBuffer(e));case"sha3-384":return new Uint8Array(Eu.sha3_384.arrayBuffer(e));case"sha3-512":return new Uint8Array(Eu.sha3_512.arrayBuffer(e));case"shake-128":return new Uint8Array(Eu.shake128.create(128).update(e).arrayBuffer());case"shake-256":return new Uint8Array(Eu.shake256.create(256).update(e).arrayBuffer());case"keccak-224":return new Uint8Array(Eu.keccak224.arrayBuffer(e));case"keccak-256":return new Uint8Array(Eu.keccak256.arrayBuffer(e));case"keccak-384":return new Uint8Array(Eu.keccak384.arrayBuffer(e));case"keccak-512":return new Uint8Array(Eu.keccak512.arrayBuffer(e));case"murmur3-128":return yme(p9.x64.hash128(e),"base16");case"murmur3-32":return gme(p9.x86.hash32(e));default:throw new TypeError(`${n} is not a supported algorithm`)}},xme=n=>n;var _me={identity:xme,sha1:Cw("sha1"),sha2256:Cw("sha2-256"),sha2512:Cw("sha2-512"),dblSha2256:Cw("dbl-sha2-256"),sha3224:Wo("sha3-224"),sha3256:Wo("sha3-256"),sha3384:Wo("sha3-384"),sha3512:Wo("sha3-512"),shake128:Wo("shake-128"),shake256:Wo("shake-256"),keccak224:Wo("keccak-224"),keccak256:Wo("keccak-256"),keccak384:Wo("keccak-384"),keccak512:Wo("keccak-512"),murmur3128:Wo("murmur3-128"),murmur332:Wo("murmur3-32"),addBlake:vme};function wme(n,e){if(n===e)return!0;if(n.byteLength!==e.byteLength)return!1;for(let t=0;t<n.byteLength;t++)if(n[t]!==e[t])return!1;return!0}var bme=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",equals:wme}),Sme=yr(bme);const m9=$pe,Pw=Kg,mi=_me,{equals:Eme}=Sme;async function jo(n,e,t){const r=await jo.digest(n,e,t);return Pw.encode(r,e,t)}jo.multihash=Pw;jo.digest=async(n,e,t)=>{const i=await jo.createHash(e)(n);return t?i.slice(0,t):i};jo.createHash=function(n){if(!n)throw m9(new Error("hash algorithm must be specified"),"ERR_HASH_ALGORITHM_NOT_SPECIFIED");const e=Pw.coerceCode(n);if(!jo.functions[e])throw m9(new Error(`multihash function '${n}' not yet supported`),"ERR_HASH_ALGORITHM_NOT_SUPPORTED");return jo.functions[e]};jo.functions={0:mi.identity,17:mi.sha1,18:mi.sha2256,19:mi.sha2512,20:mi.sha3512,21:mi.sha3384,22:mi.sha3256,23:mi.sha3224,24:mi.shake128,25:mi.shake256,26:mi.keccak224,27:mi.keccak256,28:mi.keccak384,29:mi.keccak512,34:mi.murmur3128,35:mi.murmur332,86:mi.dblSha2256};mi.addBlake(jo.functions);jo.validate=async(n,e)=>{const t=await jo(n,Pw.decode(e).name);return Eme(e,t)};var Mme=jo;const Dme=Kg,Ame={checkCIDComponents:function(n){if(n==null)return"null values are not valid CIDs";if(!(n.version===0||n.version===1))return"Invalid version, must be a number equal to 1 or 0";if(typeof n.codec!="string")return"codec must be string";if(n.version===0){if(n.codec!=="dag-pb")return"codec must be 'dag-pb' for CIDv0";if(n.multibaseName!=="base58btc")return"multibaseName must be 'base58btc' for CIDv0"}if(!(n.multihash instanceof Uint8Array))return"multihash must be a Uint8Array";try{Dme.validate(n.multihash)}catch(e){let t=e.message;return t||(t="Multihash validation failed"),t}}};var Tme=Ame;function Cme(n,e){e||(e=n.reduce((i,s)=>i+s.length,0));const t=new Uint8Array(e);let r=0;for(const i of n)t.set(i,r),r+=i.length;return t}var Pme=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",concat:Cme}),Rme=yr(Pme);function v9(n,e,t,r){return{name:n,prefix:e,encoder:{name:n,prefix:e,encode:t},decoder:{decode:r}}}const g9=v9("utf8","u",n=>{const e=new TextDecoder("utf8");return"u"+e.decode(n)},n=>new TextEncoder().encode(n.substring(1))),n4=v9("ascii","a",n=>{let e="a";for(let t=0;t<n.length;t++)e+=String.fromCharCode(n[t]);return e},n=>{n=n.substring(1);const e=new Uint8Array(n.length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return e}),kme=vt({utf8:g9,"utf-8":g9,hex:No.base16,latin1:n4,ascii:n4,binary:n4},No);function Ime(n,e="utf8"){const t=kme[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return t.encoder.encode(n).substring(1)}var Lme=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",toString:Ime}),Fme=yr(Lme);function Ome(n,e){if(n===e)return!0;if(n.byteLength!==e.byteLength)return!1;for(let t=0;t<n.byteLength;t++)if(n[t]!==e[t])return!1;return!0}var Nme=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",equals:Ome}),Ume=yr(Nme);const Rw=Kg,r4=dh.exports,ph=Oz,Bme=Tme,{concat:y9}=Rme,{toString:zme}=Fme,{equals:$me}=Ume,kw=ph.nameToCode,Gme=Object.keys(kw).reduce((n,e)=>(n[kw[e]]=e,n),{}),x9=Symbol.for("@ipld/js-cid/CID");class Mu{constructor(e,t,r,i){if(this.version,this.codec,this.multihash,Object.defineProperty(this,x9,{value:!0}),Mu.isCID(e)){const s=e;this.version=s.version,this.codec=s.codec,this.multihash=s.multihash,this.multibaseName=s.multibaseName||(s.version===0?"base58btc":"base32");return}if(typeof e=="string"){const s=r4.isEncoded(e);if(s){const o=r4.decode(e);this.version=parseInt(o[0].toString(),16),this.codec=ph.getCodec(o.slice(1)),this.multihash=ph.rmPrefix(o.slice(1)),this.multibaseName=s}else this.version=0,this.codec="dag-pb",this.multihash=Rw.fromB58String(e),this.multibaseName="base58btc";Mu.validateCID(this),Object.defineProperty(this,"string",{value:e});return}if(e instanceof Uint8Array){const s=parseInt(e[0].toString(),16);if(s===1){const o=e;this.version=s,this.codec=ph.getCodec(o.slice(1)),this.multihash=ph.rmPrefix(o.slice(1)),this.multibaseName="base32"}else this.version=0,this.codec="dag-pb",this.multihash=e,this.multibaseName="base58btc";Mu.validateCID(this);return}this.version=e,typeof t=="number"&&(t=Gme[t]),this.codec=t,this.multihash=r,this.multibaseName=i||(e===0?"base58btc":"base32"),Mu.validateCID(this)}get bytes(){let e=this._bytes;if(!e){if(this.version===0)e=this.multihash;else if(this.version===1){const t=ph.getCodeVarint(this.codec);e=y9([[1],t,this.multihash],1+t.byteLength+this.multihash.byteLength)}else throw new Error("unsupported version");Object.defineProperty(this,"_bytes",{value:e})}return e}get prefix(){const e=ph.getCodeVarint(this.codec),t=Rw.prefix(this.multihash);return y9([[this.version],e,t],1+e.byteLength+t.byteLength)}get code(){return kw[this.codec]}toV0(){if(this.codec!=="dag-pb")throw new Error("Cannot convert a non dag-pb CID to CIDv0");const{name:e,length:t}=Rw.decode(this.multihash);if(e!=="sha2-256")throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");if(t!==32)throw new Error("Cannot convert non 32 byte multihash CID to CIDv0");return new Mu(0,this.codec,this.multihash)}toV1(){return new Mu(1,this.codec,this.multihash,this.multibaseName)}toBaseEncodedString(e=this.multibaseName){if(this.string&&this.string.length!==0&&e===this.multibaseName)return this.string;let t;if(this.version===0){if(e!=="base58btc")throw new Error("not supported with CIDv0, to support different bases, please migrate the instance do CIDv1, you can do that through cid.toV1()");t=Rw.toB58String(this.multihash)}else if(this.version===1)t=zme(r4.encode(e,this.bytes));else throw new Error("unsupported version");return e===this.multibaseName&&Object.defineProperty(this,"string",{value:t}),t}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}toString(e){return this.toBaseEncodedString(e)}toJSON(){return{codec:this.codec,version:this.version,hash:this.multihash}}equals(e){return this.codec===e.codec&&this.version===e.version&&$me(this.multihash,e.multihash)}static validateCID(e){const t=Bme.checkCIDComponents(e);if(t)throw new Error(t)}static isCID(e){return e instanceof Mu||Boolean(e&&e[x9])}}Mu.codecs=kw;var Ic=Mu,Hme=_9;function _9(n,e){this.value=n,this.next=e}_9.prototype.contains=function(n){for(var e=this;e;){if(e.value===n)return!0;e=e.next}return!1};var Vme=Hme,Wme=jme;function jme(n){if(!(n instanceof Object))throw new TypeError('"obj" must be an object (or inherit from it)');return w9(n)}function w9(n,e){e=new Vme(n,e);for(var t in n){var r=n[t];if(r instanceof Object&&(e.contains(r)||w9(r,e)))return!0}return!1}function qme(n,e){e||(e=n.reduce((i,s)=>i+s.length,0));const t=new Uint8Array(e);let r=0;for(const i of n)t.set(i,r),r+=i.length;return t}var Iw=qme,Xme=yr(Ele);const{bases:b9}=Xme;function S9(n,e,t,r){return{name:n,prefix:e,encoder:{name:n,prefix:e,encode:t},decoder:{decode:r}}}const E9=S9("utf8","u",n=>{const e=new TextDecoder("utf8");return"u"+e.decode(n)},n=>new TextEncoder().encode(n.substring(1))),i4=S9("ascii","a",n=>{let e="a";for(let t=0;t<n.length;t++)e+=String.fromCharCode(n[t]);return e},n=>{n=n.substring(1);const e=new Uint8Array(n.length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return e}),Yme=vt({utf8:E9,"utf-8":E9,hex:b9.base16,latin1:i4,ascii:i4,binary:i4},b9);var M9=Yme;const Jme=M9;function Kme(n,e="utf8"){const t=Jme[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return t.decoder.decode(`${t.prefix}${n}`)}var D9=Kme;const s4=rz,o4=Oz,Zme=Mme,t1=Ic,Qme=Wme,eve=Iw,tve=D9,A9=42;function nve(n){return typeof n=="string"?n=new t1(n).bytes:t1.isCID(n)&&(n=n.bytes),new s4.Tagged(A9,eve([tve("00","base16"),n],1+n.length))}function rve(n){let e;try{e=Qme(n)}catch{e=!1}if(e)throw new Error("The object passed has circular references");function t(r){if(!r||r instanceof Uint8Array||typeof r=="string")return r;if(Array.isArray(r))return r.map(t);if(t1.isCID(r))return nve(r);const i=Object.keys(r);if(i.length>0){const s={};return i.forEach(o=>{typeof r[o]=="object"?s[o]=t(r[o]):s[o]=r[o]}),s}else return r}return t(n)}const T9=o4.DAG_CBOR,C9=o4.SHA2_256,P9={[A9]:n=>(n=n.slice(1),new t1(n))},R9=64*1024;let b0=R9;const k9=64*1024*1024;let a4=k9,I9=null;function u4(n){let e=P9;n?(typeof n.size=="number"&&(b0=n.size),typeof n.maxSize=="number"&&(a4=n.maxSize),n.tags&&(e=Object.assign({},P9,n&&n.tags))):(b0=R9,a4=k9);const t={tags:e,size:b0};I9=new s4.Decoder(t),b0=t.size}u4();function ive(n){const e=rve(n);return s4.encode(e)}function sve(n){if(n.length>b0&&n.length<=a4&&u4({size:n.length}),n.length>b0)throw new Error("Data is too large to deserialize with current decoder");const e=I9.decodeAll(n);if(e.length!==1)throw new Error("Extraneous CBOR data found beyond initial top-level object");return e[0]}async function ove(n,e){const r=Object.assign({cidVersion:1,hashAlg:C9},e),i=await Zme(n,r.hashAlg),s=o4.getNameFromCode(T9);return new t1(r.cidVersion,s,i)}var L9={codec:T9,defaultHashAlg:C9,configureDecoder:u4,serialize:ive,deserialize:sve,cid:ove},l4={};const F9=Ic,O9=L9;l4.resolve=(n,e)=>{let t=O9.deserialize(n);const r=e.split("/").filter(Boolean);for(;r.length;){const i=r.shift();if(t[i]===void 0)throw new Error(`Object has no property '${i}'`);if(t=t[i],F9.isCID(t))return{value:t,remainderPath:r.join("/")}}return{value:t,remainderPath:""}};const N9=function*(n,e){if(!(n instanceof Uint8Array||F9.isCID(n)||typeof n=="string"||n===null))for(const t of Object.keys(n)){const r=e===void 0?t:e+"/"+t;yield r,yield*N9(n[t],r)}};l4.tree=function*(n){const e=O9.deserialize(n);yield*N9(e)};(function(n){n.util=L9,n.resolver=l4,n.codec=n.util.codec,n.defaultHashAlg=n.util.defaultHashAlg})(AT);function ave(n,e){for(let t=0;t<n.byteLength;t++){if(n[t]<e[t])return-1;if(n[t]>e[t])return 1}return n.byteLength>e.byteLength?1:n.byteLength<e.byteLength?-1:0}var uve=ave;function lve(n,e){if(n===e)return!0;if(n.byteLength!==e.byteLength)return!1;for(let t=0;t<n.byteLength;t++)if(n[t]!==e[t])return!1;return!0}var cve=lve;const fve=M9;function hve(n,e="utf8"){const t=fve[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return t.encoder.encode(n).substring(1)}var c4=hve;function dve(n,e){if(n.length!==e.length)throw new Error("Inputs should have the same length");const t=new Uint8Array(n.length);for(let r=0;r<n.length;r++)t[r]=n[r]^e[r];return t}var pve=dve;const mve=uve,vve=Iw,gve=cve,yve=D9,xve=c4,_ve=pve;var ss={compare:mve,concat:vve,equals:gve,fromString:yve,toString:xve,xor:_ve},wve=$e&&$e.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),bve=$e&&$e.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),Sve=$e&&$e.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&wve(e,n,t);return bve(e,n),e},Eve=$e&&$e.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function u(h){try{c(r.next(h))}catch(d){o(d)}}function l(h){try{c(r.throw(h))}catch(d){o(d)}}function c(h){h.done?s(h.value):i(h.value).then(u,l)}c((r=r.apply(n,e||[])).next())})},Lw=$e&&$e.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty($o,"__esModule",{value:!0});$o.decodeCleartext=$o.prepareCleartext=$o.decodeIdentityCID=$o.encodeIdentityCID=$o.encodePayload=void 0;const Fw=Lw(AT),f4=Lw(Ic),U9=Lw(Kg),Mve=Sve(ss),B9=Lw(hh),z9=113,$9=0,Dve=24;function Ave(n){return Eve(this,void 0,void 0,function*(){const e=new Uint8Array(Fw.default.util.serialize(n));return{cid:yield Fw.default.util.cid(e),linkedBlock:e}})}$o.encodePayload=Ave;function Tve(n,e=Dve){const t=(e-n.length%e)%e;return Mve.concat([n,new Uint8Array(t)])}function Cve(n){let e=0,t;for(let r=0;r<4;r++)t=B9.default.decode(n,e),e+=B9.default.decode.bytes;return new f4.default(n.slice(0,e+t))}function G9(n){const e=Fw.default.util.serialize(n),t=U9.default.encode(e,$9);return new f4.default(1,z9,t)}$o.encodeIdentityCID=G9;function H9(n){if(f4.default.validateCID(n),n.code!==z9)throw new Error("CID codec must be dag-cbor");const{code:e,digest:t}=U9.default.decode(n.multihash);if(e!==$9)throw new Error("CID must use identity multihash");return Fw.default.util.deserialize(t)}$o.decodeIdentityCID=H9;function Pve(n,e){return Tve(G9(n).bytes,e)}$o.prepareCleartext=Pve;function Rve(n){return H9(Cve(n))}$o.decodeCleartext=Rve;let kve=(n=21)=>{let e="",t=crypto.getRandomValues(new Uint8Array(n));for(;n--;){let r=t[n]&63;r<36?e+=r.toString(36):r<62?e+=(r-26).toString(36).toUpperCase():r<63?e+="_":e+="-"}return e};function V9(n,e,t,r,i,s,o){try{var u=n[s](o),l=u.value}catch(c){t(c);return}u.done?e(l):Promise.resolve(l).then(r,i)}function W9(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(l){V9(s,r,i,o,u,"next",l)}function u(l){V9(s,r,i,o,u,"throw",l)}o(void 0)})}}function Ive(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}function h4(n){return h4=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},h4(n)}function Ow(n,e){return Ow=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Ow(n,e)}function Lve(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Nw(n,e,t){return Lve()?Nw=Reflect.construct:Nw=function(i,s,o){var u=[null];u.push.apply(u,s);var l=Function.bind.apply(i,u),c=new l;return o&&Ow(c,o.prototype),c},Nw.apply(null,arguments)}function Fve(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function d4(n){var e=typeof Map=="function"?new Map:void 0;return d4=function(r){if(r===null||!Fve(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return Nw(r,arguments,h4(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Ow(i,r)},d4(n)}function Ove(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Nve(n,e){return e={exports:{}},n(e,e.exports),e.exports}var Uw=Nve(function(n){var e=function(t){var r=Object.prototype,i=r.hasOwnProperty,s,o=typeof Symbol=="function"?Symbol:{},u=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function h(B,U,k){return Object.defineProperty(B,U,{value:k,enumerable:!0,configurable:!0,writable:!0}),B[U]}try{h({},"")}catch{h=function(U,k,G){return U[k]=G}}function d(B,U,k,G){var ne=U&&U.prototype instanceof E?U:E,le=Object.create(ne.prototype),ee=new F(G||[]);return le._invoke=H(B,k,ee),le}t.wrap=d;function p(B,U,k){try{return{type:"normal",arg:B.call(U,k)}}catch(G){return{type:"throw",arg:G}}}var v="suspendedStart",S="suspendedYield",w="executing",T="completed",x={};function E(){}function O(){}function C(){}var N={};N[u]=function(){return this};var $=Object.getPrototypeOf,M=$&&$($(z([])));M&&M!==r&&i.call(M,u)&&(N=M);var L=C.prototype=E.prototype=Object.create(N);O.prototype=L.constructor=C,C.constructor=O,O.displayName=h(C,c,"GeneratorFunction");function V(B){["next","throw","return"].forEach(function(U){h(B,U,function(k){return this._invoke(U,k)})})}t.isGeneratorFunction=function(B){var U=typeof B=="function"&&B.constructor;return U?U===O||(U.displayName||U.name)==="GeneratorFunction":!1},t.mark=function(B){return Object.setPrototypeOf?Object.setPrototypeOf(B,C):(B.__proto__=C,h(B,c,"GeneratorFunction")),B.prototype=Object.create(L),B},t.awrap=function(B){return{__await:B}};function Z(B,U){function k(le,ee,J,de){var se=p(B[le],B,ee);if(se.type==="throw")de(se.arg);else{var ue=se.arg,oe=ue.value;return oe&&typeof oe=="object"&&i.call(oe,"__await")?U.resolve(oe.__await).then(function(W){k("next",W,J,de)},function(W){k("throw",W,J,de)}):U.resolve(oe).then(function(W){ue.value=W,J(ue)},function(W){return k("throw",W,J,de)})}}var G;function ne(le,ee){function J(){return new U(function(de,se){k(le,ee,de,se)})}return G=G?G.then(J,J):J()}this._invoke=ne}V(Z.prototype),Z.prototype[l]=function(){return this},t.AsyncIterator=Z,t.async=function(B,U,k,G,ne){ne===void 0&&(ne=Promise);var le=new Z(d(B,U,k,G),ne);return t.isGeneratorFunction(U)?le:le.next().then(function(ee){return ee.done?ee.value:le.next()})};function H(B,U,k){var G=v;return function(le,ee){if(G===w)throw new Error("Generator is already running");if(G===T){if(le==="throw")throw ee;return j()}for(k.method=le,k.arg=ee;;){var J=k.delegate;if(J){var de=D(J,k);if(de){if(de===x)continue;return de}}if(k.method==="next")k.sent=k._sent=k.arg;else if(k.method==="throw"){if(G===v)throw G=T,k.arg;k.dispatchException(k.arg)}else k.method==="return"&&k.abrupt("return",k.arg);G=w;var se=p(B,U,k);if(se.type==="normal"){if(G=k.done?T:S,se.arg===x)continue;return{value:se.arg,done:k.done}}else se.type==="throw"&&(G=T,k.method="throw",k.arg=se.arg)}}}function D(B,U){var k=B.iterator[U.method];if(k===s){if(U.delegate=null,U.method==="throw"){if(B.iterator.return&&(U.method="return",U.arg=s,D(B,U),U.method==="throw"))return x;U.method="throw",U.arg=new TypeError("The iterator does not provide a 'throw' method")}return x}var G=p(k,B.iterator,U.arg);if(G.type==="throw")return U.method="throw",U.arg=G.arg,U.delegate=null,x;var ne=G.arg;if(!ne)return U.method="throw",U.arg=new TypeError("iterator result is not an object"),U.delegate=null,x;if(ne.done)U[B.resultName]=ne.value,U.next=B.nextLoc,U.method!=="return"&&(U.method="next",U.arg=s);else return ne;return U.delegate=null,x}V(L),h(L,c,"Generator"),L[u]=function(){return this},L.toString=function(){return"[object Generator]"};function R(B){var U={tryLoc:B[0]};1 in B&&(U.catchLoc=B[1]),2 in B&&(U.finallyLoc=B[2],U.afterLoc=B[3]),this.tryEntries.push(U)}function P(B){var U=B.completion||{};U.type="normal",delete U.arg,B.completion=U}function F(B){this.tryEntries=[{tryLoc:"root"}],B.forEach(R,this),this.reset(!0)}t.keys=function(B){var U=[];for(var k in B)U.push(k);return U.reverse(),function G(){for(;U.length;){var ne=U.pop();if(ne in B)return G.value=ne,G.done=!1,G}return G.done=!0,G}};function z(B){if(B){var U=B[u];if(U)return U.call(B);if(typeof B.next=="function")return B;if(!isNaN(B.length)){var k=-1,G=function ne(){for(;++k<B.length;)if(i.call(B,k))return ne.value=B[k],ne.done=!1,ne;return ne.value=s,ne.done=!0,ne};return G.next=G}}return{next:j}}t.values=z;function j(){return{value:s,done:!0}}return F.prototype={constructor:F,reset:function(B){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(P),!B)for(var U in this)U.charAt(0)==="t"&&i.call(this,U)&&!isNaN(+U.slice(1))&&(this[U]=s)},stop:function(){this.done=!0;var B=this.tryEntries[0],U=B.completion;if(U.type==="throw")throw U.arg;return this.rval},dispatchException:function(B){if(this.done)throw B;var U=this;function k(de,se){return le.type="throw",le.arg=B,U.next=de,se&&(U.method="next",U.arg=s),!!se}for(var G=this.tryEntries.length-1;G>=0;--G){var ne=this.tryEntries[G],le=ne.completion;if(ne.tryLoc==="root")return k("end");if(ne.tryLoc<=this.prev){var ee=i.call(ne,"catchLoc"),J=i.call(ne,"finallyLoc");if(ee&&J){if(this.prev<ne.catchLoc)return k(ne.catchLoc,!0);if(this.prev<ne.finallyLoc)return k(ne.finallyLoc)}else if(ee){if(this.prev<ne.catchLoc)return k(ne.catchLoc,!0)}else if(J){if(this.prev<ne.finallyLoc)return k(ne.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(B,U){for(var k=this.tryEntries.length-1;k>=0;--k){var G=this.tryEntries[k];if(G.tryLoc<=this.prev&&i.call(G,"finallyLoc")&&this.prev<G.finallyLoc){var ne=G;break}}ne&&(B==="break"||B==="continue")&&ne.tryLoc<=U&&U<=ne.finallyLoc&&(ne=null);var le=ne?ne.completion:{};return le.type=B,le.arg=U,ne?(this.method="next",this.next=ne.finallyLoc,x):this.complete(le)},complete:function(B,U){if(B.type==="throw")throw B.arg;return B.type==="break"||B.type==="continue"?this.next=B.arg:B.type==="return"?(this.rval=this.arg=B.arg,this.method="return",this.next="end"):B.type==="normal"&&U&&(this.next=U),x},finish:function(B){for(var U=this.tryEntries.length-1;U>=0;--U){var k=this.tryEntries[U];if(k.finallyLoc===B)return this.complete(k.completion,k.afterLoc),P(k),x}},catch:function(B){for(var U=this.tryEntries.length-1;U>=0;--U){var k=this.tryEntries[U];if(k.tryLoc===B){var G=k.completion;if(G.type==="throw"){var ne=G.arg;P(k)}return ne}}throw new Error("illegal catch attempt")},delegateYield:function(B,U,k){return this.delegate={iterator:z(B),resultName:U,nextLoc:k},this.method==="next"&&(this.arg=s),x}},t}(n.exports);try{regeneratorRuntime=e}catch{Function("r","regeneratorRuntime = r")(e)}}),mh,ys;(function(n){n[n.PARSE_ERROR=-32700]="PARSE_ERROR",n[n.INVALID_REQUEST=-32600]="INVALID_REQUEST",n[n.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",n[n.INVALID_PARAMS=-32602]="INVALID_PARAMS",n[n.INTERNAL_ERROR=-32603]="INTERNAL_ERROR"})(ys||(ys={}));var p4=(mh={},mh[ys.PARSE_ERROR]="Parse error",mh[ys.INVALID_REQUEST]="Invalid request",mh[ys.METHOD_NOT_FOUND]="Method not found",mh[ys.INVALID_PARAMS]="Invalid params",mh[ys.INTERNAL_ERROR]="Internal error",mh);function j9(n){return-32e3>=n&&n>=-32099}function Bw(n){var e;return(e=p4[n.toString()])!=null?e:j9(n)?"Server error":"Application error"}var zw=function(n){Ive(e,n);function e(r,i,s){var o;return o=n.call(this)||this,Object.setPrototypeOf(Ove(o),e.prototype),o.code=r,o.data=s,o.message=i!=null?i:Bw(r),o}e.fromObject=function(i){return new e(i.code,i.message,i.data)};var t=e.prototype;return t.toObject=function(){return{code:this.code,data:this.data,message:this.message}},e}(d4(Error));function n1(n){var e=p4[n];return function(r){return new zw(n,e,r)}}var q9=n1(ys.PARSE_ERROR),Uve=n1(ys.INVALID_REQUEST),Bve=n1(ys.METHOD_NOT_FOUND),zve=n1(ys.INVALID_PARAMS),$ve=n1(ys.INTERNAL_ERROR),Gve=function(){function n(t){this.connection=t}var e=n.prototype;return e.createID=function(){return kve()},e.request=function(){var t=W9(Uw.mark(function i(s,o){var u;return Uw.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return o===void 0&&(o=void 0),c.next=3,this.connection.send({jsonrpc:"2.0",id:this.createID(),method:s,params:o});case 3:if(u=c.sent,u!=null){c.next=6;break}throw new Error("Missing response");case 6:if(u.error==null){c.next=8;break}throw zw.fromObject(u.error);case 8:return c.abrupt("return",u.result);case 9:case"end":return c.stop()}},i,this)}));function r(i,s){return t.apply(this,arguments)}return r}(),n}();function Hve(n){try{return JSON.parse(n)}catch{throw q9()}}function m4(n,e){return{jsonrpc:"2.0",id:n,error:{code:e,message:Bw(e)}}}function Vve(n,e,t){console.warn("Unhandled handler error",e,t)}function Wve(n,e){console.warn("Unhandled invalid message",e)}function jve(n,e){console.warn("Unhandled notification",e)}function qve(n,e){var t,r,i;e===void 0&&(e={});var s=(t=e.onHandlerError)!=null?t:Vve,o=(r=e.onInvalidMessage)!=null?r:Wve,u=(i=e.onNotification)!=null?i:jve;return function(){var l=W9(Uw.mark(function h(d,p){var v,S,w,T,x,E,O;return Uw.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(v=p.id,!(p.jsonrpc!=="2.0"||p.method==null)){N.next=6;break}if(v!=null){N.next=5;break}return o(d,p),N.abrupt("return",null);case 5:return N.abrupt("return",m4(v,ys.INVALID_REQUEST));case 6:if(v!=null){N.next=9;break}return u(d,p),N.abrupt("return",null);case 9:if(S=n[p.method],S!=null){N.next=12;break}return N.abrupt("return",m4(v,ys.METHOD_NOT_FOUND));case 12:if(N.prev=12,w=S(d,p.params),w!=null){N.next=18;break}N.t0=w,N.next=26;break;case 18:if(typeof w.then!="function"){N.next=24;break}return N.next=21,w;case 21:N.t1=N.sent,N.next=25;break;case 24:N.t1=w;case 25:N.t0=N.t1;case 26:return T=N.t0,N.abrupt("return",{jsonrpc:"2.0",id:v,result:T});case 30:return N.prev=30,N.t2=N.catch(12),N.t2 instanceof zw?x=N.t2.toObject():(s(d,p,N.t2),O=(E=N.t2.code)!=null?E:-32e3,x={code:O,message:N.t2.message||Bw(O)}),N.abrupt("return",{jsonrpc:"2.0",id:v,error:x});case 34:case"end":return N.stop()}},h,null,[[12,30]])}));function c(h,d){return l.apply(this,arguments)}return c}()}var Xve=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",get ERROR_CODE(){return ys},ERROR_MESSAGE:p4,RPCClient:Gve,RPCError:zw,createErrorResponse:m4,createHandler:qve,createInternalError:$ve,createInvalidParams:zve,createInvalidRequest:Uve,createMethodNotFound:Bve,createParseError:q9,getErrorMessage:Bw,isServerError:j9,parseJSON:Hve}),Yve=yr(Xve),vi={},Jve=$e&&$e.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Kve=$e&&$e.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),Zve=$e&&$e.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&Jve(e,n,t);return Kve(e,n),e};Object.defineProperty(vi,"__esModule",{value:!0});vi.extractControllers=vi.didWithTime=vi.fromDagJWS=vi.randomString=vi.base64urlToJSON=vi.decodeBase64=vi.encodeBase64Url=vi.encodeBase64=void 0;const S0=Zve(ss),Qve=Ac,X9="base64pad",Y9="base64url";function ege(n){return S0.toString(n,X9)}vi.encodeBase64=ege;function tge(n){return S0.toString(n,Y9)}vi.encodeBase64Url=tge;function nge(n){return S0.fromString(n,X9)}vi.decodeBase64=nge;function rge(n){return JSON.parse(S0.toString(S0.fromString(n,Y9)))}vi.base64urlToJSON=rge;function ige(){return S0.toString(Qve.randomBytes(16),"base64")}vi.randomString=ige;function sge(n){if(n.signatures.length>1)throw new Error("Cant convert to compact jws");return`${n.signatures[0].protected}.${n.payload}.${n.signatures[0].signature}`}vi.fromDagJWS=sge;function oge(n,e){if(e){const t=new Date(e).toISOString().split(".")[0]+"Z";return`${n}?versionTime=${t}`}else return n}vi.didWithTime=oge;function age(n){return n?Array.isArray(n)?n:[n]:[]}vi.extractControllers=age;var fl=$e&&$e.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function u(h){try{c(r.next(h))}catch(d){o(d)}}function l(h){try{c(r.throw(h))}catch(d){o(d)}}function c(h){h.done?s(h.value):i(h.value).then(u,l)}c((r=r.apply(n,e||[])).next())})};Object.defineProperty(F_,"__esModule",{value:!0});F_.DID=void 0;const uge=Hae,v4=ode,g4=$o,J9=Yve,Du=vi;function lge(n){return"registry"in n&&"cache"in n}class cge{constructor({provider:e,resolver:t={},resolverOptions:r}={}){e!=null&&(this._client=new J9.RPCClient(e)),this.setResolver(t,r)}get authenticated(){return this._id!=null}get id(){if(this._id==null)throw new Error("DID is not authenticated");return this._id}setProvider(e){if(this._client==null)this._client=new J9.RPCClient(e);else if(this._client.connection!==e)throw new Error("A different provider is already set, create a new DID instance to use another provider")}setResolver(e,t){this._resolver=lge(e)?e:new uge.Resolver(e,t)}authenticate({provider:e,paths:t=[],aud:r}={}){return fl(this,void 0,void 0,function*(){if(e!=null&&this.setProvider(e),this._client==null)throw new Error("No provider available");const i=Du.randomString(),s=yield this._client.request("did_authenticate",{nonce:i,aud:r,paths:t}),{kid:o}=yield this.verifyJWS(s),u=Du.base64urlToJSON(s.payload);if(!o.includes(u.did))throw new Error("Invalid authencation response, kid mismatch");if(u.nonce!==i)throw new Error("Invalid authencation response, wrong nonce");if(u.aud!==r)throw new Error("Invalid authencation response, wrong aud");if(u.exp<Date.now()/1e3)throw new Error("Invalid authencation response, expired");return this._id=u.did,this._id})}createJWS(e,t={}){return fl(this,void 0,void 0,function*(){if(this._client==null)throw new Error("No provider available");if(this._id==null)throw new Error("DID is not authenticated");const{jws:r}=yield this._client.request("did_createJWS",Object.assign(Object.assign({did:this._id},t),{payload:e}));return r})}createDagJWS(e,t={}){return fl(this,void 0,void 0,function*(){const{cid:r,linkedBlock:i}=yield g4.encodePayload(e),s=Du.encodeBase64Url(r.bytes);Object.assign(t,{linkedBlock:Du.encodeBase64(i)});const o=yield this.createJWS(s,t);return o.link=r,{jws:o,linkedBlock:i}})}verifyJWS(e,t={}){var r,i,s,o,u;return fl(this,void 0,void 0,function*(){typeof e!="string"&&(e=Du.fromDagJWS(e));const l=Du.base64urlToJSON(e.split(".")[0]).kid;if(!l)throw new Error('No "kid" found in jws');const c=yield this.resolve(l);if(!t.disableTimecheck){const S=(r=c.didDocumentMetadata)===null||r===void 0?void 0:r.nextUpdate;if(S&&!(t.atTime&&t.atTime<new Date(S).valueOf()))throw new Error(`invalid_jws: signature authored with a revoked DID version: ${l}`);const w=(i=c.didDocumentMetadata)===null||i===void 0?void 0:i.updated;if(w&&t.atTime&&t.atTime<new Date(w).valueOf())throw new Error(`invalid_jws: signature authored before creation of DID version: ${l}`)}const d=(s=c.didDocument)===null||s===void 0?void 0:s.id;if(t.issuer&&t.issuer!==d){const S=Du.didWithTime(t.issuer,t.atTime),T=(o=(yield this.resolve(S)).didDocument)===null||o===void 0?void 0:o.controller,x=Du.extractControllers(T);if(!(d?x.includes(d):!1))throw new Error(`invalid_jws: not a valid verificationMethod for issuer: ${l}`)}const p=((u=c.didDocument)===null||u===void 0?void 0:u.verificationMethod)||[];v4.verifyJWS(e,p);let v;try{v=Du.base64urlToJSON(e.split(".")[1])}catch{}return{kid:l,payload:v,didResolutionResult:c}})}createJWE(e,t,r={}){return fl(this,void 0,void 0,function*(){const i=yield v4.resolveX25519Encrypters(t,this._resolver);return v4.createJWE(e,i,r.protectedHeader,r.aad)})}createDagJWE(e,t,r={}){return fl(this,void 0,void 0,function*(){return this.createJWE(g4.prepareCleartext(e),t,r)})}decryptJWE(e,t={}){return fl(this,void 0,void 0,function*(){if(this._client==null)throw new Error("No provider available");if(this._id==null)throw new Error("DID is not authenticated");const{cleartext:r}=yield this._client.request("did_decryptJWE",Object.assign(Object.assign({did:this._id},t),{jwe:e}));return Du.decodeBase64(r)})}decryptDagJWE(e){return fl(this,void 0,void 0,function*(){const t=yield this.decryptJWE(e);return g4.decodeCleartext(t)})}resolve(e){return fl(this,void 0,void 0,function*(){const t=yield this._resolver.resolve(e);if(t.didResolutionMetadata.error){const{error:r,message:i}=t.didResolutionMetadata,s=i?`, ${i}`:"";throw new Error(`Failed to resolve ${e}: ${r}${s}`)}return t})}}F_.DID=cge;(function(n){var e=$e&&$e.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),t=$e&&$e.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(n,"__esModule",{value:!0}),t(pB,n),t(F_,n)})(Rae);var fge={},Lc={},Au={},vh={},gh={};Object.defineProperty(gh,"__esModule",{value:!0});gh.DEFAULT_BASE=gh.STREAMID_CODEC=void 0;gh.STREAMID_CODEC=206;gh.DEFAULT_BASE="base36";var yh={},K9=$e&&$e.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(yh,"__esModule",{value:!0});yh.readCid=yh.readVarint=void 0;const hge=K9(Ic),Z9=K9(hh);function r1(n){const e=Z9.default.decode(n),t=Z9.default.decode.bytes,r=n.slice(t);return[e,r,t]}yh.readVarint=r1;function dge(n){return n===0||n===1}function pge(n){const[e,t]=r1(n);if(!dge(e))throw new Error(`Unknown CID version ${e}`);const[r,i]=r1(t),[,s,o]=r1(i),[u,,l]=r1(s),c=i.slice(0,o+l+u),h=i.slice(o+l+u);return[new hge.default(e,r,c),h]}yh.readCid=pge;function mge(n){return(e,t,r)=>{if(r.value!=null)r.value=$w(r.value,n);else if(r.get!=null)r.get=$w(r.get,n);else throw"Only put a Memoize() decorator on a method or get accessor."}}function vge(n,e){return(t,r,i)=>{if(i.value!=null)i.value=$w(i.value,e,n);else if(i.get!=null)i.get=$w(i.get,e,n);else throw"Only put a Memoize() decorator on a method or get accessor."}}let gge=0;function $w(n,e,t=0){const r=++gge;return function(...i){const s=`__memoized_value_${r}`,o=`__memoized_map_${r}`;let u;if(e||i.length>0||t>0){this.hasOwnProperty(o)||Object.defineProperty(this,o,{configurable:!1,enumerable:!1,writable:!1,value:new Map});let l=this[o],c;e===!0?c=i.map(p=>p.toString()).join("!"):e?c=e.apply(this,i):c=i[0];const h=`${c}__timestamp`;let d=!1;if(t>0)if(!l.has(h))d=!0;else{let p=l.get(h);d=Date.now()-p>t}l.has(c)&&!d?u=l.get(c):(u=n.apply(this,i),l.set(c,u),t>0&&l.set(h,Date.now()))}else this.hasOwnProperty(s)?u=this[s]:(u=n.apply(this,i),Object.defineProperty(this,s,{configurable:!1,enumerable:!1,writable:!1,value:u}));return u}}var yge=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Memoize:mge,MemoizeExpiring:vge}),Q9=yr(yge),E0={},M0={};Object.defineProperty(M0,"__esModule",{value:!0});M0.StreamType=void 0;const e$={tile:0,"caip10-link":1};function xge(n){const e=e$[n];if(typeof e!="undefined")return e;throw new Error(`No stream type registered for name ${n}`)}function _ge(n){const e=Object.entries(e$).find(([,t])=>t===n);if(e)return e[0];throw new Error(`No stream type registered for index ${n}`)}class y4{}M0.StreamType=y4;y4.nameByCode=_ge;y4.codeByName=xge;var D0=$e&&$e.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var u=n.length-1;u>=0;u--)(o=n[u])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Bs=$e&&$e.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},x4=$e&&$e.__classPrivateFieldSet||function(n,e,t,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,t):i?i.value=t:e.set(n,t),t},Ma=$e&&$e.__classPrivateFieldGet||function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},i1=$e&&$e.__importDefault||function(n){return n&&n.__esModule?n:{default:n}},xh,Fc,s1;Object.defineProperty(E0,"__esModule",{value:!0});E0.CommitID=void 0;const _4=i1(Ic),t$=i1(dh.exports),n$=M0,r$=i1(hh),wge=i1(Iw),bge=i1(c4),A0=Q9,w4=gh,Gw=yh,b4=vh;function i$(n){const[e,t]=Gw.readVarint(n);if(e!==w4.STREAMID_CODEC)throw new Error("fromBytes: invalid streamid, does not include streamid codec");const[r,i]=Gw.readVarint(t),[s,o]=Gw.readCid(i);if(o.length===0)throw new Error("No commit information provided");if(o.length===1)return new ho(r,s,o[0]);{const[u]=Gw.readCid(o);return new ho(r,s,u)}}function Sge(n){try{return new _4.default(n)}catch{return}}function Ege(n,e=null){if(!e)return null;const t=Sge(e);if(t)return n.equals(t)?null:t;if(String(e)==="0")return null;throw new Error("Cannot specify commit as a number except to request commit 0 (the genesis commit)")}function Mge(n){const e=n.replace("ceramic://","").replace("/ceramic/","");if(e.includes("commit")){const t=e.split("?")[1].split("=")[1],r=e.split("?")[0];return b4.StreamID.fromString(r).atCommit(t)}else return i$(t$.default.decode(e))}const s$=Symbol.for("@ceramicnetwork/streamid/CommitID");class ho{constructor(e,t,r=null){if(this._tag=s$,xh.set(this,void 0),Fc.set(this,void 0),s1.set(this,void 0),!e&&e!==0)throw new Error("constructor: type required");if(!t)throw new Error("constructor: cid required");x4(this,xh,typeof e=="string"?n$.StreamType.codeByName(e):e,"f"),x4(this,Fc,typeof t=="string"?new _4.default(t):t,"f"),x4(this,s1,Ege(Ma(this,Fc,"f"),r),"f")}static isInstance(e){return typeof e=="object"&&"_tag"in e&&e._tag===s$}get baseID(){return new b4.StreamID(Ma(this,xh,"f"),Ma(this,Fc,"f"))}get type(){return Ma(this,xh,"f")}get typeName(){return n$.StreamType.nameByCode(Ma(this,xh,"f"))}get cid(){return Ma(this,Fc,"f")}get commit(){return Ma(this,s1,"f")||Ma(this,Fc,"f")}get bytes(){var e;const t=r$.default.encode(w4.STREAMID_CODEC),r=r$.default.encode(this.type),i=((e=Ma(this,s1,"f"))===null||e===void 0?void 0:e.bytes)||new Uint8Array([0]);return wge.default([t,r,this.cid.bytes,i])}atCommit(e){return new ho(Ma(this,xh,"f"),Ma(this,Fc,"f"),e)}equals(e){return this.type===e.type&&this.cid.equals(e.cid)&&this.commit.equals(e.commit)}toString(){return bge.default(t$.default.encode(w4.DEFAULT_BASE,this.bytes))}toUrl(){return`ceramic://${this.toString()}`}[(xh=new WeakMap,Fc=new WeakMap,s1=new WeakMap,Symbol.for("nodejs.util.inspect.custom"))](){return`CommitID(${this.toString()})`}[Symbol.toPrimitive](){return this.toString()}}ho.fromBytes=i$;ho.fromString=Mge;D0([A0.Memoize(),Bs("design:type",b4.StreamID),Bs("design:paramtypes",[])],ho.prototype,"baseID",null);D0([A0.Memoize(),Bs("design:type",String),Bs("design:paramtypes",[])],ho.prototype,"typeName",null);D0([A0.Memoize(),Bs("design:type",_4.default),Bs("design:paramtypes",[])],ho.prototype,"commit",null);D0([A0.Memoize(),Bs("design:type",Uint8Array),Bs("design:paramtypes",[])],ho.prototype,"bytes",null);D0([A0.Memoize(),Bs("design:type",Function),Bs("design:paramtypes",[]),Bs("design:returntype",String)],ho.prototype,"toString",null);D0([A0.Memoize(),Bs("design:type",Function),Bs("design:paramtypes",[]),Bs("design:returntype",String)],ho.prototype,"toUrl",null);E0.CommitID=ho;var o1=$e&&$e.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var u=n.length-1;u>=0;u--)(o=n[u])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},qo=$e&&$e.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},o$=$e&&$e.__classPrivateFieldSet||function(n,e,t,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,t):i?i.value=t:e.set(n,t),t},_h=$e&&$e.__classPrivateFieldGet||function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},T0=$e&&$e.__importDefault||function(n){return n&&n.__esModule?n:{default:n}},wh,C0;Object.defineProperty(vh,"__esModule",{value:!0});vh.StreamID=void 0;const Dge=T0(Ic),a$=T0(dh.exports),u$=T0(hh),l$=T0(AT),Age=T0(Iw),Tge=T0(c4),S4=gh,E4=yh,a1=Q9,Cge=E0,c$=M0;function f$(n){const[e,t]=E4.readVarint(n);if(e!==S4.STREAMID_CODEC)throw new Error("fromBytes: invalid streamid, does not include streamid codec");const[r,i]=E4.readVarint(t),[s,o]=E4.readCid(i);if(o.length>0)throw new Error("Invalid StreamID: contains commit");return new zs(r,s)}function Pge(n){const e=n.replace("ceramic://","").replace("/ceramic/",""),t=e.includes("commit")?e.split("?")[0]:e,r=a$.default.decode(t);return f$(r)}const h$=Symbol.for("@ceramicnetwork/streamid/StreamID");class zs{constructor(e,t){if(this._tag=h$,wh.set(this,void 0),C0.set(this,void 0),!(e||e===0))throw new Error("constructor: type required");if(!t)throw new Error("constructor: cid required");o$(this,wh,typeof e=="string"?c$.StreamType.codeByName(e):e,"f"),o$(this,C0,typeof t=="string"?new Dge.default(t):t,"f")}static isInstance(e){return typeof e=="object"&&"_tag"in e&&e._tag===h$}static async fromGenesis(e,t){const r=await l$.default.util.cid(new Uint8Array(l$.default.util.serialize(t)));return new zs(e,r)}get type(){return _h(this,wh,"f")}get typeName(){return c$.StreamType.nameByCode(_h(this,wh,"f"))}get cid(){return _h(this,C0,"f")}get bytes(){const e=u$.default.encode(S4.STREAMID_CODEC),t=u$.default.encode(this.type);return Age.default([e,t,this.cid.bytes])}get baseID(){return new zs(_h(this,wh,"f"),_h(this,C0,"f"))}atCommit(e){return new Cge.CommitID(_h(this,wh,"f"),_h(this,C0,"f"),e)}equals(e){return zs.isInstance(e)?this.type===e.type&&this.cid.equals(e.cid):!1}toString(){return Tge.default(a$.default.encode(S4.DEFAULT_BASE,this.bytes))}toUrl(){return`ceramic://${this.toString()}`}[(wh=new WeakMap,C0=new WeakMap,Symbol.for("nodejs.util.inspect.custom"))](){return`StreamID(${this.toString()})`}[Symbol.toPrimitive](){return this.toString()}}zs.fromBytes=f$;zs.fromString=Pge;o1([a1.Memoize(),qo("design:type",String),qo("design:paramtypes",[])],zs.prototype,"typeName",null);o1([a1.Memoize(),qo("design:type",Uint8Array),qo("design:paramtypes",[])],zs.prototype,"bytes",null);o1([a1.Memoize(),qo("design:type",zs),qo("design:paramtypes",[])],zs.prototype,"baseID",null);o1([a1.Memoize(),qo("design:type",Function),qo("design:paramtypes",[]),qo("design:returntype",String)],zs.prototype,"toString",null);o1([a1.Memoize(),qo("design:type",Function),qo("design:paramtypes",[]),qo("design:returntype",String)],zs.prototype,"toUrl",null);vh.StreamID=zs;var d$={};(function(n){var e=$e&&$e.__createBinding||(Object.create?function(c,h,d,p){p===void 0&&(p=d),Object.defineProperty(c,p,{enumerable:!0,get:function(){return h[d]}})}:function(c,h,d,p){p===void 0&&(p=d),c[p]=h[d]}),t=$e&&$e.__setModuleDefault||(Object.create?function(c,h){Object.defineProperty(c,"default",{enumerable:!0,value:h})}:function(c,h){c.default=h}),r=$e&&$e.__importStar||function(c){if(c&&c.__esModule)return c;var h={};if(c!=null)for(var d in c)d!=="default"&&Object.prototype.hasOwnProperty.call(c,d)&&e(h,c,d);return t(h,c),h};Object.defineProperty(n,"__esModule",{value:!0}),n.StreamRef=void 0;const i=vh,s=E0,o=r(ss);function u(c){try{return c()}catch{return null}}function l(c){throw new Error(c)}(function(c){function h(d){if(i.StreamID.isInstance(d))return d;if(s.CommitID.isInstance(d))return d;if(d instanceof Uint8Array)return u(()=>s.CommitID.fromBytes(d))||u(()=>i.StreamID.fromBytes(d))||l(`Can not build CommitID or StreamID from bytes ${o.toString(d,"base36")}`);if(typeof d=="string")return u(()=>s.CommitID.fromString(d))||u(()=>i.StreamID.fromString(d))||l(`Can not build CommitID or StreamID from string ${d}`);throw new Error("Can not build CommitID or StreamID")}c.from=h})(n.StreamRef||(n.StreamRef={}))})(d$);(function(n){var e=$e&&$e.__createBinding||(Object.create?function(u,l,c,h){h===void 0&&(h=c),Object.defineProperty(u,h,{enumerable:!0,get:function(){return l[c]}})}:function(u,l,c,h){h===void 0&&(h=c),u[h]=l[c]}),t=$e&&$e.__exportStar||function(u,l){for(var c in u)c!=="default"&&!Object.prototype.hasOwnProperty.call(l,c)&&e(l,u,c)};Object.defineProperty(n,"__esModule",{value:!0}),n.StreamRef=n.StreamID=n.CommitID=void 0;const r=vh;var i=E0;Object.defineProperty(n,"CommitID",{enumerable:!0,get:function(){return i.CommitID}});var s=vh;Object.defineProperty(n,"StreamID",{enumerable:!0,get:function(){return s.StreamID}});var o=d$;Object.defineProperty(n,"StreamRef",{enumerable:!0,get:function(){return o.StreamRef}}),t(M0,n),n.default=r.StreamID})(Au);var Rge=$e&&$e.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Lc,"__esModule",{value:!0});Lc.delay=Lc.combineURLs=Lc.typeStreamID=void 0;const kge=Rge(Au);function Ige(n){return typeof n=="string"?kge.default.fromString(n):n}Lc.typeStreamID=Ige;function Lge(n,e){return e?n.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):n}Lc.combineURLs=Lge;async function Fge(n){await new Promise(e=>setTimeout(()=>e(),n))}Lc.delay=Fge;var Hw={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var M4=function(n,e){return M4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},M4(n,e)};function Fr(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");M4(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function Oge(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function u(h){try{c(r.next(h))}catch(d){o(d)}}function l(h){try{c(r.throw(h))}catch(d){o(d)}}function c(h){h.done?s(h.value):i(h.value).then(u,l)}c((r=r.apply(n,e||[])).next())})}function D4(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(c){return function(h){return l([c,h])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(h){c=[6,h],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function $s(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $n(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(u){o={error:u}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return s}function Gn(n,e){for(var t=0,r=e.length,i=n.length;t<r;t++,i++)n[i]=e[t];return n}function P0(n){return this instanceof P0?(this.v=n,this):new P0(n)}function Nge(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(p){r[p]&&(i[p]=function(v){return new Promise(function(S,w){s.push([p,v,S,w])>1||u(p,v)})})}function u(p,v){try{l(r[p](v))}catch(S){d(s[0][3],S)}}function l(p){p.value instanceof P0?Promise.resolve(p.value.v).then(c,h):d(s[0][2],p)}function c(p){u("next",p)}function h(p){u("throw",p)}function d(p,v){p(v),s.shift(),s.length&&u(s[0][0],s[0][1])}}function Uge(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof $s=="function"?$s(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(u,l){o=n[s](o),i(u,l,o.done,o.value)})}}function i(s,o,u,l){Promise.resolve(l).then(function(c){s({value:c,done:u})},o)}}function mn(n){return typeof n=="function"}function bh(n){var e=function(r){Error.call(r),r.stack=new Error().stack},t=n(e);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Vw=bh(function(n){return function(t){n(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function hl(n,e){if(n){var t=n.indexOf(e);0<=t&&n.splice(t,1)}}var xs=function(){function n(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}return n.prototype.unsubscribe=function(){var e,t,r,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var u=$s(o),l=u.next();!l.done;l=u.next()){var c=l.value;c.remove(this)}}catch(w){e={error:w}}finally{try{l&&!l.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}else o.remove(this);var h=this.initialTeardown;if(mn(h))try{h()}catch(w){s=w instanceof Vw?w.errors:[w]}var d=this._teardowns;if(d){this._teardowns=null;try{for(var p=$s(d),v=p.next();!v.done;v=p.next()){var S=v.value;try{v$(S)}catch(w){s=s!=null?s:[],w instanceof Vw?s=Gn(Gn([],$n(s)),$n(w.errors)):s.push(w)}}}catch(w){r={error:w}}finally{try{v&&!v.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}}if(s)throw new Vw(s)}},n.prototype.add=function(e){var t;if(e&&e!==this)if(this.closed)v$(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=(t=this._teardowns)!==null&&t!==void 0?t:[]).push(e)}},n.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},n.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},n.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&hl(t,e)},n.prototype.remove=function(e){var t=this._teardowns;t&&hl(t,e),e instanceof n&&e._removeParent(this)},n.EMPTY=function(){var e=new n;return e.closed=!0,e}(),n}(),p$=xs.EMPTY;function m$(n){return n instanceof xs||n&&"closed"in n&&mn(n.remove)&&mn(n.add)&&mn(n.unsubscribe)}function v$(n){mn(n)?n():n.unsubscribe()}var Oc={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ww={setTimeout:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=Ww.delegate;return((t==null?void 0:t.setTimeout)||setTimeout).apply(void 0,Gn([],$n(n)))},clearTimeout:function(n){var e=Ww.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function g$(n){Ww.setTimeout(function(){var e=Oc.onUnhandledError;if(e)e(n);else throw n})}function Er(){}var Bge=function(){return A4("C",void 0,void 0)}();function zge(n){return A4("E",void 0,n)}function $ge(n){return A4("N",n,void 0)}function A4(n,e,t){return{kind:n,value:e,error:t}}var Sh=null;function jw(n){if(Oc.useDeprecatedSynchronousErrorHandling){var e=!Sh;if(e&&(Sh={errorThrown:!1,error:null}),n(),e){var t=Sh,r=t.errorThrown,i=t.error;if(Sh=null,r)throw i}}else n()}function Gge(n){Oc.useDeprecatedSynchronousErrorHandling&&Sh&&(Sh.errorThrown=!0,Sh.error=n)}var qw=function(n){Fr(e,n);function e(t){var r=n.call(this)||this;return r.isStopped=!1,t?(r.destination=t,m$(t)&&t.add(r)):r.destination=Hge,r}return e.create=function(t,r,i){return new Xw(t,r,i)},e.prototype.next=function(t){this.isStopped?C4($ge(t),this):this._next(t)},e.prototype.error=function(t){this.isStopped?C4(zge(t),this):(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped?C4(Bge,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,n.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(xs),Xw=function(n){Fr(e,n);function e(t,r,i){var s=n.call(this)||this,o;if(mn(t))o=t;else if(t){o=t.next,r=t.error,i=t.complete;var u;s&&Oc.useDeprecatedNextContext?(u=Object.create(t),u.unsubscribe=function(){return s.unsubscribe()}):u=t,o=o==null?void 0:o.bind(u),r=r==null?void 0:r.bind(u),i=i==null?void 0:i.bind(u)}return s.destination={next:o?T4(o):Er,error:T4(r!=null?r:y$),complete:i?T4(i):Er},s}return e}(qw);function T4(n,e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{n.apply(void 0,Gn([],$n(t)))}catch(i){Oc.useDeprecatedSynchronousErrorHandling?Gge(i):g$(i)}}}function y$(n){throw n}function C4(n,e){var t=Oc.onStoppedNotification;t&&Ww.setTimeout(function(){return t(n,e)})}var Hge={closed:!0,next:Er,error:y$,complete:Er},Yw=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Ri(n){return n}function P4(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return x$(n)}function x$(n){return n.length===0?Ri:n.length===1?n[0]:function(t){return n.reduce(function(r,i){return i(r)},t)}}var Rn=function(){function n(e){e&&(this._subscribe=e)}return n.prototype.lift=function(e){var t=new n;return t.source=this,t.operator=e,t},n.prototype.subscribe=function(e,t,r){var i=this,s=Wge(e)?e:new Xw(e,t,r);return jw(function(){var o=i,u=o.operator,l=o.source;s.add(u?u.call(s,l):l?i._subscribe(s):i._trySubscribe(s))}),s},n.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},n.prototype.forEach=function(e,t){var r=this;return t=_$(t),new t(function(i,s){var o;o=r.subscribe(function(u){try{e(u)}catch(l){s(l),o==null||o.unsubscribe()}},s,i)})},n.prototype._subscribe=function(e){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(e)},n.prototype[Yw]=function(){return this},n.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return x$(e)(this)},n.prototype.toPromise=function(e){var t=this;return e=_$(e),new e(function(r,i){var s;t.subscribe(function(o){return s=o},function(o){return i(o)},function(){return r(s)})})},n.create=function(e){return new n(e)},n}();function _$(n){var e;return(e=n!=null?n:Oc.Promise)!==null&&e!==void 0?e:Promise}function Vge(n){return n&&mn(n.next)&&mn(n.error)&&mn(n.complete)}function Wge(n){return n&&n instanceof qw||Vge(n)&&m$(n)}function w$(n){return mn(n==null?void 0:n.lift)}function Ut(n){return function(e){if(w$(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}var St=function(n){Fr(e,n);function e(t,r,i,s,o){var u=n.call(this,t)||this;return u.onFinalize=o,u._next=r?function(l){try{r(l)}catch(c){t.error(c)}}:n.prototype._next,u._error=s?function(l){try{s(l)}catch(c){t.error(c)}finally{this.unsubscribe()}}:n.prototype._error,u._complete=i?function(){try{i()}catch(l){t.error(l)}finally{this.unsubscribe()}}:n.prototype._complete,u}return e.prototype.unsubscribe=function(){var t,r=this.closed;n.prototype.unsubscribe.call(this),!r&&((t=this.onFinalize)===null||t===void 0||t.call(this))},e}(qw);function R4(){return Ut(function(n,e){var t=null;n._refCount++;var r=new St(e,void 0,void 0,void 0,function(){if(!n||n._refCount<=0||0<--n._refCount){t=null;return}var i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Jw=function(n){Fr(e,n);function e(t,r){var i=n.call(this)||this;return i.source=t,i.subjectFactory=r,i._subject=null,i._refCount=0,i._connection=null,w$(t)&&(i.lift=t.lift),i}return e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype._teardown=function(){this._refCount=0;var t=this._connection;this._subject=this._connection=null,t==null||t.unsubscribe()},e.prototype.connect=function(){var t=this,r=this._connection;if(!r){r=this._connection=new xs;var i=this.getSubject();r.add(this.source.subscribe(new St(i,void 0,function(){t._teardown(),i.complete()},function(s){t._teardown(),i.error(s)},function(){return t._teardown()}))),r.closed&&(this._connection=null,r=xs.EMPTY)}return r},e.prototype.refCount=function(){return R4()(this)},e}(Rn),b$={now:function(){return(b$.delegate||performance).now()},delegate:void 0},R0={schedule:function(n){var e=requestAnimationFrame,t=cancelAnimationFrame,r=R0.delegate;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);var i=e(function(s){t=void 0,n(s)});return new xs(function(){return t==null?void 0:t(i)})},requestAnimationFrame:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=R0.delegate;return((t==null?void 0:t.requestAnimationFrame)||requestAnimationFrame).apply(void 0,Gn([],$n(n)))},cancelAnimationFrame:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=R0.delegate;return((t==null?void 0:t.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,Gn([],$n(n)))},delegate:void 0};function jge(n){return n?S$(n):qge}function S$(n){var e=R0.schedule;return new Rn(function(t){var r=new xs,i=n||b$,s=i.now(),o=function(u){var l=i.now();t.next({timestamp:n?l:u,elapsed:l-s}),t.closed||r.add(e(o))};return r.add(e(o)),r})}var qge=S$(),E$=bh(function(n){return function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Qr=function(n){Fr(e,n);function e(){var t=n.call(this)||this;return t.closed=!1,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return e.prototype.lift=function(t){var r=new M$(this,this);return r.operator=t,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new E$},e.prototype.next=function(t){var r=this;jw(function(){var i,s;if(r._throwIfClosed(),!r.isStopped){var o=r.observers.slice();try{for(var u=$s(o),l=u.next();!l.done;l=u.next()){var c=l.value;c.next(t)}}catch(h){i={error:h}}finally{try{l&&!l.done&&(s=u.return)&&s.call(u)}finally{if(i)throw i.error}}}})},e.prototype.error=function(t){var r=this;jw(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=t;for(var i=r.observers;i.length;)i.shift().error(t)}})},e.prototype.complete=function(){var t=this;jw(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var r=t.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(t){return this._throwIfClosed(),n.prototype._trySubscribe.call(this,t)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var r=this,i=r.hasError,s=r.isStopped,o=r.observers;return i||s?p$:(o.push(t),new xs(function(){return hl(o,t)}))},e.prototype._checkFinalizedStatuses=function(t){var r=this,i=r.hasError,s=r.thrownError,o=r.isStopped;i?t.error(s):o&&t.complete()},e.prototype.asObservable=function(){var t=new Rn;return t.source=this,t},e.create=function(t,r){return new M$(t,r)},e}(Rn),M$=function(n){Fr(e,n);function e(t,r){var i=n.call(this)||this;return i.destination=t,i.source=r,i}return e.prototype.next=function(t){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,t)},e.prototype.error=function(t){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,t)},e.prototype.complete=function(){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||r===void 0||r.call(t)},e.prototype._subscribe=function(t){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(t))!==null&&i!==void 0?i:p$},e}(Qr),D$=function(n){Fr(e,n);function e(t){var r=n.call(this)||this;return r._value=t,r}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(t){var r=n.prototype._subscribe.call(this,t);return!r.closed&&t.next(this._value),r},e.prototype.getValue=function(){var t=this,r=t.hasError,i=t.thrownError,s=t._value;if(r)throw i;return this._throwIfClosed(),s},e.prototype.next=function(t){n.prototype.next.call(this,this._value=t)},e}(Qr),Kw={now:function(){return(Kw.delegate||Date).now()},delegate:void 0},k4=function(n){Fr(e,n);function e(t,r,i){t===void 0&&(t=1/0),r===void 0&&(r=1/0),i===void 0&&(i=Kw);var s=n.call(this)||this;return s._bufferSize=t,s._windowTime=r,s._timestampProvider=i,s._buffer=[],s._infiniteTimeWindow=!0,s._infiniteTimeWindow=r===1/0,s._bufferSize=Math.max(1,t),s._windowTime=Math.max(1,r),s}return e.prototype.next=function(t){var r=this,i=r.isStopped,s=r._buffer,o=r._infiniteTimeWindow,u=r._timestampProvider,l=r._windowTime;i||(s.push(t),!o&&s.push(u.now()+l)),this._trimBuffer(),n.prototype.next.call(this,t)},e.prototype._subscribe=function(t){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(t),i=this,s=i._infiniteTimeWindow,o=i._buffer,u=o.slice(),l=0;l<u.length&&!t.closed;l+=s?1:2)t.next(u[l]);return this._checkFinalizedStatuses(t),r},e.prototype._trimBuffer=function(){var t=this,r=t._bufferSize,i=t._timestampProvider,s=t._buffer,o=t._infiniteTimeWindow,u=(o?1:2)*r;if(r<1/0&&u<s.length&&s.splice(0,s.length-u),!o){for(var l=i.now(),c=0,h=1;h<s.length&&s[h]<=l;h+=2)c=h;c&&s.splice(0,c+1)}},e}(Qr),I4=function(n){Fr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._value=null,t._hasValue=!1,t._isComplete=!1,t}return e.prototype._checkFinalizedStatuses=function(t){var r=this,i=r.hasError,s=r._hasValue,o=r._value,u=r.thrownError,l=r.isStopped,c=r._isComplete;i?t.error(u):(l||c)&&(s&&t.next(o),t.complete())},e.prototype.next=function(t){this.isStopped||(this._value=t,this._hasValue=!0)},e.prototype.complete=function(){var t=this,r=t._hasValue,i=t._value,s=t._isComplete;s||(this._isComplete=!0,r&&n.prototype.next.call(this,i),n.prototype.complete.call(this))},e}(Qr),Xge=function(n){Fr(e,n);function e(t,r){return n.call(this)||this}return e.prototype.schedule=function(t,r){return this},e}(xs),Zw={setInterval:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=Zw.delegate;return((t==null?void 0:t.setInterval)||setInterval).apply(void 0,Gn([],$n(n)))},clearInterval:function(n){var e=Zw.delegate;return((e==null?void 0:e.clearInterval)||clearInterval)(n)},delegate:void 0},u1=function(n){Fr(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.scheduler=t,i.work=r,i.pending=!1,i}return e.prototype.schedule=function(t,r){if(r===void 0&&(r=0),this.closed)return this;this.state=t;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,r)),this.pending=!0,this.delay=r,this.id=this.id||this.requestAsyncId(s,this.id,r),this},e.prototype.requestAsyncId=function(t,r,i){return i===void 0&&(i=0),Zw.setInterval(t.flush.bind(t,this),i)},e.prototype.recycleAsyncId=function(t,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;Zw.clearInterval(r)},e.prototype.execute=function(t,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(t,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,r){var i=!1,s;try{this.work(t)}catch(o){i=!0,s=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),s},e.prototype.unsubscribe=function(){if(!this.closed){var t=this,r=t.id,i=t.scheduler,s=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,hl(s,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,n.prototype.unsubscribe.call(this)}},e}(Xge),Yge=1,L4,F4={};function A$(n){return n in F4?(delete F4[n],!0):!1}var T$={setImmediate:function(n){var e=Yge++;return F4[e]=!0,L4||(L4=Promise.resolve()),L4.then(function(){return A$(e)&&n()}),e},clearImmediate:function(n){A$(n)}},Jge=T$.setImmediate,Kge=T$.clearImmediate,Qw={setImmediate:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=Qw.delegate;return((t==null?void 0:t.setImmediate)||Jge).apply(void 0,Gn([],$n(n)))},clearImmediate:function(n){var e=Qw.delegate;return((e==null?void 0:e.clearImmediate)||Kge)(n)},delegate:void 0},Zge=function(n){Fr(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.scheduler=t,i.work=r,i}return e.prototype.requestAsyncId=function(t,r,i){return i===void 0&&(i=0),i!==null&&i>0?n.prototype.requestAsyncId.call(this,t,r,i):(t.actions.push(this),t._scheduled||(t._scheduled=Qw.setImmediate(t.flush.bind(t,void 0))))},e.prototype.recycleAsyncId=function(t,r,i){if(i===void 0&&(i=0),i!=null&&i>0||i==null&&this.delay>0)return n.prototype.recycleAsyncId.call(this,t,r,i);t.actions.length===0&&(Qw.clearImmediate(r),t._scheduled=void 0)},e}(u1),O4=function(){function n(e,t){t===void 0&&(t=n.now),this.schedulerActionCtor=e,this.now=t}return n.prototype.schedule=function(e,t,r){return t===void 0&&(t=0),new this.schedulerActionCtor(this,e).schedule(r,t)},n.now=Kw.now,n}(),l1=function(n){Fr(e,n);function e(t,r){r===void 0&&(r=O4.now);var i=n.call(this,t,r)||this;return i.actions=[],i._active=!1,i._scheduled=void 0,i}return e.prototype.flush=function(t){var r=this.actions;if(this._active){r.push(t);return}var i;this._active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=r.shift());if(this._active=!1,i){for(;t=r.shift();)t.unsubscribe();throw i}},e}(O4),Qge=function(n){Fr(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.flush=function(t){this._active=!0,this._scheduled=void 0;var r=this.actions,i,s=-1;t=t||r.shift();var o=r.length;do if(i=t.execute(t.state,t.delay))break;while(++s<o&&(t=r.shift()));if(this._active=!1,i){for(;++s<o&&(t=r.shift());)t.unsubscribe();throw i}},e}(l1),C$=new Qge(Zge),e1e=C$,Tu=new l1(u1),c1=Tu,t1e=function(n){Fr(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.scheduler=t,i.work=r,i}return e.prototype.schedule=function(t,r){return r===void 0&&(r=0),r>0?n.prototype.schedule.call(this,t,r):(this.delay=r,this.state=t,this.scheduler.flush(this),this)},e.prototype.execute=function(t,r){return r>0||this.closed?n.prototype.execute.call(this,t,r):this._execute(t,r)},e.prototype.requestAsyncId=function(t,r,i){return i===void 0&&(i=0),i!=null&&i>0||i==null&&this.delay>0?n.prototype.requestAsyncId.call(this,t,r,i):t.flush(this)},e}(u1),n1e=function(n){Fr(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e}(l1),P$=new n1e(t1e),r1e=P$,i1e=function(n){Fr(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.scheduler=t,i.work=r,i}return e.prototype.requestAsyncId=function(t,r,i){return i===void 0&&(i=0),i!==null&&i>0?n.prototype.requestAsyncId.call(this,t,r,i):(t.actions.push(this),t._scheduled||(t._scheduled=R0.requestAnimationFrame(function(){return t.flush(void 0)})))},e.prototype.recycleAsyncId=function(t,r,i){if(i===void 0&&(i=0),i!=null&&i>0||i==null&&this.delay>0)return n.prototype.recycleAsyncId.call(this,t,r,i);t.actions.length===0&&(R0.cancelAnimationFrame(r),t._scheduled=void 0)},e}(u1),s1e=function(n){Fr(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.flush=function(t){this._active=!0,this._scheduled=void 0;var r=this.actions,i,s=-1;t=t||r.shift();var o=r.length;do if(i=t.execute(t.state,t.delay))break;while(++s<o&&(t=r.shift()));if(this._active=!1,i){for(;++s<o&&(t=r.shift());)t.unsubscribe();throw i}},e}(l1),R$=new s1e(i1e),o1e=R$,a1e=function(n){Fr(e,n);function e(t,r){t===void 0&&(t=k$),r===void 0&&(r=1/0);var i=n.call(this,t,function(){return i.frame})||this;return i.maxFrames=r,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var t=this,r=t.actions,i=t.maxFrames,s,o;(o=r[0])&&o.delay<=i&&(r.shift(),this.frame=o.delay,!(s=o.execute(o.state,o.delay))););if(s){for(;o=r.shift();)o.unsubscribe();throw s}},e.frameTimeFactor=10,e}(l1),k$=function(n){Fr(e,n);function e(t,r,i){i===void 0&&(i=t.index+=1);var s=n.call(this,t,r)||this;return s.scheduler=t,s.work=r,s.index=i,s.active=!0,s.index=t.index=i,s}return e.prototype.schedule=function(t,r){if(r===void 0&&(r=0),Number.isFinite(r)){if(!this.id)return n.prototype.schedule.call(this,t,r);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(t,r)}else return xs.EMPTY},e.prototype.requestAsyncId=function(t,r,i){i===void 0&&(i=0),this.delay=t.frame+i;var s=t.actions;return s.push(this),s.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,r,i){},e.prototype._execute=function(t,r){if(this.active===!0)return n.prototype._execute.call(this,t,r)},e.sortActions=function(t,r){return t.delay===r.delay?t.index===r.index?0:t.index>r.index?1:-1:t.delay>r.delay?1:-1},e}(u1),Da=new Rn(function(n){return n.complete()});function u1e(n){return n?l1e(n):Da}function l1e(n){return new Rn(function(e){return n.schedule(function(){return e.complete()})})}function eb(n){return n&&mn(n.schedule)}function N4(n){return n[n.length-1]}function f1(n){return mn(N4(n))?n.pop():void 0}function dl(n){return eb(N4(n))?n.pop():void 0}function I$(n,e){return typeof N4(n)=="number"?n.pop():e}var U4=function(n){return n&&typeof n.length=="number"&&typeof n!="function"};function L$(n){return mn(n==null?void 0:n.then)}function F$(n){return mn(n[Yw])}function O$(n){return Symbol.asyncIterator&&mn(n==null?void 0:n[Symbol.asyncIterator])}function N$(n){return new TypeError("You provided "+(n!==null&&typeof n=="object"?"an invalid object":"'"+n+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function c1e(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var U$=c1e();function B$(n){return mn(n==null?void 0:n[U$])}function z$(n){return Nge(this,arguments,function(){var t,r,i,s;return D4(this,function(o){switch(o.label){case 0:t=n.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,P0(t.read())];case 3:return r=o.sent(),i=r.value,s=r.done,s?[4,P0(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,P0(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function $$(n){return mn(n==null?void 0:n.getReader)}function Mn(n){if(n instanceof Rn)return n;if(n!=null){if(F$(n))return f1e(n);if(U4(n))return h1e(n);if(L$(n))return d1e(n);if(O$(n))return G$(n);if(B$(n))return p1e(n);if($$(n))return m1e(n)}throw N$(n)}function f1e(n){return new Rn(function(e){var t=n[Yw]();if(mn(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function h1e(n){return new Rn(function(e){for(var t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function d1e(n){return new Rn(function(e){n.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,g$)})}function p1e(n){return new Rn(function(e){var t,r;try{for(var i=$s(n),s=i.next();!s.done;s=i.next()){var o=s.value;if(e.next(o),e.closed)return}}catch(u){t={error:u}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}e.complete()})}function G$(n){return new Rn(function(e){v1e(n,e).catch(function(t){return e.error(t)})})}function m1e(n){return G$(z$(n))}function v1e(n,e){var t,r,i,s;return Oge(this,void 0,void 0,function(){var o,u;return D4(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),t=Uge(n),l.label=1;case 1:return[4,t.next()];case 2:if(r=l.sent(),!!r.done)return[3,4];if(o=r.value,e.next(o),e.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return u=l.sent(),i={error:u},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(s=t.return)?[4,s.call(t)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function Gs(n,e,t,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function h1(n,e){return e===void 0&&(e=0),Ut(function(t,r){t.subscribe(new St(r,function(i){return Gs(r,n,function(){return r.next(i)},e)},function(){return Gs(r,n,function(){return r.complete()},e)},function(i){return Gs(r,n,function(){return r.error(i)},e)}))})}function d1(n,e){return e===void 0&&(e=0),Ut(function(t,r){r.add(n.schedule(function(){return t.subscribe(r)},e))})}function g1e(n,e){return Mn(n).pipe(d1(e),h1(e))}function y1e(n,e){return Mn(n).pipe(d1(e),h1(e))}function x1e(n,e){return new Rn(function(t){var r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function H$(n,e){return new Rn(function(t){var r;return Gs(t,e,function(){r=n[U$](),Gs(t,e,function(){var i,s,o;try{i=r.next(),s=i.value,o=i.done}catch(u){t.error(u);return}o?t.complete():t.next(s)},0,!0)}),function(){return mn(r==null?void 0:r.return)&&r.return()}})}function V$(n,e){if(!n)throw new Error("Iterable cannot be null");return new Rn(function(t){Gs(t,e,function(){var r=n[Symbol.asyncIterator]();Gs(t,e,function(){r.next().then(function(i){i.done?t.complete():t.next(i.value)})},0,!0)})})}function _1e(n,e){return V$(z$(n),e)}function W$(n,e){if(n!=null){if(F$(n))return g1e(n,e);if(U4(n))return x1e(n,e);if(L$(n))return y1e(n,e);if(O$(n))return V$(n,e);if(B$(n))return H$(n,e);if($$(n))return _1e(n,e)}throw N$(n)}function Aa(n,e){return e?W$(n,e):Mn(n)}function B4(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=dl(n);return Aa(n,t)}function j$(n,e){var t=mn(n)?n:function(){return n},r=function(i){return i.error(t())};return new Rn(e?function(i){return e.schedule(r,0,i)}:r)}var z4;(function(n){n.NEXT="N",n.ERROR="E",n.COMPLETE="C"})(z4||(z4={}));var tb=function(){function n(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue=e==="N"}return n.prototype.observe=function(e){return q$(this,e)},n.prototype.do=function(e,t,r){var i=this,s=i.kind,o=i.value,u=i.error;return s==="N"?e==null?void 0:e(o):s==="E"?t==null?void 0:t(u):r==null?void 0:r()},n.prototype.accept=function(e,t,r){var i;return mn((i=e)===null||i===void 0?void 0:i.next)?this.observe(e):this.do(e,t,r)},n.prototype.toObservable=function(){var e=this,t=e.kind,r=e.value,i=e.error,s=t==="N"?B4(r):t==="E"?j$(function(){return i}):t==="C"?Da:0;if(!s)throw new TypeError("Unexpected notification kind "+t);return s},n.createNext=function(e){return new n("N",e)},n.createError=function(e){return new n("E",void 0,e)},n.createComplete=function(){return n.completeNotification},n.completeNotification=new n("C"),n}();function q$(n,e){var t,r,i,s=n,o=s.kind,u=s.value,l=s.error;if(typeof o!="string")throw new TypeError('Invalid notification, missing "kind"');o==="N"?(t=e.next)===null||t===void 0||t.call(e,u):o==="E"?(r=e.error)===null||r===void 0||r.call(e,l):(i=e.complete)===null||i===void 0||i.call(e)}function w1e(n){return!!n&&(n instanceof Rn||mn(n.lift)&&mn(n.subscribe))}var Eh=bh(function(n){return function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}});function b1e(n,e){var t=typeof e=="object";return new Promise(function(r,i){var s=!1,o;n.subscribe({next:function(u){o=u,s=!0},error:i,complete:function(){s?r(o):t?r(e.defaultValue):i(new Eh)}})})}function S1e(n,e){var t=typeof e=="object";return new Promise(function(r,i){var s=new Xw({next:function(o){r(o),s.unsubscribe()},error:i,complete:function(){t?r(e.defaultValue):i(new Eh)}});n.subscribe(s)})}var $4=bh(function(n){return function(){n(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}}),X$=bh(function(n){return function(t){n(this),this.name="NotFoundError",this.message=t}}),Y$=bh(function(n){return function(t){n(this),this.name="SequenceError",this.message=t}});function G4(n){return n instanceof Date&&!isNaN(n)}var J$=bh(function(n){return function(t){t===void 0&&(t=null),n(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}});function H4(n,e){var t=G4(n)?{first:n}:typeof n=="number"?{each:n}:n,r=t.first,i=t.each,s=t.with,o=s===void 0?E1e:s,u=t.scheduler,l=u===void 0?e!=null?e:Tu:u,c=t.meta,h=c===void 0?null:c;if(r==null&&i==null)throw new TypeError("No timeout provided.");return Ut(function(d,p){var v,S,w=null,T=0,x=function(E){S=Gs(p,l,function(){try{v.unsubscribe(),Mn(o({meta:h,lastValue:w,seen:T})).subscribe(p)}catch(O){p.error(O)}},E)};v=d.subscribe(new St(p,function(E){S==null||S.unsubscribe(),T++,p.next(w=E),i>0&&x(i)},void 0,void 0,function(){(S==null?void 0:S.closed)||S==null||S.unsubscribe(),w=null})),x(r!=null?typeof r=="number"?r:+r-l.now():i)})}function E1e(n){throw new J$(n)}function pl(n,e){return Ut(function(t,r){var i=0;t.subscribe(new St(r,function(s){r.next(n.call(e,s,i++))}))})}var M1e=Array.isArray;function D1e(n,e){return M1e(e)?n.apply(void 0,Gn([],$n(e))):n(e)}function Mh(n){return pl(function(e){return D1e(n,e)})}function nb(n,e,t,r){if(t)if(eb(t))r=t;else return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return nb(n,e,r).apply(this,i).pipe(Mh(t))};return r?function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return nb(n,e).apply(this,i).pipe(d1(r),h1(r))}:function(){for(var i=this,s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];var u=new I4,l=!0;return new Rn(function(c){var h=u.subscribe(c);if(l){l=!1;var d=!1,p=!1;e.apply(i,Gn(Gn([],$n(s)),[function(){for(var v=[],S=0;S<arguments.length;S++)v[S]=arguments[S];if(n){var w=v.shift();if(w!=null){u.error(w);return}}u.next(1<v.length?v:v[0]),p=!0,d&&u.complete()}])),p&&u.complete(),d=!0}return h})}}function A1e(n,e,t){return nb(!1,n,e,t)}function T1e(n,e,t){return nb(!0,n,e,t)}var C1e=Array.isArray,P1e=Object.getPrototypeOf,R1e=Object.prototype,k1e=Object.keys;function K$(n){if(n.length===1){var e=n[0];if(C1e(e))return{args:e,keys:null};if(I1e(e)){var t=k1e(e);return{args:t.map(function(r){return e[r]}),keys:t}}}return{args:n,keys:null}}function I1e(n){return n&&typeof n=="object"&&P1e(n)===R1e}function Z$(n,e){return n.reduce(function(t,r,i){return t[r]=e[i],t},{})}function Q$(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=dl(n),r=f1(n),i=K$(n),s=i.args,o=i.keys;if(s.length===0)return Aa([],t);var u=new Rn(eG(s,t,o?function(l){return Z$(o,l)}:Ri));return r?u.pipe(Mh(r)):u}function eG(n,e,t){return t===void 0&&(t=Ri),function(r){tG(e,function(){for(var i=n.length,s=new Array(i),o=i,u=i,l=function(h){tG(e,function(){var d=Aa(n[h],e),p=!1;d.subscribe(new St(r,function(v){s[h]=v,p||(p=!0,u--),u||r.next(t(s.slice()))},function(){--o||r.complete()}))},r)},c=0;c<i;c++)l(c)},r)}}function tG(n,e,t){n?Gs(t,n,e):e()}function V4(n,e,t,r,i,s,o,u){var l=[],c=0,h=0,d=!1,p=function(){d&&!l.length&&!c&&e.complete()},v=function(w){return c<r?S(w):l.push(w)},S=function(w){s&&e.next(w),c++;var T=!1;Mn(t(w,h++)).subscribe(new St(e,function(x){i==null||i(x),s?v(x):e.next(x)},function(){T=!0},void 0,function(){if(T)try{c--;for(var x=function(){var E=l.shift();o?Gs(e,o,function(){return S(E)}):S(E)};l.length&&c<r;)x();p()}catch(E){e.error(E)}}))};return n.subscribe(new St(e,v,function(){d=!0,p()})),function(){u==null||u()}}function Xo(n,e,t){return t===void 0&&(t=1/0),mn(e)?Xo(function(r,i){return pl(function(s,o){return e(r,s,i,o)})(Mn(n(r,i)))},t):(typeof e=="number"&&(t=e),Ut(function(r,i){return V4(r,i,n,t)}))}function p1(n){return n===void 0&&(n=1/0),Xo(Ri,n)}function rb(){return p1(1)}function m1(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return rb()(Aa(n,dl(n)))}function v1(n){return new Rn(function(e){Mn(n()).subscribe(e)})}var L1e={connector:function(){return new Qr},resetOnDisconnect:!0};function F1e(n,e){e===void 0&&(e=L1e);var t=null,r=e.connector,i=e.resetOnDisconnect,s=i===void 0?!0:i,o=r(),u=new Rn(function(l){return o.subscribe(l)});return u.connect=function(){return(!t||t.closed)&&(t=v1(function(){return n}).subscribe(o),s&&t.add(function(){return o=r()})),t},u}function O1e(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=f1(n),r=K$(n),i=r.args,s=r.keys,o=new Rn(function(u){var l=i.length;if(!l){u.complete();return}for(var c=new Array(l),h=l,d=l,p=function(S){var w=!1;Mn(i[S]).subscribe(new St(u,function(T){w||(w=!0,d--),c[S]=T},function(){return h--},void 0,function(){(!h||!w)&&(d||u.next(s?Z$(s,c):c),u.complete())}))},v=0;v<l;v++)p(v)});return t?o.pipe(Mh(t)):o}var N1e=["addListener","removeListener"],U1e=["addEventListener","removeEventListener"],B1e=["on","off"];function W4(n,e,t,r){if(mn(t)&&(r=t,t=void 0),r)return W4(n,e,t).pipe(Mh(r));var i=$n(G1e(n)?U1e.map(function(u){return function(l){return n[u](e,l,t)}}):z1e(n)?N1e.map(nG(n,e)):$1e(n)?B1e.map(nG(n,e)):[],2),s=i[0],o=i[1];if(!s&&U4(n))return Xo(function(u){return W4(u,e,t)})(Mn(n));if(!s)throw new TypeError("Invalid event target");return new Rn(function(u){var l=function(){for(var c=[],h=0;h<arguments.length;h++)c[h]=arguments[h];return u.next(1<c.length?c:c[0])};return s(l),function(){return o(l)}})}function nG(n,e){return function(t){return function(r){return n[t](e,r)}}}function z1e(n){return mn(n.addListener)&&mn(n.removeListener)}function $1e(n){return mn(n.on)&&mn(n.off)}function G1e(n){return mn(n.addEventListener)&&mn(n.removeEventListener)}function rG(n,e,t){return t?rG(n,e).pipe(Mh(t)):new Rn(function(r){var i=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return r.next(o.length===1?o[0]:o)},s=n(i);return mn(e)?function(){return e(i,s)}:void 0})}function H1e(n,e,t,r,i){var s,o,u,l;arguments.length===1?(s=n,l=s.initialState,e=s.condition,t=s.iterate,o=s.resultSelector,u=o===void 0?Ri:o,i=s.scheduler):(l=n,!r||eb(r)?(u=Ri,i=r):u=r);function c(){var h;return D4(this,function(d){switch(d.label){case 0:h=l,d.label=1;case 1:return!e||e(h)?[4,u(h)]:[3,4];case 2:d.sent(),d.label=3;case 3:return h=t(h),[3,1];case 4:return[2]}})}return v1(i?function(){return H$(c(),i)}:c)}function V1e(n,e,t){return v1(function(){return n()?e:t})}function k0(n,e,t){n===void 0&&(n=0),t===void 0&&(t=c1);var r=-1;return e!=null&&(eb(e)?t=e:r=e),new Rn(function(i){var s=G4(n)?+n-t.now():n;s<0&&(s=0);var o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function iG(n,e){return n===void 0&&(n=0),e===void 0&&(e=Tu),n<0&&(n=0),k0(n,n,e)}function W1e(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=dl(n),r=I$(n,1/0),i=n;return i.length?i.length===1?Mn(i[0]):p1(r)(Aa(i,t)):Da}var sG=new Rn(Er);function j1e(){return sG}var q1e=Array.isArray;function Dh(n){return n.length===1&&q1e(n[0])?n[0]:n}function oG(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=Dh(n);return Ut(function(r,i){var s=Gn([r],$n(t)),o=function(){if(!i.closed)if(s.length>0){var u=void 0;try{u=Mn(s.shift())}catch{o();return}var l=new St(i,void 0,Er,Er);i.add(u.subscribe(l)),l.add(o)}else i.complete()};o()})}function X1e(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return oG(Dh(n))(Da)}function Y1e(n,e){return Aa(Object.entries(n),e)}function aG(n,e){return function(t,r){return!n.call(e,t,r)}}function Cu(n,e){return Ut(function(t,r){var i=0;t.subscribe(new St(r,function(s){return n.call(e,s,i++)&&r.next(s)}))})}function J1e(n,e,t){return[Cu(e,t)(Mn(n)),Cu(aG(e,t))(Mn(n))]}function K1e(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return n=Dh(n),n.length===1?Mn(n[0]):new Rn(uG(n))}function uG(n){return function(e){for(var t=[],r=function(s){t.push(Mn(n[s]).subscribe(new St(e,function(o){if(t){for(var u=0;u<t.length;u++)u!==s&&t[u].unsubscribe();t=null}e.next(o)})))},i=0;t&&!e.closed&&i<n.length;i++)r(i)}}function Z1e(n,e,t){if(e==null&&(e=n,n=0),e<=0)return Da;var r=e+n;return new Rn(t?function(i){var s=n;return t.schedule(function(){s<r?(i.next(s++),this.schedule()):i.complete()})}:function(i){for(var s=n;s<r&&!i.closed;)i.next(s++);i.complete()})}function Q1e(n,e){return new Rn(function(t){var r=n(),i=e(r),s=i?Mn(i):Da;return s.subscribe(t),function(){r&&r.unsubscribe()}})}function j4(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=f1(n),r=Dh(n);return r.length?new Rn(function(i){var s=r.map(function(){return[]}),o=r.map(function(){return!1});i.add(function(){s=o=null});for(var u=function(c){Mn(r[c]).subscribe(new St(i,function(h){if(s[c].push(h),s.every(function(p){return p.length})){var d=s.map(function(p){return p.shift()});i.next(t?t.apply(void 0,Gn([],$n(d))):d),s.some(function(p,v){return!p.length&&o[v]})&&i.complete()}},function(){o[c]=!0,!s[c].length&&i.complete()}))},l=0;!i.closed&&l<r.length;l++)u(l);return function(){s=o=null}}):Da}function q4(n){return Ut(function(e,t){var r=!1,i=null,s=null,o=!1,u=function(){if(s==null||s.unsubscribe(),s=null,r){r=!1;var c=i;i=null,t.next(c)}o&&t.complete()},l=function(){s=null,o&&t.complete()};e.subscribe(new St(t,function(c){r=!0,i=c,s||Mn(n(c)).subscribe(s=new St(t,u,l))},function(){o=!0,(!r||!s||s.closed)&&t.complete()}))})}function lG(n,e){return e===void 0&&(e=c1),q4(function(){return k0(n,e)})}function cG(n){return Ut(function(e,t){var r=[];return e.subscribe(new St(t,function(i){return r.push(i)},function(){t.next(r),t.complete()})),n.subscribe(new St(t,function(){var i=r;r=[],t.next(i)},Er)),function(){r=null}})}function fG(n,e){return e===void 0&&(e=null),e=e!=null?e:n,Ut(function(t,r){var i=[],s=0;t.subscribe(new St(r,function(o){var u,l,c,h,d=null;s++%e==0&&i.push([]);try{for(var p=$s(i),v=p.next();!v.done;v=p.next()){var S=v.value;S.push(o),n<=S.length&&(d=d!=null?d:[],d.push(S))}}catch(x){u={error:x}}finally{try{v&&!v.done&&(l=p.return)&&l.call(p)}finally{if(u)throw u.error}}if(d)try{for(var w=$s(d),T=w.next();!T.done;T=w.next()){var S=T.value;hl(i,S),r.next(S)}}catch(x){c={error:x}}finally{try{T&&!T.done&&(h=w.return)&&h.call(w)}finally{if(c)throw c.error}}},function(){var o,u;try{for(var l=$s(i),c=l.next();!c.done;c=l.next()){var h=c.value;r.next(h)}}catch(d){o={error:d}}finally{try{c&&!c.done&&(u=l.return)&&u.call(l)}finally{if(o)throw o.error}}r.complete()},void 0,function(){i=null}))})}function hG(n){for(var e,t,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=(e=dl(r))!==null&&e!==void 0?e:Tu,o=(t=r[0])!==null&&t!==void 0?t:null,u=r[1]||1/0;return Ut(function(l,c){var h=[],d=!1,p=function(w){var T=w.buffer,x=w.subs;x.unsubscribe(),hl(h,w),c.next(T),d&&v()},v=function(){if(h){var w=new xs;c.add(w);var T=[],x={buffer:T,subs:w};h.push(x),Gs(w,s,function(){return p(x)},n)}};o!==null&&o>=0?Gs(c,s,v,o,!0):d=!0,v();var S=new St(c,function(w){var T,x,E=h.slice();try{for(var O=$s(E),C=O.next();!C.done;C=O.next()){var N=C.value,$=N.buffer;$.push(w),u<=$.length&&p(N)}}catch(M){T={error:M}}finally{try{C&&!C.done&&(x=O.return)&&x.call(O)}finally{if(T)throw T.error}}},function(){for(;h==null?void 0:h.length;)c.next(h.shift().buffer);S==null||S.unsubscribe(),c.complete(),c.unsubscribe()},void 0,function(){return h=null});l.subscribe(S)})}function dG(n,e){return Ut(function(t,r){var i=[];Mn(n).subscribe(new St(r,function(s){var o=[];i.push(o);var u=new xs,l=function(){hl(i,o),r.next(o),u.unsubscribe()};u.add(Mn(e(s)).subscribe(new St(r,l,Er)))},Er)),t.subscribe(new St(r,function(s){var o,u;try{for(var l=$s(i),c=l.next();!c.done;c=l.next()){var h=c.value;h.push(s)}}catch(d){o={error:d}}finally{try{c&&!c.done&&(u=l.return)&&u.call(l)}finally{if(o)throw o.error}}},function(){for(;i.length>0;)r.next(i.shift());r.complete()}))})}function pG(n){return Ut(function(e,t){var r=null,i=null,s=function(){i==null||i.unsubscribe();var o=r;r=[],o&&t.next(o),Mn(n()).subscribe(i=new St(t,s,Er))};s(),e.subscribe(new St(t,function(o){return r==null?void 0:r.push(o)},function(){r&&t.next(r),t.complete()},void 0,function(){return r=i=null}))})}function X4(n){return Ut(function(e,t){var r=null,i=!1,s;r=e.subscribe(new St(t,void 0,void 0,function(o){s=Mn(n(o,X4(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function mG(n,e,t,r,i){return function(s,o){var u=t,l=e,c=0;s.subscribe(new St(o,function(h){var d=c++;l=u?n(l,h,d):(u=!0,h),r&&o.next(l)},i&&function(){u&&o.next(l),o.complete()}))}}function I0(n,e){return Ut(mG(n,e,arguments.length>=2,!1,!0))}var eye=function(n,e){return n.push(e),n};function Y4(){return Ut(function(n,e){I0(eye,[])(n).subscribe(e)})}function vG(n,e){return P4(Y4(),Xo(function(t){return n(t)}),e?Mh(e):Ri)}function J4(n){return vG(Q$,n)}var gG=J4;function K4(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=f1(n);return t?P4(K4.apply(void 0,Gn([],$n(n))),Mh(t)):Ut(function(r,i){eG(Gn([r],$n(Dh(n))))(i)})}function yG(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return K4.apply(void 0,Gn([],$n(n)))}function ib(n,e){return mn(e)?Xo(n,e,1):Xo(n,1)}function xG(n,e){return mn(e)?ib(function(){return n},e):ib(function(){return n})}function _G(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=dl(n);return Ut(function(r,i){rb()(Aa(Gn([r],$n(n)),t)).subscribe(i)})}function wG(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return _G.apply(void 0,Gn([],$n(n)))}function tye(n){return new Rn(function(e){return n.subscribe(e)})}var nye={connector:function(){return new Qr}};function sb(n,e){e===void 0&&(e=nye);var t=e.connector;return Ut(function(r,i){var s=t();Aa(n(tye(s))).subscribe(i),i.add(r.subscribe(s))})}function bG(n){return I0(function(e,t,r){return!n||n(t,r)?e+1:e},0)}function SG(n){return Ut(function(e,t){var r=!1,i=null,s=null,o=function(){if(s==null||s.unsubscribe(),s=null,r){r=!1;var u=i;i=null,t.next(u)}};e.subscribe(new St(t,function(u){s==null||s.unsubscribe(),r=!0,i=u,s=new St(t,o,Er),Mn(n(u)).subscribe(s)},function(){o(),t.complete()},void 0,function(){i=s=null}))})}function EG(n,e){return e===void 0&&(e=Tu),Ut(function(t,r){var i=null,s=null,o=null,u=function(){if(i){i.unsubscribe(),i=null;var c=s;s=null,r.next(c)}};function l(){var c=o+n,h=e.now();if(h<c){i=this.schedule(void 0,c-h),r.add(i);return}u()}t.subscribe(new St(r,function(c){s=c,o=e.now(),i||(i=e.schedule(l,n),r.add(i))},function(){u(),r.complete()},void 0,function(){s=i=null}))})}function g1(n){return Ut(function(e,t){var r=!1;e.subscribe(new St(t,function(i){r=!0,t.next(i)},function(){r||t.next(n),t.complete()}))})}function Ah(n){return n<=0?function(){return Da}:Ut(function(e,t){var r=0;e.subscribe(new St(t,function(i){++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Z4(){return Ut(function(n,e){n.subscribe(new St(e,Er))})}function Q4(n){return pl(function(){return n})}function ob(n,e){return e?function(t){return m1(e.pipe(Ah(1),Z4()),t.pipe(ob(n)))}:Xo(function(t,r){return n(t,r).pipe(Ah(1),Q4(t))})}function MG(n,e){e===void 0&&(e=Tu);var t=k0(n,e);return ob(function(){return t})}function DG(){return Ut(function(n,e){n.subscribe(new St(e,function(t){return q$(t,e)}))})}function AG(n,e){return Ut(function(t,r){var i=new Set;t.subscribe(new St(r,function(s){var o=n?n(s):s;i.has(o)||(i.add(o),r.next(s))})),e==null||e.subscribe(new St(r,function(){return i.clear()},Er))})}function e5(n,e){return e===void 0&&(e=Ri),n=n!=null?n:rye,Ut(function(t,r){var i,s=!0;t.subscribe(new St(r,function(o){var u=e(o);(s||!n(i,u))&&(s=!1,i=u,r.next(o))}))})}function rye(n,e){return n===e}function TG(n,e){return e5(function(t,r){return e?e(t[n],r[n]):t[n]===r[n]})}function y1(n){return n===void 0&&(n=iye),Ut(function(e,t){var r=!1;e.subscribe(new St(t,function(i){r=!0,t.next(i)},function(){return r?t.complete():t.error(n())}))})}function iye(){return new Eh}function CG(n,e){if(n<0)throw new $4;var t=arguments.length>=2;return function(r){return r.pipe(Cu(function(i,s){return s===n}),Ah(1),t?g1(e):y1(function(){return new $4}))}}function PG(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return function(t){return m1(t,B4.apply(void 0,Gn([],$n(n))))}}function RG(n,e){return Ut(function(t,r){var i=0;t.subscribe(new St(r,function(s){n.call(e,s,i++,t)||(r.next(!1),r.complete())},function(){r.next(!0),r.complete()}))})}function t5(){return Ut(function(n,e){var t=!1,r=null;n.subscribe(new St(e,function(i){r||(r=Mn(i).subscribe(new St(e,void 0,function(){r=null,t&&e.complete()})))},function(){t=!0,!r&&e.complete()}))})}var kG=t5;function n5(n,e){return e?function(t){return t.pipe(n5(function(r,i){return Mn(n(r,i)).pipe(pl(function(s,o){return e(r,s,i,o)}))}))}:Ut(function(t,r){var i=0,s=null,o=!1;t.subscribe(new St(r,function(u){s||(s=new St(r,void 0,function(){s=null,o&&r.complete()}),Mn(n(u,i++)).subscribe(s))},function(){o=!0,!s&&r.complete()}))})}function IG(n,e,t){return e===void 0&&(e=1/0),e=(e||0)<1?1/0:e,Ut(function(r,i){return V4(r,i,n,e,void 0,!0,t)})}function LG(n){return Ut(function(e,t){try{e.subscribe(t)}finally{t.add(n)}})}function FG(n,e){return Ut(OG(n,e,"value"))}function OG(n,e,t){var r=t==="index";return function(i,s){var o=0;i.subscribe(new St(s,function(u){var l=o++;n.call(e,u,l,i)&&(s.next(r?l:u),s.complete())},function(){s.next(r?-1:void 0),s.complete()}))}}function NG(n,e){return Ut(OG(n,e,"index"))}function UG(n,e){var t=arguments.length>=2;return function(r){return r.pipe(n?Cu(function(i,s){return n(i,s,r)}):Ri,Ah(1),t?g1(e):y1(function(){return new Eh}))}}function BG(n,e,t,r){return Ut(function(i,s){var o;!e||typeof e=="function"?o=e:(t=e.duration,o=e.element,r=e.connector);var u=new Map,l=function(p){u.forEach(p),p(s)},c=function(p){return l(function(v){return v.error(p)})},h=new sye(s,function(p){try{var v=n(p),S=u.get(v);if(!S){u.set(v,S=r?r():new Qr);var w=d(v,S);if(s.next(w),t){var T=new St(S,function(){S.complete(),T==null||T.unsubscribe()},void 0,void 0,function(){return u.delete(v)});h.add(Mn(t(w)).subscribe(T))}}S.next(o?o(p):p)}catch(x){c(x)}},function(){return l(function(p){return p.complete()})},c,function(){return u.clear()});i.subscribe(h);function d(p,v){var S=new Rn(function(w){h.activeGroups++;var T=v.subscribe(w);return function(){T.unsubscribe(),--h.activeGroups==0&&h.teardownAttempted&&h.unsubscribe()}});return S.key=p,S}})}var sye=function(n){Fr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.activeGroups=0,t.teardownAttempted=!1,t}return e.prototype.unsubscribe=function(){this.teardownAttempted=!0,this.activeGroups===0&&n.prototype.unsubscribe.call(this)},e}(St);function zG(){return Ut(function(n,e){n.subscribe(new St(e,function(){e.next(!1),e.complete()},function(){e.next(!0),e.complete()}))})}function r5(n){return n<=0?function(){return Da}:Ut(function(e,t){var r=[];e.subscribe(new St(t,function(i){r.push(i),n<r.length&&r.shift()},function(){var i,s;try{for(var o=$s(r),u=o.next();!u.done;u=o.next()){var l=u.value;t.next(l)}}catch(c){i={error:c}}finally{try{u&&!u.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}t.complete()},void 0,function(){r=null}))})}function $G(n,e){var t=arguments.length>=2;return function(r){return r.pipe(n?Cu(function(i,s){return n(i,s,r)}):Ri,r5(1),t?g1(e):y1(function(){return new Eh}))}}function GG(){return Ut(function(n,e){n.subscribe(new St(e,function(t){e.next(tb.createNext(t))},function(){e.next(tb.createComplete()),e.complete()},function(t){e.next(tb.createError(t)),e.complete()}))})}function HG(n){return I0(mn(n)?function(e,t){return n(e,t)>0?e:t}:function(e,t){return e>t?e:t})}var VG=Xo;function WG(n,e,t){return t===void 0&&(t=1/0),mn(e)?Xo(function(){return n},e,t):(typeof e=="number"&&(t=e),Xo(function(){return n},t))}function jG(n,e,t){return t===void 0&&(t=1/0),Ut(function(r,i){var s=e;return V4(r,i,function(o,u){return n(s,o,u)},t,function(o){s=o},!1,void 0,function(){return s=null})})}function qG(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=dl(n),r=I$(n,1/0);return n=Dh(n),Ut(function(i,s){p1(r)(Aa(Gn([i],$n(n)),t)).subscribe(s)})}function XG(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return qG.apply(void 0,Gn([],$n(n)))}function YG(n){return I0(mn(n)?function(e,t){return n(e,t)<0?e:t}:function(e,t){return e<t?e:t})}function ab(n,e){var t=mn(n)?n:function(){return n};return mn(e)?sb(e,{connector:t}):function(r){return new Jw(r,t)}}function JG(){return Ut(function(n,e){var t,r=!1;n.subscribe(new St(e,function(i){var s=t;t=i,r&&e.next([s,i]),r=!0}))})}function KG(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.length;if(t===0)throw new Error("list of properties cannot be empty.");return pl(function(r){for(var i=r,s=0;s<t;s++){var o=i==null?void 0:i[n[s]];if(typeof o!="undefined")i=o;else return}return i})}function ZG(n){return n?function(e){return sb(n)(e)}:function(e){return ab(new Qr)(e)}}function QG(n){return function(e){var t=new D$(n);return new Jw(e,function(){return t})}}function eH(){return function(n){var e=new I4;return new Jw(n,function(){return e})}}function tH(n,e,t,r){t&&!mn(t)&&(r=t);var i=mn(t)?t:void 0;return function(s){return ab(new k4(n,e,r),i)(s)}}function i5(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return n.length?Ut(function(t,r){uG(Gn([t],$n(n)))(r)}):Ri}function nH(n){return n===void 0&&(n=1/0),n<=0?function(){return Da}:Ut(function(e,t){var r=0,i,s=function(){var o=!1;i=e.subscribe(new St(t,void 0,function(){++r<n?i?(i.unsubscribe(),i=null,s()):o=!0:t.complete()})),o&&(i.unsubscribe(),i=null,s())};s()})}function rH(n){return Ut(function(e,t){var r,i=!1,s,o=!1,u=!1,l=function(){return u&&o&&(t.complete(),!0)},c=function(){return s||(s=new Qr,n(s).subscribe(new St(t,function(){r?h():i=!0},function(){o=!0,l()}))),s},h=function(){u=!1,r=e.subscribe(new St(t,void 0,function(){u=!0,!l()&&c().next()})),i&&(r.unsubscribe(),r=null,i=!1,h())};h()})}function iH(n){n===void 0&&(n=1/0);var e;n&&typeof n=="object"?e=n:e={count:n};var t=e.count,r=t===void 0?1/0:t,i=e.delay,s=e.resetOnSuccess,o=s===void 0?!1:s;return r<=0?Ri:Ut(function(u,l){var c=0,h,d=function(){var p=!1;h=u.subscribe(new St(l,function(v){o&&(c=0),l.next(v)},void 0,function(v){if(c++<r){var S=function(){h?(h.unsubscribe(),h=null,d()):p=!0};if(i!=null){var w=typeof i=="number"?k0(i):Mn(i(v,c)),T=new St(l,function(){T.unsubscribe(),S()},function(){l.complete()});w.subscribe(T)}else S()}else l.error(v)})),p&&(h.unsubscribe(),h=null,d())};d()})}function sH(n){return Ut(function(e,t){var r,i=!1,s,o=function(){r=e.subscribe(new St(t,void 0,void 0,function(u){s||(s=new Qr,n(s).subscribe(new St(t,function(){return r?o():i=!0}))),s&&s.next(u)})),i&&(r.unsubscribe(),r=null,i=!1,o())};o()})}function s5(n){return Ut(function(e,t){var r=!1,i=null;e.subscribe(new St(t,function(o){r=!0,i=o}));var s=function(){if(r){r=!1;var o=i;i=null,t.next(o)}};n.subscribe(new St(t,s,Er))})}function oH(n,e){return e===void 0&&(e=Tu),s5(iG(n,e))}function o5(n,e){return Ut(mG(n,e,arguments.length>=2,!0))}function aH(n,e){return e===void 0&&(e=function(t,r){return t===r}),Ut(function(t,r){var i=uH(),s=uH(),o=function(l){r.next(l),r.complete()},u=function(l,c){var h=new St(r,function(d){var p=c.buffer,v=c.complete;p.length===0?v?o(!1):l.buffer.push(d):!e(d,p.shift())&&o(!1)},function(){l.complete=!0;var d=c.complete,p=c.buffer;d&&o(p.length===0),h==null||h.unsubscribe()});return h};t.subscribe(u(i,s)),n.subscribe(u(s,i))})}function uH(){return{buffer:[],complete:!1}}function a5(n){n===void 0&&(n={});var e=n.connector,t=e===void 0?function(){return new Qr}:e,r=n.resetOnError,i=r===void 0?!0:r,s=n.resetOnComplete,o=s===void 0?!0:s,u=n.resetOnRefCountZero,l=u===void 0?!0:u;return function(c){var h=null,d=null,p=null,v=0,S=!1,w=!1,T=function(){d==null||d.unsubscribe(),d=null},x=function(){T(),h=p=null,S=w=!1},E=function(){var O=h;x(),O==null||O.unsubscribe()};return Ut(function(O,C){v++,!w&&!S&&T();var N=p=p!=null?p:t();C.add(function(){v--,v===0&&!w&&!S&&(d=u5(E,l))}),N.subscribe(C),h||(h=new Xw({next:function($){return N.next($)},error:function($){w=!0,T(),d=u5(x,i,$),N.error($)},complete:function(){S=!0,T(),d=u5(x,o),N.complete()}}),Aa(O).subscribe(h))})(c)}}function u5(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return e===!0?(n(),null):e===!1?null:e.apply(void 0,Gn([],$n(t))).pipe(Ah(1)).subscribe(function(){return n()})}function lH(n,e,t){var r,i,s,o=!1;return n&&typeof n=="object"?(s=(r=n.bufferSize)!==null&&r!==void 0?r:1/0,e=(i=n.windowTime)!==null&&i!==void 0?i:1/0,o=!!n.refCount,t=n.scheduler):s=n!=null?n:1/0,a5({connector:function(){return new k4(s,e,t)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function cH(n){return Ut(function(e,t){var r=!1,i,s=!1,o=0;e.subscribe(new St(t,function(u){s=!0,(!n||n(u,o++,e))&&(r&&t.error(new Y$("Too many matching values")),r=!0,i=u)},function(){r?(t.next(i),t.complete()):t.error(s?new X$("No matching values"):new Eh)}))})}function fH(n){return Cu(function(e,t){return n<=t})}function hH(n){return n<=0?Ri:Ut(function(e,t){var r=new Array(n),i=0;return e.subscribe(new St(t,function(s){var o=i++;if(o<n)r[o]=s;else{var u=o%n,l=r[u];r[u]=s,t.next(l)}})),function(){r=null}})}function dH(n){return Ut(function(e,t){var r=!1,i=new St(t,function(){i==null||i.unsubscribe(),r=!0},Er);Mn(n).subscribe(i),e.subscribe(new St(t,function(s){return r&&t.next(s)}))})}function pH(n){return Ut(function(e,t){var r=!1,i=0;e.subscribe(new St(t,function(s){return(r||(r=!n(s,i++)))&&t.next(s)}))})}function mH(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=dl(n);return Ut(function(r,i){(t?m1(n,r,t):m1(n,r)).subscribe(i)})}function L0(n,e){return Ut(function(t,r){var i=null,s=0,o=!1,u=function(){return o&&!i&&r.complete()};t.subscribe(new St(r,function(l){i==null||i.unsubscribe();var c=0,h=s++;Mn(n(l,h)).subscribe(i=new St(r,function(d){return r.next(e?e(l,d,h,c++):d)},function(){i=null,u()}))},function(){o=!0,u()}))})}function vH(){return L0(Ri)}function gH(n,e){return mn(e)?L0(function(){return n},e):L0(function(){return n})}function yH(n,e){return Ut(function(t,r){var i=e;return L0(function(s,o){return n(i,s,o)},function(s,o){return i=o,o})(t).subscribe(r),function(){i=null}})}function xH(n){return Ut(function(e,t){Mn(n).subscribe(new St(t,function(){return t.complete()},Er)),!t.closed&&e.subscribe(t)})}function _H(n,e){return e===void 0&&(e=!1),Ut(function(t,r){var i=0;t.subscribe(new St(r,function(s){var o=n(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}function wH(n,e,t){var r=mn(n)||e||t?{next:n,error:e,complete:t}:n;return r?Ut(function(i,s){var o;(o=r.subscribe)===null||o===void 0||o.call(r);var u=!0;i.subscribe(new St(s,function(l){var c;(c=r.next)===null||c===void 0||c.call(r,l),s.next(l)},function(){var l;u=!1,(l=r.complete)===null||l===void 0||l.call(r),s.complete()},function(l){var c;u=!1,(c=r.error)===null||c===void 0||c.call(r,l),s.error(l)},function(){var l,c;u&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):Ri}var bH={leading:!0,trailing:!1};function l5(n,e){var t=e===void 0?bH:e,r=t.leading,i=t.trailing;return Ut(function(s,o){var u=!1,l=null,c=null,h=!1,d=function(){c==null||c.unsubscribe(),c=null,i&&(S(),h&&o.complete())},p=function(){c=null,h&&o.complete()},v=function(w){return c=Mn(n(w)).subscribe(new St(o,d,p))},S=function(){if(u){u=!1;var w=l;l=null,o.next(w),!h&&v(w)}};s.subscribe(new St(o,function(w){u=!0,l=w,!(c&&!c.closed)&&(r?S():v(w))},function(){h=!0,!(i&&u&&c&&!c.closed)&&o.complete()}))})}function SH(n,e,t){e===void 0&&(e=Tu),t===void 0&&(t=bH);var r=k0(n,e);return l5(function(){return r},t)}function EH(n){return n===void 0&&(n=c1),function(e){return v1(function(){return e.pipe(o5(function(t,r){var i=t.current;return{value:r,current:n.now(),last:i}},{current:n.now(),value:void 0,last:void 0}),pl(function(t){var r=t.current,i=t.last,s=t.value;return new oye(s,r-i)}))})}}var oye=function(){function n(e,t){this.value=e,this.interval=t}return n}();function MH(n,e,t){var r,i,s;if(t=t!=null?t:c1,G4(n)?r=n:typeof n=="number"&&(i=n),e)s=function(){return e};else throw new TypeError("No observable provided to switch to");if(r==null&&i==null)throw new TypeError("No timeout provided.");return H4({first:r,each:i,scheduler:t,with:s})}function DH(n){return n===void 0&&(n=Kw),pl(function(e){return{value:e,timestamp:n.now()}})}function AH(n){return Ut(function(e,t){var r=new Qr;t.next(r.asObservable());var i=function(s){r.error(s),t.error(s)};return e.subscribe(new St(t,function(s){return r==null?void 0:r.next(s)},function(){r.complete(),t.complete()},i)),n.subscribe(new St(t,function(){r.complete(),t.next(r=new Qr)},Er,i)),function(){r==null||r.unsubscribe(),r=null}})}function TH(n,e){e===void 0&&(e=0);var t=e>0?e:n;return Ut(function(r,i){var s=[new Qr],o=[],u=0;i.next(s[0].asObservable()),r.subscribe(new St(i,function(l){var c,h;try{for(var d=$s(s),p=d.next();!p.done;p=d.next()){var v=p.value;v.next(l)}}catch(T){c={error:T}}finally{try{p&&!p.done&&(h=d.return)&&h.call(d)}finally{if(c)throw c.error}}var S=u-n+1;if(S>=0&&S%t==0&&s.shift().complete(),++u%t==0){var w=new Qr;s.push(w),i.next(w.asObservable())}},function(){for(;s.length>0;)s.shift().complete();i.complete()},function(l){for(;s.length>0;)s.shift().error(l);i.error(l)},function(){o=null,s=null}))})}function CH(n){for(var e,t,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=(e=dl(r))!==null&&e!==void 0?e:Tu,o=(t=r[0])!==null&&t!==void 0?t:null,u=r[1]||1/0;return Ut(function(l,c){var h=[],d=!1,p=function(T){var x=T.window,E=T.subs;x.complete(),E.unsubscribe(),hl(h,T),d&&v()},v=function(){if(h){var T=new xs;c.add(T);var x=new Qr,E={window:x,subs:T,seen:0};h.push(E),c.next(x.asObservable()),Gs(T,s,function(){return p(E)},n)}};o!==null&&o>=0?Gs(c,s,v,o,!0):d=!0,v();var S=function(T){return h.slice().forEach(T)},w=function(T){S(function(x){var E=x.window;return T(E)}),T(c),c.unsubscribe()};return l.subscribe(new St(c,function(T){S(function(x){x.window.next(T),u<=++x.seen&&p(x)})},function(){return w(function(T){return T.complete()})},function(T){return w(function(x){return x.error(T)})})),function(){h=null}})}function PH(n,e){return Ut(function(t,r){var i=[],s=function(o){for(;0<i.length;)i.shift().error(o);r.error(o)};Mn(n).subscribe(new St(r,function(o){var u=new Qr;i.push(u);var l=new xs,c=function(){hl(i,u),u.complete(),l.unsubscribe()},h;try{h=Mn(e(o))}catch(d){s(d);return}r.next(u.asObservable()),l.add(h.subscribe(new St(r,c,Er,s)))},Er)),t.subscribe(new St(r,function(o){var u,l,c=i.slice();try{for(var h=$s(c),d=h.next();!d.done;d=h.next()){var p=d.value;p.next(o)}}catch(v){u={error:v}}finally{try{d&&!d.done&&(l=h.return)&&l.call(h)}finally{if(u)throw u.error}}},function(){for(;0<i.length;)i.shift().complete();r.complete()},s,function(){for(;0<i.length;)i.shift().unsubscribe()}))})}function RH(n){return Ut(function(e,t){var r,i,s=function(u){r.error(u),t.error(u)},o=function(){i==null||i.unsubscribe(),r==null||r.complete(),r=new Qr,t.next(r.asObservable());var u;try{u=Mn(n())}catch(l){s(l);return}u.subscribe(i=new St(t,o,o,s))};o(),e.subscribe(new St(t,function(u){return r.next(u)},function(){r.complete(),t.complete()},s,function(){i==null||i.unsubscribe(),r=null}))})}function kH(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=f1(n);return Ut(function(r,i){for(var s=n.length,o=new Array(s),u=n.map(function(){return!1}),l=!1,c=function(d){Mn(n[d]).subscribe(new St(i,function(p){o[d]=p,!l&&!u[d]&&(u[d]=!0,(l=u.every(Ri))&&(u=null))},Er))},h=0;h<s;h++)c(h);r.subscribe(new St(i,function(d){if(l){var p=Gn([d],$n(o));i.next(t?t.apply(void 0,Gn([],$n(p))):p)}}))})}function IH(n){return vG(j4,n)}function LH(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return Ut(function(t,r){j4.apply(void 0,Gn([t],$n(n))).subscribe(r)})}function FH(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return LH.apply(void 0,Gn([],$n(n)))}var aye=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Observable:Rn,ConnectableObservable:Jw,observable:Yw,animationFrames:jge,Subject:Qr,BehaviorSubject:D$,ReplaySubject:k4,AsyncSubject:I4,asap:e1e,asapScheduler:C$,async:c1,asyncScheduler:Tu,queue:r1e,queueScheduler:P$,animationFrame:o1e,animationFrameScheduler:R$,VirtualTimeScheduler:a1e,VirtualAction:k$,Scheduler:O4,Subscription:xs,Subscriber:qw,Notification:tb,get NotificationKind(){return z4},pipe:P4,noop:Er,identity:Ri,isObservable:w1e,lastValueFrom:b1e,firstValueFrom:S1e,ArgumentOutOfRangeError:$4,EmptyError:Eh,NotFoundError:X$,ObjectUnsubscribedError:E$,SequenceError:Y$,TimeoutError:J$,UnsubscriptionError:Vw,bindCallback:A1e,bindNodeCallback:T1e,combineLatest:Q$,concat:m1,connectable:F1e,defer:v1,empty:u1e,forkJoin:O1e,from:Aa,fromEvent:W4,fromEventPattern:rG,generate:H1e,iif:V1e,interval:iG,merge:W1e,never:j1e,of:B4,onErrorResumeNext:X1e,pairs:Y1e,partition:J1e,race:K1e,range:Z1e,throwError:j$,timer:k0,using:Q1e,zip:j4,scheduled:W$,EMPTY:Da,NEVER:sG,config:Oc,audit:q4,auditTime:lG,buffer:cG,bufferCount:fG,bufferTime:hG,bufferToggle:dG,bufferWhen:pG,catchError:X4,combineAll:gG,combineLatestAll:J4,combineLatestWith:yG,concatAll:rb,concatMap:ib,concatMapTo:xG,concatWith:wG,connect:sb,count:bG,debounce:SG,debounceTime:EG,defaultIfEmpty:g1,delay:MG,delayWhen:ob,dematerialize:DG,distinct:AG,distinctUntilChanged:e5,distinctUntilKeyChanged:TG,elementAt:CG,endWith:PG,every:RG,exhaust:kG,exhaustAll:t5,exhaustMap:n5,expand:IG,filter:Cu,finalize:LG,find:FG,findIndex:NG,first:UG,groupBy:BG,ignoreElements:Z4,isEmpty:zG,last:$G,map:pl,mapTo:Q4,materialize:GG,max:HG,mergeAll:p1,flatMap:VG,mergeMap:Xo,mergeMapTo:WG,mergeScan:jG,mergeWith:XG,min:YG,multicast:ab,observeOn:h1,pairwise:JG,pluck:KG,publish:ZG,publishBehavior:QG,publishLast:eH,publishReplay:tH,raceWith:i5,reduce:I0,repeat:nH,repeatWhen:rH,retry:iH,retryWhen:sH,refCount:R4,sample:s5,sampleTime:oH,scan:o5,sequenceEqual:aH,share:a5,shareReplay:lH,single:cH,skip:fH,skipLast:hH,skipUntil:dH,skipWhile:pH,startWith:mH,subscribeOn:d1,switchAll:vH,switchMap:L0,switchMapTo:gH,switchScan:yH,take:Ah,takeLast:r5,takeUntil:xH,takeWhile:_H,tap:wH,throttle:l5,throttleTime:SH,throwIfEmpty:y1,timeInterval:EH,timeout:H4,timeoutWith:MH,timestamp:DH,toArray:Y4,window:AH,windowCount:TH,windowTime:CH,windowToggle:PH,windowWhen:RH,withLatestFrom:kH,zipAll:IH,zipWith:FH}),uye=yr(aye);function lye(n,e){return function(t){return[Cu(n,e)(t),Cu(aG(n,e))(t)]}}function cye(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return i5.apply(void 0,Gn([],$n(Dh(n))))}var fye=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",audit:q4,auditTime:lG,buffer:cG,bufferCount:fG,bufferTime:hG,bufferToggle:dG,bufferWhen:pG,catchError:X4,combineAll:gG,combineLatestAll:J4,combineLatest:K4,combineLatestWith:yG,concat:_G,concatAll:rb,concatMap:ib,concatMapTo:xG,concatWith:wG,connect:sb,count:bG,debounce:SG,debounceTime:EG,defaultIfEmpty:g1,delay:MG,delayWhen:ob,dematerialize:DG,distinct:AG,distinctUntilChanged:e5,distinctUntilKeyChanged:TG,elementAt:CG,endWith:PG,every:RG,exhaust:kG,exhaustAll:t5,exhaustMap:n5,expand:IG,filter:Cu,finalize:LG,find:FG,findIndex:NG,first:UG,groupBy:BG,ignoreElements:Z4,isEmpty:zG,last:$G,map:pl,mapTo:Q4,materialize:GG,max:HG,merge:qG,mergeAll:p1,flatMap:VG,mergeMap:Xo,mergeMapTo:WG,mergeScan:jG,mergeWith:XG,min:YG,multicast:ab,observeOn:h1,onErrorResumeNext:oG,pairwise:JG,partition:lye,pluck:KG,publish:ZG,publishBehavior:QG,publishLast:eH,publishReplay:tH,race:cye,raceWith:i5,reduce:I0,repeat:nH,repeatWhen:rH,retry:iH,retryWhen:sH,refCount:R4,sample:s5,sampleTime:oH,scan:o5,sequenceEqual:aH,share:a5,shareReplay:lH,single:cH,skip:fH,skipLast:hH,skipUntil:dH,skipWhile:pH,startWith:mH,subscribeOn:d1,switchAll:vH,switchMap:L0,switchMapTo:gH,switchScan:yH,take:Ah,takeLast:r5,takeUntil:xH,takeWhile:_H,tap:wH,throttle:l5,throttleTime:SH,throwIfEmpty:y1,timeInterval:EH,timeout:H4,timeoutWith:MH,timestamp:DH,toArray:Y4,window:AH,windowCount:TH,windowTime:CH,windowToggle:PH,windowWhen:RH,withLatestFrom:kH,zip:LH,zipAll:IH,zipWith:FH}),hye=yr(fye),Th={},OH={};Object.defineProperty(OH,"__esModule",{value:!0});var NH={};Object.defineProperty(NH,"__esModule",{value:!0});var UH={};Object.defineProperty(UH,"__esModule",{value:!0});var c5={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.SyncOptions=void 0,function(e){e[e.PREFER_CACHE=0]="PREFER_CACHE",e[e.SYNC_ALWAYS=1]="SYNC_ALWAYS",e[e.NEVER_SYNC=2]="NEVER_SYNC"}(n.SyncOptions||(n.SyncOptions={}))})(c5);var f5={},ub={exports:{}};(function(n,e){var t=200,r="__lodash_hash_undefined__",i=9007199254740991,s="[object Arguments]",o="[object Array]",u="[object Boolean]",l="[object Date]",c="[object Error]",h="[object Function]",d="[object GeneratorFunction]",p="[object Map]",v="[object Number]",S="[object Object]",w="[object Promise]",T="[object RegExp]",x="[object Set]",E="[object String]",O="[object Symbol]",C="[object WeakMap]",N="[object ArrayBuffer]",$="[object DataView]",M="[object Float32Array]",L="[object Float64Array]",V="[object Int8Array]",Z="[object Int16Array]",H="[object Int32Array]",D="[object Uint8Array]",R="[object Uint8ClampedArray]",P="[object Uint16Array]",F="[object Uint32Array]",z=/[\\^$.*+?()[\]{}|]/g,j=/\w*$/,B=/^\[object .+?Constructor\]$/,U=/^(?:0|[1-9]\d*)$/,k={};k[s]=k[o]=k[N]=k[$]=k[u]=k[l]=k[M]=k[L]=k[V]=k[Z]=k[H]=k[p]=k[v]=k[S]=k[T]=k[x]=k[E]=k[O]=k[D]=k[R]=k[P]=k[F]=!0,k[c]=k[h]=k[C]=!1;var G=typeof $e=="object"&&$e&&$e.Object===Object&&$e,ne=typeof self=="object"&&self&&self.Object===Object&&self,le=G||ne||Function("return this")(),ee=e&&!e.nodeType&&e,J=ee&&!0&&n&&!n.nodeType&&n,de=J&&J.exports===ee;function se(_e,Ke){return _e.set(Ke[0],Ke[1]),_e}function ue(_e,Ke){return _e.add(Ke),_e}function oe(_e,Ke){for(var at=-1,wt=_e?_e.length:0;++at<wt&&Ke(_e[at],at,_e)!==!1;);return _e}function W(_e,Ke){for(var at=-1,wt=Ke.length,Wn=_e.length;++at<wt;)_e[Wn+at]=Ke[at];return _e}function ce(_e,Ke,at,wt){var Wn=-1,or=_e?_e.length:0;for(wt&&or&&(at=_e[++Wn]);++Wn<or;)at=Ke(at,_e[Wn],Wn,_e);return at}function ye(_e,Ke){for(var at=-1,wt=Array(_e);++at<_e;)wt[at]=Ke(at);return wt}function Te(_e,Ke){return _e==null?void 0:_e[Ke]}function Pe(_e){var Ke=!1;if(_e!=null&&typeof _e.toString!="function")try{Ke=!!(_e+"")}catch{}return Ke}function Je(_e){var Ke=-1,at=Array(_e.size);return _e.forEach(function(wt,Wn){at[++Ke]=[Wn,wt]}),at}function ie(_e,Ke){return function(at){return _e(Ke(at))}}function K(_e){var Ke=-1,at=Array(_e.size);return _e.forEach(function(wt){at[++Ke]=wt}),at}var q=Array.prototype,he=Function.prototype,Se=Object.prototype,te=le["__core-js_shared__"],re=function(){var _e=/[^.]+$/.exec(te&&te.keys&&te.keys.IE_PROTO||"");return _e?"Symbol(src)_1."+_e:""}(),Me=he.toString,Ce=Se.hasOwnProperty,Ae=Se.toString,Oe=RegExp("^"+Me.call(Ce).replace(z,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ge=de?le.Buffer:void 0,Ne=le.Symbol,ze=le.Uint8Array,ae=ie(Object.getPrototypeOf,Object),Ue=Object.create,Ye=Se.propertyIsEnumerable,He=q.splice,Be=Object.getOwnPropertySymbols,Ze=ge?ge.isBuffer:void 0,Ve=ie(Object.keys,Object),ot=Hr(le,"DataView"),kt=Hr(le,"Map"),lt=Hr(le,"Promise"),_t=Hr(le,"Set"),nn=Hr(le,"WeakMap"),It=Hr(Object,"create"),Gt=Nr(ot),Ot=Nr(kt),mt=Nr(lt),gt=Nr(_t),Ct=Nr(nn),dt=Ne?Ne.prototype:void 0,Mt=dt?dt.valueOf:void 0;function Dt(_e){var Ke=-1,at=_e?_e.length:0;for(this.clear();++Ke<at;){var wt=_e[Ke];this.set(wt[0],wt[1])}}function yt(){this.__data__=It?It(null):{}}function pt(_e){return this.has(_e)&&delete this.__data__[_e]}function Nt(_e){var Ke=this.__data__;if(It){var at=Ke[_e];return at===r?void 0:at}return Ce.call(Ke,_e)?Ke[_e]:void 0}function pe(_e){var Ke=this.__data__;return It?Ke[_e]!==void 0:Ce.call(Ke,_e)}function Re(_e,Ke){var at=this.__data__;return at[_e]=It&&Ke===void 0?r:Ke,this}Dt.prototype.clear=yt,Dt.prototype.delete=pt,Dt.prototype.get=Nt,Dt.prototype.has=pe,Dt.prototype.set=Re;function We(_e){var Ke=-1,at=_e?_e.length:0;for(this.clear();++Ke<at;){var wt=_e[Ke];this.set(wt[0],wt[1])}}function ke(){this.__data__=[]}function Le(_e){var Ke=this.__data__,at=xn(Ke,_e);if(at<0)return!1;var wt=Ke.length-1;return at==wt?Ke.pop():He.call(Ke,at,1),!0}function At(_e){var Ke=this.__data__,at=xn(Ke,_e);return at<0?void 0:Ke[at][1]}function rt(_e){return xn(this.__data__,_e)>-1}function ht(_e,Ke){var at=this.__data__,wt=xn(at,_e);return wt<0?at.push([_e,Ke]):at[wt][1]=Ke,this}We.prototype.clear=ke,We.prototype.delete=Le,We.prototype.get=At,We.prototype.has=rt,We.prototype.set=ht;function it(_e){var Ke=-1,at=_e?_e.length:0;for(this.clear();++Ke<at;){var wt=_e[Ke];this.set(wt[0],wt[1])}}function $t(){this.__data__={hash:new Dt,map:new(kt||We),string:new Dt}}function zt(_e){return Bi(this,_e).delete(_e)}function Wt(_e){return Bi(this,_e).get(_e)}function un(_e){return Bi(this,_e).has(_e)}function Jt(_e,Ke){return Bi(this,_e).set(_e,Ke),this}it.prototype.clear=$t,it.prototype.delete=zt,it.prototype.get=Wt,it.prototype.has=un,it.prototype.set=Jt;function sn(_e){this.__data__=new We(_e)}function ct(){this.__data__=new We}function xe(_e){return this.__data__.delete(_e)}function je(_e){return this.__data__.get(_e)}function bt(_e){return this.__data__.has(_e)}function qt(_e,Ke){var at=this.__data__;if(at instanceof We){var wt=at.__data__;if(!kt||wt.length<t-1)return wt.push([_e,Ke]),this;at=this.__data__=new it(wt)}return at.set(_e,Ke),this}sn.prototype.clear=ct,sn.prototype.delete=xe,sn.prototype.get=je,sn.prototype.has=bt,sn.prototype.set=qt;function ln(_e,Ke){var at=Ks(_e)||Zo(_e)?ye(_e.length,String):[],wt=at.length,Wn=!!wt;for(var or in _e)(Ke||Ce.call(_e,or))&&!(Wn&&(or=="length"||Ko(or,wt)))&&at.push(or);return at}function hn(_e,Ke,at){var wt=_e[Ke];(!(Ce.call(_e,Ke)&&zi(wt,at))||at===void 0&&!(Ke in _e))&&(_e[Ke]=at)}function xn(_e,Ke){for(var at=_e.length;at--;)if(zi(_e[at][0],Ke))return at;return-1}function Xn(_e,Ke){return _e&&Xs(Ke,xo(Ke),_e)}function gn(_e,Ke,at,wt,Wn,or,Dr){var Sn;if(wt&&(Sn=or?wt(_e,Wn,or,Dr):wt(_e)),Sn!==void 0)return Sn;if(!$i(_e))return _e;var Fa=Ks(_e);if(Fa){if(Sn=ku(_e),!Ke)return os(_e,Sn)}else{var Ur=us(_e),_o=Ur==h||Ur==d;if(Qs(_e))return bs(_e,Ke);if(Ur==S||Ur==s||_o&&!or){if(Pe(_e))return or?_e:{};if(Sn=Ia(_o?{}:_e),!Ke)return as(_e,Xn(Sn,_e))}else{if(!k[Ur])return or?_e:{};Sn=go(_e,Ur,gn,Ke)}}Dr||(Dr=new sn);var Fn=Dr.get(_e);if(Fn)return Fn;if(Dr.set(_e,Sn),!Fa)var wo=at?Ss(_e):xo(_e);return oe(wo||_e,function(Hi,Vr){wo&&(Vr=Hi,Hi=_e[Vr]),hn(Sn,Vr,gn(Hi,Ke,at,wt,Vr,_e,Dr))}),Sn}function Oi(_e){return $i(_e)?Ue(_e):{}}function Ni(_e,Ke,at){var wt=Ke(_e);return Ks(_e)?wt:W(wt,at(_e))}function Ra(_e){return Ae.call(_e)}function Ws(_e){if(!$i(_e)||Js(_e))return!1;var Ke=La(_e)||Pe(_e)?Oe:B;return Ke.test(Nr(_e))}function ka(_e){if(!ls(_e))return Ve(_e);var Ke=[];for(var at in Object(_e))Ce.call(_e,at)&&at!="constructor"&&Ke.push(at);return Ke}function bs(_e,Ke){if(Ke)return _e.slice();var at=new _e.constructor(_e.length);return _e.copy(at),at}function ti(_e){var Ke=new _e.constructor(_e.byteLength);return new ze(Ke).set(new ze(_e)),Ke}function js(_e,Ke){var at=Ke?ti(_e.buffer):_e.buffer;return new _e.constructor(at,_e.byteOffset,_e.byteLength)}function qs(_e,Ke,at){var wt=Ke?at(Je(_e),!0):Je(_e);return ce(wt,se,new _e.constructor)}function An(_e){var Ke=new _e.constructor(_e.source,j.exec(_e));return Ke.lastIndex=_e.lastIndex,Ke}function Ui(_e,Ke,at){var wt=Ke?at(K(_e),!0):K(_e);return ce(wt,ue,new _e.constructor)}function vo(_e){return Mt?Object(Mt.call(_e)):{}}function bl(_e,Ke){var at=Ke?ti(_e.buffer):_e.buffer;return new _e.constructor(at,_e.byteOffset,_e.length)}function os(_e,Ke){var at=-1,wt=_e.length;for(Ke||(Ke=Array(wt));++at<wt;)Ke[at]=_e[at];return Ke}function Xs(_e,Ke,at,wt){at||(at={});for(var Wn=-1,or=Ke.length;++Wn<or;){var Dr=Ke[Wn],Sn=wt?wt(at[Dr],_e[Dr],Dr,at,_e):void 0;hn(at,Dr,Sn===void 0?_e[Dr]:Sn)}return at}function as(_e,Ke){return Xs(_e,ni(_e),Ke)}function Ss(_e){return Ni(_e,xo,ni)}function Bi(_e,Ke){var at=_e.__data__;return Ys(Ke)?at[typeof Ke=="string"?"string":"hash"]:at.map}function Hr(_e,Ke){var at=Te(_e,Ke);return Ws(at)?at:void 0}var ni=Be?ie(Be,Object):Jn,us=Ra;(ot&&us(new ot(new ArrayBuffer(1)))!=$||kt&&us(new kt)!=p||lt&&us(lt.resolve())!=w||_t&&us(new _t)!=x||nn&&us(new nn)!=C)&&(us=function(_e){var Ke=Ae.call(_e),at=Ke==S?_e.constructor:void 0,wt=at?Nr(at):void 0;if(wt)switch(wt){case Gt:return $;case Ot:return p;case mt:return w;case gt:return x;case Ct:return C}return Ke});function ku(_e){var Ke=_e.length,at=_e.constructor(Ke);return Ke&&typeof _e[0]=="string"&&Ce.call(_e,"index")&&(at.index=_e.index,at.input=_e.input),at}function Ia(_e){return typeof _e.constructor=="function"&&!ls(_e)?Oi(ae(_e)):{}}function go(_e,Ke,at,wt){var Wn=_e.constructor;switch(Ke){case N:return ti(_e);case u:case l:return new Wn(+_e);case $:return js(_e,wt);case M:case L:case V:case Z:case H:case D:case R:case P:case F:return bl(_e,wt);case p:return qs(_e,wt,at);case v:case E:return new Wn(_e);case T:return An(_e);case x:return Ui(_e,wt,at);case O:return vo(_e)}}function Ko(_e,Ke){return Ke=Ke==null?i:Ke,!!Ke&&(typeof _e=="number"||U.test(_e))&&_e>-1&&_e%1==0&&_e<Ke}function Ys(_e){var Ke=typeof _e;return Ke=="string"||Ke=="number"||Ke=="symbol"||Ke=="boolean"?_e!=="__proto__":_e===null}function Js(_e){return!!re&&re in _e}function ls(_e){var Ke=_e&&_e.constructor,at=typeof Ke=="function"&&Ke.prototype||Se;return _e===at}function Nr(_e){if(_e!=null){try{return Me.call(_e)}catch{}try{return _e+""}catch{}}return""}function Iu(_e){return gn(_e,!0,!0)}function zi(_e,Ke){return _e===Ke||_e!==_e&&Ke!==Ke}function Zo(_e){return Zs(_e)&&Ce.call(_e,"callee")&&(!Ye.call(_e,"callee")||Ae.call(_e)==s)}var Ks=Array.isArray;function Qo(_e){return _e!=null&&Yn(_e.length)&&!La(_e)}function Zs(_e){return yo(_e)&&Qo(_e)}var Qs=Ze||Gi;function La(_e){var Ke=$i(_e)?Ae.call(_e):"";return Ke==h||Ke==d}function Yn(_e){return typeof _e=="number"&&_e>-1&&_e%1==0&&_e<=i}function $i(_e){var Ke=typeof _e;return!!_e&&(Ke=="object"||Ke=="function")}function yo(_e){return!!_e&&typeof _e=="object"}function xo(_e){return Qo(_e)?ln(_e):ka(_e)}function Jn(){return[]}function Gi(){return!1}n.exports=Iu})(ub,ub.exports);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var h5=function(n,e){return h5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},h5(n,e)};function Or(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");h5(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function dye(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function u(h){try{c(r.next(h))}catch(d){o(d)}}function l(h){try{c(r.throw(h))}catch(d){o(d)}}function c(h){h.done?s(h.value):i(h.value).then(u,l)}c((r=r.apply(n,e||[])).next())})}function d5(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(c){return function(h){return l([c,h])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(h){c=[6,h],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Hs(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Hn(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(u){o={error:u}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return s}function Vn(n,e){for(var t=0,r=e.length,i=n.length;t<r;t++,i++)n[i]=e[t];return n}function F0(n){return this instanceof F0?(this.v=n,this):new F0(n)}function pye(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(p){r[p]&&(i[p]=function(v){return new Promise(function(S,w){s.push([p,v,S,w])>1||u(p,v)})})}function u(p,v){try{l(r[p](v))}catch(S){d(s[0][3],S)}}function l(p){p.value instanceof F0?Promise.resolve(p.value.v).then(c,h):d(s[0][2],p)}function c(p){u("next",p)}function h(p){u("throw",p)}function d(p,v){p(v),s.shift(),s.length&&u(s[0][0],s[0][1])}}function mye(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Hs=="function"?Hs(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(u,l){o=n[s](o),i(u,l,o.done,o.value)})}}function i(s,o,u,l){Promise.resolve(l).then(function(c){s({value:c,done:u})},o)}}function vn(n){return typeof n=="function"}function Ch(n){var e=function(r){Error.call(r),r.stack=new Error().stack},t=n(e);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var lb=Ch(function(n){return function(t){n(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function ml(n,e){if(n){var t=n.indexOf(e);0<=t&&n.splice(t,1)}}var _s=function(){function n(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}return n.prototype.unsubscribe=function(){var e,t,r,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var u=Hs(o),l=u.next();!l.done;l=u.next()){var c=l.value;c.remove(this)}}catch(w){e={error:w}}finally{try{l&&!l.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}else o.remove(this);var h=this.initialTeardown;if(vn(h))try{h()}catch(w){s=w instanceof lb?w.errors:[w]}var d=this._teardowns;if(d){this._teardowns=null;try{for(var p=Hs(d),v=p.next();!v.done;v=p.next()){var S=v.value;try{$H(S)}catch(w){s=s!=null?s:[],w instanceof lb?s=Vn(Vn([],Hn(s)),Hn(w.errors)):s.push(w)}}}catch(w){r={error:w}}finally{try{v&&!v.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}}if(s)throw new lb(s)}},n.prototype.add=function(e){var t;if(e&&e!==this)if(this.closed)$H(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=(t=this._teardowns)!==null&&t!==void 0?t:[]).push(e)}},n.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},n.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},n.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&ml(t,e)},n.prototype.remove=function(e){var t=this._teardowns;t&&ml(t,e),e instanceof n&&e._removeParent(this)},n.EMPTY=function(){var e=new n;return e.closed=!0,e}(),n}(),BH=_s.EMPTY;function zH(n){return n instanceof _s||n&&"closed"in n&&vn(n.remove)&&vn(n.add)&&vn(n.unsubscribe)}function $H(n){vn(n)?n():n.unsubscribe()}var Nc={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},cb={setTimeout:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=cb.delegate;return((t==null?void 0:t.setTimeout)||setTimeout).apply(void 0,Vn([],Hn(n)))},clearTimeout:function(n){var e=cb.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function GH(n){cb.setTimeout(function(){var e=Nc.onUnhandledError;if(e)e(n);else throw n})}function Mr(){}var vye=function(){return p5("C",void 0,void 0)}();function gye(n){return p5("E",void 0,n)}function yye(n){return p5("N",n,void 0)}function p5(n,e,t){return{kind:n,value:e,error:t}}var Ph=null;function fb(n){if(Nc.useDeprecatedSynchronousErrorHandling){var e=!Ph;if(e&&(Ph={errorThrown:!1,error:null}),n(),e){var t=Ph,r=t.errorThrown,i=t.error;if(Ph=null,r)throw i}}else n()}function xye(n){Nc.useDeprecatedSynchronousErrorHandling&&Ph&&(Ph.errorThrown=!0,Ph.error=n)}var hb=function(n){Or(e,n);function e(t){var r=n.call(this)||this;return r.isStopped=!1,t?(r.destination=t,zH(t)&&t.add(r)):r.destination=_ye,r}return e.create=function(t,r,i){return new db(t,r,i)},e.prototype.next=function(t){this.isStopped?v5(yye(t),this):this._next(t)},e.prototype.error=function(t){this.isStopped?v5(gye(t),this):(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped?v5(vye,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,n.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(_s),db=function(n){Or(e,n);function e(t,r,i){var s=n.call(this)||this,o;if(vn(t))o=t;else if(t){o=t.next,r=t.error,i=t.complete;var u;s&&Nc.useDeprecatedNextContext?(u=Object.create(t),u.unsubscribe=function(){return s.unsubscribe()}):u=t,o=o==null?void 0:o.bind(u),r=r==null?void 0:r.bind(u),i=i==null?void 0:i.bind(u)}return s.destination={next:o?m5(o):Mr,error:m5(r!=null?r:HH),complete:i?m5(i):Mr},s}return e}(hb);function m5(n,e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{n.apply(void 0,Vn([],Hn(t)))}catch(i){Nc.useDeprecatedSynchronousErrorHandling?xye(i):GH(i)}}}function HH(n){throw n}function v5(n,e){var t=Nc.onStoppedNotification;t&&cb.setTimeout(function(){return t(n,e)})}var _ye={closed:!0,next:Mr,error:HH,complete:Mr},pb=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function ki(n){return n}function g5(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return VH(n)}function VH(n){return n.length===0?ki:n.length===1?n[0]:function(t){return n.reduce(function(r,i){return i(r)},t)}}var kn=function(){function n(e){e&&(this._subscribe=e)}return n.prototype.lift=function(e){var t=new n;return t.source=this,t.operator=e,t},n.prototype.subscribe=function(e,t,r){var i=this,s=bye(e)?e:new db(e,t,r);return fb(function(){var o=i,u=o.operator,l=o.source;s.add(u?u.call(s,l):l?i._subscribe(s):i._trySubscribe(s))}),s},n.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},n.prototype.forEach=function(e,t){var r=this;return t=WH(t),new t(function(i,s){var o;o=r.subscribe(function(u){try{e(u)}catch(l){s(l),o==null||o.unsubscribe()}},s,i)})},n.prototype._subscribe=function(e){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(e)},n.prototype[pb]=function(){return this},n.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return VH(e)(this)},n.prototype.toPromise=function(e){var t=this;return e=WH(e),new e(function(r,i){var s;t.subscribe(function(o){return s=o},function(o){return i(o)},function(){return r(s)})})},n.create=function(e){return new n(e)},n}();function WH(n){var e;return(e=n!=null?n:Nc.Promise)!==null&&e!==void 0?e:Promise}function wye(n){return n&&vn(n.next)&&vn(n.error)&&vn(n.complete)}function bye(n){return n&&n instanceof hb||wye(n)&&zH(n)}function jH(n){return vn(n==null?void 0:n.lift)}function Bt(n){return function(e){if(jH(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}var Et=function(n){Or(e,n);function e(t,r,i,s,o){var u=n.call(this,t)||this;return u.onFinalize=o,u._next=r?function(l){try{r(l)}catch(c){t.error(c)}}:n.prototype._next,u._error=s?function(l){try{s(l)}catch(c){t.error(c)}finally{this.unsubscribe()}}:n.prototype._error,u._complete=i?function(){try{i()}catch(l){t.error(l)}finally{this.unsubscribe()}}:n.prototype._complete,u}return e.prototype.unsubscribe=function(){var t,r=this.closed;n.prototype.unsubscribe.call(this),!r&&((t=this.onFinalize)===null||t===void 0||t.call(this))},e}(hb);function y5(){return Bt(function(n,e){var t=null;n._refCount++;var r=new Et(e,void 0,void 0,void 0,function(){if(!n||n._refCount<=0||0<--n._refCount){t=null;return}var i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var mb=function(n){Or(e,n);function e(t,r){var i=n.call(this)||this;return i.source=t,i.subjectFactory=r,i._subject=null,i._refCount=0,i._connection=null,jH(t)&&(i.lift=t.lift),i}return e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype._teardown=function(){this._refCount=0;var t=this._connection;this._subject=this._connection=null,t==null||t.unsubscribe()},e.prototype.connect=function(){var t=this,r=this._connection;if(!r){r=this._connection=new _s;var i=this.getSubject();r.add(this.source.subscribe(new Et(i,void 0,function(){t._teardown(),i.complete()},function(s){t._teardown(),i.error(s)},function(){return t._teardown()}))),r.closed&&(this._connection=null,r=_s.EMPTY)}return r},e.prototype.refCount=function(){return y5()(this)},e}(kn),qH={now:function(){return(qH.delegate||performance).now()},delegate:void 0},O0={schedule:function(n){var e=requestAnimationFrame,t=cancelAnimationFrame,r=O0.delegate;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);var i=e(function(s){t=void 0,n(s)});return new _s(function(){return t==null?void 0:t(i)})},requestAnimationFrame:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=O0.delegate;return((t==null?void 0:t.requestAnimationFrame)||requestAnimationFrame).apply(void 0,Vn([],Hn(n)))},cancelAnimationFrame:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=O0.delegate;return((t==null?void 0:t.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,Vn([],Hn(n)))},delegate:void 0};function Sye(n){return n?XH(n):Eye}function XH(n){var e=O0.schedule;return new kn(function(t){var r=new _s,i=n||qH,s=i.now(),o=function(u){var l=i.now();t.next({timestamp:n?l:u,elapsed:l-s}),t.closed||r.add(e(o))};return r.add(e(o)),r})}var Eye=XH(),YH=Ch(function(n){return function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),ei=function(n){Or(e,n);function e(){var t=n.call(this)||this;return t.closed=!1,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return e.prototype.lift=function(t){var r=new JH(this,this);return r.operator=t,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new YH},e.prototype.next=function(t){var r=this;fb(function(){var i,s;if(r._throwIfClosed(),!r.isStopped){var o=r.observers.slice();try{for(var u=Hs(o),l=u.next();!l.done;l=u.next()){var c=l.value;c.next(t)}}catch(h){i={error:h}}finally{try{l&&!l.done&&(s=u.return)&&s.call(u)}finally{if(i)throw i.error}}}})},e.prototype.error=function(t){var r=this;fb(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=t;for(var i=r.observers;i.length;)i.shift().error(t)}})},e.prototype.complete=function(){var t=this;fb(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var r=t.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(t){return this._throwIfClosed(),n.prototype._trySubscribe.call(this,t)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var r=this,i=r.hasError,s=r.isStopped,o=r.observers;return i||s?BH:(o.push(t),new _s(function(){return ml(o,t)}))},e.prototype._checkFinalizedStatuses=function(t){var r=this,i=r.hasError,s=r.thrownError,o=r.isStopped;i?t.error(s):o&&t.complete()},e.prototype.asObservable=function(){var t=new kn;return t.source=this,t},e.create=function(t,r){return new JH(t,r)},e}(kn),JH=function(n){Or(e,n);function e(t,r){var i=n.call(this)||this;return i.destination=t,i.source=r,i}return e.prototype.next=function(t){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,t)},e.prototype.error=function(t){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,t)},e.prototype.complete=function(){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||r===void 0||r.call(t)},e.prototype._subscribe=function(t){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(t))!==null&&i!==void 0?i:BH},e}(ei),KH=function(n){Or(e,n);function e(t){var r=n.call(this)||this;return r._value=t,r}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(t){var r=n.prototype._subscribe.call(this,t);return!r.closed&&t.next(this._value),r},e.prototype.getValue=function(){var t=this,r=t.hasError,i=t.thrownError,s=t._value;if(r)throw i;return this._throwIfClosed(),s},e.prototype.next=function(t){n.prototype.next.call(this,this._value=t)},e}(ei),vb={now:function(){return(vb.delegate||Date).now()},delegate:void 0},x5=function(n){Or(e,n);function e(t,r,i){t===void 0&&(t=1/0),r===void 0&&(r=1/0),i===void 0&&(i=vb);var s=n.call(this)||this;return s._bufferSize=t,s._windowTime=r,s._timestampProvider=i,s._buffer=[],s._infiniteTimeWindow=!0,s._infiniteTimeWindow=r===1/0,s._bufferSize=Math.max(1,t),s._windowTime=Math.max(1,r),s}return e.prototype.next=function(t){var r=this,i=r.isStopped,s=r._buffer,o=r._infiniteTimeWindow,u=r._timestampProvider,l=r._windowTime;i||(s.push(t),!o&&s.push(u.now()+l)),this._trimBuffer(),n.prototype.next.call(this,t)},e.prototype._subscribe=function(t){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(t),i=this,s=i._infiniteTimeWindow,o=i._buffer,u=o.slice(),l=0;l<u.length&&!t.closed;l+=s?1:2)t.next(u[l]);return this._checkFinalizedStatuses(t),r},e.prototype._trimBuffer=function(){var t=this,r=t._bufferSize,i=t._timestampProvider,s=t._buffer,o=t._infiniteTimeWindow,u=(o?1:2)*r;if(r<1/0&&u<s.length&&s.splice(0,s.length-u),!o){for(var l=i.now(),c=0,h=1;h<s.length&&s[h]<=l;h+=2)c=h;c&&s.splice(0,c+1)}},e}(ei),_5=function(n){Or(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._value=null,t._hasValue=!1,t._isComplete=!1,t}return e.prototype._checkFinalizedStatuses=function(t){var r=this,i=r.hasError,s=r._hasValue,o=r._value,u=r.thrownError,l=r.isStopped,c=r._isComplete;i?t.error(u):(l||c)&&(s&&t.next(o),t.complete())},e.prototype.next=function(t){this.isStopped||(this._value=t,this._hasValue=!0)},e.prototype.complete=function(){var t=this,r=t._hasValue,i=t._value,s=t._isComplete;s||(this._isComplete=!0,r&&n.prototype.next.call(this,i),n.prototype.complete.call(this))},e}(ei),Mye=function(n){Or(e,n);function e(t,r){return n.call(this)||this}return e.prototype.schedule=function(t,r){return this},e}(_s),gb={setInterval:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=gb.delegate;return((t==null?void 0:t.setInterval)||setInterval).apply(void 0,Vn([],Hn(n)))},clearInterval:function(n){var e=gb.delegate;return((e==null?void 0:e.clearInterval)||clearInterval)(n)},delegate:void 0},x1=function(n){Or(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.scheduler=t,i.work=r,i.pending=!1,i}return e.prototype.schedule=function(t,r){if(r===void 0&&(r=0),this.closed)return this;this.state=t;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,r)),this.pending=!0,this.delay=r,this.id=this.id||this.requestAsyncId(s,this.id,r),this},e.prototype.requestAsyncId=function(t,r,i){return i===void 0&&(i=0),gb.setInterval(t.flush.bind(t,this),i)},e.prototype.recycleAsyncId=function(t,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;gb.clearInterval(r)},e.prototype.execute=function(t,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(t,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,r){var i=!1,s;try{this.work(t)}catch(o){i=!0,s=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),s},e.prototype.unsubscribe=function(){if(!this.closed){var t=this,r=t.id,i=t.scheduler,s=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,ml(s,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,n.prototype.unsubscribe.call(this)}},e}(Mye),Dye=1,w5,b5={};function ZH(n){return n in b5?(delete b5[n],!0):!1}var QH={setImmediate:function(n){var e=Dye++;return b5[e]=!0,w5||(w5=Promise.resolve()),w5.then(function(){return ZH(e)&&n()}),e},clearImmediate:function(n){ZH(n)}},Aye=QH.setImmediate,Tye=QH.clearImmediate,yb={setImmediate:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=yb.delegate;return((t==null?void 0:t.setImmediate)||Aye).apply(void 0,Vn([],Hn(n)))},clearImmediate:function(n){var e=yb.delegate;return((e==null?void 0:e.clearImmediate)||Tye)(n)},delegate:void 0},Cye=function(n){Or(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.scheduler=t,i.work=r,i}return e.prototype.requestAsyncId=function(t,r,i){return i===void 0&&(i=0),i!==null&&i>0?n.prototype.requestAsyncId.call(this,t,r,i):(t.actions.push(this),t._scheduled||(t._scheduled=yb.setImmediate(t.flush.bind(t,void 0))))},e.prototype.recycleAsyncId=function(t,r,i){if(i===void 0&&(i=0),i!=null&&i>0||i==null&&this.delay>0)return n.prototype.recycleAsyncId.call(this,t,r,i);t.actions.length===0&&(yb.clearImmediate(r),t._scheduled=void 0)},e}(x1),S5=function(){function n(e,t){t===void 0&&(t=n.now),this.schedulerActionCtor=e,this.now=t}return n.prototype.schedule=function(e,t,r){return t===void 0&&(t=0),new this.schedulerActionCtor(this,e).schedule(r,t)},n.now=vb.now,n}(),_1=function(n){Or(e,n);function e(t,r){r===void 0&&(r=S5.now);var i=n.call(this,t,r)||this;return i.actions=[],i._active=!1,i._scheduled=void 0,i}return e.prototype.flush=function(t){var r=this.actions;if(this._active){r.push(t);return}var i;this._active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=r.shift());if(this._active=!1,i){for(;t=r.shift();)t.unsubscribe();throw i}},e}(S5),Pye=function(n){Or(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.flush=function(t){this._active=!0,this._scheduled=void 0;var r=this.actions,i,s=-1;t=t||r.shift();var o=r.length;do if(i=t.execute(t.state,t.delay))break;while(++s<o&&(t=r.shift()));if(this._active=!1,i){for(;++s<o&&(t=r.shift());)t.unsubscribe();throw i}},e}(_1),eV=new Pye(Cye),Rye=eV,Pu=new _1(x1),w1=Pu,kye=function(n){Or(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.scheduler=t,i.work=r,i}return e.prototype.schedule=function(t,r){return r===void 0&&(r=0),r>0?n.prototype.schedule.call(this,t,r):(this.delay=r,this.state=t,this.scheduler.flush(this),this)},e.prototype.execute=function(t,r){return r>0||this.closed?n.prototype.execute.call(this,t,r):this._execute(t,r)},e.prototype.requestAsyncId=function(t,r,i){return i===void 0&&(i=0),i!=null&&i>0||i==null&&this.delay>0?n.prototype.requestAsyncId.call(this,t,r,i):t.flush(this)},e}(x1),Iye=function(n){Or(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e}(_1),tV=new Iye(kye),Lye=tV,Fye=function(n){Or(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.scheduler=t,i.work=r,i}return e.prototype.requestAsyncId=function(t,r,i){return i===void 0&&(i=0),i!==null&&i>0?n.prototype.requestAsyncId.call(this,t,r,i):(t.actions.push(this),t._scheduled||(t._scheduled=O0.requestAnimationFrame(function(){return t.flush(void 0)})))},e.prototype.recycleAsyncId=function(t,r,i){if(i===void 0&&(i=0),i!=null&&i>0||i==null&&this.delay>0)return n.prototype.recycleAsyncId.call(this,t,r,i);t.actions.length===0&&(O0.cancelAnimationFrame(r),t._scheduled=void 0)},e}(x1),Oye=function(n){Or(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.flush=function(t){this._active=!0,this._scheduled=void 0;var r=this.actions,i,s=-1;t=t||r.shift();var o=r.length;do if(i=t.execute(t.state,t.delay))break;while(++s<o&&(t=r.shift()));if(this._active=!1,i){for(;++s<o&&(t=r.shift());)t.unsubscribe();throw i}},e}(_1),nV=new Oye(Fye),Nye=nV,Uye=function(n){Or(e,n);function e(t,r){t===void 0&&(t=rV),r===void 0&&(r=1/0);var i=n.call(this,t,function(){return i.frame})||this;return i.maxFrames=r,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var t=this,r=t.actions,i=t.maxFrames,s,o;(o=r[0])&&o.delay<=i&&(r.shift(),this.frame=o.delay,!(s=o.execute(o.state,o.delay))););if(s){for(;o=r.shift();)o.unsubscribe();throw s}},e.frameTimeFactor=10,e}(_1),rV=function(n){Or(e,n);function e(t,r,i){i===void 0&&(i=t.index+=1);var s=n.call(this,t,r)||this;return s.scheduler=t,s.work=r,s.index=i,s.active=!0,s.index=t.index=i,s}return e.prototype.schedule=function(t,r){if(r===void 0&&(r=0),Number.isFinite(r)){if(!this.id)return n.prototype.schedule.call(this,t,r);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(t,r)}else return _s.EMPTY},e.prototype.requestAsyncId=function(t,r,i){i===void 0&&(i=0),this.delay=t.frame+i;var s=t.actions;return s.push(this),s.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,r,i){},e.prototype._execute=function(t,r){if(this.active===!0)return n.prototype._execute.call(this,t,r)},e.sortActions=function(t,r){return t.delay===r.delay?t.index===r.index?0:t.index>r.index?1:-1:t.delay>r.delay?1:-1},e}(x1),Ta=new kn(function(n){return n.complete()});function Bye(n){return n?zye(n):Ta}function zye(n){return new kn(function(e){return n.schedule(function(){return e.complete()})})}function xb(n){return n&&vn(n.schedule)}function E5(n){return n[n.length-1]}function b1(n){return vn(E5(n))?n.pop():void 0}function vl(n){return xb(E5(n))?n.pop():void 0}function iV(n,e){return typeof E5(n)=="number"?n.pop():e}var M5=function(n){return n&&typeof n.length=="number"&&typeof n!="function"};function sV(n){return vn(n==null?void 0:n.then)}function oV(n){return vn(n[pb])}function aV(n){return Symbol.asyncIterator&&vn(n==null?void 0:n[Symbol.asyncIterator])}function uV(n){return new TypeError("You provided "+(n!==null&&typeof n=="object"?"an invalid object":"'"+n+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function $ye(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var lV=$ye();function cV(n){return vn(n==null?void 0:n[lV])}function fV(n){return pye(this,arguments,function(){var t,r,i,s;return d5(this,function(o){switch(o.label){case 0:t=n.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,F0(t.read())];case 3:return r=o.sent(),i=r.value,s=r.done,s?[4,F0(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,F0(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function hV(n){return vn(n==null?void 0:n.getReader)}function Dn(n){if(n instanceof kn)return n;if(n!=null){if(oV(n))return Gye(n);if(M5(n))return Hye(n);if(sV(n))return Vye(n);if(aV(n))return dV(n);if(cV(n))return Wye(n);if(hV(n))return jye(n)}throw uV(n)}function Gye(n){return new kn(function(e){var t=n[pb]();if(vn(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Hye(n){return new kn(function(e){for(var t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function Vye(n){return new kn(function(e){n.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,GH)})}function Wye(n){return new kn(function(e){var t,r;try{for(var i=Hs(n),s=i.next();!s.done;s=i.next()){var o=s.value;if(e.next(o),e.closed)return}}catch(u){t={error:u}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}e.complete()})}function dV(n){return new kn(function(e){qye(n,e).catch(function(t){return e.error(t)})})}function jye(n){return dV(fV(n))}function qye(n,e){var t,r,i,s;return dye(this,void 0,void 0,function(){var o,u;return d5(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),t=mye(n),l.label=1;case 1:return[4,t.next()];case 2:if(r=l.sent(),!!r.done)return[3,4];if(o=r.value,e.next(o),e.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return u=l.sent(),i={error:u},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(s=t.return)?[4,s.call(t)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function Vs(n,e,t,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function S1(n,e){return e===void 0&&(e=0),Bt(function(t,r){t.subscribe(new Et(r,function(i){return Vs(r,n,function(){return r.next(i)},e)},function(){return Vs(r,n,function(){return r.complete()},e)},function(i){return Vs(r,n,function(){return r.error(i)},e)}))})}function E1(n,e){return e===void 0&&(e=0),Bt(function(t,r){r.add(n.schedule(function(){return t.subscribe(r)},e))})}function Xye(n,e){return Dn(n).pipe(E1(e),S1(e))}function Yye(n,e){return Dn(n).pipe(E1(e),S1(e))}function Jye(n,e){return new kn(function(t){var r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function pV(n,e){return new kn(function(t){var r;return Vs(t,e,function(){r=n[lV](),Vs(t,e,function(){var i,s,o;try{i=r.next(),s=i.value,o=i.done}catch(u){t.error(u);return}o?t.complete():t.next(s)},0,!0)}),function(){return vn(r==null?void 0:r.return)&&r.return()}})}function mV(n,e){if(!n)throw new Error("Iterable cannot be null");return new kn(function(t){Vs(t,e,function(){var r=n[Symbol.asyncIterator]();Vs(t,e,function(){r.next().then(function(i){i.done?t.complete():t.next(i.value)})},0,!0)})})}function Kye(n,e){return mV(fV(n),e)}function vV(n,e){if(n!=null){if(oV(n))return Xye(n,e);if(M5(n))return Jye(n,e);if(sV(n))return Yye(n,e);if(aV(n))return mV(n,e);if(cV(n))return pV(n,e);if(hV(n))return Kye(n,e)}throw uV(n)}function Ca(n,e){return e?vV(n,e):Dn(n)}function D5(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=vl(n);return Ca(n,t)}function gV(n,e){var t=vn(n)?n:function(){return n},r=function(i){return i.error(t())};return new kn(e?function(i){return e.schedule(r,0,i)}:r)}var A5;(function(n){n.NEXT="N",n.ERROR="E",n.COMPLETE="C"})(A5||(A5={}));var _b=function(){function n(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue=e==="N"}return n.prototype.observe=function(e){return yV(this,e)},n.prototype.do=function(e,t,r){var i=this,s=i.kind,o=i.value,u=i.error;return s==="N"?e==null?void 0:e(o):s==="E"?t==null?void 0:t(u):r==null?void 0:r()},n.prototype.accept=function(e,t,r){var i;return vn((i=e)===null||i===void 0?void 0:i.next)?this.observe(e):this.do(e,t,r)},n.prototype.toObservable=function(){var e=this,t=e.kind,r=e.value,i=e.error,s=t==="N"?D5(r):t==="E"?gV(function(){return i}):t==="C"?Ta:0;if(!s)throw new TypeError("Unexpected notification kind "+t);return s},n.createNext=function(e){return new n("N",e)},n.createError=function(e){return new n("E",void 0,e)},n.createComplete=function(){return n.completeNotification},n.completeNotification=new n("C"),n}();function yV(n,e){var t,r,i,s=n,o=s.kind,u=s.value,l=s.error;if(typeof o!="string")throw new TypeError('Invalid notification, missing "kind"');o==="N"?(t=e.next)===null||t===void 0||t.call(e,u):o==="E"?(r=e.error)===null||r===void 0||r.call(e,l):(i=e.complete)===null||i===void 0||i.call(e)}function Zye(n){return!!n&&(n instanceof kn||vn(n.lift)&&vn(n.subscribe))}var Rh=Ch(function(n){return function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}});function Qye(n,e){var t=typeof e=="object";return new Promise(function(r,i){var s=!1,o;n.subscribe({next:function(u){o=u,s=!0},error:i,complete:function(){s?r(o):t?r(e.defaultValue):i(new Rh)}})})}function exe(n,e){var t=typeof e=="object";return new Promise(function(r,i){var s=new db({next:function(o){r(o),s.unsubscribe()},error:i,complete:function(){t?r(e.defaultValue):i(new Rh)}});n.subscribe(s)})}var T5=Ch(function(n){return function(){n(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}}),xV=Ch(function(n){return function(t){n(this),this.name="NotFoundError",this.message=t}}),_V=Ch(function(n){return function(t){n(this),this.name="SequenceError",this.message=t}});function C5(n){return n instanceof Date&&!isNaN(n)}var wV=Ch(function(n){return function(t){t===void 0&&(t=null),n(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}});function P5(n,e){var t=C5(n)?{first:n}:typeof n=="number"?{each:n}:n,r=t.first,i=t.each,s=t.with,o=s===void 0?txe:s,u=t.scheduler,l=u===void 0?e!=null?e:Pu:u,c=t.meta,h=c===void 0?null:c;if(r==null&&i==null)throw new TypeError("No timeout provided.");return Bt(function(d,p){var v,S,w=null,T=0,x=function(E){S=Vs(p,l,function(){try{v.unsubscribe(),Dn(o({meta:h,lastValue:w,seen:T})).subscribe(p)}catch(O){p.error(O)}},E)};v=d.subscribe(new Et(p,function(E){S==null||S.unsubscribe(),T++,p.next(w=E),i>0&&x(i)},void 0,void 0,function(){(S==null?void 0:S.closed)||S==null||S.unsubscribe(),w=null})),x(r!=null?typeof r=="number"?r:+r-l.now():i)})}function txe(n){throw new wV(n)}function gl(n,e){return Bt(function(t,r){var i=0;t.subscribe(new Et(r,function(s){r.next(n.call(e,s,i++))}))})}var nxe=Array.isArray;function rxe(n,e){return nxe(e)?n.apply(void 0,Vn([],Hn(e))):n(e)}function kh(n){return gl(function(e){return rxe(n,e)})}function wb(n,e,t,r){if(t)if(xb(t))r=t;else return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return wb(n,e,r).apply(this,i).pipe(kh(t))};return r?function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return wb(n,e).apply(this,i).pipe(E1(r),S1(r))}:function(){for(var i=this,s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];var u=new _5,l=!0;return new kn(function(c){var h=u.subscribe(c);if(l){l=!1;var d=!1,p=!1;e.apply(i,Vn(Vn([],Hn(s)),[function(){for(var v=[],S=0;S<arguments.length;S++)v[S]=arguments[S];if(n){var w=v.shift();if(w!=null){u.error(w);return}}u.next(1<v.length?v:v[0]),p=!0,d&&u.complete()}])),p&&u.complete(),d=!0}return h})}}function ixe(n,e,t){return wb(!1,n,e,t)}function sxe(n,e,t){return wb(!0,n,e,t)}var oxe=Array.isArray,axe=Object.getPrototypeOf,uxe=Object.prototype,lxe=Object.keys;function bV(n){if(n.length===1){var e=n[0];if(oxe(e))return{args:e,keys:null};if(cxe(e)){var t=lxe(e);return{args:t.map(function(r){return e[r]}),keys:t}}}return{args:n,keys:null}}function cxe(n){return n&&typeof n=="object"&&axe(n)===uxe}function SV(n,e){return n.reduce(function(t,r,i){return t[r]=e[i],t},{})}function EV(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=vl(n),r=b1(n),i=bV(n),s=i.args,o=i.keys;if(s.length===0)return Ca([],t);var u=new kn(MV(s,t,o?function(l){return SV(o,l)}:ki));return r?u.pipe(kh(r)):u}function MV(n,e,t){return t===void 0&&(t=ki),function(r){DV(e,function(){for(var i=n.length,s=new Array(i),o=i,u=i,l=function(h){DV(e,function(){var d=Ca(n[h],e),p=!1;d.subscribe(new Et(r,function(v){s[h]=v,p||(p=!0,u--),u||r.next(t(s.slice()))},function(){--o||r.complete()}))},r)},c=0;c<i;c++)l(c)},r)}}function DV(n,e,t){n?Vs(t,n,e):e()}function R5(n,e,t,r,i,s,o,u){var l=[],c=0,h=0,d=!1,p=function(){d&&!l.length&&!c&&e.complete()},v=function(w){return c<r?S(w):l.push(w)},S=function(w){s&&e.next(w),c++;var T=!1;Dn(t(w,h++)).subscribe(new Et(e,function(x){i==null||i(x),s?v(x):e.next(x)},function(){T=!0},void 0,function(){if(T)try{c--;for(var x=function(){var E=l.shift();o?Vs(e,o,function(){return S(E)}):S(E)};l.length&&c<r;)x();p()}catch(E){e.error(E)}}))};return n.subscribe(new Et(e,v,function(){d=!0,p()})),function(){u==null||u()}}function Yo(n,e,t){return t===void 0&&(t=1/0),vn(e)?Yo(function(r,i){return gl(function(s,o){return e(r,s,i,o)})(Dn(n(r,i)))},t):(typeof e=="number"&&(t=e),Bt(function(r,i){return R5(r,i,n,t)}))}function M1(n){return n===void 0&&(n=1/0),Yo(ki,n)}function bb(){return M1(1)}function D1(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return bb()(Ca(n,vl(n)))}function A1(n){return new kn(function(e){Dn(n()).subscribe(e)})}var fxe={connector:function(){return new ei},resetOnDisconnect:!0};function hxe(n,e){e===void 0&&(e=fxe);var t=null,r=e.connector,i=e.resetOnDisconnect,s=i===void 0?!0:i,o=r(),u=new kn(function(l){return o.subscribe(l)});return u.connect=function(){return(!t||t.closed)&&(t=A1(function(){return n}).subscribe(o),s&&t.add(function(){return o=r()})),t},u}function dxe(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=b1(n),r=bV(n),i=r.args,s=r.keys,o=new kn(function(u){var l=i.length;if(!l){u.complete();return}for(var c=new Array(l),h=l,d=l,p=function(S){var w=!1;Dn(i[S]).subscribe(new Et(u,function(T){w||(w=!0,d--),c[S]=T},function(){return h--},void 0,function(){(!h||!w)&&(d||u.next(s?SV(s,c):c),u.complete())}))},v=0;v<l;v++)p(v)});return t?o.pipe(kh(t)):o}var pxe=["addListener","removeListener"],mxe=["addEventListener","removeEventListener"],vxe=["on","off"];function k5(n,e,t,r){if(vn(t)&&(r=t,t=void 0),r)return k5(n,e,t).pipe(kh(r));var i=Hn(xxe(n)?mxe.map(function(u){return function(l){return n[u](e,l,t)}}):gxe(n)?pxe.map(AV(n,e)):yxe(n)?vxe.map(AV(n,e)):[],2),s=i[0],o=i[1];if(!s&&M5(n))return Yo(function(u){return k5(u,e,t)})(Dn(n));if(!s)throw new TypeError("Invalid event target");return new kn(function(u){var l=function(){for(var c=[],h=0;h<arguments.length;h++)c[h]=arguments[h];return u.next(1<c.length?c:c[0])};return s(l),function(){return o(l)}})}function AV(n,e){return function(t){return function(r){return n[t](e,r)}}}function gxe(n){return vn(n.addListener)&&vn(n.removeListener)}function yxe(n){return vn(n.on)&&vn(n.off)}function xxe(n){return vn(n.addEventListener)&&vn(n.removeEventListener)}function TV(n,e,t){return t?TV(n,e).pipe(kh(t)):new kn(function(r){var i=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return r.next(o.length===1?o[0]:o)},s=n(i);return vn(e)?function(){return e(i,s)}:void 0})}function _xe(n,e,t,r,i){var s,o,u,l;arguments.length===1?(s=n,l=s.initialState,e=s.condition,t=s.iterate,o=s.resultSelector,u=o===void 0?ki:o,i=s.scheduler):(l=n,!r||xb(r)?(u=ki,i=r):u=r);function c(){var h;return d5(this,function(d){switch(d.label){case 0:h=l,d.label=1;case 1:return!e||e(h)?[4,u(h)]:[3,4];case 2:d.sent(),d.label=3;case 3:return h=t(h),[3,1];case 4:return[2]}})}return A1(i?function(){return pV(c(),i)}:c)}function wxe(n,e,t){return A1(function(){return n()?e:t})}function N0(n,e,t){n===void 0&&(n=0),t===void 0&&(t=w1);var r=-1;return e!=null&&(xb(e)?t=e:r=e),new kn(function(i){var s=C5(n)?+n-t.now():n;s<0&&(s=0);var o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function CV(n,e){return n===void 0&&(n=0),e===void 0&&(e=Pu),n<0&&(n=0),N0(n,n,e)}function bxe(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=vl(n),r=iV(n,1/0),i=n;return i.length?i.length===1?Dn(i[0]):M1(r)(Ca(i,t)):Ta}var PV=new kn(Mr);function Sxe(){return PV}var Exe=Array.isArray;function Ih(n){return n.length===1&&Exe(n[0])?n[0]:n}function RV(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=Ih(n);return Bt(function(r,i){var s=Vn([r],Hn(t)),o=function(){if(!i.closed)if(s.length>0){var u=void 0;try{u=Dn(s.shift())}catch{o();return}var l=new Et(i,void 0,Mr,Mr);i.add(u.subscribe(l)),l.add(o)}else i.complete()};o()})}function Mxe(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return RV(Ih(n))(Ta)}function Dxe(n,e){return Ca(Object.entries(n),e)}function kV(n,e){return function(t,r){return!n.call(e,t,r)}}function Ru(n,e){return Bt(function(t,r){var i=0;t.subscribe(new Et(r,function(s){return n.call(e,s,i++)&&r.next(s)}))})}function Axe(n,e,t){return[Ru(e,t)(Dn(n)),Ru(kV(e,t))(Dn(n))]}function Txe(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return n=Ih(n),n.length===1?Dn(n[0]):new kn(IV(n))}function IV(n){return function(e){for(var t=[],r=function(s){t.push(Dn(n[s]).subscribe(new Et(e,function(o){if(t){for(var u=0;u<t.length;u++)u!==s&&t[u].unsubscribe();t=null}e.next(o)})))},i=0;t&&!e.closed&&i<n.length;i++)r(i)}}function Cxe(n,e,t){if(e==null&&(e=n,n=0),e<=0)return Ta;var r=e+n;return new kn(t?function(i){var s=n;return t.schedule(function(){s<r?(i.next(s++),this.schedule()):i.complete()})}:function(i){for(var s=n;s<r&&!i.closed;)i.next(s++);i.complete()})}function Pxe(n,e){return new kn(function(t){var r=n(),i=e(r),s=i?Dn(i):Ta;return s.subscribe(t),function(){r&&r.unsubscribe()}})}function I5(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=b1(n),r=Ih(n);return r.length?new kn(function(i){var s=r.map(function(){return[]}),o=r.map(function(){return!1});i.add(function(){s=o=null});for(var u=function(c){Dn(r[c]).subscribe(new Et(i,function(h){if(s[c].push(h),s.every(function(p){return p.length})){var d=s.map(function(p){return p.shift()});i.next(t?t.apply(void 0,Vn([],Hn(d))):d),s.some(function(p,v){return!p.length&&o[v]})&&i.complete()}},function(){o[c]=!0,!s[c].length&&i.complete()}))},l=0;!i.closed&&l<r.length;l++)u(l);return function(){s=o=null}}):Ta}function L5(n){return Bt(function(e,t){var r=!1,i=null,s=null,o=!1,u=function(){if(s==null||s.unsubscribe(),s=null,r){r=!1;var c=i;i=null,t.next(c)}o&&t.complete()},l=function(){s=null,o&&t.complete()};e.subscribe(new Et(t,function(c){r=!0,i=c,s||Dn(n(c)).subscribe(s=new Et(t,u,l))},function(){o=!0,(!r||!s||s.closed)&&t.complete()}))})}function LV(n,e){return e===void 0&&(e=w1),L5(function(){return N0(n,e)})}function FV(n){return Bt(function(e,t){var r=[];return e.subscribe(new Et(t,function(i){return r.push(i)},function(){t.next(r),t.complete()})),n.subscribe(new Et(t,function(){var i=r;r=[],t.next(i)},Mr)),function(){r=null}})}function OV(n,e){return e===void 0&&(e=null),e=e!=null?e:n,Bt(function(t,r){var i=[],s=0;t.subscribe(new Et(r,function(o){var u,l,c,h,d=null;s++%e==0&&i.push([]);try{for(var p=Hs(i),v=p.next();!v.done;v=p.next()){var S=v.value;S.push(o),n<=S.length&&(d=d!=null?d:[],d.push(S))}}catch(x){u={error:x}}finally{try{v&&!v.done&&(l=p.return)&&l.call(p)}finally{if(u)throw u.error}}if(d)try{for(var w=Hs(d),T=w.next();!T.done;T=w.next()){var S=T.value;ml(i,S),r.next(S)}}catch(x){c={error:x}}finally{try{T&&!T.done&&(h=w.return)&&h.call(w)}finally{if(c)throw c.error}}},function(){var o,u;try{for(var l=Hs(i),c=l.next();!c.done;c=l.next()){var h=c.value;r.next(h)}}catch(d){o={error:d}}finally{try{c&&!c.done&&(u=l.return)&&u.call(l)}finally{if(o)throw o.error}}r.complete()},void 0,function(){i=null}))})}function NV(n){for(var e,t,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=(e=vl(r))!==null&&e!==void 0?e:Pu,o=(t=r[0])!==null&&t!==void 0?t:null,u=r[1]||1/0;return Bt(function(l,c){var h=[],d=!1,p=function(w){var T=w.buffer,x=w.subs;x.unsubscribe(),ml(h,w),c.next(T),d&&v()},v=function(){if(h){var w=new _s;c.add(w);var T=[],x={buffer:T,subs:w};h.push(x),Vs(w,s,function(){return p(x)},n)}};o!==null&&o>=0?Vs(c,s,v,o,!0):d=!0,v();var S=new Et(c,function(w){var T,x,E=h.slice();try{for(var O=Hs(E),C=O.next();!C.done;C=O.next()){var N=C.value,$=N.buffer;$.push(w),u<=$.length&&p(N)}}catch(M){T={error:M}}finally{try{C&&!C.done&&(x=O.return)&&x.call(O)}finally{if(T)throw T.error}}},function(){for(;h==null?void 0:h.length;)c.next(h.shift().buffer);S==null||S.unsubscribe(),c.complete(),c.unsubscribe()},void 0,function(){return h=null});l.subscribe(S)})}function UV(n,e){return Bt(function(t,r){var i=[];Dn(n).subscribe(new Et(r,function(s){var o=[];i.push(o);var u=new _s,l=function(){ml(i,o),r.next(o),u.unsubscribe()};u.add(Dn(e(s)).subscribe(new Et(r,l,Mr)))},Mr)),t.subscribe(new Et(r,function(s){var o,u;try{for(var l=Hs(i),c=l.next();!c.done;c=l.next()){var h=c.value;h.push(s)}}catch(d){o={error:d}}finally{try{c&&!c.done&&(u=l.return)&&u.call(l)}finally{if(o)throw o.error}}},function(){for(;i.length>0;)r.next(i.shift());r.complete()}))})}function BV(n){return Bt(function(e,t){var r=null,i=null,s=function(){i==null||i.unsubscribe();var o=r;r=[],o&&t.next(o),Dn(n()).subscribe(i=new Et(t,s,Mr))};s(),e.subscribe(new Et(t,function(o){return r==null?void 0:r.push(o)},function(){r&&t.next(r),t.complete()},void 0,function(){return r=i=null}))})}function F5(n){return Bt(function(e,t){var r=null,i=!1,s;r=e.subscribe(new Et(t,void 0,void 0,function(o){s=Dn(n(o,F5(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function zV(n,e,t,r,i){return function(s,o){var u=t,l=e,c=0;s.subscribe(new Et(o,function(h){var d=c++;l=u?n(l,h,d):(u=!0,h),r&&o.next(l)},i&&function(){u&&o.next(l),o.complete()}))}}function U0(n,e){return Bt(zV(n,e,arguments.length>=2,!1,!0))}var Rxe=function(n,e){return n.push(e),n};function O5(){return Bt(function(n,e){U0(Rxe,[])(n).subscribe(e)})}function $V(n,e){return g5(O5(),Yo(function(t){return n(t)}),e?kh(e):ki)}function N5(n){return $V(EV,n)}var GV=N5;function U5(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=b1(n);return t?g5(U5.apply(void 0,Vn([],Hn(n))),kh(t)):Bt(function(r,i){MV(Vn([r],Hn(Ih(n))))(i)})}function HV(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return U5.apply(void 0,Vn([],Hn(n)))}function Sb(n,e){return vn(e)?Yo(n,e,1):Yo(n,1)}function VV(n,e){return vn(e)?Sb(function(){return n},e):Sb(function(){return n})}function WV(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=vl(n);return Bt(function(r,i){bb()(Ca(Vn([r],Hn(n)),t)).subscribe(i)})}function jV(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return WV.apply(void 0,Vn([],Hn(n)))}function kxe(n){return new kn(function(e){return n.subscribe(e)})}var Ixe={connector:function(){return new ei}};function Eb(n,e){e===void 0&&(e=Ixe);var t=e.connector;return Bt(function(r,i){var s=t();Ca(n(kxe(s))).subscribe(i),i.add(r.subscribe(s))})}function qV(n){return U0(function(e,t,r){return!n||n(t,r)?e+1:e},0)}function XV(n){return Bt(function(e,t){var r=!1,i=null,s=null,o=function(){if(s==null||s.unsubscribe(),s=null,r){r=!1;var u=i;i=null,t.next(u)}};e.subscribe(new Et(t,function(u){s==null||s.unsubscribe(),r=!0,i=u,s=new Et(t,o,Mr),Dn(n(u)).subscribe(s)},function(){o(),t.complete()},void 0,function(){i=s=null}))})}function YV(n,e){return e===void 0&&(e=Pu),Bt(function(t,r){var i=null,s=null,o=null,u=function(){if(i){i.unsubscribe(),i=null;var c=s;s=null,r.next(c)}};function l(){var c=o+n,h=e.now();if(h<c){i=this.schedule(void 0,c-h),r.add(i);return}u()}t.subscribe(new Et(r,function(c){s=c,o=e.now(),i||(i=e.schedule(l,n),r.add(i))},function(){u(),r.complete()},void 0,function(){s=i=null}))})}function T1(n){return Bt(function(e,t){var r=!1;e.subscribe(new Et(t,function(i){r=!0,t.next(i)},function(){r||t.next(n),t.complete()}))})}function Lh(n){return n<=0?function(){return Ta}:Bt(function(e,t){var r=0;e.subscribe(new Et(t,function(i){++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function B5(){return Bt(function(n,e){n.subscribe(new Et(e,Mr))})}function z5(n){return gl(function(){return n})}function Mb(n,e){return e?function(t){return D1(e.pipe(Lh(1),B5()),t.pipe(Mb(n)))}:Yo(function(t,r){return n(t,r).pipe(Lh(1),z5(t))})}function JV(n,e){e===void 0&&(e=Pu);var t=N0(n,e);return Mb(function(){return t})}function KV(){return Bt(function(n,e){n.subscribe(new Et(e,function(t){return yV(t,e)}))})}function ZV(n,e){return Bt(function(t,r){var i=new Set;t.subscribe(new Et(r,function(s){var o=n?n(s):s;i.has(o)||(i.add(o),r.next(s))})),e==null||e.subscribe(new Et(r,function(){return i.clear()},Mr))})}function $5(n,e){return e===void 0&&(e=ki),n=n!=null?n:Lxe,Bt(function(t,r){var i,s=!0;t.subscribe(new Et(r,function(o){var u=e(o);(s||!n(i,u))&&(s=!1,i=u,r.next(o))}))})}function Lxe(n,e){return n===e}function QV(n,e){return $5(function(t,r){return e?e(t[n],r[n]):t[n]===r[n]})}function C1(n){return n===void 0&&(n=Fxe),Bt(function(e,t){var r=!1;e.subscribe(new Et(t,function(i){r=!0,t.next(i)},function(){return r?t.complete():t.error(n())}))})}function Fxe(){return new Rh}function eW(n,e){if(n<0)throw new T5;var t=arguments.length>=2;return function(r){return r.pipe(Ru(function(i,s){return s===n}),Lh(1),t?T1(e):C1(function(){return new T5}))}}function tW(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return function(t){return D1(t,D5.apply(void 0,Vn([],Hn(n))))}}function nW(n,e){return Bt(function(t,r){var i=0;t.subscribe(new Et(r,function(s){n.call(e,s,i++,t)||(r.next(!1),r.complete())},function(){r.next(!0),r.complete()}))})}function G5(){return Bt(function(n,e){var t=!1,r=null;n.subscribe(new Et(e,function(i){r||(r=Dn(i).subscribe(new Et(e,void 0,function(){r=null,t&&e.complete()})))},function(){t=!0,!r&&e.complete()}))})}var rW=G5;function H5(n,e){return e?function(t){return t.pipe(H5(function(r,i){return Dn(n(r,i)).pipe(gl(function(s,o){return e(r,s,i,o)}))}))}:Bt(function(t,r){var i=0,s=null,o=!1;t.subscribe(new Et(r,function(u){s||(s=new Et(r,void 0,function(){s=null,o&&r.complete()}),Dn(n(u,i++)).subscribe(s))},function(){o=!0,!s&&r.complete()}))})}function iW(n,e,t){return e===void 0&&(e=1/0),e=(e||0)<1?1/0:e,Bt(function(r,i){return R5(r,i,n,e,void 0,!0,t)})}function sW(n){return Bt(function(e,t){try{e.subscribe(t)}finally{t.add(n)}})}function oW(n,e){return Bt(aW(n,e,"value"))}function aW(n,e,t){var r=t==="index";return function(i,s){var o=0;i.subscribe(new Et(s,function(u){var l=o++;n.call(e,u,l,i)&&(s.next(r?l:u),s.complete())},function(){s.next(r?-1:void 0),s.complete()}))}}function uW(n,e){return Bt(aW(n,e,"index"))}function lW(n,e){var t=arguments.length>=2;return function(r){return r.pipe(n?Ru(function(i,s){return n(i,s,r)}):ki,Lh(1),t?T1(e):C1(function(){return new Rh}))}}function cW(n,e,t,r){return Bt(function(i,s){var o;!e||typeof e=="function"?o=e:(t=e.duration,o=e.element,r=e.connector);var u=new Map,l=function(p){u.forEach(p),p(s)},c=function(p){return l(function(v){return v.error(p)})},h=new Oxe(s,function(p){try{var v=n(p),S=u.get(v);if(!S){u.set(v,S=r?r():new ei);var w=d(v,S);if(s.next(w),t){var T=new Et(S,function(){S.complete(),T==null||T.unsubscribe()},void 0,void 0,function(){return u.delete(v)});h.add(Dn(t(w)).subscribe(T))}}S.next(o?o(p):p)}catch(x){c(x)}},function(){return l(function(p){return p.complete()})},c,function(){return u.clear()});i.subscribe(h);function d(p,v){var S=new kn(function(w){h.activeGroups++;var T=v.subscribe(w);return function(){T.unsubscribe(),--h.activeGroups==0&&h.teardownAttempted&&h.unsubscribe()}});return S.key=p,S}})}var Oxe=function(n){Or(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.activeGroups=0,t.teardownAttempted=!1,t}return e.prototype.unsubscribe=function(){this.teardownAttempted=!0,this.activeGroups===0&&n.prototype.unsubscribe.call(this)},e}(Et);function fW(){return Bt(function(n,e){n.subscribe(new Et(e,function(){e.next(!1),e.complete()},function(){e.next(!0),e.complete()}))})}function V5(n){return n<=0?function(){return Ta}:Bt(function(e,t){var r=[];e.subscribe(new Et(t,function(i){r.push(i),n<r.length&&r.shift()},function(){var i,s;try{for(var o=Hs(r),u=o.next();!u.done;u=o.next()){var l=u.value;t.next(l)}}catch(c){i={error:c}}finally{try{u&&!u.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}t.complete()},void 0,function(){r=null}))})}function hW(n,e){var t=arguments.length>=2;return function(r){return r.pipe(n?Ru(function(i,s){return n(i,s,r)}):ki,V5(1),t?T1(e):C1(function(){return new Rh}))}}function dW(){return Bt(function(n,e){n.subscribe(new Et(e,function(t){e.next(_b.createNext(t))},function(){e.next(_b.createComplete()),e.complete()},function(t){e.next(_b.createError(t)),e.complete()}))})}function pW(n){return U0(vn(n)?function(e,t){return n(e,t)>0?e:t}:function(e,t){return e>t?e:t})}var mW=Yo;function vW(n,e,t){return t===void 0&&(t=1/0),vn(e)?Yo(function(){return n},e,t):(typeof e=="number"&&(t=e),Yo(function(){return n},t))}function gW(n,e,t){return t===void 0&&(t=1/0),Bt(function(r,i){var s=e;return R5(r,i,function(o,u){return n(s,o,u)},t,function(o){s=o},!1,void 0,function(){return s=null})})}function yW(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=vl(n),r=iV(n,1/0);return n=Ih(n),Bt(function(i,s){M1(r)(Ca(Vn([i],Hn(n)),t)).subscribe(s)})}function xW(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return yW.apply(void 0,Vn([],Hn(n)))}function _W(n){return U0(vn(n)?function(e,t){return n(e,t)<0?e:t}:function(e,t){return e<t?e:t})}function Db(n,e){var t=vn(n)?n:function(){return n};return vn(e)?Eb(e,{connector:t}):function(r){return new mb(r,t)}}function wW(){return Bt(function(n,e){var t,r=!1;n.subscribe(new Et(e,function(i){var s=t;t=i,r&&e.next([s,i]),r=!0}))})}function bW(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.length;if(t===0)throw new Error("list of properties cannot be empty.");return gl(function(r){for(var i=r,s=0;s<t;s++){var o=i==null?void 0:i[n[s]];if(typeof o!="undefined")i=o;else return}return i})}function SW(n){return n?function(e){return Eb(n)(e)}:function(e){return Db(new ei)(e)}}function EW(n){return function(e){var t=new KH(n);return new mb(e,function(){return t})}}function MW(){return function(n){var e=new _5;return new mb(n,function(){return e})}}function DW(n,e,t,r){t&&!vn(t)&&(r=t);var i=vn(t)?t:void 0;return function(s){return Db(new x5(n,e,r),i)(s)}}function W5(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return n.length?Bt(function(t,r){IV(Vn([t],Hn(n)))(r)}):ki}function AW(n){return n===void 0&&(n=1/0),n<=0?function(){return Ta}:Bt(function(e,t){var r=0,i,s=function(){var o=!1;i=e.subscribe(new Et(t,void 0,function(){++r<n?i?(i.unsubscribe(),i=null,s()):o=!0:t.complete()})),o&&(i.unsubscribe(),i=null,s())};s()})}function TW(n){return Bt(function(e,t){var r,i=!1,s,o=!1,u=!1,l=function(){return u&&o&&(t.complete(),!0)},c=function(){return s||(s=new ei,n(s).subscribe(new Et(t,function(){r?h():i=!0},function(){o=!0,l()}))),s},h=function(){u=!1,r=e.subscribe(new Et(t,void 0,function(){u=!0,!l()&&c().next()})),i&&(r.unsubscribe(),r=null,i=!1,h())};h()})}function CW(n){n===void 0&&(n=1/0);var e;n&&typeof n=="object"?e=n:e={count:n};var t=e.count,r=t===void 0?1/0:t,i=e.delay,s=e.resetOnSuccess,o=s===void 0?!1:s;return r<=0?ki:Bt(function(u,l){var c=0,h,d=function(){var p=!1;h=u.subscribe(new Et(l,function(v){o&&(c=0),l.next(v)},void 0,function(v){if(c++<r){var S=function(){h?(h.unsubscribe(),h=null,d()):p=!0};if(i!=null){var w=typeof i=="number"?N0(i):Dn(i(v,c)),T=new Et(l,function(){T.unsubscribe(),S()},function(){l.complete()});w.subscribe(T)}else S()}else l.error(v)})),p&&(h.unsubscribe(),h=null,d())};d()})}function PW(n){return Bt(function(e,t){var r,i=!1,s,o=function(){r=e.subscribe(new Et(t,void 0,void 0,function(u){s||(s=new ei,n(s).subscribe(new Et(t,function(){return r?o():i=!0}))),s&&s.next(u)})),i&&(r.unsubscribe(),r=null,i=!1,o())};o()})}function j5(n){return Bt(function(e,t){var r=!1,i=null;e.subscribe(new Et(t,function(o){r=!0,i=o}));var s=function(){if(r){r=!1;var o=i;i=null,t.next(o)}};n.subscribe(new Et(t,s,Mr))})}function RW(n,e){return e===void 0&&(e=Pu),j5(CV(n,e))}function q5(n,e){return Bt(zV(n,e,arguments.length>=2,!0))}function kW(n,e){return e===void 0&&(e=function(t,r){return t===r}),Bt(function(t,r){var i=IW(),s=IW(),o=function(l){r.next(l),r.complete()},u=function(l,c){var h=new Et(r,function(d){var p=c.buffer,v=c.complete;p.length===0?v?o(!1):l.buffer.push(d):!e(d,p.shift())&&o(!1)},function(){l.complete=!0;var d=c.complete,p=c.buffer;d&&o(p.length===0),h==null||h.unsubscribe()});return h};t.subscribe(u(i,s)),n.subscribe(u(s,i))})}function IW(){return{buffer:[],complete:!1}}function X5(n){n===void 0&&(n={});var e=n.connector,t=e===void 0?function(){return new ei}:e,r=n.resetOnError,i=r===void 0?!0:r,s=n.resetOnComplete,o=s===void 0?!0:s,u=n.resetOnRefCountZero,l=u===void 0?!0:u;return function(c){var h=null,d=null,p=null,v=0,S=!1,w=!1,T=function(){d==null||d.unsubscribe(),d=null},x=function(){T(),h=p=null,S=w=!1},E=function(){var O=h;x(),O==null||O.unsubscribe()};return Bt(function(O,C){v++,!w&&!S&&T();var N=p=p!=null?p:t();C.add(function(){v--,v===0&&!w&&!S&&(d=Y5(E,l))}),N.subscribe(C),h||(h=new db({next:function($){return N.next($)},error:function($){w=!0,T(),d=Y5(x,i,$),N.error($)},complete:function(){S=!0,T(),d=Y5(x,o),N.complete()}}),Ca(O).subscribe(h))})(c)}}function Y5(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return e===!0?(n(),null):e===!1?null:e.apply(void 0,Vn([],Hn(t))).pipe(Lh(1)).subscribe(function(){return n()})}function LW(n,e,t){var r,i,s,o=!1;return n&&typeof n=="object"?(s=(r=n.bufferSize)!==null&&r!==void 0?r:1/0,e=(i=n.windowTime)!==null&&i!==void 0?i:1/0,o=!!n.refCount,t=n.scheduler):s=n!=null?n:1/0,X5({connector:function(){return new x5(s,e,t)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function FW(n){return Bt(function(e,t){var r=!1,i,s=!1,o=0;e.subscribe(new Et(t,function(u){s=!0,(!n||n(u,o++,e))&&(r&&t.error(new _V("Too many matching values")),r=!0,i=u)},function(){r?(t.next(i),t.complete()):t.error(s?new xV("No matching values"):new Rh)}))})}function OW(n){return Ru(function(e,t){return n<=t})}function NW(n){return n<=0?ki:Bt(function(e,t){var r=new Array(n),i=0;return e.subscribe(new Et(t,function(s){var o=i++;if(o<n)r[o]=s;else{var u=o%n,l=r[u];r[u]=s,t.next(l)}})),function(){r=null}})}function UW(n){return Bt(function(e,t){var r=!1,i=new Et(t,function(){i==null||i.unsubscribe(),r=!0},Mr);Dn(n).subscribe(i),e.subscribe(new Et(t,function(s){return r&&t.next(s)}))})}function BW(n){return Bt(function(e,t){var r=!1,i=0;e.subscribe(new Et(t,function(s){return(r||(r=!n(s,i++)))&&t.next(s)}))})}function zW(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=vl(n);return Bt(function(r,i){(t?D1(n,r,t):D1(n,r)).subscribe(i)})}function B0(n,e){return Bt(function(t,r){var i=null,s=0,o=!1,u=function(){return o&&!i&&r.complete()};t.subscribe(new Et(r,function(l){i==null||i.unsubscribe();var c=0,h=s++;Dn(n(l,h)).subscribe(i=new Et(r,function(d){return r.next(e?e(l,d,h,c++):d)},function(){i=null,u()}))},function(){o=!0,u()}))})}function $W(){return B0(ki)}function GW(n,e){return vn(e)?B0(function(){return n},e):B0(function(){return n})}function HW(n,e){return Bt(function(t,r){var i=e;return B0(function(s,o){return n(i,s,o)},function(s,o){return i=o,o})(t).subscribe(r),function(){i=null}})}function VW(n){return Bt(function(e,t){Dn(n).subscribe(new Et(t,function(){return t.complete()},Mr)),!t.closed&&e.subscribe(t)})}function WW(n,e){return e===void 0&&(e=!1),Bt(function(t,r){var i=0;t.subscribe(new Et(r,function(s){var o=n(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}function jW(n,e,t){var r=vn(n)||e||t?{next:n,error:e,complete:t}:n;return r?Bt(function(i,s){var o;(o=r.subscribe)===null||o===void 0||o.call(r);var u=!0;i.subscribe(new Et(s,function(l){var c;(c=r.next)===null||c===void 0||c.call(r,l),s.next(l)},function(){var l;u=!1,(l=r.complete)===null||l===void 0||l.call(r),s.complete()},function(l){var c;u=!1,(c=r.error)===null||c===void 0||c.call(r,l),s.error(l)},function(){var l,c;u&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):ki}var qW={leading:!0,trailing:!1};function J5(n,e){var t=e===void 0?qW:e,r=t.leading,i=t.trailing;return Bt(function(s,o){var u=!1,l=null,c=null,h=!1,d=function(){c==null||c.unsubscribe(),c=null,i&&(S(),h&&o.complete())},p=function(){c=null,h&&o.complete()},v=function(w){return c=Dn(n(w)).subscribe(new Et(o,d,p))},S=function(){if(u){u=!1;var w=l;l=null,o.next(w),!h&&v(w)}};s.subscribe(new Et(o,function(w){u=!0,l=w,!(c&&!c.closed)&&(r?S():v(w))},function(){h=!0,!(i&&u&&c&&!c.closed)&&o.complete()}))})}function XW(n,e,t){e===void 0&&(e=Pu),t===void 0&&(t=qW);var r=N0(n,e);return J5(function(){return r},t)}function YW(n){return n===void 0&&(n=w1),function(e){return A1(function(){return e.pipe(q5(function(t,r){var i=t.current;return{value:r,current:n.now(),last:i}},{current:n.now(),value:void 0,last:void 0}),gl(function(t){var r=t.current,i=t.last,s=t.value;return new Nxe(s,r-i)}))})}}var Nxe=function(){function n(e,t){this.value=e,this.interval=t}return n}();function JW(n,e,t){var r,i,s;if(t=t!=null?t:w1,C5(n)?r=n:typeof n=="number"&&(i=n),e)s=function(){return e};else throw new TypeError("No observable provided to switch to");if(r==null&&i==null)throw new TypeError("No timeout provided.");return P5({first:r,each:i,scheduler:t,with:s})}function KW(n){return n===void 0&&(n=vb),gl(function(e){return{value:e,timestamp:n.now()}})}function ZW(n){return Bt(function(e,t){var r=new ei;t.next(r.asObservable());var i=function(s){r.error(s),t.error(s)};return e.subscribe(new Et(t,function(s){return r==null?void 0:r.next(s)},function(){r.complete(),t.complete()},i)),n.subscribe(new Et(t,function(){r.complete(),t.next(r=new ei)},Mr,i)),function(){r==null||r.unsubscribe(),r=null}})}function QW(n,e){e===void 0&&(e=0);var t=e>0?e:n;return Bt(function(r,i){var s=[new ei],o=[],u=0;i.next(s[0].asObservable()),r.subscribe(new Et(i,function(l){var c,h;try{for(var d=Hs(s),p=d.next();!p.done;p=d.next()){var v=p.value;v.next(l)}}catch(T){c={error:T}}finally{try{p&&!p.done&&(h=d.return)&&h.call(d)}finally{if(c)throw c.error}}var S=u-n+1;if(S>=0&&S%t==0&&s.shift().complete(),++u%t==0){var w=new ei;s.push(w),i.next(w.asObservable())}},function(){for(;s.length>0;)s.shift().complete();i.complete()},function(l){for(;s.length>0;)s.shift().error(l);i.error(l)},function(){o=null,s=null}))})}function ej(n){for(var e,t,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=(e=vl(r))!==null&&e!==void 0?e:Pu,o=(t=r[0])!==null&&t!==void 0?t:null,u=r[1]||1/0;return Bt(function(l,c){var h=[],d=!1,p=function(T){var x=T.window,E=T.subs;x.complete(),E.unsubscribe(),ml(h,T),d&&v()},v=function(){if(h){var T=new _s;c.add(T);var x=new ei,E={window:x,subs:T,seen:0};h.push(E),c.next(x.asObservable()),Vs(T,s,function(){return p(E)},n)}};o!==null&&o>=0?Vs(c,s,v,o,!0):d=!0,v();var S=function(T){return h.slice().forEach(T)},w=function(T){S(function(x){var E=x.window;return T(E)}),T(c),c.unsubscribe()};return l.subscribe(new Et(c,function(T){S(function(x){x.window.next(T),u<=++x.seen&&p(x)})},function(){return w(function(T){return T.complete()})},function(T){return w(function(x){return x.error(T)})})),function(){h=null}})}function tj(n,e){return Bt(function(t,r){var i=[],s=function(o){for(;0<i.length;)i.shift().error(o);r.error(o)};Dn(n).subscribe(new Et(r,function(o){var u=new ei;i.push(u);var l=new _s,c=function(){ml(i,u),u.complete(),l.unsubscribe()},h;try{h=Dn(e(o))}catch(d){s(d);return}r.next(u.asObservable()),l.add(h.subscribe(new Et(r,c,Mr,s)))},Mr)),t.subscribe(new Et(r,function(o){var u,l,c=i.slice();try{for(var h=Hs(c),d=h.next();!d.done;d=h.next()){var p=d.value;p.next(o)}}catch(v){u={error:v}}finally{try{d&&!d.done&&(l=h.return)&&l.call(h)}finally{if(u)throw u.error}}},function(){for(;0<i.length;)i.shift().complete();r.complete()},s,function(){for(;0<i.length;)i.shift().unsubscribe()}))})}function nj(n){return Bt(function(e,t){var r,i,s=function(u){r.error(u),t.error(u)},o=function(){i==null||i.unsubscribe(),r==null||r.complete(),r=new ei,t.next(r.asObservable());var u;try{u=Dn(n())}catch(l){s(l);return}u.subscribe(i=new Et(t,o,o,s))};o(),e.subscribe(new Et(t,function(u){return r.next(u)},function(){r.complete(),t.complete()},s,function(){i==null||i.unsubscribe(),r=null}))})}function rj(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=b1(n);return Bt(function(r,i){for(var s=n.length,o=new Array(s),u=n.map(function(){return!1}),l=!1,c=function(d){Dn(n[d]).subscribe(new Et(i,function(p){o[d]=p,!l&&!u[d]&&(u[d]=!0,(l=u.every(ki))&&(u=null))},Mr))},h=0;h<s;h++)c(h);r.subscribe(new Et(i,function(d){if(l){var p=Vn([d],Hn(o));i.next(t?t.apply(void 0,Vn([],Hn(p))):p)}}))})}function ij(n){return $V(I5,n)}function sj(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return Bt(function(t,r){I5.apply(void 0,Vn([t],Hn(n))).subscribe(r)})}function oj(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return sj.apply(void 0,Vn([],Hn(n)))}var Uxe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Observable:kn,ConnectableObservable:mb,observable:pb,animationFrames:Sye,Subject:ei,BehaviorSubject:KH,ReplaySubject:x5,AsyncSubject:_5,asap:Rye,asapScheduler:eV,async:w1,asyncScheduler:Pu,queue:Lye,queueScheduler:tV,animationFrame:Nye,animationFrameScheduler:nV,VirtualTimeScheduler:Uye,VirtualAction:rV,Scheduler:S5,Subscription:_s,Subscriber:hb,Notification:_b,get NotificationKind(){return A5},pipe:g5,noop:Mr,identity:ki,isObservable:Zye,lastValueFrom:Qye,firstValueFrom:exe,ArgumentOutOfRangeError:T5,EmptyError:Rh,NotFoundError:xV,ObjectUnsubscribedError:YH,SequenceError:_V,TimeoutError:wV,UnsubscriptionError:lb,bindCallback:ixe,bindNodeCallback:sxe,combineLatest:EV,concat:D1,connectable:hxe,defer:A1,empty:Bye,forkJoin:dxe,from:Ca,fromEvent:k5,fromEventPattern:TV,generate:_xe,iif:wxe,interval:CV,merge:bxe,never:Sxe,of:D5,onErrorResumeNext:Mxe,pairs:Dxe,partition:Axe,race:Txe,range:Cxe,throwError:gV,timer:N0,using:Pxe,zip:I5,scheduled:vV,EMPTY:Ta,NEVER:PV,config:Nc,audit:L5,auditTime:LV,buffer:FV,bufferCount:OV,bufferTime:NV,bufferToggle:UV,bufferWhen:BV,catchError:F5,combineAll:GV,combineLatestAll:N5,combineLatestWith:HV,concatAll:bb,concatMap:Sb,concatMapTo:VV,concatWith:jV,connect:Eb,count:qV,debounce:XV,debounceTime:YV,defaultIfEmpty:T1,delay:JV,delayWhen:Mb,dematerialize:KV,distinct:ZV,distinctUntilChanged:$5,distinctUntilKeyChanged:QV,elementAt:eW,endWith:tW,every:nW,exhaust:rW,exhaustAll:G5,exhaustMap:H5,expand:iW,filter:Ru,finalize:sW,find:oW,findIndex:uW,first:lW,groupBy:cW,ignoreElements:B5,isEmpty:fW,last:hW,map:gl,mapTo:z5,materialize:dW,max:pW,mergeAll:M1,flatMap:mW,mergeMap:Yo,mergeMapTo:vW,mergeScan:gW,mergeWith:xW,min:_W,multicast:Db,observeOn:S1,pairwise:wW,pluck:bW,publish:SW,publishBehavior:EW,publishLast:MW,publishReplay:DW,raceWith:W5,reduce:U0,repeat:AW,repeatWhen:TW,retry:CW,retryWhen:PW,refCount:y5,sample:j5,sampleTime:RW,scan:q5,sequenceEqual:kW,share:X5,shareReplay:LW,single:FW,skip:OW,skipLast:NW,skipUntil:UW,skipWhile:BW,startWith:zW,subscribeOn:E1,switchAll:$W,switchMap:B0,switchMapTo:GW,switchScan:HW,take:Lh,takeLast:V5,takeUntil:VW,takeWhile:WW,tap:jW,throttle:J5,throttleTime:XW,throwIfEmpty:C1,timeInterval:YW,timeout:P5,timeoutWith:JW,timestamp:KW,toArray:O5,window:ZW,windowCount:QW,windowTime:ej,windowToggle:tj,windowWhen:nj,withLatestFrom:rj,zipAll:ij,zipWith:oj}),K5=yr(Uxe);(function(n){var e=$e&&$e.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(n,"__esModule",{value:!0}),n.StreamStatic=n.Stream=n.CommitType=n.AnchorStatus=n.SignatureStatus=void 0;const t=e(ub.exports),r=Au,i=K5,s=c5;(function(c){c[c.GENESIS=0]="GENESIS",c[c.PARTIAL=1]="PARTIAL",c[c.SIGNED=2]="SIGNED"})(n.SignatureStatus||(n.SignatureStatus={})),function(c){c[c.NOT_REQUESTED=0]="NOT_REQUESTED",c[c.PENDING=1]="PENDING",c[c.PROCESSING=2]="PROCESSING",c[c.ANCHORED=3]="ANCHORED",c[c.FAILED=4]="FAILED"}(n.AnchorStatus||(n.AnchorStatus={}));var o;(function(c){c[c.GENESIS=0]="GENESIS",c[c.SIGNED=1]="SIGNED",c[c.ANCHOR=2]="ANCHOR"})(o=n.CommitType||(n.CommitType={}));class u extends i.Observable{constructor(h,d){super(p=>{h.subscribe(p)});this.state$=h,this._context=d}get id(){return new r.StreamID(this.state$.value.type,this.state$.value.log[0].cid)}get api(){return this._context.api}get metadata(){var h;const{next:d,metadata:p}=this.state$.value;return t.default((h=d==null?void 0:d.metadata)!==null&&h!==void 0?h:p)}get content(){var h;const{next:d,content:p}=this.state$.value;return t.default((h=d==null?void 0:d.content)!==null&&h!==void 0?h:p)}get controllers(){return this.metadata.controllers}get tip(){return this.state$.value.log[this.state$.value.log.length-1].cid}get commitId(){return this.id.atCommit(this.tip)}get allCommitIds(){return this.state$.value.log.map(({cid:h})=>this.id.atCommit(h))}get anchorCommitIds(){return this.state$.value.log.filter(({type:h})=>h===o.ANCHOR).map(({cid:h})=>this.id.atCommit(h))}get state(){return t.default(this.state$.value)}async sync(h={}){h=vt({sync:s.SyncOptions.PREFER_CACHE},h);const d=await this.api.loadStream(this.id,h);this.state$.next(d.state)}async requestAnchor(){return this.api.requestAnchor(this.id)}}n.Stream=u;function l(){return c=>{}}n.StreamStatic=l})(f5);var Ab={},Tb={exports:{}};(function(n,e){var t=typeof self!="undefined"?self:$e,r=function(){function s(){this.fetch=!1,this.DOMException=t.DOMException}return s.prototype=t,new s}();(function(s){(function(o){var u={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function l(P){return P&&DataView.prototype.isPrototypeOf(P)}if(u.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(P){return P&&c.indexOf(Object.prototype.toString.call(P))>-1};function d(P){if(typeof P!="string"&&(P=String(P)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(P))throw new TypeError("Invalid character in header field name");return P.toLowerCase()}function p(P){return typeof P!="string"&&(P=String(P)),P}function v(P){var F={next:function(){var z=P.shift();return{done:z===void 0,value:z}}};return u.iterable&&(F[Symbol.iterator]=function(){return F}),F}function S(P){this.map={},P instanceof S?P.forEach(function(F,z){this.append(z,F)},this):Array.isArray(P)?P.forEach(function(F){this.append(F[0],F[1])},this):P&&Object.getOwnPropertyNames(P).forEach(function(F){this.append(F,P[F])},this)}S.prototype.append=function(P,F){P=d(P),F=p(F);var z=this.map[P];this.map[P]=z?z+", "+F:F},S.prototype.delete=function(P){delete this.map[d(P)]},S.prototype.get=function(P){return P=d(P),this.has(P)?this.map[P]:null},S.prototype.has=function(P){return this.map.hasOwnProperty(d(P))},S.prototype.set=function(P,F){this.map[d(P)]=p(F)},S.prototype.forEach=function(P,F){for(var z in this.map)this.map.hasOwnProperty(z)&&P.call(F,this.map[z],z,this)},S.prototype.keys=function(){var P=[];return this.forEach(function(F,z){P.push(z)}),v(P)},S.prototype.values=function(){var P=[];return this.forEach(function(F){P.push(F)}),v(P)},S.prototype.entries=function(){var P=[];return this.forEach(function(F,z){P.push([z,F])}),v(P)},u.iterable&&(S.prototype[Symbol.iterator]=S.prototype.entries);function w(P){if(P.bodyUsed)return Promise.reject(new TypeError("Already read"));P.bodyUsed=!0}function T(P){return new Promise(function(F,z){P.onload=function(){F(P.result)},P.onerror=function(){z(P.error)}})}function x(P){var F=new FileReader,z=T(F);return F.readAsArrayBuffer(P),z}function E(P){var F=new FileReader,z=T(F);return F.readAsText(P),z}function O(P){for(var F=new Uint8Array(P),z=new Array(F.length),j=0;j<F.length;j++)z[j]=String.fromCharCode(F[j]);return z.join("")}function C(P){if(P.slice)return P.slice(0);var F=new Uint8Array(P.byteLength);return F.set(new Uint8Array(P)),F.buffer}function N(){return this.bodyUsed=!1,this._initBody=function(P){this._bodyInit=P,P?typeof P=="string"?this._bodyText=P:u.blob&&Blob.prototype.isPrototypeOf(P)?this._bodyBlob=P:u.formData&&FormData.prototype.isPrototypeOf(P)?this._bodyFormData=P:u.searchParams&&URLSearchParams.prototype.isPrototypeOf(P)?this._bodyText=P.toString():u.arrayBuffer&&u.blob&&l(P)?(this._bodyArrayBuffer=C(P.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(P)||h(P))?this._bodyArrayBuffer=C(P):this._bodyText=P=Object.prototype.toString.call(P):this._bodyText="",this.headers.get("content-type")||(typeof P=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u.searchParams&&URLSearchParams.prototype.isPrototypeOf(P)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u.blob&&(this.blob=function(){var P=w(this);if(P)return P;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?w(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(x)}),this.text=function(){var P=w(this);if(P)return P;if(this._bodyBlob)return E(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(O(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u.formData&&(this.formData=function(){return this.text().then(V)}),this.json=function(){return this.text().then(JSON.parse)},this}var $=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function M(P){var F=P.toUpperCase();return $.indexOf(F)>-1?F:P}function L(P,F){F=F||{};var z=F.body;if(P instanceof L){if(P.bodyUsed)throw new TypeError("Already read");this.url=P.url,this.credentials=P.credentials,F.headers||(this.headers=new S(P.headers)),this.method=P.method,this.mode=P.mode,this.signal=P.signal,!z&&P._bodyInit!=null&&(z=P._bodyInit,P.bodyUsed=!0)}else this.url=String(P);if(this.credentials=F.credentials||this.credentials||"same-origin",(F.headers||!this.headers)&&(this.headers=new S(F.headers)),this.method=M(F.method||this.method||"GET"),this.mode=F.mode||this.mode||null,this.signal=F.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&z)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(z)}L.prototype.clone=function(){return new L(this,{body:this._bodyInit})};function V(P){var F=new FormData;return P.trim().split("&").forEach(function(z){if(z){var j=z.split("="),B=j.shift().replace(/\+/g," "),U=j.join("=").replace(/\+/g," ");F.append(decodeURIComponent(B),decodeURIComponent(U))}}),F}function Z(P){var F=new S,z=P.replace(/\r?\n[\t ]+/g," ");return z.split(/\r?\n/).forEach(function(j){var B=j.split(":"),U=B.shift().trim();if(U){var k=B.join(":").trim();F.append(U,k)}}),F}N.call(L.prototype);function H(P,F){F||(F={}),this.type="default",this.status=F.status===void 0?200:F.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in F?F.statusText:"OK",this.headers=new S(F.headers),this.url=F.url||"",this._initBody(P)}N.call(H.prototype),H.prototype.clone=function(){return new H(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new S(this.headers),url:this.url})},H.error=function(){var P=new H(null,{status:0,statusText:""});return P.type="error",P};var D=[301,302,303,307,308];H.redirect=function(P,F){if(D.indexOf(F)===-1)throw new RangeError("Invalid status code");return new H(null,{status:F,headers:{location:P}})},o.DOMException=s.DOMException;try{new o.DOMException}catch{o.DOMException=function(F,z){this.message=F,this.name=z;var j=Error(F);this.stack=j.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function R(P,F){return new Promise(function(z,j){var B=new L(P,F);if(B.signal&&B.signal.aborted)return j(new o.DOMException("Aborted","AbortError"));var U=new XMLHttpRequest;function k(){U.abort()}U.onload=function(){var G={status:U.status,statusText:U.statusText,headers:Z(U.getAllResponseHeaders()||"")};G.url="responseURL"in U?U.responseURL:G.headers.get("X-Request-URL");var ne="response"in U?U.response:U.responseText;z(new H(ne,G))},U.onerror=function(){j(new TypeError("Network request failed"))},U.ontimeout=function(){j(new TypeError("Network request failed"))},U.onabort=function(){j(new o.DOMException("Aborted","AbortError"))},U.open(B.method,B.url,!0),B.credentials==="include"?U.withCredentials=!0:B.credentials==="omit"&&(U.withCredentials=!1),"responseType"in U&&u.blob&&(U.responseType="blob"),B.headers.forEach(function(G,ne){U.setRequestHeader(ne,G)}),B.signal&&(B.signal.addEventListener("abort",k),U.onreadystatechange=function(){U.readyState===4&&B.signal.removeEventListener("abort",k)}),U.send(typeof B._bodyInit=="undefined"?null:B._bodyInit)})}return R.polyfill=!0,s.fetch||(s.fetch=R,s.Headers=S,s.Request=L,s.Response=H),o.Headers=S,o.Request=L,o.Response=H,o.fetch=R,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,n.exports=e})(Tb,Tb.exports);var Bxe=$e&&$e.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ab,"__esModule",{value:!0});Ab.fetchJson=void 0;const zxe=Bxe(Tb.exports);async function $xe(n,e={}){e.body&&Object.assign(e,{body:JSON.stringify(e.body),headers:{"Content-Type":"application/json"}});const t=await zxe.default(n,e);if(!t.ok){const r=await t.text();throw new Error(`HTTP request to '${n}' failed with status '${t.statusText}': ${r}`)}return t.json()}Ab.fetchJson=$xe;var P1={},Gxe=$e&&$e.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Hxe=$e&&$e.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),Vxe=$e&&$e.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&Gxe(e,n,t);return Hxe(e,n),e},aj=$e&&$e.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(P1,"__esModule",{value:!0});P1.StreamUtils=void 0;const yl=aj(Ic),Cb=aj(ub.exports),uj=Vxe(ss),Pb=f5,Z5=Au;class Pa{static streamIdFromState(e){return new Z5.StreamID(e.type,e.log[0].cid)}static serializeCommit(e){const t=Cb.default(e);return Pa.isSignedCommitContainer(t)?(t.jws.link=t.jws.link.toString(),t.linkedBlock=uj.toString(t.linkedBlock,"base64"),t):(Pa.isSignedCommit(e)&&(t.link=t.link.toString()),Pa.isAnchorCommit(e)&&(t.proof=t.proof.toString()),t.id&&(t.id=t.id.toString()),t.prev&&(t.prev=t.prev.toString()),t)}static deserializeCommit(e){const t=Cb.default(e);return Pa.isSignedCommitContainer(t)?(t.jws.link=new yl.default(t.jws.link),t.linkedBlock=uj.fromString(t.linkedBlock,"base64"),t):(Pa.isSignedCommit(t)&&(t.link=new yl.default(t.link)),Pa.isAnchorCommit(t)&&(t.proof=new yl.default(t.proof)),t.id&&(t.id=new yl.default(t.id)),t.prev&&(t.prev=new yl.default(t.prev)),t)}static serializeState(e){const t=Cb.default(e);return t.log=t.log.map(r=>nr(vt({},r),{cid:r.cid.toString()})),t.anchorStatus!=null&&(t.anchorStatus=Pb.AnchorStatus[t.anchorStatus]),t.anchorScheduledFor!=null&&(t.anchorScheduledFor=new Date(t.anchorScheduledFor).toISOString()),t.anchorProof!=null&&(t.anchorProof.txHash=t.anchorProof.txHash.toString(),t.anchorProof.root=t.anchorProof.root.toString()),t.lastAnchored!=null&&(t.lastAnchored=t.lastAnchored.toString()),t.doctype=Z5.StreamType.nameByCode(t.type),t}static deserializeState(e){const t=Cb.default(e);t.doctype&&(t.type=Z5.StreamType.codeByName(t.doctype),delete t.doctype),t.log=t.log.map(i=>nr(vt({},i),{cid:new yl.default(i.cid)})),t.anchorProof&&(t.anchorProof.txHash=new yl.default(t.anchorProof.txHash),t.anchorProof.root=new yl.default(t.anchorProof.root));let r=!0;return t.anchorStatus&&(t.anchorStatus=Pb.AnchorStatus[t.anchorStatus],r=t.anchorStatus!==Pb.AnchorStatus.FAILED&&t.anchorStatus!==Pb.AnchorStatus.ANCHORED),t.anchorScheduledFor&&(r?t.anchorScheduledFor=Date.parse(t.anchorScheduledFor):delete t.anchorScheduledFor),t.lastAnchored&&(t.lastAnchored=new yl.default(t.lastAnchored)),t}static statesEqual(e,t){return JSON.stringify(Pa.serializeState(e))===JSON.stringify(Pa.serializeState(t))}static isStateSupersetOf(e,t){if(e.log.length<t.log.length)return!1;for(const r in t.log)if(!e.log[r].cid.equals(t.log[r].cid))return!1;return!0}static async convertCommitToSignedCommitContainer(e,t){if(Pa.isSignedCommit(e)){const r=await t.block.get(e.link);return{jws:e,linkedBlock:r.data}}return e}static isSignedCommitContainer(e){return e&&e.jws!==void 0}static isSignedCommit(e){return e&&e.link!==void 0}static isAnchorCommit(e){return e&&e.proof!==void 0}}P1.StreamUtils=Pa;var Rb={};function Wxe(n,e){return function(t){return[Ru(n,e)(t),Ru(kV(n,e))(t)]}}function jxe(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return W5.apply(void 0,Vn([],Hn(Ih(n))))}var qxe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",audit:L5,auditTime:LV,buffer:FV,bufferCount:OV,bufferTime:NV,bufferToggle:UV,bufferWhen:BV,catchError:F5,combineAll:GV,combineLatestAll:N5,combineLatest:U5,combineLatestWith:HV,concat:WV,concatAll:bb,concatMap:Sb,concatMapTo:VV,concatWith:jV,connect:Eb,count:qV,debounce:XV,debounceTime:YV,defaultIfEmpty:T1,delay:JV,delayWhen:Mb,dematerialize:KV,distinct:ZV,distinctUntilChanged:$5,distinctUntilKeyChanged:QV,elementAt:eW,endWith:tW,every:nW,exhaust:rW,exhaustAll:G5,exhaustMap:H5,expand:iW,filter:Ru,finalize:sW,find:oW,findIndex:uW,first:lW,groupBy:cW,ignoreElements:B5,isEmpty:fW,last:hW,map:gl,mapTo:z5,materialize:dW,max:pW,merge:yW,mergeAll:M1,flatMap:mW,mergeMap:Yo,mergeMapTo:vW,mergeScan:gW,mergeWith:xW,min:_W,multicast:Db,observeOn:S1,onErrorResumeNext:RV,pairwise:wW,partition:Wxe,pluck:bW,publish:SW,publishBehavior:EW,publishLast:MW,publishReplay:DW,race:jxe,raceWith:W5,reduce:U0,repeat:AW,repeatWhen:TW,retry:CW,retryWhen:PW,refCount:y5,sample:j5,sampleTime:RW,scan:q5,sequenceEqual:kW,share:X5,shareReplay:LW,single:FW,skip:OW,skipLast:NW,skipUntil:UW,skipWhile:BW,startWith:zW,subscribeOn:E1,switchAll:$W,switchMap:B0,switchMapTo:GW,switchScan:HW,take:Lh,takeLast:V5,takeUntil:VW,takeWhile:WW,tap:jW,throttle:J5,throttleTime:XW,throwIfEmpty:C1,timeInterval:YW,timeout:P5,timeoutWith:JW,timestamp:KW,toArray:O5,window:ZW,windowCount:QW,windowTime:ej,windowToggle:tj,windowWhen:nj,withLatestFrom:rj,zip:sj,zipAll:ij,zipWith:oj}),Xxe=yr(qxe);Object.defineProperty(Rb,"__esModule",{value:!0});Rb.TestUtils=void 0;const lj=Xxe,Yxe=K5,Jxe=Au;class Kxe extends Yxe.BehaviorSubject{constructor(e){super(e);this.state=this.value,this.id=new Jxe.StreamID(this.state.type,this.state.log[0].cid)}}class Zxe{static registerChangeListener(e){return e.pipe(lj.take(1)).toPromise()}static async waitForState(e,t,r,i){if(r(e.state))return;const s=new Promise(u=>setTimeout(u,t)),o=e.pipe(lj.filter(u=>r(u))).toPromise();await Promise.race([s,o]),r(e.state)||i()}static runningState(e){return new Kxe(e)}}Rb.TestUtils=Zxe;var kb={},Fh={},Ib={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.LoggerProviderBase=n.ServiceLoggerBase=n.DiagnosticsLoggerBase=n.LogLevel=n.LogStyle=void 0;var e;(function(u){u.verbose="info",u.info="info",u.imp="imp",u.warn="warn",u.err="err"})(e=n.LogStyle||(n.LogStyle={}));var t;(function(u){u[u.verbose=0]="verbose",u[u.debug=1]="debug",u[u.important=2]="important",u[u.warn=3]="warn"})(t=n.LogLevel||(n.LogLevel={}));class r{constructor(l,c,h){this.logLevel=l,this.includeStackTrace=this.logLevel<=t.debug,this.logToFiles=c,this.fileLogger=h}write(l){this.debug(l)}verbose(l){this.logLevel>t.verbose||this.log(e.verbose,l)}debug(l){this.logLevel>t.debug||this.log(e.info,l)}imp(l){this.logLevel>t.important||this.log(e.imp,l)}warn(l){this.log(e.warn,l)}err(l){this.log(e.err,l)}log(l,c){throw new Error("Not implmented in base class")}}n.DiagnosticsLoggerBase=r;class i{constructor(l,c,h,d){this.service=l,this.logLevel=c,this.logToFiles=h,this.stream=d,this.logToConsole=this.logLevel<=t.debug}log(l){this.write(this.format(l))}write(l){l=`[${new Date().toUTCString()}] service=${this.service} ${l}`,this.logToConsole&&console.log(l)}format(l){throw new Error("Not implmented in base class")}}n.ServiceLoggerBase=i;const s={logLevel:t.important,logToFiles:!1};class o{constructor(l={},c){if(this.config={logLevel:l.logLevel!==void 0?l.logLevel:s.logLevel,logToFiles:l.logToFiles!==void 0?l.logToFiles:s.logToFiles,logDirectory:l.logDirectory},this._fileLoggerFactory=c,this.config.logToFiles&&!this._fileLoggerFactory)throw new Error("Must provide a FileLoggerFactory in order to log to files");this._diagnosticLogger=this._makeDiagnosticLogger()}_makeDiagnosticLogger(){throw new Error("Not implmented in base class")}getDiagnosticsLogger(){return this._diagnosticLogger}makeServiceLogger(l){throw new Error("Not implmented in base class")}}n.LoggerProviderBase=o})(Ib);var Qxe=R1;R1.flatten=R1;R1.unflatten=hj;function cj(n){return n&&n.constructor&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}function fj(n){return n}function R1(n,e){e=e||{};const t=e.delimiter||".",r=e.maxDepth,i=e.transformKey||fj,s={};function o(u,l,c){c=c||1,Object.keys(u).forEach(function(h){const d=u[h],p=e.safe&&Array.isArray(d),v=Object.prototype.toString.call(d),S=cj(d),w=v==="[object Object]"||v==="[object Array]",T=l?l+t+i(h):i(h);if(!p&&!S&&w&&Object.keys(d).length&&(!e.maxDepth||c<r))return o(d,T,c+1);s[T]=d})}return o(n),s}function hj(n,e){e=e||{};const t=e.delimiter||".",r=e.overwrite||!1,i=e.transformKey||fj,s={};if(cj(n)||Object.prototype.toString.call(n)!=="[object Object]")return n;function u(h){const d=Number(h);return isNaN(d)||h.indexOf(".")!==-1||e.object?h:d}function l(h,d,p){return Object.keys(p).reduce(function(v,S){return v[h+t+S]=p[S],v},d)}function c(h){const d=Object.prototype.toString.call(h),p=d==="[object Array]",v=d==="[object Object]";if(h){if(p)return!h.length;if(v)return!Object.keys(h).length}else return!0}return n=Object.keys(n).reduce(function(h,d){const p=Object.prototype.toString.call(n[d]);return!(p==="[object Object]"||p==="[object Array]")||c(n[d])?(h[d]=n[d],h):l(d,h,R1(n[d],e))},{}),Object.keys(n).forEach(function(h){const d=h.split(t).map(i);let p=u(d.shift()),v=u(d[0]),S=s;for(;v!==void 0;){if(p==="__proto__")return;const w=Object.prototype.toString.call(S[p]),T=w==="[object Object]"||w==="[object Array]";if(!r&&!T&&typeof S[p]!="undefined")return;(r&&!T||!r&&S[p]==null)&&(S[p]=typeof v=="number"&&!e.object?[]:{}),S=S[p],d.length>0&&(p=u(d.shift()),v=u(d[0]))}S[p]=hj(n[h],e)}),s}var e2e=$e&&$e.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Fh,"__esModule",{value:!0});Fh.ServiceLogger=Fh.DiagnosticsLogger=void 0;const dj=Ib,t2e=e2e(Qxe),n2e={info:console.log,imp:console.log,warn:console.warn,err:console.error};class r2e extends dj.DiagnosticsLoggerBase{constructor(e){super(e,!1);this.logger=n2e}log(e,t){this.logger[e](t)}}Fh.DiagnosticsLogger=r2e;class i2e extends dj.ServiceLoggerBase{constructor(e,t){super(e,t,!1)}format(e){return JSON.stringify(t2e.default(e))}}Fh.ServiceLogger=i2e;Object.defineProperty(kb,"__esModule",{value:!0});kb.LoggerProvider=void 0;const pj=Fh,s2e=Ib;class o2e extends s2e.LoggerProviderBase{_makeDiagnosticLogger(){return new pj.DiagnosticsLogger(this.config.logLevel)}makeServiceLogger(e){return new pj.ServiceLogger(e,this.config.logLevel)}}kb.LoggerProvider=o2e;var mj={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Networks=void 0,function(e){e.MAINNET="mainnet",e.ELP="elp",e.TESTNET_CLAY="testnet-clay",e.DEV_UNSTABLE="dev-unstable",e.LOCAL="local",e.INMEMORY="inmemory"}(n.Networks||(n.Networks={}))})(mj);var vj={};Object.defineProperty(vj,"__esModule",{value:!0});var Lb={};Object.defineProperty(Lb,"__esModule",{value:!0});Lb.UnreachableCaseError=void 0;class a2e extends Error{constructor(e,t){super(`Unhandled ${JSON.stringify(e)}: ${t}`)}}Lb.UnreachableCaseError=a2e;var gj={};Object.defineProperty(gj,"__esModule",{value:!0});var Fb={};Object.defineProperty(Fb,"__esModule",{value:!0});Fb.StreamStateSubject=void 0;const u2e=K5,l2e=P1;class c2e extends u2e.BehaviorSubject{next(e){const t=this.value;l2e.StreamUtils.statesEqual(t,e)||super.next(e)}}Fb.StreamStateSubject=c2e;var Ob={};Object.defineProperty(Ob,"__esModule",{value:!0});Ob.SubscriptionSet=void 0;class f2e{constructor(e=new Set){this.subscriptions=e}add(e){e.add(()=>{this.subscriptions.delete(e)}),this.subscriptions.add(e)}unsubscribe(){this.subscriptions.forEach(e=>e.unsubscribe())}}Ob.SubscriptionSet=f2e;(function(n){var e=$e&&$e.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),t=$e&&$e.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(n,"__esModule",{value:!0}),t(OH,n),t(NH,n),t(UH,n),t(c5,n),t(f5,n),t(Ab,n),t(P1,n),t(Rb,n),t(kb,n),t(Fh,n),t(mj,n),t(Ib,n),t(vj,n),t(Lb,n),t(gj,n),t(Fb,n),t(Ob,n)})(Th);var yj={},h2e=n=>encodeURIComponent(n).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),xj="%[a-f0-9]{2}",_j=new RegExp(xj,"gi"),wj=new RegExp("("+xj+")+","gi");function Q5(n,e){try{return decodeURIComponent(n.join(""))}catch{}if(n.length===1)return n;e=e||1;var t=n.slice(0,e),r=n.slice(e);return Array.prototype.concat.call([],Q5(t),Q5(r))}function d2e(n){try{return decodeURIComponent(n)}catch{for(var e=n.match(_j),t=1;t<e.length;t++)n=Q5(e,t).join(""),e=n.match(_j);return n}}function p2e(n){for(var e={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},t=wj.exec(n);t;){try{e[t[0]]=decodeURIComponent(t[0])}catch{var r=d2e(t[0]);r!==t[0]&&(e[t[0]]=r)}t=wj.exec(n)}e["%C2"]="\uFFFD";for(var i=Object.keys(e),s=0;s<i.length;s++){var o=i[s];n=n.replace(new RegExp(o,"g"),e[o])}return n}var m2e=function(n){if(typeof n!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof n+"`");try{return n=n.replace(/\+/g," "),decodeURIComponent(n)}catch{return p2e(n)}},v2e=(n,e)=>{if(!(typeof n=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[n];const t=n.indexOf(e);return t===-1?[n]:[n.slice(0,t),n.slice(t+e.length)]},g2e=function(n,e){for(var t={},r=Object.keys(n),i=Array.isArray(e),s=0;s<r.length;s++){var o=r[s],u=n[o];(i?e.indexOf(o)!==-1:e(o,u,n))&&(t[o]=u)}return t};(function(n){const e=h2e,t=m2e,r=v2e,i=g2e,s=E=>E==null,o=Symbol("encodeFragmentIdentifier");function u(E){switch(E.arrayFormat){case"index":return O=>(C,N)=>{const $=C.length;return N===void 0||E.skipNull&&N===null||E.skipEmptyString&&N===""?C:N===null?[...C,[h(O,E),"[",$,"]"].join("")]:[...C,[h(O,E),"[",h($,E),"]=",h(N,E)].join("")]};case"bracket":return O=>(C,N)=>N===void 0||E.skipNull&&N===null||E.skipEmptyString&&N===""?C:N===null?[...C,[h(O,E),"[]"].join("")]:[...C,[h(O,E),"[]=",h(N,E)].join("")];case"comma":case"separator":case"bracket-separator":{const O=E.arrayFormat==="bracket-separator"?"[]=":"=";return C=>(N,$)=>$===void 0||E.skipNull&&$===null||E.skipEmptyString&&$===""?N:($=$===null?"":$,N.length===0?[[h(C,E),O,h($,E)].join("")]:[[N,h($,E)].join(E.arrayFormatSeparator)])}default:return O=>(C,N)=>N===void 0||E.skipNull&&N===null||E.skipEmptyString&&N===""?C:N===null?[...C,h(O,E)]:[...C,[h(O,E),"=",h(N,E)].join("")]}}function l(E){let O;switch(E.arrayFormat){case"index":return(C,N,$)=>{if(O=/\[(\d*)\]$/.exec(C),C=C.replace(/\[\d*\]$/,""),!O){$[C]=N;return}$[C]===void 0&&($[C]={}),$[C][O[1]]=N};case"bracket":return(C,N,$)=>{if(O=/(\[\])$/.exec(C),C=C.replace(/\[\]$/,""),!O){$[C]=N;return}if($[C]===void 0){$[C]=[N];return}$[C]=[].concat($[C],N)};case"comma":case"separator":return(C,N,$)=>{const M=typeof N=="string"&&N.includes(E.arrayFormatSeparator),L=typeof N=="string"&&!M&&d(N,E).includes(E.arrayFormatSeparator);N=L?d(N,E):N;const V=M||L?N.split(E.arrayFormatSeparator).map(Z=>d(Z,E)):N===null?N:d(N,E);$[C]=V};case"bracket-separator":return(C,N,$)=>{const M=/(\[\])$/.test(C);if(C=C.replace(/\[\]$/,""),!M){$[C]=N&&d(N,E);return}const L=N===null?[]:N.split(E.arrayFormatSeparator).map(V=>d(V,E));if($[C]===void 0){$[C]=L;return}$[C]=[].concat($[C],L)};default:return(C,N,$)=>{if($[C]===void 0){$[C]=N;return}$[C]=[].concat($[C],N)}}}function c(E){if(typeof E!="string"||E.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function h(E,O){return O.encode?O.strict?e(E):encodeURIComponent(E):E}function d(E,O){return O.decode?t(E):E}function p(E){return Array.isArray(E)?E.sort():typeof E=="object"?p(Object.keys(E)).sort((O,C)=>Number(O)-Number(C)).map(O=>E[O]):E}function v(E){const O=E.indexOf("#");return O!==-1&&(E=E.slice(0,O)),E}function S(E){let O="";const C=E.indexOf("#");return C!==-1&&(O=E.slice(C)),O}function w(E){E=v(E);const O=E.indexOf("?");return O===-1?"":E.slice(O+1)}function T(E,O){return O.parseNumbers&&!Number.isNaN(Number(E))&&typeof E=="string"&&E.trim()!==""?E=Number(E):O.parseBooleans&&E!==null&&(E.toLowerCase()==="true"||E.toLowerCase()==="false")&&(E=E.toLowerCase()==="true"),E}function x(E,O){O=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},O),c(O.arrayFormatSeparator);const C=l(O),N=Object.create(null);if(typeof E!="string"||(E=E.trim().replace(/^[?#&]/,""),!E))return N;for(const $ of E.split("&")){if($==="")continue;let[M,L]=r(O.decode?$.replace(/\+/g," "):$,"=");L=L===void 0?null:["comma","separator","bracket-separator"].includes(O.arrayFormat)?L:d(L,O),C(d(M,O),L,N)}for(const $ of Object.keys(N)){const M=N[$];if(typeof M=="object"&&M!==null)for(const L of Object.keys(M))M[L]=T(M[L],O);else N[$]=T(M,O)}return O.sort===!1?N:(O.sort===!0?Object.keys(N).sort():Object.keys(N).sort(O.sort)).reduce(($,M)=>{const L=N[M];return Boolean(L)&&typeof L=="object"&&!Array.isArray(L)?$[M]=p(L):$[M]=L,$},Object.create(null))}n.extract=w,n.parse=x,n.stringify=(E,O)=>{if(!E)return"";O=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},O),c(O.arrayFormatSeparator);const C=L=>O.skipNull&&s(E[L])||O.skipEmptyString&&E[L]==="",N=u(O),$={};for(const L of Object.keys(E))C(L)||($[L]=E[L]);const M=Object.keys($);return O.sort!==!1&&M.sort(O.sort),M.map(L=>{const V=E[L];return V===void 0?"":V===null?h(L,O):Array.isArray(V)?V.length===0&&O.arrayFormat==="bracket-separator"?h(L,O)+"[]":V.reduce(N(L),[]).join("&"):h(L,O)+"="+h(V,O)}).filter(L=>L.length>0).join("&")},n.parseUrl=(E,O)=>{O=Object.assign({decode:!0},O);const[C,N]=r(E,"#");return Object.assign({url:C.split("?")[0]||"",query:x(w(E),O)},O&&O.parseFragmentIdentifier&&N?{fragmentIdentifier:d(N,O)}:{})},n.stringifyUrl=(E,O)=>{O=Object.assign({encode:!0,strict:!0,[o]:!0},O);const C=v(E.url).split("?")[0]||"",N=n.extract(E.url),$=n.parse(N,{sort:!1}),M=Object.assign($,E.query);let L=n.stringify(M,O);L&&(L=`?${L}`);let V=S(E.url);return E.fragmentIdentifier&&(V=`#${O[o]?h(E.fragmentIdentifier,O):E.fragmentIdentifier}`),`${C}${L}${V}`},n.pick=(E,O,C)=>{C=Object.assign({parseFragmentIdentifier:!0,[o]:!1},C);const{url:N,query:$,fragmentIdentifier:M}=n.parseUrl(E,C);return n.stringifyUrl({url:N,query:i($,O),fragmentIdentifier:M},C)},n.exclude=(E,O,C)=>{const N=Array.isArray(O)?$=>!O.includes($):($,M)=>!O($,M);return n.pick(E,N,C)}})(yj);var y2e=$e&&$e.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Hw,"__esModule",{value:!0});Hw.Document=void 0;const bj=uye,x2e=hye,po=Th,_2e=Au,w2e=y2e(yj);class Oh extends bj.Observable{constructor(e,t,r){super(i=>{this.state$.observers.length===0&&(this.periodicSubscription=bj.timer(0,r).pipe(x2e.throttle(()=>this._syncState(this.id,{sync:po.SyncOptions.PREFER_CACHE}))).subscribe()),this.state$.subscribe(i).add(()=>{var o;this.state$.observers.length===0&&((o=this.periodicSubscription)===null||o===void 0||o.unsubscribe())})});this._apiUrl=t,this.state$=new po.StreamStateSubject(e)}get value(){return this.state$.value}get state(){return this.state$.value}next(e){this.state$.next(e)}async _syncState(e,t){const r=await Oh._load(e,this._apiUrl,t);this.state$.next(po.StreamUtils.deserializeState(r))}get id(){return new _2e.StreamID(this.state$.value.type,this.state$.value.log[0].cid)}static async createFromGenesis(e,t,r,i,s){const{state:o}=await po.fetchJson(e+"/streams",{method:"post",body:{type:t,genesis:po.StreamUtils.serializeCommit(r),opts:i}});return new Oh(po.StreamUtils.deserializeState(o),e,s)}static async applyCommit(e,t,r,i,s){const{state:o}=await po.fetchJson(e+"/commits",{method:"post",body:{streamId:t.toString(),commit:po.StreamUtils.serializeCommit(r),opts:i}});return new Oh(po.StreamUtils.deserializeState(o),e,s)}static async _load(e,t,r){const i=t+"/streams/"+e.toString()+"?"+w2e.default.stringify(r),{state:s}=await po.fetchJson(i);return s}static async load(e,t,r,i){const s=await Oh._load(e,t,i);return new Oh(po.StreamUtils.deserializeState(s),t,r)}static async loadStreamCommits(e,t){const{commits:r}=await po.fetchJson(`${t}/commits/${e}`);return r.map(i=>({cid:i.cid,value:po.StreamUtils.deserializeCommit(i.value)}))}complete(){this.state$.complete()}}Hw.Document=Oh;var e6={},Nb={},Ii={},ws={};/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017 Joachim Wester
 * MIT license
 */var b2e=$e&&$e.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();Object.defineProperty(ws,"__esModule",{value:!0});var S2e=Object.prototype.hasOwnProperty;function t6(n,e){return S2e.call(n,e)}ws.hasOwnProperty=t6;function Sj(n){if(Array.isArray(n)){for(var t=new Array(n.length),e=0;e<t.length;e++)t[e]=""+e;return t}if(Object.keys)return Object.keys(n);var t=[];for(var r in n)t6(n,r)&&t.push(r);return t}ws._objectKeys=Sj;function E2e(n){switch(typeof n){case"object":return JSON.parse(JSON.stringify(n));case"undefined":return null;default:return n}}ws._deepClone=E2e;function M2e(n){for(var e=0,t=n.length,r;e<t;){if(r=n.charCodeAt(e),r>=48&&r<=57){e++;continue}return!1}return!0}ws.isInteger=M2e;function n6(n){return n.indexOf("/")===-1&&n.indexOf("~")===-1?n:n.replace(/~/g,"~0").replace(/\//g,"~1")}ws.escapePathComponent=n6;function D2e(n){return n.replace(/~1/g,"/").replace(/~0/g,"~")}ws.unescapePathComponent=D2e;function r6(n,e){var t;for(var r in n)if(t6(n,r)){if(n[r]===e)return n6(r)+"/";if(typeof n[r]=="object"&&(t=r6(n[r],e),t!=""))return n6(r)+"/"+t}return""}ws._getPathRecursive=r6;function A2e(n,e){if(n===e)return"/";var t=r6(n,e);if(t==="")throw new Error("Object not found in root");return"/"+t}ws.getPath=A2e;function i6(n){if(n===void 0)return!0;if(n){if(Array.isArray(n)){for(var e=0,t=n.length;e<t;e++)if(i6(n[e]))return!0}else if(typeof n=="object"){for(var r=Sj(n),i=r.length,e=0;e<i;e++)if(i6(n[r[e]]))return!0}}return!1}ws.hasUndefined=i6;function Ej(n,e){var t=[n];for(var r in e){var i=typeof e[r]=="object"?JSON.stringify(e[r],null,2):e[r];typeof i!="undefined"&&t.push(r+": "+i)}return t.join(`
`)}var T2e=function(n){b2e(e,n);function e(t,r,i,s,o){var u=this.constructor,l=n.call(this,Ej(t,{name:r,index:i,operation:s,tree:o}))||this;return l.name=r,l.index=i,l.operation=s,l.tree=o,Object.setPrototypeOf(l,u.prototype),l.message=Ej(t,{name:r,index:i,operation:s,tree:o}),l}return e}(Error);ws.PatchError=T2e;var Ub={},Mj=Array.isArray,Dj=Object.keys,C2e=Object.prototype.hasOwnProperty,P2e=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var r=Mj(e),i=Mj(t),s,o,u;if(r&&i){if(o=e.length,o!=t.length)return!1;for(s=o;s--!=0;)if(!n(e[s],t[s]))return!1;return!0}if(r!=i)return!1;var l=e instanceof Date,c=t instanceof Date;if(l!=c)return!1;if(l&&c)return e.getTime()==t.getTime();var h=e instanceof RegExp,d=t instanceof RegExp;if(h!=d)return!1;if(h&&d)return e.toString()==t.toString();var p=Dj(e);if(o=p.length,o!==Dj(t).length)return!1;for(s=o;s--!=0;)if(!C2e.call(t,p[s]))return!1;for(s=o;s--!=0;)if(u=p[s],!n(e[u],t[u]))return!1;return!0}return e!==e&&t!==t};(function(n){Object.defineProperty(n,"__esModule",{value:!0});var e=P2e,t=ws;n.JsonPatchError=t.PatchError,n.deepClone=t._deepClone;var r={add:function(d,p,v){return d[p]=this.value,{newDocument:v}},remove:function(d,p,v){var S=d[p];return delete d[p],{newDocument:v,removed:S}},replace:function(d,p,v){var S=d[p];return d[p]=this.value,{newDocument:v,removed:S}},move:function(d,p,v){var S=s(v,this.path);S&&(S=t._deepClone(S));var w=o(v,{op:"remove",path:this.from}).removed;return o(v,{op:"add",path:this.path,value:w}),{newDocument:v,removed:S}},copy:function(d,p,v){var S=s(v,this.from);return o(v,{op:"add",path:this.path,value:t._deepClone(S)}),{newDocument:v}},test:function(d,p,v){return{newDocument:v,test:e(d[p],this.value)}},_get:function(d,p,v){return this.value=d[p],{newDocument:v}}},i={add:function(d,p,v){return t.isInteger(p)?d.splice(p,0,this.value):d[p]=this.value,{newDocument:v,index:p}},remove:function(d,p,v){var S=d.splice(p,1);return{newDocument:v,removed:S[0]}},replace:function(d,p,v){var S=d[p];return d[p]=this.value,{newDocument:v,removed:S}},move:r.move,copy:r.copy,test:r.test,_get:r._get};function s(d,p){if(p=="")return d;var v={op:"_get",path:p};return o(d,v),v.value}n.getValueByPointer=s;function o(d,p,v,S,w,T){if(v===void 0&&(v=!1),S===void 0&&(S=!0),w===void 0&&(w=!0),T===void 0&&(T=0),v&&(typeof v=="function"?v(p,0,d,p.path):c(p,0)),p.path===""){var x={newDocument:d};if(p.op==="add")return x.newDocument=p.value,x;if(p.op==="replace")return x.newDocument=p.value,x.removed=d,x;if(p.op==="move"||p.op==="copy")return x.newDocument=s(d,p.from),p.op==="move"&&(x.removed=d),x;if(p.op==="test"){if(x.test=e(d,p.value),x.test===!1)throw new n.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",T,p,d);return x.newDocument=d,x}else{if(p.op==="remove")return x.removed=d,x.newDocument=null,x;if(p.op==="_get")return p.value=d,x;if(v)throw new n.JsonPatchError("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",T,p,d);return x}}else{S||(d=t._deepClone(d));var E=p.path||"",O=E.split("/"),C=d,N=1,$=O.length,M=void 0,L=void 0,V=void 0;for(typeof v=="function"?V=v:V=c;;){if(L=O[N],w&&L=="__proto__")throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(v&&M===void 0&&(C[L]===void 0?M=O.slice(0,N).join("/"):N==$-1&&(M=p.path),M!==void 0&&V(p,0,d,M)),N++,Array.isArray(C)){if(L==="-")L=C.length;else{if(v&&!t.isInteger(L))throw new n.JsonPatchError("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",T,p,d);t.isInteger(L)&&(L=~~L)}if(N>=$){if(v&&p.op==="add"&&L>C.length)throw new n.JsonPatchError("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",T,p,d);var x=i[p.op].call(p,C,L,d);if(x.test===!1)throw new n.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",T,p,d);return x}}else if(L&&L.indexOf("~")!=-1&&(L=t.unescapePathComponent(L)),N>=$){var x=r[p.op].call(p,C,L,d);if(x.test===!1)throw new n.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",T,p,d);return x}C=C[L]}}}n.applyOperation=o;function u(d,p,v,S,w){if(S===void 0&&(S=!0),w===void 0&&(w=!0),v&&!Array.isArray(p))throw new n.JsonPatchError("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");S||(d=t._deepClone(d));for(var T=new Array(p.length),x=0,E=p.length;x<E;x++)T[x]=o(d,p[x],v,!0,w,x),d=T[x].newDocument;return T.newDocument=d,T}n.applyPatch=u;function l(d,p,v){var S=o(d,p);if(S.test===!1)throw new n.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",v,p,d);return S.newDocument}n.applyReducer=l;function c(d,p,v,S){if(typeof d!="object"||d===null||Array.isArray(d))throw new n.JsonPatchError("Operation is not an object","OPERATION_NOT_AN_OBJECT",p,d,v);if(r[d.op]){if(typeof d.path!="string")throw new n.JsonPatchError("Operation `path` property is not a string","OPERATION_PATH_INVALID",p,d,v);if(d.path.indexOf("/")!==0&&d.path.length>0)throw new n.JsonPatchError('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",p,d,v);if((d.op==="move"||d.op==="copy")&&typeof d.from!="string")throw new n.JsonPatchError("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",p,d,v);if((d.op==="add"||d.op==="replace"||d.op==="test")&&d.value===void 0)throw new n.JsonPatchError("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",p,d,v);if((d.op==="add"||d.op==="replace"||d.op==="test")&&t.hasUndefined(d.value))throw new n.JsonPatchError("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",p,d,v);if(v){if(d.op=="add"){var w=d.path.split("/").length,T=S.split("/").length;if(w!==T+1&&w!==T)throw new n.JsonPatchError("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",p,d,v)}else if(d.op==="replace"||d.op==="remove"||d.op==="_get"){if(d.path!==S)throw new n.JsonPatchError("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",p,d,v)}else if(d.op==="move"||d.op==="copy"){var x={op:"_get",path:d.from,value:void 0},E=h([x],v);if(E&&E.name==="OPERATION_PATH_UNRESOLVABLE")throw new n.JsonPatchError("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",p,d,v)}}}else throw new n.JsonPatchError("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",p,d,v)}n.validator=c;function h(d,p,v){try{if(!Array.isArray(d))throw new n.JsonPatchError("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(p)u(t._deepClone(p),t._deepClone(d),v||!0);else{v=v||c;for(var S=0;S<d.length;S++)v(d[S],S,p,void 0)}}catch(w){if(w instanceof n.JsonPatchError)return w;throw w}}n.validate=h,n.default={JsonPatchError:n.JsonPatchError,deepClone:n.deepClone,getValueByPointer:s,applyOperation:o,applyPatch:u,applyReducer:l,validator:c,validate:h}})(Ub);var s6=$e&&$e.__assign||function(){return s6=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},s6.apply(this,arguments)};Object.defineProperty(Ii,"__esModule",{value:!0});/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017 Joachim Wester
 * MIT license
 */var Li=ws,R2e=Ub,z0=Ub;Ii.applyOperation=z0.applyOperation;Ii.applyPatch=z0.applyPatch;Ii.applyReducer=z0.applyReducer;Ii.getValueByPointer=z0.getValueByPointer;Ii.validate=z0.validate;Ii.validator=z0.validator;var Bb=ws;Ii.JsonPatchError=Bb.PatchError;Ii.deepClone=Bb._deepClone;Ii.escapePathComponent=Bb.escapePathComponent;Ii.unescapePathComponent=Bb.unescapePathComponent;var o6=new WeakMap,k2e=function(){function n(e){this.observers=new Map,this.obj=e}return n}(),I2e=function(){function n(e,t){this.callback=e,this.observer=t}return n}();function L2e(n){return o6.get(n)}function F2e(n,e){return n.observers.get(e)}function O2e(n,e){n.observers.delete(e.callback)}function Aj(n,e){e.unobserve()}Ii.unobserve=Aj;function Tj(n,e){var t=[],r,i=L2e(n);if(!i)i=new k2e(n),o6.set(n,i);else{var s=F2e(i,e);r=s&&s.observer}if(r)return r;if(r={},i.value=Li._deepClone(n),e){r.callback=e,r.next=null;var o=function(){zb(r)},u=function(){clearTimeout(r.next),r.next=setTimeout(o)};typeof window!="undefined"&&(window.addEventListener("mouseup",u),window.addEventListener("keyup",u),window.addEventListener("mousedown",u),window.addEventListener("keydown",u),window.addEventListener("change",u))}return r.patches=t,r.object=n,r.unobserve=function(){zb(r),clearTimeout(r.next),O2e(i,r),typeof window!="undefined"&&(window.removeEventListener("mouseup",u),window.removeEventListener("keyup",u),window.removeEventListener("mousedown",u),window.removeEventListener("keydown",u),window.removeEventListener("change",u))},i.observers.set(e,new I2e(e,r)),r}Ii.observe=Tj;function zb(n,e){e===void 0&&(e=!1);var t=o6.get(n.object);a6(t.value,n.object,n.patches,"",e),n.patches.length&&R2e.applyPatch(t.value,n.patches);var r=n.patches;return r.length>0&&(n.patches=[],n.callback&&n.callback(r)),r}Ii.generate=zb;function a6(n,e,t,r,i){if(e!==n){typeof e.toJSON=="function"&&(e=e.toJSON());for(var s=Li._objectKeys(e),o=Li._objectKeys(n),u=!1,l=o.length-1;l>=0;l--){var c=o[l],h=n[c];if(Li.hasOwnProperty(e,c)&&!(e[c]===void 0&&h!==void 0&&Array.isArray(e)===!1)){var d=e[c];typeof h=="object"&&h!=null&&typeof d=="object"&&d!=null?a6(h,d,t,r+"/"+Li.escapePathComponent(c),i):h!==d&&(i&&t.push({op:"test",path:r+"/"+Li.escapePathComponent(c),value:Li._deepClone(h)}),t.push({op:"replace",path:r+"/"+Li.escapePathComponent(c),value:Li._deepClone(d)}))}else Array.isArray(n)===Array.isArray(e)?(i&&t.push({op:"test",path:r+"/"+Li.escapePathComponent(c),value:Li._deepClone(h)}),t.push({op:"remove",path:r+"/"+Li.escapePathComponent(c)}),u=!0):(i&&t.push({op:"test",path:r,value:n}),t.push({op:"replace",path:r,value:e}))}if(!(!u&&s.length==o.length))for(var l=0;l<s.length;l++){var c=s[l];!Li.hasOwnProperty(n,c)&&e[c]!==void 0&&t.push({op:"add",path:r+"/"+Li.escapePathComponent(c),value:Li._deepClone(e[c])})}}}function Cj(n,e,t){t===void 0&&(t=!1);var r=[];return a6(n,e,r,"",t),r}Ii.compare=Cj;var N2e=Ub,Pj=ws;Ii.default=s6({},N2e,{unobserve:Aj,observe:Tj,generate:zb,compare:Cj,JsonPatchError:Pj.PatchError,deepClone:Li._deepClone,escapePathComponent:Li.escapePathComponent,unescapePathComponent:Pj.unescapePathComponent});var U2e=$e&&$e.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),B2e=$e&&$e.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),z2e=$e&&$e.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var u=n.length-1;u>=0;u--)(o=n[u])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},$2e=$e&&$e.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&U2e(e,n,t);return B2e(e,n),e},G2e=$e&&$e.__importDefault||function(n){return n&&n.__esModule?n:{default:n}},Nh;Object.defineProperty(Nb,"__esModule",{value:!0});Nb.TileDocument=void 0;const H2e=G2e(Ii),V2e=$2e(ss),W2e=Ac,$b=Th,Rj=Au,kj={anchor:!0,publish:!0,sync:$b.SyncOptions.PREFER_CACHE},j2e={sync:$b.SyncOptions.PREFER_CACHE},Ij={anchor:!0,publish:!0,throwOnInvalidCommit:!0};function u6(n,e){var t,r;if(typeof(n==null?void 0:n.schema)=="string")try{Rj.CommitID.fromString(n.schema)}catch{throw new Error("Schema must be a CommitID")}const i={controllers:n==null?void 0:n.controllers,family:n==null?void 0:n.family,schema:(t=n==null?void 0:n.schema)===null||t===void 0?void 0:t.toString(),tags:n==null?void 0:n.tags};if(e)(n==null?void 0:n.deterministic)||(i.unique=V2e.toString(W2e.randomBytes(12),"base64")),(n==null?void 0:n.forbidControllerChange)&&(i.forbidControllerChange=!0);else{if((n==null?void 0:n.deterministic)!==void 0||((r=n)===null||r===void 0?void 0:r.unique)!==void 0)throw new Error("Cannot change 'deterministic' or 'unique' properties on existing Streams");if((n==null?void 0:n.forbidControllerChange)!==void 0)throw new Error("Cannot change 'forbidControllerChange' property on existing Streams")}return Object.keys(i).forEach(s=>i[s]===void 0&&delete i[s]),i}async function Lj(n){if(n.did==null)throw new Error("No DID provided");n.did.authenticated||(await n.did.authenticate(),n.loggerProvider&&n.loggerProvider.getDiagnosticsLogger().imp(`Now authenticated as DID ${n.did.id}`))}async function Gb(n,e){return await Lj(n),n.did.createDagJWS(e)}async function l6(){throw new Error("Historical stream commits cannot be modified. Load the stream without specifying a commit to make updates.")}let k1=Nh=class extends $b.Stream{constructor(){super(...arguments);this._isReadOnly=!1}get content(){return super.content}static async create(e,t,r,i={}){i=vt(vt({},kj),i),!(r==null?void 0:r.deterministic)&&i.syncTimeoutSeconds==null&&(i.syncTimeoutSeconds=0);const s=await Nh.makeGenesis(e,t,r);return e.createStreamFromGenesis(Nh.STREAM_TYPE_ID,s,i)}static async createFromGenesis(e,t,r={}){var i;r=vt(vt({},kj),r),((i=t.header)===null||i===void 0?void 0:i.unique)&&r.syncTimeoutSeconds==null&&(r.syncTimeoutSeconds=0);const s=t.data?await Gb(e,t):t;return e.createStreamFromGenesis(Nh.STREAM_TYPE_ID,s,r)}static async load(e,t,r={}){r=vt(vt({},j2e),r);const i=Rj.StreamRef.from(t);if(i.type!=Nh.STREAM_TYPE_ID)throw new Error(`StreamID ${i.toString()} does not refer to a '${Nh.STREAM_TYPE_NAME}' stream, but to a ${i.typeName}`);return e.loadStream(i,r)}async update(e,t,r={}){r=vt(vt({},Ij),r);const i=await this.makeCommit(this.api,e,t),s=await this.api.applyCommit(this.id,i,r);this.state$.next(s.state)}async patch(e,t={}){t=vt(vt({},Ij),t);const i={header:u6(this.metadata,!1),data:e,prev:this.tip,id:this.state$.id.cid},s=await Gb(this.api,i),o=await this.api.applyCommit(this.id,s,t);this.state$.next(o.state)}makeReadOnly(){this.update=l6,this.patch=l6,this.sync=l6,this._isReadOnly=!0}get isReadOnly(){return this._isReadOnly}async makeCommit(e,t,r){var i;const s=u6(r,!1);if(t==null&&(t=this.content),s.controllers&&((i=s.controllers)===null||i===void 0?void 0:i.length)!==1)throw new Error("Exactly one controller must be specified");const o=H2e.default.compare(this.content,t),u={header:s,data:o,prev:this.tip,id:this.state.log[0].cid};return Gb(e,u)}static async makeGenesis(e,t,r){var i;if(r||(r={}),!r.controllers||r.controllers.length===0)if(e.did)await Lj(e),r.controllers=[e.did.id];else throw new Error("No controllers specified");if(((i=r.controllers)===null||i===void 0?void 0:i.length)!==1)throw new Error("Exactly one controller must be specified");const s=u6(r,!0);if((r==null?void 0:r.deterministic)&&t)throw new Error("Initial content must be null when creating a deterministic Tile document");return t==null?{header:s}:await Gb(e,{data:t,header:s})}};k1.STREAM_TYPE_NAME="tile";k1.STREAM_TYPE_ID=0;k1=Nh=z2e([$b.StreamStatic()],k1);Nb.TileDocument=k1;(function(n){var e=$e&&$e.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),t=$e&&$e.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(n,"__esModule",{value:!0}),t(Nb,n)})(e6);var Fj={},Hb={},xl={},c6={},Vb={},Wb={};Object.defineProperty(Wb,"__esModule",{value:!0});const Oj={name:"chainId",regex:"[-:a-zA-Z0-9]{5,64}",parameters:{delimiter:":",values:{0:{name:"namespace",regex:"[-a-z0-9]{3,16}"},1:{name:"reference",regex:"[-a-zA-Z0-9]{1,47}"}}}},q2e={name:"accountId",regex:"[-@:a-zA-Z0-9]{7,128}",parameters:{delimiter:"@",values:{0:{name:"address",regex:"[a-zA-Z0-9]{1,63}"},1:Oj}}};Wb.CAIP={"2":Oj,"10":q2e};var Uh={};Object.defineProperty(Uh,"__esModule",{value:!0});function f6(n,e){return n.split(e.parameters.delimiter)}Uh.splitParams=f6;function X2e(n,e){const t=f6(n,e),r={};return t.forEach((i,s)=>{r[e.parameters.values[s].name]=i}),r}Uh.getParams=X2e;function Nj(n,e){return Object.values(e.parameters.values).map(t=>{const r=n[t.name];return typeof r=="string"?r:Nj(r,t)}).join(e.parameters.delimiter)}Uh.joinParams=Nj;function Y2e(n,e){if(!new RegExp(e.regex).test(n))return!1;const t=f6(n,e);return!(t.length!==Object.keys(e.parameters.values).length||t.map((i,s)=>new RegExp(e.parameters.values[s].regex).test(i)).filter(i=>!!i).length!==t.length)}Uh.isValidId=Y2e;Object.defineProperty(Vb,"__esModule",{value:!0});const J2e=Wb,h6=Uh;class $0{constructor(e){typeof e=="string"&&(e=$0.parse(e)),this.namespace=e.namespace,this.reference=e.reference}static parse(e){if(!h6.isValidId(e,this.spec))throw new Error(`Invalid ${this.spec.name} provided: ${e}`);return new $0(h6.getParams(e,this.spec)).toJson()}static format(e){return h6.joinParams(e,this.spec)}toString(){return $0.format(this.toJson())}toJson(){return{namespace:this.namespace,reference:this.reference}}}Vb.ChainID=$0;$0.spec=J2e.CAIP["2"];Object.defineProperty(c6,"__esModule",{value:!0});const K2e=Vb,Z2e=Wb,d6=Uh;class G0{constructor(e){typeof e=="string"&&(e=G0.parse(e)),this.chainId=new K2e.ChainID(e.chainId),this.address=e.address}static parse(e){if(!d6.isValidId(e,this.spec))throw new Error(`Invalid ${this.spec.name} provided: ${e}`);return new G0(d6.getParams(e,this.spec)).toJson()}static format(e){return d6.joinParams(e,this.spec)}toString(){return G0.format(this.toJson())}toJson(){return{chainId:this.chainId.toJson(),address:this.address}}}c6.AccountID=G0;G0.spec=Z2e.CAIP["10"];(function(n){function e(t){for(var r in t)n.hasOwnProperty(r)||(n[r]=t[r])}Object.defineProperty(n,"__esModule",{value:!0}),e(c6),e(Vb)})(xl);var Q2e=$e&&$e.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var u=n.length-1;u>=0;u--)(o=n[u])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Bh;Object.defineProperty(Hb,"__esModule",{value:!0});Hb.Caip10Link=void 0;const jb=Th,e_e=Au,t_e=xl,p6=()=>{throw new Error("Historical stream commits cannot be modified. Load the stream without specifying a commit to make updates.")},Uj={anchor:!1,publish:!0,sync:jb.SyncOptions.PREFER_CACHE},Bj={anchor:!0,publish:!0,throwOnInvalidCommit:!0},n_e={sync:jb.SyncOptions.PREFER_CACHE};let I1=Bh=class extends jb.Stream{constructor(){super(...arguments);this._isReadOnly=!1}get did(){return this.content}static async fromAccount(e,t,r={}){r=vt(vt({},Uj),r);const i=new t_e.AccountID(t),s=Bh.makeGenesis(i);return Bh.fromGenesis(e,s,r)}static async fromGenesis(e,t,r={}){return r=vt(vt({},Uj),r),e.createStreamFromGenesis(Bh.STREAM_TYPE_ID,t,r)}async setDid(e,t,r={}){r=vt(vt({},Bj),r);const i=typeof e=="string"?e:e.id,s=await t.createLink(i);return this.setDidProof(s,r)}async setDidProof(e,t={}){t=vt(vt({},Bj),t);const r=this.makeCommit(e),i=await this.api.applyCommit(this.id,r,t);this.state$.next(i.state)}static async load(e,t,r={}){r=vt(vt({},n_e),r);const i=e_e.StreamRef.from(t);if(i.type!=Bh.STREAM_TYPE_ID)throw new Error(`StreamID ${i.toString()} does not refer to a '${Bh.STREAM_TYPE_NAME}' stream, but to a ${i.typeName}`);return e.loadStream(i,r)}static makeGenesis(e){return e.chainId.namespace==="eip155"&&(e.address=e.address.toLowerCase()),{header:{controllers:[e.toString()],family:`caip10-${e.chainId.toString()}`}}}makeCommit(e){return{data:e,prev:this.tip,id:this.state$.id.cid}}makeReadOnly(){this.setDidProof=p6,this.setDid=p6,this.sync=p6,this._isReadOnly=!0}get isReadOnly(){return this._isReadOnly}};I1.STREAM_TYPE_NAME="caip10-link";I1.STREAM_TYPE_ID=1;I1=Bh=Q2e([jb.StreamStatic()],I1);Hb.Caip10Link=I1;(function(n){var e=$e&&$e.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),t=$e&&$e.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(n,"__esModule",{value:!0}),t(Hb,n)})(Fj);var qb={};Object.defineProperty(qb,"__esModule",{value:!0});qb.RemotePinApi=void 0;const m6=Th;class r_e{constructor(e){this._apiUrl=e}async add(e){await m6.fetchJson(this._apiUrl+`/pins/${e.toString()}`,{method:"post"})}async rm(e,t){await m6.fetchJson(this._apiUrl+`/pins/${e.toString()}`,{method:"delete",body:{opts:t}})}async ls(e){let t=this._apiUrl+"/pins";e&&(t+=`/${e.toString()}`);const r=await m6.fetchJson(t),{pinnedStreamIds:i}=r;return{[Symbol.asyncIterator](){let s=0;return{next(){return s===i.length?Promise.resolve({value:null,done:!0}):Promise.resolve({value:i[s++],done:!1})}}}}}}qb.RemotePinApi=r_e;(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.CeramicClient=n.DEFAULT_CLIENT_CONFIG=void 0;const e=Lc,t=Hw,r=Th,i=e6,s=Fj,o=Au,u=qb,l="/api/v0",c="http://localhost:7007";n.DEFAULT_CLIENT_CONFIG={syncInterval:5e3};const h={anchor:!0,publish:!0,sync:r.SyncOptions.PREFER_CACHE},d={anchor:!0,publish:!0,sync:r.SyncOptions.PREFER_CACHE},p={sync:r.SyncOptions.PREFER_CACHE};class v{constructor(w=c,T={}){this._config=vt(vt({},n.DEFAULT_CLIENT_CONFIG),T),this._apiUrl=e.combineURLs(w,l),this._streamCache=new Map,this.context={api:this},this.pin=new u.RemotePinApi(this._apiUrl),this._streamConstructors={[i.TileDocument.STREAM_TYPE_ID]:i.TileDocument,[s.Caip10Link.STREAM_TYPE_ID]:s.Caip10Link}}get did(){return this.context.did}set did(w){this.context.did=w}async createStreamFromGenesis(w,T,x={}){x=vt(vt({},d),x);const E=await t.Document.createFromGenesis(this._apiUrl,w,T,x,this._config.syncInterval),O=this._streamCache.get(E.id.toString());return O?(r.StreamUtils.statesEqual(E.state,O.state)||O.next(E.state),this.buildStream(O)):(this._streamCache.set(E.id.toString(),E),this.buildStream(E))}async loadStream(w,T={}){T=vt(vt({},p),T);const x=o.StreamRef.from(w);let E=this._streamCache.get(x.baseID.toString());return E?await E._syncState(x,T):(E=await t.Document.load(x,this._apiUrl,this._config.syncInterval,T),this._streamCache.set(E.id.toString(),E)),this.buildStream(E)}async multiQuery(w){const T=w.map(E=>({streamId:typeof E.streamId=="string"?E.streamId:E.streamId.toString(),paths:E.paths,atTime:E.atTime})),x=await r.fetchJson(this._apiUrl+"/multiqueries",{method:"post",body:{queries:T}});return Object.entries(x).reduce((E,O)=>{const[C,N]=O,$=r.StreamUtils.deserializeState(N),M=new t.Document($,this._apiUrl,this._config.syncInterval);return E[C]=this.buildStream(M),E},{})}loadStreamCommits(w){const T=e.typeStreamID(w);return t.Document.loadStreamCommits(T,this._apiUrl)}async applyCommit(w,T,x={}){x=vt(vt({},h),x);const E=e.typeStreamID(w),O=await t.Document.applyCommit(this._apiUrl,E,T,x,this._config.syncInterval),C=this._streamCache.get(E.toString());return C?(C.next(O.state),this.buildStream(O)):(this._streamCache.set(E.toString(),O),this.buildStream(O))}async requestAnchor(w,T={}){T=vt(vt({},p),T);const{anchorStatus:x}=await r.fetchJson(`${this._apiUrl}/streams/${w.toString()}/anchor`,{method:"post",body:{opts:T}});return x}addStreamHandler(w){this._streamConstructors[w.name]=w.stream_constructor}findStreamConstructor(w){const T=this._streamConstructors[w];if(T)return T;throw new Error(`Failed to find constructor for stream ${w}`)}buildStream(w){const T=this.findStreamConstructor(w.state.type);return new T(w,this.context)}async setDID(w){this.context.did=w}async getSupportedChains(){if(this._supportedChains)return this._supportedChains;const{supportedChains:w}=await r.fetchJson(this._apiUrl+"/node/chains");return this._supportedChains=w,w}async close(){Array.from(this._streamCache).map(([,w])=>{w.complete()}),this._streamCache.clear()}}n.CeramicClient=v,n.default=v})(fge);var i_e={},zj={};Object.defineProperty(zj,"__esModule",{value:!0});var Fi={},mo={};Object.defineProperty(mo,"__esModule",{value:!0});mo.encodeRpcMessage=mo.getConsentMessage=void 0;function s_e(n,e=!0){const t={message:`Link this account to your identity

`+n};return e&&(t.timestamp=Math.floor(Date.now()/1e3),t.message+=` 
Timestamp: `+t.timestamp),t}mo.getConsentMessage=s_e;function o_e(n,e){return{jsonrpc:"2.0",id:1,method:n,params:e}}mo.encodeRpcMessage=o_e;var a_e=$e&&$e.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),u_e=$e&&$e.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),$j=$e&&$e.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&a_e(e,n,t);return u_e(e,n),e};Object.defineProperty(Fi,"__esModule",{value:!0});Fi.authenticate=Fi.createLink=Fi.normalizeAccountId=Fi.isERC1271=Fi.isEthAddress=Fi.EthereumAuthProvider=void 0;const l_e=xl,H0=mo,Xb=$j(ss),c_e=$j(bc),Gj={ethereumEOA:"ethereum-eoa",erc1271:"erc1271"},f_e="eip155";class v6{constructor(e,t,r={}){this.provider=e,this.address=t,this.opts=r,this.isAuthProvider=!0}async accountId(){const e=H0.encodeRpcMessage("eth_chainId",[]),t=await L1(e,this.provider),r=parseInt(t,16);return new l_e.AccountID({address:this.address,chainId:`${f_e}:${r}`})}async authenticate(e){const t=await this.accountId();return qj(e,t,this.provider)}async createLink(e){const t=await this.accountId();return jj(e,t,this.provider,this.opts)}withAddress(e){return new v6(this.provider,e)}}Fi.EthereumAuthProvider=v6;function h_e(n){return/^0x[a-fA-F0-9]{40}$/.test(n)}Fi.isEthAddress=h_e;async function d_e(n,e){const t=H0.encodeRpcMessage("eth_getCode",[n,"latest"]);return L1(t,e)}async function L1(n,e){const t=(e.sendAsync?e.sendAsync:e.send).bind(e);return new Promise((r,i)=>{t(n,function(s,o){s?i(s):o.error?i(o.error):r(o.result)})})}async function Hj(n,e){const t=await d_e(n.address,e).catch(()=>null);return Boolean(t&&t!=="0x"&&t!=="0x0"&&t!=="0x00")}Fi.isERC1271=Hj;function g6(n){return n.address=n.address.toLowerCase(),n}Fi.normalizeAccountId=g6;function Vj(n){const e=Xb.fromString(n),t=Xb.toString(e,"base16");return"0x"+t}async function Wj(n,e,t,r={}){const{message:i,timestamp:s}=H0.getConsentMessage(n,!r.skipTimestamp),o=Vj(i),u=H0.encodeRpcMessage("personal_sign",[o,e.address]),l=await L1(u,t),c={version:2,type:Gj.ethereumEOA,message:i,signature:l,account:e.toString()};return r.skipTimestamp||(c.timestamp=s),c}async function p_e(n,e){const t=H0.encodeRpcMessage("eth_chainId",[]),r=await L1(t,e),i=parseInt(r,16);if(i!==parseInt(n.chainId.reference))throw new Error(`ChainId in provider (${i}) is different from AccountID (${n.chainId.reference})`)}async function m_e(n,e,t,r){const i=(r==null?void 0:r.eoaSignAccount)||e,s=await Wj(n,i,t,r);return await p_e(e,t),Object.assign(s,{type:Gj.erc1271,account:e.toString()})}async function jj(n,e,t,r){return e=g6(e),await Hj(e,t)?m_e(n,e,t,r):Wj(n,e,t,r)}Fi.createLink=jj;async function qj(n,e,t){if(e&&(e=g6(e)),t.isAuthereum)return t.signMessageWithSigningKey(n);const r=Vj(n),i=H0.encodeRpcMessage("personal_sign",[r,e.address]),s=await L1(i,t),o=Xb.fromString(s.slice(2)),u=c_e.hash(o);return`0x${Xb.toString(u,"base16")}`}Fi.authenticate=qj;var zh={},v_e=$e&&$e.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),g_e=$e&&$e.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),y_e=$e&&$e.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&v_e(e,n,t);return g_e(e,n),e};Object.defineProperty(zh,"__esModule",{value:!0});zh.asTransaction=zh.FilecoinAuthProvider=void 0;const x_e=xl,__e=mo,Xj=y_e(ss);class y6{constructor(e,t){this.provider=e,this.address=t,this.isAuthProvider=!0}async accountId(){const t=`fil:${this.address[0]}`;return new x_e.AccountID({address:this.address,chainId:t})}async authenticate(e){const t=x6(this.address,JSON.stringify(e));return(await this.provider.sign(this.address,t)).Signature.Data}async createLink(e){const{message:t,timestamp:r}=__e.getConsentMessage(e,!0),i=x6(this.address,t),s=await this.provider.sign(this.address,i),o=await this.accountId();return{version:2,type:"eoa-tx",message:t,signature:s.Signature.Data,account:o.toString(),timestamp:r}}withAddress(e){return new y6(this.provider,e)}}zh.FilecoinAuthProvider=y6;function x6(n,e){const t=Xj.toString(Xj.fromString(e),"base64");return{From:n,To:n,Value:"0",Method:0,GasPrice:"1",GasLimit:1e3,Nonce:0,Params:t,GasFeeCap:"1",GasPremium:"1"}}zh.asTransaction=x6;var F1={},w_e=$e&&$e.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),b_e=$e&&$e.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),S_e=$e&&$e.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&w_e(e,n,t);return b_e(e,n),e};Object.defineProperty(F1,"__esModule",{value:!0});F1.PolkadotAuthProvider=void 0;const E_e=xl,M_e=mo,Yj=S_e(ss),D_e=n=>`0x${Yj.toString(Yj.fromString(n),"base16")}`,A_e="polkadot:b0a8d493285c2df73290dfb7e61f870f";class _6{constructor(e,t){this.provider=e,this.address=t,this.isAuthProvider=!0}async authenticate(e){throw new Error(`Not Implemented: PolkadotAuthProvider#authenticate, ${e}`)}async createLink(e){const{message:t,timestamp:r}=M_e.getConsentMessage(e),i=D_e(t),s=await this.accountId(),o=await this.provider.signRaw({address:this.address,data:i,type:"bytes"});return{version:2,type:"eoa",message:t,signature:o.signature,account:s.toString(),timestamp:r}}async accountId(){return new E_e.AccountID({address:this.address,chainId:A_e})}withAddress(e){return new _6(this.provider,e)}}F1.PolkadotAuthProvider=_6;var _l={},T_e=$e&&$e.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),C_e=$e&&$e.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),Jj=$e&&$e.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&T_e(e,n,t);return C_e(e,n),e};Object.defineProperty(_l,"__esModule",{value:!0});_l.toSignedPayload=_l.toPayload=_l.EosioAuthProvider=void 0;const P_e=xl,R_e=mo,k_e=Fi,I_e=Jj(bc),Kj=Jj(ss),L_e=12;class w6{constructor(e,t){this.provider=e,this.address=t,this.isAuthProvider=!0}async accountId(){const e=Zj(await this.provider.getChainId());return new P_e.AccountID({address:this.address,chainId:`eosio:${e}`})}async authenticate(e){const t=await this.accountId(),r=await b6(e,t,this.provider),i=Kj.fromString(r),s=I_e.hash(i);return`0x${Kj.toString(s,"base16")}`}async createLink(e){const t=R_e.getConsentMessage(e),r=await this.accountId(),i=await b6(t.message,r,this.provider);return{version:2,type:"eosio",message:t.message,signature:i,account:r.toString(),timestamp:t.timestamp}}withAddress(e){return new w6(this.provider,e)}}_l.EosioAuthProvider=w6;function Zj(n){return n.substr(0,32)}function F_e(n,e){return n.replace(/\s/g," ").replace(new RegExp(`(\\S{${e}})`,"g"),"$1 ")}function Qj(n,e){const{address:t,chainId:r}=e,i=`${n} [For: ${t} on chain: ${r}]`;return F_e(i,L_e)}_l.toPayload=Qj;async function b6(n,e,t){e=k_e.normalizeAccountId(e);const{chainId:{reference:r},address:i}=e,s=await t.getAccountName(),o=Zj(await t.getChainId());if(o!==r)throw new Error(`Provider returned a different chainId than requested [returned: ${o}, requested: ${r}]`);if(s!==i)throw new Error(`Provider returned a different account than requested [returned: ${s}, requested: ${i}]`);const u=Qj(n,e),[l]=await t.getKeys();return t.signArbitrary(l,u)}_l.toSignedPayload=b6;var wl={},O_e=$e&&$e.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),N_e=$e&&$e.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),U_e=$e&&$e.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&O_e(e,n,t);return N_e(e,n),e};Object.defineProperty(wl,"__esModule",{value:!0});wl.CosmosAuthProvider=wl.getMetaData=wl.asTransaction=void 0;const B_e=xl,z_e=mo,$_e=bc,Yb=U_e(ss),S6=n=>Yb.toString(Yb.fromString(n),"base64pad");function E6(n,e){return{fee:{amount:[{amount:"0",denom:""}],gas:"0"},memo:e,msg:[{type:"cosmos-sdk/MsgSend",value:{from_address:n,to_address:n,amount:[{amount:"0",denom:"0"}]}}]}}wl.asTransaction=E6;function M6(){return{account_number:"1",chain_id:"cosmos",sequence:"0"}}wl.getMetaData=M6;class D6{constructor(e,t,r){this.provider=e,this.address=t,this.chainRef=r,this.isAuthProvider=!0}async authenticate(e){const t=await this.accountId(),r=S6(e),i=await this.provider.sign(E6(t.address,r),M6()),s=$_e.hash(Yb.fromString(JSON.stringify(i.signatures[0])));return`0x${Yb.toString(s,"base16")}`}async createLink(e){const{message:t,timestamp:r}=z_e.getConsentMessage(e),i=await this.accountId(),s=S6(t),o=await this.provider.sign(E6(i.address,s),M6()),u=S6(JSON.stringify(o.signatures[0]));return{version:2,message:t,signature:u,account:i.toString(),timestamp:r}}async accountId(){return new B_e.AccountID({address:this.address,chainId:`cosmos:${this.chainRef}`})}withAddress(e){return new D6(this.provider,e,this.chainRef)}}wl.CosmosAuthProvider=D6;var A6={};(function(n){var e=$e&&$e.__createBinding||(Object.create?function(p,v,S,w){w===void 0&&(w=S),Object.defineProperty(p,w,{enumerable:!0,get:function(){return v[S]}})}:function(p,v,S,w){w===void 0&&(w=S),p[w]=v[S]}),t=$e&&$e.__setModuleDefault||(Object.create?function(p,v){Object.defineProperty(p,"default",{enumerable:!0,value:v})}:function(p,v){p.default=v}),r=$e&&$e.__importStar||function(p){if(p&&p.__esModule)return p;var v={};if(p!=null)for(var S in p)S!=="default"&&Object.prototype.hasOwnProperty.call(p,S)&&e(v,p,S);return t(v,p),v};Object.defineProperty(n,"__esModule",{value:!0}),n.TezosAuthProvider=n.TEZOS_CHAIN_REF=n.TEZOS_NAMESPACE=void 0;const i=xl,s=mo,o=bc,u=r(ss);n.TEZOS_NAMESPACE="tezos",n.TEZOS_CHAIN_REF="NetXdQprcVkpaWU";function l(p){return u.toString(u.fromString(p,"utf8"),"base16")}async function c(p,v){const{prefixSig:S}=await p.signer.sign(l(v));return S}async function h(p){return p.signer.publicKeyHash()}class d{constructor(v){if(this.provider=v,this.isAuthProvider=!0,v.signer===void 0)throw new Error("a `Signer` is required to use the `TezosAuthProvider`")}async authenticate(v){const S=await c(this.provider,v),w=o.hash(u.fromString(S));return`0x${u.toString(w,"base16")}`}async createLink(v){const{message:S,timestamp:w}=s.getConsentMessage(v),T=await c(this.provider,S),x=await h(this.provider),E=new i.AccountID({address:x,chainId:`${n.TEZOS_NAMESPACE}:${n.TEZOS_CHAIN_REF}`});return{version:2,message:S,signature:T,account:E.toString(),timestamp:w}}async accountId(){const v=await h(this.provider);return new i.AccountID({address:v,chainId:`${n.TEZOS_NAMESPACE}:${n.TEZOS_CHAIN_REF}`})}withAddress(v){throw new Error("TezosAuthProvider does not support withAddress")}}n.TezosAuthProvider=d})(A6);var Jb={},G_e=$e&&$e.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),H_e=$e&&$e.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),V_e=$e&&$e.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&G_e(e,n,t);return H_e(e,n),e};Object.defineProperty(Jb,"__esModule",{value:!0});Jb.NearAuthProvider=void 0;const eq=xl,W_e=mo,j_e=bc,T6=V_e(ss),tq=n=>T6.toString(T6.fromString(n),"base64pad");class C6{constructor(e,t,r){this.provider=e,this.address=t,this.chainRef=r,this.isAuthProvider=!0}async authenticate(e){const t=tq(e),{signature:r}=await this.provider.sign(t),i=j_e.hash(r);return`0x${T6.toString(i,"base16")}`}async createLink(e){const{message:t,timestamp:r}=W_e.getConsentMessage(e),i=tq(t),{signature:s,account:o}=await this.provider.sign(i),u=new eq.AccountID({address:o,chainId:`near:${this.chainRef}`});return{version:2,message:t,signature:s,account:u.toString(),timestamp:r}}async accountId(){return new eq.AccountID({address:this.address,chainId:`near:${this.chainRef}`})}withAddress(e){return new C6(this.provider,e,this.chainRef)}}Jb.NearAuthProvider=C6;(function(n){var e=$e&&$e.__createBinding||(Object.create?function(v,S,w,T){T===void 0&&(T=w),Object.defineProperty(v,T,{enumerable:!0,get:function(){return S[w]}})}:function(v,S,w,T){T===void 0&&(T=w),v[T]=S[w]}),t=$e&&$e.__setModuleDefault||(Object.create?function(v,S){Object.defineProperty(v,"default",{enumerable:!0,value:S})}:function(v,S){v.default=S}),r=$e&&$e.__exportStar||function(v,S){for(var w in v)w!=="default"&&!Object.prototype.hasOwnProperty.call(S,w)&&e(S,v,w)},i=$e&&$e.__importStar||function(v){if(v&&v.__esModule)return v;var S={};if(v!=null)for(var w in v)w!=="default"&&Object.prototype.hasOwnProperty.call(v,w)&&e(S,v,w);return t(S,v),S};Object.defineProperty(n,"__esModule",{value:!0}),n.TezosAuthProvider=n.NearAuthProvider=n.CosmosAuthProvider=n.PolkadotAuthProvider=n.EosioAuthProvider=n.FilecoinAuthProvider=n.AvalancheAuthProvider=n.EthereumAuthProvider=n.tezos=n.cosmos=n.eosio=n.polkadot=n.filecoin=n.ethereum=void 0,r(zj,n),n.ethereum=i(Fi),r(mo,n),n.filecoin=i(zh),n.polkadot=i(F1),n.eosio=i(_l),n.cosmos=i(wl),n.tezos=i(A6);var s=Fi;Object.defineProperty(n,"EthereumAuthProvider",{enumerable:!0,get:function(){return s.EthereumAuthProvider}});var o=Fi;Object.defineProperty(n,"AvalancheAuthProvider",{enumerable:!0,get:function(){return o.EthereumAuthProvider}});var u=zh;Object.defineProperty(n,"FilecoinAuthProvider",{enumerable:!0,get:function(){return u.FilecoinAuthProvider}});var l=_l;Object.defineProperty(n,"EosioAuthProvider",{enumerable:!0,get:function(){return l.EosioAuthProvider}});var c=F1;Object.defineProperty(n,"PolkadotAuthProvider",{enumerable:!0,get:function(){return c.PolkadotAuthProvider}});var h=wl;Object.defineProperty(n,"CosmosAuthProvider",{enumerable:!0,get:function(){return h.CosmosAuthProvider}});var d=Jb;Object.defineProperty(n,"NearAuthProvider",{enumerable:!0,get:function(){return d.NearAuthProvider}});var p=A6;Object.defineProperty(n,"TezosAuthProvider",{enumerable:!0,get:function(){return p.TezosAuthProvider}})})(i_e);function q_e(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}function P6(n){return P6=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},P6(n)}function Kb(n,e){return Kb=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Kb(n,e)}function X_e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Zb(n,e,t){return X_e()?Zb=Reflect.construct:Zb=function(i,s,o){var u=[null];u.push.apply(u,s);var l=Function.bind.apply(i,u),c=new l;return o&&Kb(c,o.prototype),c},Zb.apply(null,arguments)}function Y_e(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function R6(n){var e=typeof Map=="function"?new Map:void 0;return R6=function(r){if(r===null||!Y_e(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return Zb(r,arguments,P6(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Kb(i,r)},R6(n)}function J_e(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function K_e(n,e){return e={exports:{}},n(e,e.exports),e.exports}K_e(function(n){var e=function(t){var r=Object.prototype,i=r.hasOwnProperty,s,o=typeof Symbol=="function"?Symbol:{},u=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function h(B,U,k){return Object.defineProperty(B,U,{value:k,enumerable:!0,configurable:!0,writable:!0}),B[U]}try{h({},"")}catch{h=function(U,k,G){return U[k]=G}}function d(B,U,k,G){var ne=U&&U.prototype instanceof E?U:E,le=Object.create(ne.prototype),ee=new F(G||[]);return le._invoke=H(B,k,ee),le}t.wrap=d;function p(B,U,k){try{return{type:"normal",arg:B.call(U,k)}}catch(G){return{type:"throw",arg:G}}}var v="suspendedStart",S="suspendedYield",w="executing",T="completed",x={};function E(){}function O(){}function C(){}var N={};N[u]=function(){return this};var $=Object.getPrototypeOf,M=$&&$($(z([])));M&&M!==r&&i.call(M,u)&&(N=M);var L=C.prototype=E.prototype=Object.create(N);O.prototype=L.constructor=C,C.constructor=O,O.displayName=h(C,c,"GeneratorFunction");function V(B){["next","throw","return"].forEach(function(U){h(B,U,function(k){return this._invoke(U,k)})})}t.isGeneratorFunction=function(B){var U=typeof B=="function"&&B.constructor;return U?U===O||(U.displayName||U.name)==="GeneratorFunction":!1},t.mark=function(B){return Object.setPrototypeOf?Object.setPrototypeOf(B,C):(B.__proto__=C,h(B,c,"GeneratorFunction")),B.prototype=Object.create(L),B},t.awrap=function(B){return{__await:B}};function Z(B,U){function k(le,ee,J,de){var se=p(B[le],B,ee);if(se.type==="throw")de(se.arg);else{var ue=se.arg,oe=ue.value;return oe&&typeof oe=="object"&&i.call(oe,"__await")?U.resolve(oe.__await).then(function(W){k("next",W,J,de)},function(W){k("throw",W,J,de)}):U.resolve(oe).then(function(W){ue.value=W,J(ue)},function(W){return k("throw",W,J,de)})}}var G;function ne(le,ee){function J(){return new U(function(de,se){k(le,ee,de,se)})}return G=G?G.then(J,J):J()}this._invoke=ne}V(Z.prototype),Z.prototype[l]=function(){return this},t.AsyncIterator=Z,t.async=function(B,U,k,G,ne){ne===void 0&&(ne=Promise);var le=new Z(d(B,U,k,G),ne);return t.isGeneratorFunction(U)?le:le.next().then(function(ee){return ee.done?ee.value:le.next()})};function H(B,U,k){var G=v;return function(le,ee){if(G===w)throw new Error("Generator is already running");if(G===T){if(le==="throw")throw ee;return j()}for(k.method=le,k.arg=ee;;){var J=k.delegate;if(J){var de=D(J,k);if(de){if(de===x)continue;return de}}if(k.method==="next")k.sent=k._sent=k.arg;else if(k.method==="throw"){if(G===v)throw G=T,k.arg;k.dispatchException(k.arg)}else k.method==="return"&&k.abrupt("return",k.arg);G=w;var se=p(B,U,k);if(se.type==="normal"){if(G=k.done?T:S,se.arg===x)continue;return{value:se.arg,done:k.done}}else se.type==="throw"&&(G=T,k.method="throw",k.arg=se.arg)}}}function D(B,U){var k=B.iterator[U.method];if(k===s){if(U.delegate=null,U.method==="throw"){if(B.iterator.return&&(U.method="return",U.arg=s,D(B,U),U.method==="throw"))return x;U.method="throw",U.arg=new TypeError("The iterator does not provide a 'throw' method")}return x}var G=p(k,B.iterator,U.arg);if(G.type==="throw")return U.method="throw",U.arg=G.arg,U.delegate=null,x;var ne=G.arg;if(!ne)return U.method="throw",U.arg=new TypeError("iterator result is not an object"),U.delegate=null,x;if(ne.done)U[B.resultName]=ne.value,U.next=B.nextLoc,U.method!=="return"&&(U.method="next",U.arg=s);else return ne;return U.delegate=null,x}V(L),h(L,c,"Generator"),L[u]=function(){return this},L.toString=function(){return"[object Generator]"};function R(B){var U={tryLoc:B[0]};1 in B&&(U.catchLoc=B[1]),2 in B&&(U.finallyLoc=B[2],U.afterLoc=B[3]),this.tryEntries.push(U)}function P(B){var U=B.completion||{};U.type="normal",delete U.arg,B.completion=U}function F(B){this.tryEntries=[{tryLoc:"root"}],B.forEach(R,this),this.reset(!0)}t.keys=function(B){var U=[];for(var k in B)U.push(k);return U.reverse(),function G(){for(;U.length;){var ne=U.pop();if(ne in B)return G.value=ne,G.done=!1,G}return G.done=!0,G}};function z(B){if(B){var U=B[u];if(U)return U.call(B);if(typeof B.next=="function")return B;if(!isNaN(B.length)){var k=-1,G=function ne(){for(;++k<B.length;)if(i.call(B,k))return ne.value=B[k],ne.done=!1,ne;return ne.value=s,ne.done=!0,ne};return G.next=G}}return{next:j}}t.values=z;function j(){return{value:s,done:!0}}return F.prototype={constructor:F,reset:function(B){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(P),!B)for(var U in this)U.charAt(0)==="t"&&i.call(this,U)&&!isNaN(+U.slice(1))&&(this[U]=s)},stop:function(){this.done=!0;var B=this.tryEntries[0],U=B.completion;if(U.type==="throw")throw U.arg;return this.rval},dispatchException:function(B){if(this.done)throw B;var U=this;function k(de,se){return le.type="throw",le.arg=B,U.next=de,se&&(U.method="next",U.arg=s),!!se}for(var G=this.tryEntries.length-1;G>=0;--G){var ne=this.tryEntries[G],le=ne.completion;if(ne.tryLoc==="root")return k("end");if(ne.tryLoc<=this.prev){var ee=i.call(ne,"catchLoc"),J=i.call(ne,"finallyLoc");if(ee&&J){if(this.prev<ne.catchLoc)return k(ne.catchLoc,!0);if(this.prev<ne.finallyLoc)return k(ne.finallyLoc)}else if(ee){if(this.prev<ne.catchLoc)return k(ne.catchLoc,!0)}else if(J){if(this.prev<ne.finallyLoc)return k(ne.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(B,U){for(var k=this.tryEntries.length-1;k>=0;--k){var G=this.tryEntries[k];if(G.tryLoc<=this.prev&&i.call(G,"finallyLoc")&&this.prev<G.finallyLoc){var ne=G;break}}ne&&(B==="break"||B==="continue")&&ne.tryLoc<=U&&U<=ne.finallyLoc&&(ne=null);var le=ne?ne.completion:{};return le.type=B,le.arg=U,ne?(this.method="next",this.next=ne.finallyLoc,x):this.complete(le)},complete:function(B,U){if(B.type==="throw")throw B.arg;return B.type==="break"||B.type==="continue"?this.next=B.arg:B.type==="return"?(this.rval=this.arg=B.arg,this.method="return",this.next="end"):B.type==="normal"&&U&&(this.next=U),x},finish:function(B){for(var U=this.tryEntries.length-1;U>=0;--U){var k=this.tryEntries[U];if(k.finallyLoc===B)return this.complete(k.completion,k.afterLoc),P(k),x}},catch:function(B){for(var U=this.tryEntries.length-1;U>=0;--U){var k=this.tryEntries[U];if(k.tryLoc===B){var G=k.completion;if(G.type==="throw"){var ne=G.arg;P(k)}return ne}}throw new Error("illegal catch attempt")},delegateYield:function(B,U,k){return this.delegate={iterator:z(B),resultName:U,nextLoc:k},this.method==="next"&&(this.arg=s),x}},t}(n.exports);try{regeneratorRuntime=e}catch{Function("r","regeneratorRuntime = r")(e)}});var $h,Jo;(function(n){n[n.PARSE_ERROR=-32700]="PARSE_ERROR",n[n.INVALID_REQUEST=-32600]="INVALID_REQUEST",n[n.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",n[n.INVALID_PARAMS=-32602]="INVALID_PARAMS",n[n.INTERNAL_ERROR=-32603]="INTERNAL_ERROR"})(Jo||(Jo={}));var nq=($h={},$h[Jo.PARSE_ERROR]="Parse error",$h[Jo.INVALID_REQUEST]="Invalid request",$h[Jo.METHOD_NOT_FOUND]="Method not found",$h[Jo.INVALID_PARAMS]="Invalid params",$h[Jo.INTERNAL_ERROR]="Internal error",$h);function Z_e(n){return-32e3>=n&&n>=-32099}function Q_e(n){var e;return(e=nq[n.toString()])!=null?e:Z_e(n)?"Server error":"Application error"}var ewe=function(n){q_e(e,n);function e(r,i,s){var o;return o=n.call(this)||this,Object.setPrototypeOf(J_e(o),e.prototype),o.code=r,o.data=s,o.message=i!=null?i:Q_e(r),o}e.fromObject=function(i){return new e(i.code,i.message,i.data)};var t=e.prototype;return t.toObject=function(){return{code:this.code,data:this.data,message:this.message}},e}(R6(Error));function O1(n){var e=nq[n];return function(r){return new ewe(n,e,r)}}Jo.PARSE_ERROR;Jo.INVALID_REQUEST;Jo.METHOD_NOT_FOUND;Jo.INVALID_PARAMS;Jo.INTERNAL_ERROR;function twe(n,e){return e={exports:{}},n(e,e.exports),e.exports}twe(function(n){var e=function(t){var r=Object.prototype,i=r.hasOwnProperty,s,o=typeof Symbol=="function"?Symbol:{},u=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function h(B,U,k){return Object.defineProperty(B,U,{value:k,enumerable:!0,configurable:!0,writable:!0}),B[U]}try{h({},"")}catch{h=function(U,k,G){return U[k]=G}}function d(B,U,k,G){var ne=U&&U.prototype instanceof E?U:E,le=Object.create(ne.prototype),ee=new F(G||[]);return le._invoke=H(B,k,ee),le}t.wrap=d;function p(B,U,k){try{return{type:"normal",arg:B.call(U,k)}}catch(G){return{type:"throw",arg:G}}}var v="suspendedStart",S="suspendedYield",w="executing",T="completed",x={};function E(){}function O(){}function C(){}var N={};h(N,u,function(){return this});var $=Object.getPrototypeOf,M=$&&$($(z([])));M&&M!==r&&i.call(M,u)&&(N=M);var L=C.prototype=E.prototype=Object.create(N);O.prototype=C,h(L,"constructor",C),h(C,"constructor",O),O.displayName=h(C,c,"GeneratorFunction");function V(B){["next","throw","return"].forEach(function(U){h(B,U,function(k){return this._invoke(U,k)})})}t.isGeneratorFunction=function(B){var U=typeof B=="function"&&B.constructor;return U?U===O||(U.displayName||U.name)==="GeneratorFunction":!1},t.mark=function(B){return Object.setPrototypeOf?Object.setPrototypeOf(B,C):(B.__proto__=C,h(B,c,"GeneratorFunction")),B.prototype=Object.create(L),B},t.awrap=function(B){return{__await:B}};function Z(B,U){function k(le,ee,J,de){var se=p(B[le],B,ee);if(se.type==="throw")de(se.arg);else{var ue=se.arg,oe=ue.value;return oe&&typeof oe=="object"&&i.call(oe,"__await")?U.resolve(oe.__await).then(function(W){k("next",W,J,de)},function(W){k("throw",W,J,de)}):U.resolve(oe).then(function(W){ue.value=W,J(ue)},function(W){return k("throw",W,J,de)})}}var G;function ne(le,ee){function J(){return new U(function(de,se){k(le,ee,de,se)})}return G=G?G.then(J,J):J()}this._invoke=ne}V(Z.prototype),h(Z.prototype,l,function(){return this}),t.AsyncIterator=Z,t.async=function(B,U,k,G,ne){ne===void 0&&(ne=Promise);var le=new Z(d(B,U,k,G),ne);return t.isGeneratorFunction(U)?le:le.next().then(function(ee){return ee.done?ee.value:le.next()})};function H(B,U,k){var G=v;return function(le,ee){if(G===w)throw new Error("Generator is already running");if(G===T){if(le==="throw")throw ee;return j()}for(k.method=le,k.arg=ee;;){var J=k.delegate;if(J){var de=D(J,k);if(de){if(de===x)continue;return de}}if(k.method==="next")k.sent=k._sent=k.arg;else if(k.method==="throw"){if(G===v)throw G=T,k.arg;k.dispatchException(k.arg)}else k.method==="return"&&k.abrupt("return",k.arg);G=w;var se=p(B,U,k);if(se.type==="normal"){if(G=k.done?T:S,se.arg===x)continue;return{value:se.arg,done:k.done}}else se.type==="throw"&&(G=T,k.method="throw",k.arg=se.arg)}}}function D(B,U){var k=B.iterator[U.method];if(k===s){if(U.delegate=null,U.method==="throw"){if(B.iterator.return&&(U.method="return",U.arg=s,D(B,U),U.method==="throw"))return x;U.method="throw",U.arg=new TypeError("The iterator does not provide a 'throw' method")}return x}var G=p(k,B.iterator,U.arg);if(G.type==="throw")return U.method="throw",U.arg=G.arg,U.delegate=null,x;var ne=G.arg;if(!ne)return U.method="throw",U.arg=new TypeError("iterator result is not an object"),U.delegate=null,x;if(ne.done)U[B.resultName]=ne.value,U.next=B.nextLoc,U.method!=="return"&&(U.method="next",U.arg=s);else return ne;return U.delegate=null,x}V(L),h(L,c,"Generator"),h(L,u,function(){return this}),h(L,"toString",function(){return"[object Generator]"});function R(B){var U={tryLoc:B[0]};1 in B&&(U.catchLoc=B[1]),2 in B&&(U.finallyLoc=B[2],U.afterLoc=B[3]),this.tryEntries.push(U)}function P(B){var U=B.completion||{};U.type="normal",delete U.arg,B.completion=U}function F(B){this.tryEntries=[{tryLoc:"root"}],B.forEach(R,this),this.reset(!0)}t.keys=function(B){var U=[];for(var k in B)U.push(k);return U.reverse(),function G(){for(;U.length;){var ne=U.pop();if(ne in B)return G.value=ne,G.done=!1,G}return G.done=!0,G}};function z(B){if(B){var U=B[u];if(U)return U.call(B);if(typeof B.next=="function")return B;if(!isNaN(B.length)){var k=-1,G=function ne(){for(;++k<B.length;)if(i.call(B,k))return ne.value=B[k],ne.done=!1,ne;return ne.value=s,ne.done=!0,ne};return G.next=G}}return{next:j}}t.values=z;function j(){return{value:s,done:!0}}return F.prototype={constructor:F,reset:function(B){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(P),!B)for(var U in this)U.charAt(0)==="t"&&i.call(this,U)&&!isNaN(+U.slice(1))&&(this[U]=s)},stop:function(){this.done=!0;var B=this.tryEntries[0],U=B.completion;if(U.type==="throw")throw U.arg;return this.rval},dispatchException:function(B){if(this.done)throw B;var U=this;function k(de,se){return le.type="throw",le.arg=B,U.next=de,se&&(U.method="next",U.arg=s),!!se}for(var G=this.tryEntries.length-1;G>=0;--G){var ne=this.tryEntries[G],le=ne.completion;if(ne.tryLoc==="root")return k("end");if(ne.tryLoc<=this.prev){var ee=i.call(ne,"catchLoc"),J=i.call(ne,"finallyLoc");if(ee&&J){if(this.prev<ne.catchLoc)return k(ne.catchLoc,!0);if(this.prev<ne.finallyLoc)return k(ne.finallyLoc)}else if(ee){if(this.prev<ne.catchLoc)return k(ne.catchLoc,!0)}else if(J){if(this.prev<ne.finallyLoc)return k(ne.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(B,U){for(var k=this.tryEntries.length-1;k>=0;--k){var G=this.tryEntries[k];if(G.tryLoc<=this.prev&&i.call(G,"finallyLoc")&&this.prev<G.finallyLoc){var ne=G;break}}ne&&(B==="break"||B==="continue")&&ne.tryLoc<=U&&U<=ne.finallyLoc&&(ne=null);var le=ne?ne.completion:{};return le.type=B,le.arg=U,ne?(this.method="next",this.next=ne.finallyLoc,x):this.complete(le)},complete:function(B,U){if(B.type==="throw")throw B.arg;return B.type==="break"||B.type==="continue"?this.next=B.arg:B.type==="return"?(this.rval=this.arg=B.arg,this.method="return",this.next="end"):B.type==="normal"&&U&&(this.next=U),x},finish:function(B){for(var U=this.tryEntries.length-1;U>=0;--U){var k=this.tryEntries[U];if(k.finallyLoc===B)return this.complete(k.completion,k.afterLoc),P(k),x}},catch:function(B){for(var U=this.tryEntries.length-1;U>=0;--U){var k=this.tryEntries[U];if(k.tryLoc===B){var G=k.completion;if(G.type==="throw"){var ne=G.arg;P(k)}return ne}}throw new Error("illegal catch attempt")},delegateYield:function(B,U,k){return this.delegate={iterator:z(B),resultName:U,nextLoc:k},this.method==="next"&&(this.arg=s),x}},t}(n.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}});var nwe={},Qb={},rq={exports:{}},e3=1;function rwe(){return e3=(e3*9301+49297)%233280,e3/233280}function iwe(n){e3=n}var swe={nextValue:rwe,seed:iwe},k6=swe,Gh="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-",Uc,iq,N1;function I6(){N1=!1}function sq(n){if(!n){Uc!==Gh&&(Uc=Gh,I6());return}if(n!==Uc){if(n.length!==Gh.length)throw new Error("Custom alphabet for shortid must be "+Gh.length+" unique characters. You submitted "+n.length+" characters: "+n);var e=n.split("").filter(function(t,r,i){return r!==i.lastIndexOf(t)});if(e.length)throw new Error("Custom alphabet for shortid must be "+Gh.length+" unique characters. These characters were not unique: "+e.join(", "));Uc=n,I6()}}function owe(n){return sq(n),Uc}function awe(n){k6.seed(n),iq!==n&&(I6(),iq=n)}function uwe(){Uc||sq(Gh);for(var n=Uc.split(""),e=[],t=k6.nextValue(),r;n.length>0;)t=k6.nextValue(),r=Math.floor(t*n.length),e.push(n.splice(r,1)[0]);return e.join("")}function oq(){return N1||(N1=uwe(),N1)}function lwe(n){var e=oq();return e[n]}function cwe(){return Uc||Gh}var L6={get:cwe,characters:owe,seed:awe,lookup:lwe,shuffled:oq},F6=typeof window=="object"&&(window.crypto||window.msCrypto),O6;!F6||!F6.getRandomValues?O6=function(n){for(var e=[],t=0;t<n;t++)e.push(Math.floor(Math.random()*256));return e}:O6=function(n){return F6.getRandomValues(new Uint8Array(n))};var fwe=O6,hwe=function(n,e,t){for(var r=(2<<Math.log(e.length-1)/Math.LN2)-1,i=-~(1.6*r*t/e.length),s="";;)for(var o=n(i),u=i;u--;)if(s+=e[o[u]&r]||"",s.length===+t)return s},dwe=L6,pwe=fwe,mwe=hwe;function vwe(n){for(var e=0,t,r="";!t;)r=r+mwe(pwe,dwe.get(),1),t=n<Math.pow(16,e+1),e++;return r}var gwe=vwe,t3=gwe,ywe=1567752802062,xwe=7,n3,aq;function _we(n){var e="",t=Math.floor((Date.now()-ywe)*.001);return t===aq?n3++:(n3=0,aq=t),e=e+t3(xwe),e=e+t3(n),n3>0&&(e=e+t3(n3)),e=e+t3(t),e}var wwe=_we,bwe=L6;function Swe(n){if(!n||typeof n!="string"||n.length<6)return!1;var e=new RegExp("[^"+bwe.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]");return!e.test(n)}var Ewe=Swe;(function(n){var e=L6,t=wwe,r=Ewe,i=0;function s(c){return e.seed(c),n.exports}function o(c){return i=c,n.exports}function u(c){return c!==void 0&&e.characters(c),e.shuffled()}function l(){return t(i)}n.exports=l,n.exports.generate=l,n.exports.seed=s,n.exports.worker=o,n.exports.characters=u,n.exports.isValid=r})(rq);var Mwe=rq.exports;Object.defineProperty(Qb,"__esModule",{value:!0});Qb.default=uq;Qb.call=Cwe;var Dwe=Mwe,Awe=Twe(Dwe);function Twe(n){return n&&n.__esModule?n:{default:n}}function uq(n,e){e=e||{};var t=e.addListener||window.addEventListener,r=e.removeListener||window.removeEventListener,i=e.postMessage||window.postMessage,s=e.targetOrigin||"*",o=e.getMessageData||function(u){return u.data};return function(){var u={sender:"postmsg-rpc/client",id:(0,Awe.default)(),func:n,args:Array.from(arguments)},l=void 0,c=new Promise(function(h,d){var p=function v(){var S=o.apply(null,arguments);if(!!S&&!(S.sender!=="postmsg-rpc/server"||S.id!==u.id)){if(r("message",v),S.err){var w=new Error("Unexpected error calling "+n);return Object.assign(w,S.err),d(w)}h(S.res)}};l=function(){r("message",p);var S=new Error("Canceled call to "+n);S.isCanceled=!0,d(S)},t("message",p),i(u,s)});return c.cancel=function(){return l()},c}}function Cwe(n){return uq(n).apply(null,[].slice.call(arguments,1))}var N6={};Object.defineProperty(N6,"__esModule",{value:!0});N6.default=Pwe;function Pwe(n,e,t){t=t||{};var r=t.addListener||window.addEventListener,i=t.removeListener||window.removeEventListener,s=t.postMessage||window.postMessage,o=t.targetOrigin||"*",u=t.getMessageData||function(h){return h.data},l=t.isCallback||!1,c=function(){var d=u.apply(null,arguments);if(!!d&&!(d.sender!=="postmsg-rpc/client"||d.func!==n)){var p={sender:"postmsg-rpc/server",id:d.id},v=function(x){p.res=x,s(p,o)},S=function(x){p.err=Object.assign({message:x.message},x.output&&x.output.payload),s(p,o)};if(l)e.apply(null,d.args.concat(function(T,x){if(T)return S(T);v(x)}));else{var w=e.apply(null,d.args);Promise.resolve(w).then(v).catch(S)}}};return r("message",c),{close:function(){return i("message",c)}}}(function(n){Object.defineProperty(n,"__esModule",{value:!0});var e=Qb;Object.defineProperty(n,"caller",{enumerable:!0,get:function(){return r(e).default}}),Object.defineProperty(n,"call",{enumerable:!0,get:function(){return e.call}});var t=N6;Object.defineProperty(n,"expose",{enumerable:!0,get:function(){return r(t).default}});function r(i){return i&&i.__esModule?i:{default:i}}})(nwe);var r3={},i3={},Rwe=$e&&$e.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),kwe=$e&&$e.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),Iwe=$e&&$e.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&Rwe(e,n,t);return kwe(e,n),e};Object.defineProperty(i3,"__esModule",{value:!0});i3.keyToDidDoc=void 0;const Lwe=Iwe(ss);function Fwe(n,e){const t=`did:key:${e}`,r=`${t}#${e}`;return{id:t,verificationMethod:[{id:r,type:"Secp256k1VerificationKey2018",controller:t,publicKeyBase58:Lwe.toString(n,"base58btc")}],authentication:[r],assertionMethod:[r],capabilityDelegation:[r],capabilityInvocation:[r]}}i3.keyToDidDoc=Fwe;var s3={},Owe=$e&&$e.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Nwe=$e&&$e.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),Uwe=$e&&$e.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&Owe(e,n,t);return Nwe(e,n),e};Object.defineProperty(s3,"__esModule",{value:!0});s3.keyToDidDoc=void 0;const U6=Uwe(ss),Bwe=uw;function zwe(n){const e=new Uint8Array(n.length+2);return e[0]=236,e[1]=1,e.set(n,2),`z${U6.toString(e,"base58btc")}`}function $we(n,e){const t=`did:key:${e}`,r=`${t}#${e}`,i=Bwe.convertPublicKeyToX25519(n),s=`${t}#${zwe(i)}`;return{id:t,verificationMethod:[{id:r,type:"Ed25519VerificationKey2018",controller:t,publicKeyBase58:U6.toString(n,"base58btc")}],authentication:[r],assertionMethod:[r],capabilityDelegation:[r],capabilityInvocation:[r],keyAgreement:[{id:s,type:"X25519KeyAgreementKey2019",controller:t,publicKeyBase58:U6.toString(i,"base58btc")}]}}s3.keyToDidDoc=$we;var Gwe=$e&&$e.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Hwe=$e&&$e.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),lq=$e&&$e.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&Gwe(e,n,t);return Hwe(e,n),e},cq=$e&&$e.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(r3,"__esModule",{value:!0});r3.getResolver=void 0;const fq=cq(hh),Vwe=cq(dh.exports),Wwe=lq(i3),jwe=lq(s3),qwe="application/did+ld+json",hq="application/did+json",Xwe={231:Wwe,237:jwe};function dq(){return{key:async(n,e,t,r)=>{const i=r.accept||hq,s={didResolutionMetadata:{contentType:i},didDocument:null,didDocumentMetadata:{}};try{const o=Vwe.default.decode(e.id),u=fq.default.decode(o),l=o.slice(fq.default.decode.bytes),c=await Xwe[u].keyToDidDoc(l,e.id);i===qwe?(c["@context"]="https://w3id.org/did/v1",s.didDocument=c):i===hq?s.didDocument=c:(delete s.didResolutionMetadata.contentType,s.didResolutionMetadata.error="representationNotSupported")}catch(o){s.didResolutionMetadata.error="invalidDid",s.didResolutionMetadata.message=o.toString()}return s}}}r3.getResolver=dq;r3.default={getResolver:dq};var V0={},B6={},z6={exports:{}};(function(n,e){(function(t,r){r(e)})($e,function(t){const r=Symbol("newer"),i=Symbol("older");class s{constructor(d,p){typeof d!="number"&&(p=d,d=0),this.size=0,this.limit=d,this.oldest=this.newest=void 0,this._keymap=new Map,p&&(this.assign(p),d<1&&(this.limit=this.size))}_markEntryAsUsed(d){d!==this.newest&&(d[r]&&(d===this.oldest&&(this.oldest=d[r]),d[r][i]=d[i]),d[i]&&(d[i][r]=d[r]),d[r]=void 0,d[i]=this.newest,this.newest&&(this.newest[r]=d),this.newest=d)}assign(d){let p,v=this.limit||Number.MAX_VALUE;this._keymap.clear();let S=d[Symbol.iterator]();for(let w=S.next();!w.done;w=S.next()){let T=new o(w.value[0],w.value[1]);if(this._keymap.set(T.key,T),p?(p[r]=T,T[i]=p):this.oldest=T,p=T,v--==0)throw new Error("overflow")}this.newest=p,this.size=this._keymap.size}get(d){var p=this._keymap.get(d);return p?(this._markEntryAsUsed(p),p.value):void 0}set(d,p){var v=this._keymap.get(d);return v?(v.value=p,this._markEntryAsUsed(v),this):(this._keymap.set(d,v=new o(d,p)),this.newest?(this.newest[r]=v,v[i]=this.newest):this.oldest=v,this.newest=v,++this.size,this.size>this.limit&&this.shift(),this)}shift(){var d=this.oldest;if(d)return this.oldest[r]?(this.oldest=this.oldest[r],this.oldest[i]=void 0):(this.oldest=void 0,this.newest=void 0),d[r]=d[i]=void 0,this._keymap.delete(d.key),--this.size,[d.key,d.value]}find(d){let p=this._keymap.get(d);return p?p.value:void 0}has(d){return this._keymap.has(d)}delete(d){var p=this._keymap.get(d);return p?(this._keymap.delete(p.key),p[r]&&p[i]?(p[i][r]=p[r],p[r][i]=p[i]):p[r]?(p[r][i]=void 0,this.oldest=p[r]):p[i]?(p[i][r]=void 0,this.newest=p[i]):this.oldest=this.newest=void 0,this.size--,p.value):void 0}clear(){this.oldest=this.newest=void 0,this.size=0,this._keymap.clear()}keys(){return new l(this.oldest)}values(){return new c(this.oldest)}entries(){return this}[Symbol.iterator](){return new u(this.oldest)}forEach(d,p){typeof p!="object"&&(p=this);let v=this.oldest;for(;v;)d.call(p,v.value,v.key,this),v=v[r]}toJSON(){for(var d=new Array(this.size),p=0,v=this.oldest;v;)d[p++]={key:v.key,value:v.value},v=v[r];return d}toString(){for(var d="",p=this.oldest;p;)d+=String(p.key)+":"+p.value,p=p[r],p&&(d+=" < ");return d}}t.LRUMap=s;function o(h,d){this.key=h,this.value=d,this[r]=void 0,this[i]=void 0}function u(h){this.entry=h}u.prototype[Symbol.iterator]=function(){return this},u.prototype.next=function(){let h=this.entry;return h?(this.entry=h[r],{done:!1,value:[h.key,h.value]}):{done:!0,value:void 0}};function l(h){this.entry=h}l.prototype[Symbol.iterator]=function(){return this},l.prototype.next=function(){let h=this.entry;return h?(this.entry=h[r],{done:!1,value:h.key}):{done:!0,value:void 0}};function c(h){this.entry=h}c.prototype[Symbol.iterator]=function(){return this},c.prototype.next=function(){let h=this.entry;return h?(this.entry=h[r],{done:!1,value:h.value}):{done:!0,value:void 0}}})})(z6,z6.exports);var Ywe=$e&&$e.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Jwe=$e&&$e.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),Kwe=$e&&$e.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&Ywe(e,n,t);return Jwe(e,n),e},Zwe=$e&&$e.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(B6,"__esModule",{value:!0});const Qwe=Zwe(Tb.exports),$6=Kwe(ss),ebe=z6.exports,tbe="https://ipfs.3box.io",nbe=100,pq=new ebe.LRUMap(nbe),rbe=async n=>{const e=pq.get(n);if(e)return e;const t=await Qwe.default(n);if(t.ok){const r=await t.json();return pq.set(n,r),r}else throw new Error("Not a valid 3ID")},ibe=n=>`${tbe}/did-doc?cid=${encodeURIComponent(n)}`,sbe={dag:{get:async n=>rbe(ibe(n))}},mq=(n,e)=>{const t=new Uint8Array(n.length+2);return e?t[0]=236:t[0]=231,t[1]=1,t.set(n,2),`z${$6.toString(t,"base58btc")}`},obe=n=>{const e=n.slice(2,66);return`${(n.slice(66,130)&1)==0?"02":"03"}${e}`},abe=async(n,e=sbe)=>{const t=(await e.dag.get(n)).value;let r,i;try{const l=t.publicKey.findIndex(h=>h.id.endsWith("signingKey")),c=t.publicKey.findIndex(h=>h.id.endsWith("encryptionKey"));r=t.publicKey[l].publicKeyHex,i=t.publicKey[c].publicKeyBase64}catch{throw new Error("Not a valid 3ID")}const s=obe(r),o=mq($6.fromString(s,"base16")),u=mq($6.fromString(i,"base64pad"),!0);return{keyDid:`did:key:${o}`,publicKeys:{[o.slice(-15)]:o,[u.slice(-15)]:u}}};B6.default=abe;var vq={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.withResolutionError=n.errorRepresentation=void 0;const e=r=>({didResolutionMetadata:r,didDocument:null,didDocumentMetadata:{}});n.errorRepresentation=e;const t=r=>r().catch(i=>n.errorRepresentation({error:"invalidDid",message:i.toString()}));n.withResolutionError=t})(vq);var ube=$e&&$e.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),lbe=$e&&$e.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),cbe=$e&&$e.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&ube(e,n,t);return lbe(e,n),e},gq=$e&&$e.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(V0,"__esModule",{value:!0});V0.getResolver=V0.wrapDocument=void 0;const fbe=e6,hbe=gq(B6),yq=cbe(ss),dbe=Au,pbe=gq(Ic),xq=vq,mbe=Th,_q="application/did+ld+json",G6="application/did+json",vbe=n=>{try{return new pbe.default(n),!0}catch{return!1}},wq=n=>new Date(n*1e3).toISOString().split(".")[0]+"Z";function H6(n,e){if(!(n&&n.publicKeys))return null;const t={id:e,verificationMethod:[],authentication:[],keyAgreement:[]};return Object.entries(n.publicKeys).reduce((r,[i,s])=>{const o=yq.fromString(s.slice(1),"base58btc"),u={id:`${e}#${i}`,type:"",controller:e,publicKeyBase58:yq.toString(o.slice(2),"base58btc")};return o[0]===231?(u.type="EcdsaSecp256k1Signature2019",r.verificationMethod.push(u),r.authentication.push(u)):o[0]===236&&(u.type="X25519KeyAgreementKey2019",r.verificationMethod.push(u),r.keyAgreement.push(u)),r},t)}V0.wrapDocument=H6;function gbe(n){for(let e=n.length-1;e>=0;e--){const t=n[e];if(t.type===mbe.CommitType.ANCHOR)return t}return n[0]}function ybe(n,e){const t={},{timestamp:r,cid:i}=gbe(n.log),{timestamp:s,cid:o}=e.log.find(({timestamp:u})=>u>r||!r&&u)||{};return r&&(t.updated=wq(r)),s&&(t.nextUpdate=wq(s)),i&&(t.versionId=n.log.length===1?"0":i==null?void 0:i.toString()),o&&(t.nextVersionId=o.toString()),t}function xbe(n=""){const e=n.split("&").find(r=>r.includes("versionId")||r.includes("version-id")),t=n.split("&").find(r=>r.includes("versionTime"));return{commit:e?e.split("=")[1]:void 0,timestamp:t?Math.floor(new Date(t.split("=")[1]).getTime()/1e3):void 0}}const _be=async(n,e,t)=>{const r=await hbe.default(e),i={controllers:[r.keyDid],family:"3id",deterministic:!0},s=(await fbe.TileDocument.create(n,null,i,{anchor:!1,publish:!1})).id,o=await bq(n,s.toString(),t,e);return o.didDocument===null&&(o.didDocument=H6(r,`did:3:${e}`)),o},bq=async(n,e,t,r)=>{var i;const s=dbe.StreamID.fromString(e);let o;const u=[{streamId:s}];t.commit?(o=s.atCommit(t.commit),u.push({streamId:o})):t.timestamp&&u.push({streamId:s,atTime:t.timestamp});const l=await n.multiQuery(u),c=l[e].state,h=(o==null?void 0:o.toString())||Object.keys(l).find(T=>T!==e),d=((i=l[h])===null||i===void 0?void 0:i.state)||c,p=ybe(d,c),v=l[h||e];if(h&&!v)throw new Error(`No resolution for commit ${h}`);const S=v.state.content,w=H6(S,`did:3:${r||e}`);return{didResolutionMetadata:{contentType:G6},didDocument:w,didDocumentMetadata:p}};function Sq(n){return{"3":(e,t,r,i)=>xq.withResolutionError(async()=>{const s=i.accept||G6,o=xbe(t.query),u=t.id,l=()=>vbe(u)?_be(n,u,o):bq(n,u,o);switch(s){case G6:return l();case _q:{const c=await l();return c.didDocument["@context"]="https://www.w3.org/ns/did/v1",c.didResolutionMetadata.contentType=_q,c}default:return xq.errorRepresentation({error:"representationNotSupported"})}})}}V0.getResolver=Sq;V0.default={getResolver:Sq};export{n_ as $,RM as A,rn as B,xA as C,Y2 as D,Wv as E,jt as F,Cr as G,_n as H,ou as I,uu as J,Za as K,hr as L,mr as M,ju as N,Dp as O,nu as P,Mi as Q,Pr as R,nl as S,Ap as T,bD as U,ft as V,oo as W,Lf as X,On as Y,HL as Z,Rr as _,Tn as a,yF as a$,Dbe as a0,Abe as a1,mA as a2,pA as a3,r_ as a4,i_ as a5,Dg as a6,Np as a7,tU as a8,ga as a9,BM as aA,m2 as aB,bi as aC,jv as aD,Xv as aE,Ql as aF,pc as aG,KZ as aH,Mg as aI,qp as aJ,Eg as aK,Ju as aL,il as aM,UD as aN,Qa as aO,Fo as aP,AF as aQ,$F as aR,YM as aS,jM as aT,HM as aU,DF as aV,XM as aW,VM as aX,zM as aY,eA as aZ,Tse as a_,wr as aa,Mbe as ab,Vp as ac,vs as ad,w_ as ae,lu as af,fA as ag,dA as ah,QD as ai,Cf as aj,dU as ak,zf as al,$f as am,ui as an,ci as ao,__ as ap,tc as aq,Pn as ar,Fs as as,rl as at,OD as au,mg as av,Bf as aw,Yv as ax,ZZ as ay,p2 as az,Xt as b,d2 as b0,Cse as b1,gc as b2,MU as b3,bbe as b4,Cbe as b5,Fg as b6,Aae as b7,Tbe as b8,Lg as b9,ac as ba,si as bb,Ebe as bc,Pae as bd,Sbe as be,TU as c,be as d,bn as e,cg as f,Jr as g,Un as h,CM as i,w2 as j,Vf as k,ru as l,tl as m,Ls as n,Pt as o,tu as p,Ef as q,nA as r,Xu as s,YL as t,wf as u,qL as v,zL as w,fO as x,mc as y,eu as z};
